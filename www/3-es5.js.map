{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.scss","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.module.ts"],"names":["PsSelectLookupOptionListComponent","commonService","logger","options","changeItem","onDeleteItem","onPagination","dynamicComponentOptions","templateOptions","cardContentOptions","disableSelectDropdownOptions","enableEmptyOpt","saveMultipleOptions","resetMultipleOptions","deleteSingleItemOptions","totalNbRec","numberOfItrations","loadMoreData","numberOfRowsToShow","tempItemList","tempNumberOfItrations","noCardClicked","labelSelectedItems","commonProv","translate","ngOnInit","selectedItems","labelKey","placeHolder","fcName","group","disablePreview","allowCust","iconName","component","listOfOptions","loadLabelsValueMap","itemList","undefined","itemArraySize","onScroll","event","enableListPagination","showingOnlySelected","length","element","target","reachedBottom","scrollTop","clientHeight","scrollHeight","hasMoreToLoad","loadedItemsCount","isLastClickedLastItem","lastClickedIndex","loadData","refreshArray","applyPagination","start","end","nextChunk","slice","push","emit","updateLastClickedIndex","item","clickedIndex","findIndex","i","lookupKey","onClickCard","multiple","showSelectedCard","showDefaultTemplate","onclickCardMultiple","found","forEach","itemLookup","previewProperty","itemDetailed","changeMarginOnItemChange","id","el","document","getElementById","style","marginTop","toString","deleteSingleItem","index","reportHtmlId","classList","remove","add","setTimeout","splice","showSelectedDiv","show","Array","from","labelsValueMap","tempOption","key","value","confirmMultipleSelection","submitObject","confirmMultiple","resetMultipleSelection","alertController","header","buttons","handler","dismissAllModals","common","presentPsAlert","ngOnChanges","showItemPopUp","selector","template","PsSelectLookupOptionListComponentModule","declarations","imports","exports","entryComponents","schemas"],"mappings":"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","file":"3-es5.js","sourcesContent":["export default \"<div\\n  [ngClass]=\\\"{'lookup-dropdown-content-show' : options.showSelectedCard,'lookup-dropdown-content' : !options.showSelectedCard,\\n 'lookup-dropdown-content-show-popup' : dynamicComponentOptions.itemList == dynamicComponentOptions.listOfOptions, 'lookup-dropdown-content-show-multiple': options.multiple === true }\\\" (scroll)=\\\"onScroll($event)\\\">\\n  <div\\n    [ngClass]=\\\"{'select-item-card': itemArraySize === 1,'lookup-dropdown-content-show lookup-dropdown-content': itemArraySize > 1, 'lookup-dropdown-content-multiple': options.multiple === true}\\\">\\n    <div id=\\\"scrollableContent\\\"\\n      class=\\\"fixed-keyin-multiple-container-selected fixed-keyin-multiple-container ps-container-lookup-option-details lookup-card-margin-bottom\\\"\\n      *ngIf=\\\"options.multiple && itemArraySize > 1\\\">\\n      <div *ngIf=\\\"options.multiple\\\">\\n        <div class=\\\"selected-items-label\\\">{{labelSelectedItems}}</div>\\n        <div class=\\\"selected-items-values multiSelectSingleItemInAnimation\\\" id=\\\"{{ 'multi-select-single-item-' + i }}\\\"\\n          *ngFor='let item of options.selectedItems; let i = index;'>\\n          <span>{{item.item}}</span>\\n          <ps-action-icon class=\\\"single-item-delete-buttons\\\" [options]=\\\"deleteSingleItemOptions\\\" [id]=\\\"id + '_stat'\\\"\\n            (onClick)=\\\"deleteSingleItem(item,i,'multi-select-single-item-'+i)\\\">\\n          </ps-action-icon>\\n        </div>\\n      </div>\\n      <div class=\\\"inline-buttons-group\\\">\\n        <ps-action-icon class=\\\"inline-multiple-buttons\\\" *ngIf=\\\"options.multiple\\\" [options]=\\\"saveMultipleOptions\\\"\\n          [id]=\\\"id + '_stat'\\\" (onClick)=\\\"confirmMultipleSelection()\\\">\\n        </ps-action-icon>\\n        <ps-action-icon class=\\\"inline-multiple-buttons\\\" *ngIf=\\\"options.multiple\\\" [options]=\\\"resetMultipleOptions\\\"\\n          [id]=\\\"id + '_stat'\\\" (onClick)=\\\"resetMultipleSelection()\\\">\\n        </ps-action-icon>\\n      </div>\\n    </div>\\n    <div id='ps-option-list-component-dropdown' class=\\\"ps-option-list-component-dropdown\\\"\\n      [ngClass]=\\\"{'fixed-keyin-multiple-container': options.multiple === true, 'ps-container-lookup-option-details lookup-card-margin-bottom': true}\\\"\\n      *ngIf=\\\"itemArraySize > 1\\\">\\n      <ps-keyin-input [options]=\\\"disableSelectDropdownOptions\\\" *ngIf=\\\"enableEmptyOpt\\\"></ps-keyin-input>\\n    </div>\\n    <ps-dynamic-component-loader [options]=\\\"dynamicComponentOptions\\\" (onClickCard)=\\\"onClickCard($event)\\\">\\n    </ps-dynamic-component-loader>\\n  </div>\\n</div>\";","import { Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { PsBaseFieldComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsComplexAlertController } from 'src/app/commonSRC/psTemplates/ps-template-alert-controller/ps-template-alert-controller.template.interfaces';\nimport { IMapKeyValue, IOptionsPsActionIcon, IOptionsPsDynamicComponentLoaderExposed, IOptionsPsKeyinInput } from '../../../../commonSRC/psServices/models/ps-common-interface';\nimport { IOptionsPsSelectLookupOptionListComponentExposed } from './ps-select-lookup-option-list.component.interfaces';\n\n\n/**\n * @author Aftab.Ali\n * @since 09/12/2019\n *\n * <p> PsSelectLookupOptionListComponent </p>\n */\n@Component({\n  selector: 'ps-select-lookup-option-list',\n  templateUrl: './ps-select-lookup-option-list.component.html',\n  styleUrls: ['./ps-select-lookup-option-list.component.scss'],\n})\nexport class PsSelectLookupOptionListComponent extends PsBaseFieldComponent implements OnInit, OnChanges {\n\n  @Input() public options: IOptionsPsSelectLookupOptionListComponentExposed = {};\n  @Output() public changeItem: EventEmitter<any> = new EventEmitter<any>();\n  @Output() public onDeleteItem: EventEmitter<any> = new EventEmitter<any>();\n  @Output() public onPagination: EventEmitter<any> = new EventEmitter<any>();\n  public dynamicComponentOptions: IOptionsPsDynamicComponentLoaderExposed = {};\n  public templateOptions: IMapKeyValue[] = [];\n  public cardContentOptions: IMapKeyValue[] = [];\n  public itemArraySize: number;\n  public disableSelectDropdownOptions: IOptionsPsKeyinInput = {};\n  enableEmptyOpt = PsCommonSettings.enableEmptyOpt;\n  public saveMultipleOptions: IOptionsPsActionIcon = {};\n  public resetMultipleOptions: IOptionsPsActionIcon = {};\n  public deleteSingleItemOptions: IOptionsPsActionIcon = {};\n  multiSelected: any;\n\n  public totalNbRec: number = 0;\n  public numberOfItrations = 0;\n  public loadMoreData = false;\n  public numberOfRowsToShow = 5;\n  public tempItemList = [];\n  public tempNumberOfItrations = 0;\n  public lastClickedIndex: number;\n  public noCardClicked: boolean = true;\n\n  constructor(\n    commonService: PsCommonService,\n    logger: LoggerService\n  ) {\n    super(commonService, logger);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.options.selectedItems = [];\n    this.disableSelectDropdownOptions = {\n      labelKey: '',\n      placeHolder: '',\n      fcName: this.options.fcName,\n      group: new FormGroup({}),\n      disablePreview: true,\n      allowCust: false\n    };\n\n    this.saveMultipleOptions = {\n      iconName: 'checkmark-circle-outline',\n      allowCust: true,\n      labelKey: 'Confirm',\n    };\n    this.resetMultipleOptions = {\n      labelKey: 'Reset',\n      allowCust: true,\n      iconName: 'close-circle'\n    };\n    this.deleteSingleItemOptions = {\n      labelKey: 'delete',\n      allowCust: true,\n      iconName: 'trash'\n    };\n\n    this.dynamicComponentOptions.labelKey = this.options.labelKey;\n    this.dynamicComponentOptions.component = this.options.component;\n    this.dynamicComponentOptions.listOfOptions = this.options.listOfOptions;\n    this.dynamicComponentOptions.group = this.options.group;\n    this.dynamicComponentOptions = this.options;\n    this.loadLabelsValueMap();\n    if (this.options.itemList === null || this.options.itemList === undefined) {\n      this.itemArraySize = 2;\n    }\n  }\n\n  onScroll(event: any): void {\n    if (this.options.enableListPagination === true) {\n      const showingOnlySelected = this.options.selectedItems?.length > 1 &&\n        this.options.itemList?.length === this.options.selectedItems.length;\n\n      if (!this.totalNbRec || showingOnlySelected) {\n        return;\n      }\n\n      const element = event.target;\n      const reachedBottom = element.scrollTop + element.clientHeight >= element.scrollHeight - 5;\n\n      const hasMoreToLoad =\n        this.options.itemList.length !== this.options.listOfOptions.length ||\n        this.options.itemList.length < this.totalNbRec;\n\n      const loadedItemsCount = this.tempItemList ? this.tempItemList.length : 0;\n      const isLastClickedLastItem = this.lastClickedIndex === (loadedItemsCount - 1);\n\n      if (reachedBottom && hasMoreToLoad && (this.noCardClicked || isLastClickedLastItem)) {\n        this.numberOfItrations++;\n        this.tempNumberOfItrations = this.numberOfItrations;\n        this.loadData();\n      }\n    }\n  }\n\n  private loadData(refreshArray: boolean = false): void {\n    if (!this.loadMoreData) {\n      this.loadMoreData = true;\n      this.applyPagination(refreshArray);\n    }\n  }\n\n  private applyPagination(refreshArray: boolean = false): void {\n    this.totalNbRec = this.options.listOfOptions ? this.options.listOfOptions.length : 0;\n    if (this.totalNbRec > 0) {\n      this.noCardClicked = true;\n      if (refreshArray) {\n        this.options.itemList = [];\n      }\n      if (this.options.enableListPagination) {\n        let start;\n        if (this.numberOfItrations == 0)\n          start = this.numberOfItrations * this.numberOfRowsToShow;\n        else\n          start = this.tempNumberOfItrations * this.numberOfRowsToShow;\n        const end = start + this.numberOfRowsToShow;\n        const nextChunk = this.options.listOfOptions.slice(start, end);\n        if (this.tempItemList.length > 0) {\n          this.tempItemList.push(...nextChunk);\n          this.options.itemList = this.tempItemList;\n        }\n        else {\n          this.options.itemList.push(...nextChunk);\n          this.tempItemList = this.options.itemList;\n        }\n      } else {\n        this.options.itemList.push(...this.options.listOfOptions);\n      }\n      this.onPagination.emit(this.options.itemList);\n      this.loadMoreData = false;\n    }\n  }\n\n  labelSelectedItems: string = this.commonProv.translate('selected_items_key');\n\n  updateLastClickedIndex(item) {\n    if (item) {\n      const clickedIndex = this.options.itemList.findIndex(i => i.lookupKey === item.lookupKey);\n      this.lastClickedIndex = clickedIndex;\n    }\n  }\n\n  onClickCard(event) {\n    if (this.options.enableListPagination) {\n      this.options.itemList = this.tempItemList;\n      this.updateLastClickedIndex(event?.item);\n    }\n    if (!this.options.multiple) {\n      if (event && event.itemList) {\n        if (!this.options.enableListPagination) {\n          this.options.itemList = event.itemList;\n        }\n        this.options.showSelectedCard = true;\n      }\n      if (event && event.itemList && event.itemList.length === 1) {\n        this.itemArraySize = 1;\n        this.options.showDefaultTemplate = false;\n      } else if (event && event.itemList && event.itemList.length > 1) {\n        this.itemArraySize = 2;\n      }\n      this.changeItem.emit(event);\n    } else {\n      this.onclickCardMultiple(event);\n    }\n  }\n\n  onclickCardMultiple(event) {\n    if (this.options.multiple) {\n      let found = false;\n      this.itemArraySize = 2;\n      if (!this.options.enableListPagination) {\n        this.options.itemList = event.listOfOptions;\n      }\n      this.options.selectedItems.forEach(element => {\n        if (element.itemLookup === event.item.lookupKey) {\n          found = true;\n        }\n      });\n      if (!found) {\n        this.options.selectedItems.push({ item: event.item[event.item.previewProperty], itemDetailed: event.item, itemLookup: event.item.lookupKey });\n      }\n    }\n  }\n\n  changeMarginOnItemChange() {\n    if (this.options.multiple) {\n      const id = 'ps-option-list-component-dropdown';\n      const el = document.getElementById(id);\n      el.style.marginTop = (this.options.selectedItems.length * 40).toString() + 'px';\n    }\n  }\n\n  deleteSingleItem(item, index, reportHtmlId) {\n    document.getElementById(reportHtmlId).classList.remove('multiSelectSingleItemInAnimation');\n    document.getElementById(reportHtmlId).classList.add('multipleSelectSingleItemDeleteAnimation');\n    setTimeout(() => {\n      this.options.selectedItems.splice(index, 1);\n      this.changeMarginOnItemChange();\n    }, 600);\n    this.onDeleteItem.emit(item);\n  }\n\n  showSelectedDiv(show) {\n    if (this.options.multiple) {\n      if (show) {\n        this.itemArraySize = 2;\n      } else {\n        this.itemArraySize = 1;\n      }\n    }\n  }\n\n  /**\n   * preparing list for template card and content card from the map passed in options\n   */\n  private loadLabelsValueMap() {\n    Array.from(this.options.labelsValueMap).forEach((element) => {\n      const tempOption: IMapKeyValue = {\n        key: element[0],\n        value: element[1].value\n      };\n      this.templateOptions.push(tempOption);\n    });\n  }\n\n  confirmMultipleSelection() {\n    this.noCardClicked = false;\n    if (this.options.selectedItems.length > 0) {\n      this.itemArraySize = 1;\n      let submitObject = {\n        confirmMultiple: true,\n        itemList: this.options.selectedItems\n      };\n      this.changeItem.emit(submitObject);\n    } else {\n      this.itemArraySize = 1;\n      this.options.selectedItems = [];\n    }\n  }\n\n  resetMultipleSelection() {\n    // confirmation popup for reseting the selection (Clark)\n\n    const alertController: IOptionsPsComplexAlertController = {\n      header: \"are_you_sure_key\",\n      buttons: [\n        {\n          options: {\n            labelKey: \"no_key\",\n            group: null,\n          },\n          handler: () => {\n            CommonUtils.dismissAllModals();\n          },\n        },\n        {\n          options: {\n            labelKey: \"yes_key\",\n            group: null,\n          },\n          handler: () => {\n            CommonUtils.dismissAllModals();\n            this.options.selectedItems = [];\n            this.itemArraySize = 1;\n            this.options.itemList = null;\n          },\n        },\n      ],\n    };\n    this.common.presentPsAlert(alertController, \"confirm_reset\");\n    // end Clark\n  }\n\n  ngOnChanges() {\n    this.dynamicComponentOptions.component = this.options.component;\n    this.dynamicComponentOptions.listOfOptions = this.options.listOfOptions;\n    this.dynamicComponentOptions.showItemPopUp = this.options.showItemPopUp;\n    this.dynamicComponentOptions.group = this.options.group;\n    if (this.options.itemList === null || this.options.itemList === undefined) {\n      this.itemArraySize = 2;\n    } else if (this.options.itemList.length > 0) {\n      this.itemArraySize = 2;\n    } else if (this.options.multiple && this.options.showSelectedCard) {\n      this.itemArraySize = 2;\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1zZWxlY3QtbG9va3VwLW9wdGlvbi1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { PsComponentsModule } from 'src/app/commonSRC/psComponents/ps-components.module';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsSelectLookupOptionListComponent } from './ps-select-lookup-option-list.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PsSelectLookupOptionListComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule\r\n    ],\r\n    exports: [\r\n        PsSelectLookupOptionListComponent\r\n    ],\r\n    entryComponents: [\r\n        PsSelectLookupOptionListComponent\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsSelectLookupOptionListComponentModule { }\r\n"]}