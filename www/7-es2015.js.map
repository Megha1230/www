{"version":3,"sources":["./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.scss","./src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-branches/ps-dropdown-branches.component.module.ts","./src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-branches/ps-dropdown-branches.component.html","./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.ts","./src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-branches/ps-dropdown-branches.component.scss","./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.html","./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.module.ts","./src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-branches/ps-dropdown-branches.component.ts"],"names":[],"mappings":"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","file":"7-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1jb21wbGV4LXNlbGVjdC1icmFuY2guY29tcG9uZW50LnNjc3MifQ== */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { PsComponentsModule } from 'src/app/commonSRC/psComponents/ps-components.module';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsDropdownBranchesComponent } from './ps-dropdown-branches.component';\r\n\r\n@NgModule({\r\n    declarations: [PsDropdownBranchesComponent],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule\r\n    ],\r\n    exports: [PsDropdownBranchesComponent],\r\n    entryComponents: [PsDropdownBranchesComponent],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsDropdownBranchesComponentModule { }","export default \"<ps-select-dropdown [id]=\\\"id\\\"  [options]=\\\"defaultSelectOptions\\\" (onPsChange)=\\\"onBranchChange($event)\\\"></ps-select-dropdown>\";","import { Component, Input, OnInit } from '@angular/core';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { PsBaseFieldComponent } from '../../../../commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { LoggerService } from '../../../../commonSRC/psServices/logger/logger.service';\nimport { PsCommonService } from '../../../../commonSRC/psServices/ps-common/ps-common.service';\nimport { CommonBussinessConstant } from './../../../psServices/models/ps-common-bussiness-constant';\nimport { IOptionsPsComplexSelectBranchComponentExposed } from './ps-complex-select-branch.component.interface';\n\n@Component({\n  selector: 'ps-complex-select-branch',\n  templateUrl: './ps-complex-select-branch.component.html',\n  styleUrls: ['./ps-complex-select-branch.component.scss'],\n})\n\nexport class PsComplexSelectBranchComponent extends PsBaseFieldComponent implements OnInit {\n\n  @Input() options: IOptionsPsComplexSelectBranchComponentExposed;\n  public defaultOptions: IOptionsPsComplexSelectBranchComponentExposed = {};\n\n  constructor(commonService: PsCommonService, logger: LoggerService, private omniPull: OmniPullService) {\n    super(commonService, logger);\n  }\n\n  async ngOnInit() {\n    this.defaultOptions = {\n      countryRegionCityOptions: {\n        countriesOptions: {\n          labelKey: 'country__key',\n          placeHolder: 'select_country_key',\n          fcName: this.options.countryRegionCityOptions ? this.options.countryRegionCityOptions.countriesOptions.fcName : 'branch_country',\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'clipboard'\n          }\n        },\n        regionOptions: {\n          labelKey: 'region_key',\n          placeHolder: 'region_key',\n          fcName: this.options.countryRegionCityOptions ? this.options.countryRegionCityOptions.regionOptions.fcName : 'branch_region',\n          group: this.options.group\n        },\n        cityOptions: {\n          labelKey: 'city_key',\n          placeHolder: 'select_city_key',\n          fcName: this.options.countryRegionCityOptions ? this.options.countryRegionCityOptions.cityOptions.fcName : 'branch_city',\n          group: this.options.group,\n        }\n      },\n    };\n    this.defaultOptions.branchesOptions = {\n      group: this.options.group,\n      fcName: this.options.branchesOptions ? this.options.branchesOptions.fcName : 'default_branch',\n      placeHolder: this.options.branchesOptions?.placeHolder ? this.options.branchesOptions.placeHolder : 'branch_key',\n      labelKey: this.options.branchesOptions?.labelKey ? this.options.branchesOptions.labelKey : 'label_branch_key',\n    };\n    this.commonProv.copyObject(this.defaultOptions, this.options);\n    let optionsFcNameValidations = this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName);\n    if (this.options.parameterToCheck) {\n      const result = await this.omniPull.checkBranch(this.options.parameterToCheck);\n      optionsFcNameValidations = this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName);\n      if (result.enableCifBranch || (this.defaultOptions.branchesOptions.fcName && !optionsFcNameValidations.IS_VISIBLE)) {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.defaultOptions.branchesOptions.fcName], 0);\n      } else {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.defaultOptions.branchesOptions.fcName], optionsFcNameValidations.IS_MANDATORY);\n      }\n    } else {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.defaultOptions.branchesOptions.fcName], optionsFcNameValidations.IS_MANDATORY);\n    }\n  }\n\n  onSelectBranch($event) {\n    this.onPsChange.emit($event);\n  }\n  /**\n   * event for city change\n   * @param event\n   */\n  public onChildDropdownSelected(event) {\n    if (event[CommonBussinessConstant.SELECTED_DROPDOWN]) {\n      const dropdownType = event[CommonBussinessConstant.SELECTED_DROPDOWN];\n      if (dropdownType === CommonBussinessConstant.COUNTRY_DROPDOWN) {\n        this.defaultOptions.branchesOptions.selectedCountryCode = event.selectedObj !== undefined ? event.selectedObj.countriesID : event.newValue != undefined ? event.newValue : null;\n        this.defaultOptions.branchesOptions.selectedRegionCode = null;\n        this.defaultOptions.branchesOptions.selectedCityCode = null;\n      } else if (dropdownType === CommonBussinessConstant.REGION_DROPDOWN) {\n        this.defaultOptions.branchesOptions.selectedRegionCode = event.selectedObj !== undefined ? event.selectedObj.countriesRegionID : event.newValue != undefined ? event.newValue : null;\n        this.defaultOptions.branchesOptions.selectedCityCode = null;\n      } else if (dropdownType === CommonBussinessConstant.CITY_DROPDOWN) {\n        this.defaultOptions.branchesOptions.selectedCityCode = event.selectedObj !== undefined ? event.selectedObj.citiesId : event.newValue != undefined ? event.newValue : null;\n      }\n    }\n    this.defaultOptions.branchesOptions = Object.assign({}, this.defaultOptions.branchesOptions);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1kcm9wZG93bi1icmFuY2hlcy5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"<ps-container-complex class=\\\"ps-complex-swift-benef-creation\\\">\\n\\n  <ps-complex-country-regions-cities [id]=\\\"id\\\" [options]=\\\"defaultOptions.countryRegionCityOptions\\\"\\n    (onPsChange)=\\\"onChildDropdownSelected($event)\\\"></ps-complex-country-regions-cities>\\n\\n\\n  <ps-dropdown-branches [id]=\\\"id\\\" [options]=\\\"defaultOptions.branchesOptions\\\" (onPsChange)=\\\"onSelectBranch($event)\\\">\\n  </ps-dropdown-branches>\\n\\n\\n</ps-container-complex>\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { PsComplexSelectBranchComponent } from './ps-complex-select-branch.component';\r\nimport { SharedModule } from '../../../../commonSRC/shared.module';\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsComplexCountryRegionsCitiesComponentModule } from '../ps-complex-country-regions-cities/ps-complex-country-regions-cities.component.module';\r\nimport { PsDropdownBranchesComponentModule } from '../../ps-select-dropdown/ps-dropdown-branches/ps-dropdown-branches.component.module';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PsComplexSelectBranchComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsDropdownBranchesComponentModule,\r\n        PsComplexCountryRegionsCitiesComponentModule\r\n    ],\r\n    exports: [\r\n        PsComplexSelectBranchComponent\r\n    ],\r\n    entryComponents: [PsComplexSelectBranchComponent],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsComplexSelectBranchComponentModule { }","import { Component, Input, OnChanges, OnInit } from '@angular/core';\nimport { IOcBranchesRequest } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { PsSelectDropdownComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-field-select/ps-select-dropdown/ps-select-dropdown.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { PsSelect } from 'src/app/commonSRC/psServices/models/common-type';\nimport { IchangeValues, IOptionsPsSelectDropdown } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsDropdownBranchesExposed } from './ps-dropdown-branches.component.interface';\n\n\n\n@Component({\n  selector: 'ps-dropdown-branches',\n  templateUrl: './ps-dropdown-branches.component.html',\n  styleUrls: ['./ps-dropdown-branches.component.scss'],\n})\nexport class PsDropdownBranchesComponent extends PsSelectDropdownComponent implements OnInit, OnChanges {\n  @Input() options: IOptionsPsDropdownBranchesExposed;\n  defaultSelectOptions: IOptionsPsSelectDropdown = {\n    labelKey: 'label_branch_key',\n    placeHolder: 'branch_key'\n  };\n  public branches: PsSelect = [];\n  constructor(commonProv: PsCommonService, loggerP: LoggerService, private omniPull: OmniPullService) {\n    super(commonProv, loggerP);\n  }\n\n  ngOnInit() {\n    this.commonProv.copyObject(this.defaultSelectOptions, this.options);\n  }\n\n  ngOnChanges() {\n    this.getBranches();\n  }\n\n  getBranches() {\n    const paramData: IOcBranchesRequest = {\n      // eslint-disable-next-line radix\n      countryId: this.options.selectedCountryCode ? parseInt(this.options.selectedCountryCode) : null,\n      regionId: this.options.selectedRegionCode ? parseInt(this.options.selectedRegionCode) : null,\n      cityId: this.options.selectedCityCode ? parseInt(this.options.selectedCityCode) : null,\n      mapTypesInclude: \"'B'\"\n    };\n    this.branches = [];\n    this.omniPull.returnMapAtmBranches(paramData).then((result) => {\n      this.defaultSelectOptions.listOfOptions = [];\n      if (result && result.gridModel != null && result.gridModel.length > 0) {\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < result.gridModel.length; i++) {\n          const acctype = {\n            itemValue: result.gridModel[i].vsBranchCode,\n            description: result.gridModel[i].briefDesc, \n            selectedObj: result.gridModel[i]\n          };\n          this.branches.push(acctype);\n        }\n        this.defaultSelectOptions.listOfOptions = this.branches;\n\n        const defaultBranchSelected = this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].value;\n        if (defaultBranchSelected && !this.defaultSelectOptions.listOfOptions.some(e => e.itemValue === defaultBranchSelected)) {\n          this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null);\n        }\n      } else {\n        this.defaultSelectOptions.listOfOptions = [];\n        this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null);\n        this.logger.warn(result, 'empty response'); \n      }\n    }).catch((error) => { });\n  }\n  onBranchChange(values: IchangeValues) {\n    this.loggerP.log('onBranchChange' + values);\n    this.onPsChange.emit(values);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}