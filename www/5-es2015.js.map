{"version":3,"sources":["./src/app/commonBussinessSRC/psServices/accounts/accounts.service.ts","./src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.scss","./src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.ts","./src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.html","./src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.module.ts"],"names":[],"mappings":"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","file":"5-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { IAccountResponse } from '../models/ps-common-bussiness-interfaces';\nimport { OmniPullService } from '../omni-common/omni-pull.service';\n/*\nCreated by Waleed Aly 03 April 2023 to encapsulated repeated code needed in different cards components \"debit,credit,prepaid\"\n*/\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccountsService {\n\n  private accountAsIBAN: any;\n  constructor(private omniPull: OmniPullService, private logger: LoggerService) {\n    this.getAccountAsIBAN();\n  }\n\n  public getAccountAsIBAN() {\n    if (this.accountAsIBAN === undefined) {\n      this.omniPull.getParamValOf('AccountsAsIBAN').then(res => {\n        this.accountAsIBAN = res.AccountsAsIBAN;\n      }).catch(err => this.logger.log(err));\n    }\n  }\n\n  public returnFormattedAccount(account: IAccountResponse) {\n    let formattedAccount: any;\n    let accountFormat: string;\n    if (this.accountAsIBAN !== null && this.accountAsIBAN !== undefined && this.accountAsIBAN === 1) {\n      formattedAccount = account.ibanAccNo === null || account.ibanAccNo === undefined ? '' : account.ibanAccNo;\n      accountFormat = 'IBAN';\n    } else if (this.accountAsIBAN !== null && this.accountAsIBAN !== undefined && this.accountAsIBAN === 2) {\n      formattedAccount = account.additionalRef === null || account.additionalRef === undefined ? '' : account.additionalRef;\n      accountFormat = 'AddRef';\n    } else if (this.accountAsIBAN !== null && this.accountAsIBAN !== undefined && this.accountAsIBAN === 3) {\n      formattedAccount = account.branch + '-' + account.currency + '-' + account.accGl + '-' + account.cif + '-' + account.serialNo;\n      accountFormat = 'iMAL';\n    } else {\n      formattedAccount = account.additionalRef === null || account.additionalRef === undefined ? '' : account.accountNumber;\n      accountFormat = 'ACCNO';\n    }\n    return {\n      formattedAccount: formattedAccount,\n      accountFormat: accountFormat,\n    };\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1sb29rdXAtb3duLWFjY291bnRzLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { AccountsService } from 'src/app/commonBussinessSRC/psServices/accounts/accounts.service';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { IAccountResponse, IAccounts, IOmniAccountRequest } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { PsBaseFieldComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { PsCurrencyPipe } from 'src/app/commonSRC/psPipes/ps-currency/ps-currency.pipe';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IMapKeyValue, IOptionsPsLabelInput } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsComplexLookUpComponentExposed } from '../../ps-complex-components/ps-complex-lookup/ps-complex-lookup.component.interfaces';\nimport { IOptionsPsLookupOwnAccountsExposed } from './ps-lookup-own-accounts.component.interfaces';\n\n\n\n/**\n * @author Aftab.Ali\n * @since 03/02/2020\n *\n * <p> PsComplexOwnAccountComponent is complex component to show accounts list fetched from server, balance and available balance</p>\n */\n@Component({\n  selector: 'ps-lookup-own-accounts',\n  templateUrl: './ps-lookup-own-accounts.component.html',\n  styleUrls: ['./ps-lookup-own-accounts.component.scss'],\n})\nexport class PsLookupOwnAccountsComponent extends PsBaseFieldComponent implements OnInit, OnChanges {\n  @Input() options: IOptionsPsLookupOwnAccountsExposed = {\n    fromTo: '',\n    requestObject: null,\n  };\n  public complexLookupOptions: IOptionsPsComplexLookUpComponentExposed = {\n    requestObject: null,\n    notFoundMessage: 'no_valid_account_found_key',\n    multiple: this.options.multiple ? this.options.multiple : false\n  };\n  // eslint-disable-next-line @angular-eslint/no-output-on-prefix\n  @Output() public onAccountChange: EventEmitter<any> = new EventEmitter<any>();\n  @Output() public onAccountDeleted: EventEmitter<any> = new EventEmitter<any>();\n  public listOfAccounts?: IAccounts[];\n  public labelValuesMap = new Map<string, IMapKeyValue>();\n  private psCurrency = new PsCurrencyPipe();\n  public labelOptions: IOptionsPsLabelInput = {};\n  private allType = false;\n  private allAccounts?: IAccounts[];\n\n  @ViewChild('complexLookupComponentObj') complexLookupComponentObj;\n\n  constructor(\n    public commonService: PsCommonService,\n    logger: LoggerService,\n    private omniPull?: OmniPullService,\n    private accountsService?: AccountsService\n  ) {\n    super(commonService, logger);\n  }\n\n  ngOnInit() {\n    this.loadAccounts(null);\n    this.complexLookupOptions.labelKey = this.options.labelKey;\n    this.complexLookupOptions.title = 'title_key';\n    this.complexLookupOptions.subTitle = 'sub_title_key';\n    this.complexLookupOptions.labelsValueMap = this.labelValuesMap;\n    this.allType = this.options.allType ? this.options.allType : false;\n    this.commonProv.copyObject(this.complexLookupOptions, this.options, false);\n    this.complexLookupOptions.requestObject = this.options.requestObject;\n  }\n\n  ngOnChanges(change: SimpleChanges) {\n    this.complexLookupOptions.labelKey = this.options.labelKey;\n    this.complexLookupOptions.placeHolder = this.options.placeHolder;\n    // if (this.options.accountNumber !== undefined) {\n    //   this.loadAccounts(null);\n    // }\n\n  }\n\n  /**\n   * populating account - fetching from server\n   */\n  public async loadAccounts(reloadOptions: IOptionsPsLookupOwnAccountsExposed) {\n\n    if (reloadOptions !== null && reloadOptions !== undefined) {\n      this.options = reloadOptions;\n    }\n    this.options.listOfAccounts = [];\n    // TODO: when the service is ready : we will get the account list based on cif number from server. service will take the cif number -- options.cifNumber will provide the cif number\n    if (this.options.fromTo === undefined || this.options.fromTo === '') {\n      this.logger.error('lookup_from_to_missing_key');\n      return;\n    }\n    const cifInfo = this.commonService.session.getValueOf(ConstantCommon.USERINFO);\n\n    const requestData: IOmniAccountRequest = this.prepareRequestData(cifInfo);\n    this.returnAccountList(requestData);\n  }\n\n  /**\n   * fetching account list from server\n   * @param requestData IOmniAccountRequest\n   */\n  private async returnAccountList(requestData: IOmniAccountRequest) {\n    const personalizationCO = this.commonProv.session.getValueOf(CommonBussinessConstant.PERSONALIZATION_CO)\n    this.complexLookupOptions.listOfOptions = undefined;\n    const result = await this.omniPull.returnAccounts(requestData).catch(error => {\n      this.complexLookupOptions.listOfOptions = [];\n      this.logger.error('Error: While fetching accounts in PsComplexOwnAccountComponent :', error);\n    });\n\n    if (result && result.gridModel.length > 0) {\n      /**\n       * for fetching all the account types if allType flag is passed\n       */\n      if (this.allType) {\n        requestData.accountType = 'F';\n        requestData.permittedGls = 'F';\n        const result1: any = await this.omniPull.returnAccounts(requestData).catch(error => {\n          this.logger.error('Error: While fetching accounts in PsComplexOwnAccountComponent :', error);\n        });\n        if (result1 && result1.gridModel.length > 0) {\n          result.gridModel = [...result.gridModel, ...result1.gridModel];//Jira #7129 The correct way to merge two arrays \n        }\n      }\n\n      this.options.listOfAccounts = result.gridModel;\n      if (this.options.accountNumber && this.options.accountNumber !== '') {\n        this.complexLookupOptions.listOfOptions = this.options.listOfAccounts.filter(account => account.accountNumber !== this.options.accountNumber);\n      }\n      if (this.options.currency && this.options.currency !== '') {\n        this.complexLookupOptions.listOfOptions = this.fetchAccountBasedOnCurrency(this.options.currency);\n        if (this.options.accountNumber && this.options.accountNumber !== '') {\n          this.complexLookupOptions.listOfOptions = this.options.listOfAccounts.filter(account => account.accountNumber !== this.options.accountNumber);\n        }\n      }\n\n      if ((this.options.accountNumber === null || this.options.accountNumber === undefined || this.options.accountNumber === '')) {\n        this.complexLookupOptions.listOfOptions = this.options.listOfAccounts;\n      }\n      this.complexLookupOptions.listOfOptions = this.populateCustomAccounts(this.complexLookupOptions.listOfOptions);\n      //AZDB-1203, Moved here by ghada from ps-accounts-list in order to reasure that data is retured from service to assign rowIndex for each record\n      this.complexLookupOptions.listOfOptions.map((element, index) => element['rowIndex'] = index);\n      this.allAccounts = Object.assign<IAccounts[], IAccounts[]>([], this.complexLookupOptions.listOfOptions);\n      if (this.complexLookupOptions.selectedItems == undefined) {\n        this.complexLookupOptions.selectedItems = [];\n      }\n      if (this.complexLookupOptions.multiple) {\n        this.handleMultipleSelection();\n      }\n      //added by Marina for TP:#1433069 to default any from account field to the account chosen by the user in personalization settings\n      //loop on listOfOptions instead of accountsList to be able to use lookup property of the account because\n      //it is the property used by ps-complex-lookup component to set the lookup value    \n      if (!this.options.requestObject[this.options.fcName]) {\n        this.options.defaultByPersonalizedAcc = this.options.defaultByPersonalizedAcc != undefined ? this.options.defaultByPersonalizedAcc : true;\n        if (this.options.fromTo === 'from' && this.options.defaultByPersonalizedAcc) {\n          let personalizationKeyToCheck = this.options.purpose === 'QR' ? personalizationCO?.defaultQrPaymentAccKey : personalizationCO?.defaultTransferAccKey;\n          this.complexLookupOptions.listOfOptions.map(account => {\n            //Makki: Jira #5578, Having two undefined values doesn't mean the condition is fulfilled, need to check personalizeKey is not 'undefined'\n            if (account.personalizeKey) {\n              if (account.personalizeKey === personalizationKeyToCheck) {\n                this.common.setValInsideNestedObj(this.options.fcName, account.lookupKey, this.options.requestObject);\n                this.common.setValInsideNestedObj(this.options.fcName + '_lookupKey', account.lookupKey, this.options.requestObject);\n              }\n            }\n          });\n        }\n      }\n    } else {\n      this.listOfAccounts = [];\n      this.complexLookupOptions.listOfOptions = [];\n    }\n  }\n\n  /**\n   *\n   * @param listOfOptions\n   */\n  private populateCustomAccounts(listOfOptions: IAccountResponse[]): IAccountResponse[] {\n\n    const accountsList: IAccountResponse[] = [];\n    for (const iterator of listOfOptions) {\n      const account: IAccountResponse = {\n        briefNameEnglish: iterator.briefNameEnglish,\n        cifShortNameEnglish: iterator.cifShortNameEnglish,\n        accountNumber: iterator.accountNumber,\n        balance: this.psCurrency.transform(iterator.balance === null || iterator.balance === undefined ? '0.0' : iterator.balance, iterator.currencyDecimalPoints) + ' ' + (iterator.currencyBriefName || iterator.currencyBriefNameEnglish),\n        availableBalance: this.psCurrency.transform(iterator.availableBalance === null || iterator.availableBalance === undefined ? '0.0' : iterator.availableBalance, iterator.currencyDecimalPoints) + ' ' + (iterator.currencyBriefName || iterator.currencyBriefNameEnglish),\n        currencyBriefName: iterator.currencyBriefName || iterator.currencyBriefNameEnglish,\n        currencyBriefNameEnglish: iterator.currencyBriefNameEnglish,\n        currency: iterator.currency,\n        accountTypeDesc: iterator.accountTypeDesc,\n        additionalRef: iterator.additionalRef,\n        ibanAccNo: iterator.ibanAccNo,\n        accGl: iterator.accGl,\n        serialNo: iterator.serialNo,\n        branch: iterator.branch,\n        cif: iterator.cif,\n        formattedAccount: this.accountsService.returnFormattedAccount(iterator).formattedAccount,\n        personalizeKey: iterator.personalizeKey,\n        nickName: iterator.nickName,\n        briefName: iterator.briefName,\n        lookupKey: iterator.additionalRef,\n        branchDescription: iterator.branchDescription ? iterator.branchDescription : '',\n        generalLedgerBriefNameEng: iterator.generalLedgerBriefNameEng ? iterator.generalLedgerBriefNameEng : '',\n        previewProperty: 'accountNumber', //changed by ghada and confirmed by Aline, tp1487062 to set some descriptive info for user on select\n        status: iterator.statusDescription,//'Active...\n        statusCode: iterator.status,//'A','I',..\n        accountFormat: this.accountsService.returnFormattedAccount(iterator).accountFormat\n      };\n      //added by Marina TP:#1433069 to include the excludeType property with each account if the lookup is multiselect\n      if (this.options.multiple) {\n        account.excludeType = iterator.excludeType;\n      }\n      accountsList.push(account);\n    }\n    return accountsList;\n  }\n\n  /**\n   * preparing request data\n   * @param cifInfo: any\n   */\n  private prepareRequestData(cifInfo: any): IOmniAccountRequest {\n    let requestData: IOmniAccountRequest = {};\n\n    if (cifInfo && cifInfo.omniUserVO) {\n      requestData = {\n        // vsBranchCode: cifInfo.branchCode,\n        userCifNo: cifInfo.omniUserVO.CIF_NO,\n        type: 'A'\n      };\n    }\n    if (this.options.queryParams != null && this.options.queryParams !== undefined && this.options.queryParams !== '') {\n      requestData = {\n        commonParametersList: this.options.queryParams\n      };\n    }\n    if (this.options.accountType != null && this.options.accountType !== undefined && this.options.accountType !== '') {\n      requestData.accountType = this.options.accountType;\n    }\n    if (this.options.glTypes != null && this.options.glTypes !== undefined && this.options.glTypes !== '') {\n      requestData.permittedGls = this.options.glTypes;\n    }\n    if (this.options.fromTo !== null && this.options.fromTo !== undefined && this.options.fromTo !== '') {\n      requestData.fromTo = this.options.fromTo;\n    }\n    if (this.options.endUserId !== null && this.options.endUserId !== undefined && this.options.endUserId !== '') {\n      requestData.endUserId = this.options.endUserId;\n    }\n    if (this.options.fromCurrency !== null && this.options.fromCurrency !== undefined) {\n      requestData.fromCurrency = this.options.fromCurrency;\n    } else if (this.options.toCurrency !== null && this.options.toCurrency !== undefined) {\n      requestData.toCurrency = this.options.toCurrency;\n    }\n\n    if (this.options.accountAllowedCurrencies != null && this.options.accountAllowedCurrencies !== undefined) {\n      if (typeof this.options.accountAllowedCurrencies === 'string') {\n        requestData.accountAllowedCurrencies = this.options.accountAllowedCurrencies;\n      } else {\n        let temp = '';\n        // eslint-disable-next-line guard-for-in\n        for (const val in this.options.accountAllowedCurrencies) {\n          const value = this.options.accountAllowedCurrencies[val];\n          temp += value + ',';\n        }\n        temp = temp.slice(0, temp.lastIndexOf(','));\n        requestData.accountAllowedCurrencies = temp;\n      }\n    }\n\n    if (this.options.accountAllowedTypes != null && this.options.accountAllowedTypes !== undefined) {\n      if (typeof this.options.accountAllowedTypes === 'string') {\n        requestData.accountAllowedTypes = this.options.accountAllowedTypes;\n      } else {\n        let temp = '';\n        // eslint-disable-next-line guard-for-in\n        for (const val in this.options.accountAllowedTypes) {\n          const value = this.options.accountAllowedTypes[val];\n          temp += value + ',';\n        }\n        temp = temp.slice(0, temp.lastIndexOf(','));\n        requestData.accountAllowedTypes = temp;\n      }\n    }\n    return requestData;\n  }\n\n\n\n  /**\n   * will fetch the list of accounts from server based currecy filter\n   */\n  private fetchAccountBasedOnCurrency(currency: any): IAccounts[] {\n    // TODO: when service is available: account list will be fetched from server based on currency if passed any\n    return this.options.listOfAccounts;\n  }\n\n  onChange(event: any[]) {\n    this.logger.log(event);\n    // TODO: get the updated data from server\n  }\n\n  private populateOwnAccountMap() {\n    let accountNumberMap: IMapKeyValue = {};\n    let accountBalanceMap: IMapKeyValue = {};\n    let accountAvailableBalanceMap: IMapKeyValue = {};\n\n    accountNumberMap = {\n      key: 'accountNumber', // will be used in lookup compoent to get the value of account nummer from list of accounts\n      value: '--- --- --- ---',\n      isEdit: false,\n    };\n\n    accountBalanceMap = {\n      key: 'currentBalance', // will be used in lookup compoent to get the value of account balance from list of accounts\n      value: '0.0',\n      isEdit: false,\n    };\n\n    accountAvailableBalanceMap = {\n      key: 'availableBalance', // will be used in lookup compoent to get the value of account available balance from list of accounts\n      value: '0.0',\n      isEdit: false\n    };\n\n    // key here will be used as label in look up details component\n    this.labelValuesMap.set('account_key', accountNumberMap);\n    this.labelValuesMap.set('balance_key', accountBalanceMap);\n    this.labelValuesMap.set('available_balance_key', accountAvailableBalanceMap);\n  }\n\n  onChangeItem(event) {\n    this.onAccountChange.emit(event);\n  }\n\n  onDeleteItem(account) {\n    if (account) {\n      this.onAccountDeleted.emit(account);\n    }\n  }\n\n\n  handleMultipleSelection() {\n    const accountList = this.options.setAllAccountsAsSelecetd ? this.complexLookupOptions.listOfOptions :\n      (this.options.requestObject[this.options.fcName] ?\n        this.complexLookupOptions.listOfOptions.filter(item => this.options.requestObject[this.options.fcName].some(item1 => item1.accountNumber == item.accountNumber)) : []);\n    //edited by Marina TP:#1433069 to avoid adding excluded general or term accounts with the selected items\n    this.complexLookupOptions.selectedItems = accountList.filter(element => (this.options.setAllAccountsAsSelecetd\n      && (!element.excludeType || !(element.excludeType.includes(CommonBussinessConstant.GENERAL_ACCOUNT_EXCLUDE_TYPE)\n        || element.excludeType.includes(CommonBussinessConstant.TERM_ACCOUNT_EXCLUDE_TYPE))))\n      || !this.options.setAllAccountsAsSelecetd\n    ).map(element => {\n      return {\n        item: element[element.previewProperty],\n        ...element,\n        itemLookup: element.lookupKey\n      };\n\n    });\n\n    if (this.complexLookupOptions.selectedItems.length > 0)\n      this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems);\n  }\n\n  removeAccount(account) {\n    if (account) {\n      if (this.allAccounts !== undefined) {\n        this.complexLookupOptions.listOfOptions = this.allAccounts ? this.allAccounts.filter(item => account.accountNumber != item.accountNumber) : [];\n      }\n\n    }\n  }\n\n  reset() {\n    this.complexLookupComponentObj.resetLookUp();\n  }\n\n  refreshAcounts(accountOptions: IOptionsPsLookupOwnAccountsExposed) {\n    this.complexLookupOptions.listOfOptions = Object.assign<IAccounts[], IAccounts[]>([], this.allAccounts);\n    this.removeAccount(accountOptions)\n  }\n}\n\n","export default \"<ps-container-complex class=\\\"ps-complex-own-account\\\">\\n\\n  <ps-complex-lookup [id]=\\\"id\\\" #complexLookupComponentObj (changeItem)=\\\"onChangeItem($event)\\\"\\n    (onDeleteItem)=\\\"onDeleteItem($event)\\\" [options]=\\\"complexLookupOptions\\\">\\n  </ps-complex-lookup>\\n\\n</ps-container-complex>\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { PsComponentsModule } from 'src/app/commonSRC/psComponents/ps-components.module';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsComplexLookupComponentModule } from '../../ps-complex-components/ps-complex-lookup/ps-complex-lookup.component.module';\r\nimport { PsInputVarcharComponentModule } from '../../ps-keyin-input/ps-input-varchar/ps-input-varchar.component.module';\r\nimport { PsLookupOwnAccountsComponent } from './ps-lookup-own-accounts.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PsLookupOwnAccountsComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsInputVarcharComponentModule,\r\n        PsComplexLookupComponentModule\r\n    ],\r\n    exports: [\r\n        PsLookupOwnAccountsComponent\r\n    ],\r\n    entryComponents: [\r\n        PsLookupOwnAccountsComponent\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsLookupOwnAccountComponentModule { }\r\n"],"sourceRoot":"webpack:///"}