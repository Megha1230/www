{"version":3,"sources":["webpack:///src/app/pages/financing-list/financing-list.page.scss","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/pages/financing-list/financing-list.page.ts","webpack:///src/app/pages/financing-list/financing-list.page.html","webpack:///src/app/pages/omni-base/omni-base.page.scss"],"names":["OmniBasePage","isPageDisabled","commonProv","injectionHandler","navigationServices","init","currentOperID","oper_ID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","set","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","length","includes","getScreenTranslations","ngOnInit","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","formGroup","undefined","get","status","disable","Object","keys","controls","forEach","key","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","next","value","page","didEnter","setCheckViewByOper","emitCheckViewByOper","dismissLoading","baseFormGroup","getAllSessionFcVars","setFormGroupByOper","willLeave","ngAfterViewChecked","setTimeout","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation","selector","template","FinancingListPage","commonService","logger","omniPull","navService","dealListOptions","containerLookupOption","listOfOptions","isEditable","noDealsFound","noDealsRecordFoundOptions","labelKey","previewMode","frButtonOptions","group","templateViewOptions","loadDeals","session","getValueOf","USERINFO","cifInfo","DealListRequest","returnDealList","requestData","error","result","gridModel","dealsList","mappedDeals","handelDealResponseLabels","itemList","deals","psCurrency","prevFormat","psDatePipe","iterator","deal","title","productClassName","dealCurrencyDescription","nickName","dealNumber","nextPaymentDate","transform","nextPaymentVal","nextPaymentAmount","toString","paidAmount","amount","financeAmount","lastPaymentDate","lastSettledDate","lastPaymentAmount","lastSettledAmount","maturityDate","outstandingBalanceDesc","outstandingBalance","noOfRemainingIns","noOfRemainingInstallment","currency","financingType","periodicityPayment","getFormattedPeriodicity","installmentAmount","paymentPeriodicityType","paymentPeriodicityNumber","pastDues","pastDueAmount","personalizeKey","dealNbr","lookupKey","currencyCode","dealCurrency","push","periodicityDesc","period"],"mappings":"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","file":"46-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmaW5hbmNpbmctbGlzdC5wYWdlLnNjc3MifQ== */\";","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","export default \"\\n\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { IOptionsPsComplexDealDetailsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-deal-details/ps-complex-deal-details-interfaces.component';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { PsCurrencyPipe } from 'src/app/commonSRC/psPipes/ps-currency/ps-currency.pipe';\nimport { PsDateFormatPipe } from 'src/app/commonSRC/psPipes/ps-date-format/ps-date-format.pipe';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IDealResponse, IOmniDealsListRequest } from '../../commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { IOptionsPsActionButton, IOptionsPsLabel, IOptionsPsTemplateView } from '../../commonSRC/psServices/models/ps-common-interface';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\n\n\n\n@Component({\n  selector: 'app-financing-list',\n  templateUrl: './financing-list.page.html',\n  styleUrls: ['./financing-list.page.scss'],\n})\n\n\nexport class FinancingListPage extends OmniBasePage implements OnInit {\n\n  dealListOptions: IOptionsPsComplexDealDetailsExposed = {\n    containerLookupOption: {\n    },\n    listOfOptions: [],\n    isEditable: true\n  };\n  noDealsFound = false;\n  formGroup = new FormGroup({});\n  public noDealsRecordFoundOptions: IOptionsPsLabel = {\n    labelKey: 'no_deals_records_found_key',\n    previewMode: false\n  };\n  \n  frButtonOptions: IOptionsPsActionButton = {\n    labelKey: 'letter_of_credit_request_key',\n    group: this.formGroup\n  };\n  cifInfo: any;\n\n  constructor(\n    public commonService: PsCommonService,\n    public logger: LoggerService,\n    private omniPull?: OmniPullService,\n    public navService?: PsNavigatorService\n  ) {\n    super();\n    // this.populateHeaderValueMap();\n  }\n\n  public templateViewOptions: IOptionsPsTemplateView = {\n    group: this.formGroup\n  };\n\n  async ngOnInit() {\n    this.loadDeals();\n    this.dealListOptions.group = this.formGroup;\n  }\n\n  async loadDeals() {\n    this.cifInfo = await this.commonProv.session.getValueOf(ConstantCommon.USERINFO);\n    const DealListRequest: IOmniDealsListRequest = {\n      status: 'A',\n    };\n    this.returnDealList(DealListRequest);\n  }\n\n  /**\n   * fetching general deal list from server\n   * @param requestData IOmniAccountRequest\n   */\n\n  private async returnDealList(requestData?: IOmniDealsListRequest) {\n    const result = await this.omniPull.returnDealList(requestData).catch(error => {\n      this.logger.error('Error: While fetching deals in FinancingListPage :', error);\n    });\n\n    if (result && result.gridModel.length > 0) {\n      const dealsList: IDealResponse[] = result.gridModel;\n      const mappedDeals = this.handelDealResponseLabels(dealsList);\n      this.dealListOptions.listOfOptions = [...mappedDeals];\n      this.dealListOptions.itemList = [...mappedDeals];  \n      this.noDealsFound = false;\n    } else {\n      this.dealListOptions.listOfOptions = [];\n      this.noDealsFound = true\n    }\n  }\n\n  handelDealResponseLabels(result: IDealResponse[]): any[] {\n    let deals: any[] = [];\n    const psCurrency = new PsCurrencyPipe();\n    const prevFormat = 'DD/MM/YYYY';\n    const psDatePipe = new PsDateFormatPipe();\n    for (let iterator of result) {\n      let deal: any = {\n        title: (iterator.productClassName || '') + '  ' + (iterator.dealCurrencyDescription || ''),\n        nickName: iterator.nickName || iterator.dealNumber,//edited by Marina TP id:#1486410 to fix the issue of nickName doesn't update when edited\n        nextPaymentDate: iterator.nextPaymentDate ? psDatePipe.transform((iterator.nextPaymentDate), prevFormat) : '--/--/----',\n        nextPaymentVal: psCurrency.transform((iterator.nextPaymentAmount || 0).toString(), 2) + ' ' + (iterator.dealCurrencyDescription || ''),\n        paidAmount: psCurrency.transform((iterator.paidAmount || 0).toString(), 2) + ' ' + (iterator.dealCurrencyDescription || ''),\n        amount: psCurrency.transform((iterator.financeAmount || 0).toString(), 2) + ' ' + (iterator.dealCurrencyDescription || ''),\n        lastPaymentDate: iterator.lastSettledDate ? psDatePipe.transform((iterator.lastSettledDate), prevFormat) : '--/--/----',\n        lastPaymentAmount: psCurrency.transform((iterator.lastSettledAmount || 0).toString(), 2) + ' ' + (iterator.dealCurrencyDescription || ''),\n        maturityDate: iterator.maturityDate ? psDatePipe.transform((iterator.maturityDate), prevFormat) : '--/--/----',\n        outstandingBalanceDesc: psCurrency.transform((iterator.outstandingBalance || 0).toString(), 2) + ' ' + (iterator.dealCurrencyDescription || ''),\n        noOfRemainingIns: (iterator.noOfRemainingInstallment || 0),\n        currency: (iterator.dealCurrencyDescription || ''),\n        financingType: (iterator.financingType || ''),\n        periodicityPayment: this.getFormattedPeriodicity((iterator.installmentAmount || 0), (iterator.dealCurrencyDescription || ''), iterator.paymentPeriodicityType, iterator.paymentPeriodicityNumber),//(iterator.paymentPeriodicityNumber || 0),\n        pastDues: psCurrency.transform((iterator.pastDueAmount || 0).toString(), 2) + ' ' + (iterator.dealCurrencyDescription || ''),\n        key: iterator.personalizeKey,//edited by Marina TP id: #1486410 as per Muneer, key property is changed to personalizeKey\n        dealNbr: iterator.dealNumber,\n        lookupKey: iterator.personalizeKey,\n        currencyCode: iterator.dealCurrency\n      };\n      deals.push(deal);\n    }\n    return deals;\n  }\n\n\n  private getFormattedPeriodicity(installmentAmount: number, currency: string, paymentPeriodicityType: string, paymentPeriodicityNumber) {\n    // it should return result like \"`Monthly Payment: 100 USD`\"\n    let periodicityDesc = \"\";\n    let period = '';\n    switch (paymentPeriodicityType) {\n      case 'M':\n        if (paymentPeriodicityNumber === '1') {\n          period = 'Monthly'\n        } else if (paymentPeriodicityNumber === '2') {\n          period = 'Bimonthly'\n        } else if (paymentPeriodicityNumber === '3') {\n          period = 'Quarterly'\n        } else if (paymentPeriodicityNumber === '6') {\n          period = 'Half Yearly'\n        } else if (paymentPeriodicityNumber === '12') {\n          period = 'Yearly'\n        }\n        break;\n      case 'D':\n        period = 'Every ' + paymentPeriodicityNumber + ' Days';\n        break;\n      default:\n        break;\n    }\n    periodicityDesc = period ? period : '--';\n    return periodicityDesc;\n  }\n}\n","export default \"<ps-template-view [options]=\\\"templateViewOptions\\\">\\n    <div *ngIf=\\\"!noDealsFound\\\" class=\\\"financing-page-padding\\\">\\n        <ps-complex-deal-details [options]='dealListOptions'></ps-complex-deal-details>\\n    </div>\\n    <ps-label *ngIf=\\\"noDealsFound\\\" [options]=\\\"noDealsRecordFoundOptions\\\" class=\\\"no-account-text\\\"></ps-label>\\n</ps-template-view>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";"]}