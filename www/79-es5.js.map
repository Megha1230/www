{"version":3,"sources":["webpack:///src/app/pages/card-management/card-management.page.scss","webpack:///src/app/pages/card-management/card-management.page.html","webpack:///src/app/pages/card-management/card-management.page.ts"],"names":["CardManagementPage","logger","omniPull","navService","crdsSrvce","CardManagementVO","formGroup","options","stepperName","numberOfSteps","group","submitOptions","submitServiceUrl","serviceUrl","cardActionRequestEndPoint","preCallFunction","func","response","Promise","resolve","reject","executionClass","updateScreenVO","params","requestObject","isHorizontalStepper","namesofSteps","blockCard","renewCard","limitUpdate","unblockCard","showAddress","showManualAddress","showDestinationBranchMap","enableCifBranch","enableDeliveryLoc","showHomeWorkAddress","showHomeAddress","cardReplace","isCredit","itemCard","cardOptions","showPos","showWd","panelOptions1","isExpandable","labelKey","iconName","expanded","panelOptions2","panelOptions3","panelOptions6","panelOptions7","panelOptions8","replacementPanelOptions","cardReplaceReason","fcName","placeHolder","iconOptions","reasonType","REPLACE_REASON_TYPE","deliveryAddressDetails","collectionModeOptions","branchLocationOptions","homeAddressOptions","requestVO","workAddressOptions","otherAddressOptions","rows","cols","branchCifOptions","cifBranchChecking","cardBlockToggleOptions","psClass","cardBlockReason","BlOCK_REASON_TYPE","cardUnblockReason","UNBLOCK_REASON_TYPE","limitRequestPosOptions","currentPosLimitOptions","currenciesOptions","amountOptions","utilizedPosLimitOptions","remainingPosLimitOptions","currentWdLimitOptions","utilizedWdLimitOptions","remainingWdLimitOptions","limitRequestWdOptions","POSpriodicityOptions","WDpriodicityOptions","TrxLimitTypes","POS","WITHDRAWAL","ngOnInit","baseFormGroup","commonProv","copyObject","getAllParams","ScreenVO","key","cardType","CREDIT_CARD_TYPE_NAME","log","labelsValueMap","navigationServices","getParamKey","headerMap","showInitialCardValues","action","CARD_ACTION_TYPE_BLOCK","CARD_ACTION_TYPE_LIMIT_UPDATE","CARD_ACTION_TYPE_RENEW","CARD_ACTION_TYPE_UNBLOCK","CARD_ACTION_TYPE_REPLACE","ionViewDidEnter","fetchParameter","allowRenew","applyDynScreenDisplay","ACTION_TYPE_VISIBLE","posLimitOverride","posLimitBasedOn","undefined","wdLimitOverride","ACTION_TYPE_READONLY","setLimitsDetails","setLimitsCurrency","returnTransUtilizedAmount","onLocChange","values","selectedObj","itemValue","SPECIFIC_BRANCH_VALUE","HOME_ADDRESS_VALUE","WORK_ADDRESS_VALUE","OTHER_ADDRESS_VALUE","getParamValOf","COLLECTION_DESTINATION_BRANCH","error","result","CollectionDestinationBranch","END_USER_INPUT_ID","hideDestinationMap","controls","formData","value","periodicity","trxType","requestData","commonParametersList","accountNumber","primaryAccount","fromDate","setTranactionsDate","from","toDate","to","TransactionType","POS_TRANSACTION_TYPE","WD_TRANSACTION_TYPE","presentLoading","then","outputCode","setValInsideNestedObj","totalUtilizedAmount","remainingPosLimit","Number","remainingWDLimit","dismissLoading","toIsoString","endOf","startOf","subtract","fieldsList","currencyCode","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC0BFA,kBAAkB;AA0C7B,oCAAmBC,MAAnB,EAAkDC,QAAlD,EAAqFC,UAArF,EAA4HC,SAA5H,EAAqJ;AAAA;;AAAA;;AACnJ;AADiB,gBAAAH,MAAA,GAAAA,MAAA;AAA+B,gBAAAC,QAAA,GAAAA,QAAA;AAAmC,gBAAAC,UAAA,GAAAA,UAAA;AAAuC,gBAAAC,SAAA,GAAAA,SAAA;AAzC5H,gBAAAC,gBAAA,GAAqC,EAArC;AACQ,gBAAAC,SAAA,GAAY,IAAI,wDAAJ,CAAc,EAAd,CAAZ;AACD,gBAAAC,OAAA,GAAmC;AACxCC,uBAAW,EAAE,yBAD2B;AAExCC,yBAAa,EAAE,CAFyB;AAGxCC,iBAAK,EAAE,MAAKJ,SAH4B;AAIxCK,yBAAa,EAAE;AACbC,8BAAgB,EAAE,iIAAyBC,UAAzB,CAAoCC,yBADzC;AAEbJ,mBAAK,EAAE,MAAKJ,SAFC;AAGbS,6BAAe,EAAE;AACfC,oBADe,WACfA,IADe,CACVC,QADU,EACA;AAAA;;AACb,yBAAO,IAAIC,OAAJ,CAAiB,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC3CD,2BAAO,CAAC,MAAI,CAACE,cAAL,CAAoBC,cAApB,CAAmCL,QAAnC,CAAD,CAAP;AACD,mBAFM,CAAP;AAGD,iBALc;AAMfI,8BAAc,OANC;AAOfE,sBAAM,EAAE;AAPO;AAHJ,aAJyB;AAiBxCC,yBAAa,EAAE,MAAKnB,gBAjBoB;AAkBxCoB,+BAAmB,EAAE,IAlBmB;AAmBxCC,wBAAY,EAAE,CAAC,gBAAD;AAnB0B,WAAnC;AAqBP,gBAAAC,SAAA,GAAY,KAAZ;AACA,gBAAAC,SAAA,GAAY,KAAZ;AACA,gBAAAC,WAAA,GAAc,KAAd;AACA,gBAAAC,WAAA,GAAc,KAAd;AACA,gBAAAC,WAAA,GAAc,KAAd;AACA,gBAAAC,iBAAA,GAAoB,KAApB;AACA,gBAAAC,wBAAA,GAA2B,KAA3B;AACA,gBAAAC,eAAA,GAAuB,KAAvB;AACA,gBAAAC,iBAAA,GAAoB,KAApB;AACA,gBAAAC,mBAAA,GAAsB,KAAtB;AACA,gBAAAC,eAAA,GAAkB,KAAlB;AACA,gBAAAC,WAAA,GAAc,KAAd;AAEA,gBAAAC,QAAA,GAAW,KAAX;AAEA,gBAAAC,QAAA,GAAgB,EAAhB;AACA,gBAAAC,WAAA,GAA+D,EAA/D;AAKA,gBAAAC,OAAA,GAAU,KAAV;AACA,gBAAAC,MAAA,GAAS,KAAT;AAEA,gBAAAC,aAAA,GAA0C;AACxCC,wBAAY,EAAE,IAD0B;AAExCC,oBAAQ,EAAE,sBAF8B;AAGxCC,oBAAQ,EAAE,UAH8B;AAIxCC,oBAAQ,EAAE;AAJ8B,WAA1C;AAOA,gBAAAC,aAAA,GAA0C;AACxCJ,wBAAY,EAAE,IAD0B;AAExCC,oBAAQ,EAAE,wBAF8B;AAGxCC,oBAAQ,EAAE,UAH8B;AAIxCC,oBAAQ,EAAE;AAJ8B,WAA1C;AAOA,gBAAAE,aAAA,GAA0C;AACxCL,wBAAY,EAAE,IAD0B;AAExCC,oBAAQ,EAAE,gBAF8B;AAGxCC,oBAAQ,EAAE,UAH8B;AAIxCC,oBAAQ,EAAE;AAJ8B,WAA1C;AAOA,gBAAAG,aAAA,GAA0C;AACxCN,wBAAY,EAAE,IAD0B;AAExCC,oBAAQ,EAAE,sBAF8B;AAGxCC,oBAAQ,EAAE,UAH8B;AAIxCC,oBAAQ,EAAE;AAJ8B,WAA1C;AAOA,gBAAAI,aAAA,GAA0C;AACxCP,wBAAY,EAAE,IAD0B;AAExCC,oBAAQ,EAAE,6BAF8B;AAGxCC,oBAAQ,EAAE,UAH8B;AAIxCC,oBAAQ,EAAE;AAJ8B,WAA1C;AAOA,gBAAAK,aAAA,GAA0C;AACxCR,wBAAY,EAAE,IAD0B;AAExCC,oBAAQ,EAAE,qBAF8B;AAGxCC,oBAAQ,EAAE,UAH8B;AAIxCC,oBAAQ,EAAE;AAJ8B,WAA1C;AAOA,gBAAAM,uBAAA,GAAoD;AAClDT,wBAAY,EAAE,IADoC;AAElDC,oBAAQ,EAAE,kBAFwC;AAGlDC,oBAAQ,EAAE,UAHwC;AAIlDC,oBAAQ,EAAE;AAJwC,WAApD;AAOA,gBAAAO,iBAAA,GAA8D;AAC5DC,kBAAM,EAAE,mBADoD;AAE5D9C,iBAAK,EAAE,MAAKJ,SAFgD;AAG5DwC,oBAAQ,EAAE,yBAHkD;AAI5DW,uBAAW,EAAE,gCAJ+C;AAK5DC,uBAAW,EAAE;AACXX,sBAAQ,EAAE;AADC,aAL+C;AAQ5DY,sBAAU,EAAE,kIAAwBC;AARwB,WAA9D;AAWA,gBAAAC,sBAAA,GAA2D;AACzDC,iCAAqB,EAAE;AACrBpD,mBAAK,EAAE,MAAKJ,SADS;AAErBkD,oBAAM,EAAE;AAFa,aADkC;AAKzDO,iCAAqB,EAAE;AACrBP,oBAAM,EAAE,wBADa;AAErB9C,mBAAK,EAAE,MAAKJ;AAFS,aALkC;AASzD0D,8BAAkB,EAAE;AAClBP,yBAAW,EAAE,qBADK;AAElBX,sBAAQ,EAAE,qBAFQ;AAGlBpC,mBAAK,EAAE,MAAKJ,SAHM;AAIlBkD,oBAAM,EAAE,gBAJU;AAKlBS,uBAAS,EAAE,MAAK5D;AALE,aATqC;AAgBzD6D,8BAAkB,EAAE;AAClBT,yBAAW,EAAE,qBADK;AAElBX,sBAAQ,EAAE,qBAFQ;AAGlBpC,mBAAK,EAAE,MAAKJ,SAHM;AAIlBkD,oBAAM,EAAE,gBAJU;AAKlBS,uBAAS,EAAE,MAAK5D;AALE,aAhBqC;AAuBzD8D,+BAAmB,EAAE;AACnBrB,sBAAQ,EAAE,qBADS;AAEnBsB,kBAAI,EAAE,GAFa;AAGnBC,kBAAI,EAAE,IAHa;AAInBb,oBAAM,EAAE,qBAJW;AAKnB9C,mBAAK,EAAE,MAAKJ;AALO,aAvBoC;AA8BzDgE,4BAAgB,EAAE;AAChBb,yBAAW,EAAE,oBADG;AAEhBX,sBAAQ,EAAE,oBAFM;AAGhBpC,mBAAK,EAAE,MAAKJ,SAHI;AAIhBkD,oBAAM,EAAE;AAJQ,aA9BuC;AAoCzDe,6BAAiB,EAAE;AApCsC,WAA3D;AAwCA,gBAAAC,sBAAA,GAAiD;AAC/C1B,oBAAQ,EAAE,mBADqC;AAE/CW,uBAAW,EAAE,mBAFkC;AAG/C/C,iBAAK,EAAE,MAAKJ,SAHmC;AAI/CkD,kBAAM,EAAE,aAJuC;AAK/CiB,mBAAO,EAAE;AALsC,WAAjD;AAQA,gBAAAC,eAAA,GAA4D;AAC1DlB,kBAAM,EAAE,iBADkD;AAE1D9C,iBAAK,EAAE,MAAKJ,SAF8C;AAG1DwC,oBAAQ,EAAE,uBAHgD;AAI1DW,uBAAW,EAAE,qCAJ6C;AAK1DC,uBAAW,EAAE;AACXX,sBAAQ,EAAE;AADC,aAL6C;AAQ1DY,sBAAU,EAAE,kIAAwBgB;AARsB,WAA5D;AAWA,gBAAAC,iBAAA,GAA8D;AAC5DpB,kBAAM,EAAE,mBADoD;AAE5D9C,iBAAK,EAAE,MAAKJ,SAFgD;AAG5DwC,oBAAQ,EAAE,yBAHkD;AAI5DW,uBAAW,EAAE,gCAJ+C;AAK5DC,uBAAW,EAAE;AACXX,sBAAQ,EAAE;AADC,aAL+C;AAQ5DY,sBAAU,EAAE,kIAAwBkB;AARwB,WAA9D,CA7HqJ,CAuIrJ;AACA;AACA;AACA;AACA;;AAEA,gBAAAC,sBAAA,GAAgD;AAC9CtB,kBAAM,EAAE,iBADsC;AAE9C9C,iBAAK,EAAE,MAAKJ,SAFkC;AAG9CwC,oBAAQ,EAAE,yBAHoC;AAI9CW,uBAAW,EAAE;AAJiC,WAAhD;AAOA,gBAAAsB,sBAAA,GAAyD;AACvDC,6BAAiB,EAAE;AACjBlC,sBAAQ,EAAE,cADO;AAEjBW,yBAAW,EAAE,cAFI;AAGjBD,oBAAM,EAAE,iBAHS;AAIjB9C,mBAAK,EAAE,MAAKJ;AAJK,aADoC;AAOvD2E,yBAAa,EAAE;AACbnC,sBAAQ,EAAE,uBADG;AAEbW,yBAAW,EAAE,uBAFA;AAGbD,oBAAM,EAAE,iBAHK;AAIb9C,mBAAK,EAAE,MAAKJ;AAJC;AAPwC,WAAzD;AAcA,gBAAA4E,uBAAA,GAA0D;AACxDF,6BAAiB,EAAE;AACjBlC,sBAAQ,EAAE,cADO;AAEjBW,yBAAW,EAAE,cAFI;AAGjBD,oBAAM,EAAE,qBAHS;AAIjB9C,mBAAK,EAAE,MAAKJ;AAJK,aADqC;AAOxD2E,yBAAa,EAAE;AACbnC,sBAAQ,EAAE,wBADG;AAEbW,yBAAW,EAAE,wBAFA;AAGbD,oBAAM,EAAE,kBAHK;AAIb9C,mBAAK,EAAE,MAAKJ;AAJC;AAPyC,WAA1D;AAcA,gBAAA6E,wBAAA,GAA2D;AACzDH,6BAAiB,EAAE;AACjBlC,sBAAQ,EAAE,cADO;AAEjBW,yBAAW,EAAE,cAFI;AAGjBD,oBAAM,EAAE,sBAHS;AAIjB9C,mBAAK,EAAE,MAAKJ;AAJK,aADsC;AAOzD2E,yBAAa,EAAE;AACbnC,sBAAQ,EAAE,yBADG;AAEbW,yBAAW,EAAE,yBAFA;AAGbD,oBAAM,EAAE,mBAHK;AAIb9C,mBAAK,EAAE,MAAKJ;AAJC;AAP0C,WAA3D;AAeA,gBAAA8E,qBAAA,GAAwD;AACtDJ,6BAAiB,EAAE;AACjBlC,sBAAQ,EAAE,cADO;AAEjBW,yBAAW,EAAE,cAFI;AAGjBD,oBAAM,EAAE,gBAHS;AAIjB9C,mBAAK,EAAE,MAAKJ;AAJK,aADmC;AAOtD2E,yBAAa,EAAE;AACbnC,sBAAQ,EAAE,8BADG;AAEbW,yBAAW,EAAE,8BAFA;AAGbD,oBAAM,EAAE,gBAHK;AAIb9C,mBAAK,EAAE,MAAKJ;AAJC;AAPuC,WAAxD;AAcA,gBAAA+E,sBAAA,GAAyD;AACvDL,6BAAiB,EAAE;AACjBlC,sBAAQ,EAAE,cADO;AAEjBW,yBAAW,EAAE,cAFI;AAGjBD,oBAAM,EAAE,oBAHS;AAIjB9C,mBAAK,EAAE,MAAKJ;AAJK,aADoC;AAOvD2E,yBAAa,EAAE;AACbnC,sBAAQ,EAAE,uBADG;AAEbW,yBAAW,EAAE,uBAFA;AAGbD,oBAAM,EAAE,iBAHK;AAIb9C,mBAAK,EAAE,MAAKJ;AAJC;AAPwC,WAAzD;AAcA,gBAAAgF,uBAAA,GAA0D;AACxDN,6BAAiB,EAAE;AACjBlC,sBAAQ,EAAE,cADO;AAEjBW,yBAAW,EAAE,cAFI;AAGjBD,oBAAM,EAAE,qBAHS;AAIjB9C,mBAAK,EAAE,MAAKJ;AAJK,aADqC;AAOxD2E,yBAAa,EAAE;AACbnC,sBAAQ,EAAE,wBADG;AAEbW,yBAAW,EAAE,wBAFA;AAGbD,oBAAM,EAAE,kBAHK;AAIb9C,mBAAK,EAAE,MAAKJ;AAJC;AAPyC,WAA1D;AAeA,gBAAAiF,qBAAA,GAA+C;AAC7C/B,kBAAM,EAAE,gBADqC;AAE7C9C,iBAAK,EAAE,MAAKJ,SAFiC;AAG7CwC,oBAAQ,EAAE,gCAHmC;AAI7CW,uBAAW,EAAE;AAJgC,WAA/C;AAMA,gBAAA+B,oBAAA,GAA+D;AAC7D1C,oBAAQ,EAAE,qBADmD;AAE7DW,uBAAW,EAAE,qBAFgD;AAG7DD,kBAAM,EAAE,gBAHqD;AAI7D9C,iBAAK,EAAE,MAAKJ;AAJiD,WAA/D;AAMA,gBAAAmF,mBAAA,GAA8D;AAC5D3C,oBAAQ,EAAE,oBADkD;AAE5DW,uBAAW,EAAE,oBAF+C;AAG5DD,kBAAM,EAAE,eAHoD;AAI5D9C,iBAAK,EAAE,MAAKJ;AAJgD,WAA9D;AAOA,gBAAAoF,aAAA,GAAgB;AACdC,eAAG,EAAE,CADS;AAEdC,sBAAU,EAAE;AAFE,WAAhB;AA7PqJ;AAEpJ;;AA5C4B;;AAAA;AAAA;AAAA,iBA6S7B,SAAAC,QAAQ,GAAG;AACT;;AACA,iBAAKC,aAAL,GAAqB,KAAKxF,SAA1B,CAFS,CAGT;;AACA,iBAAKyF,UAAL,CAAgBC,UAAhB,CAA2B,KAAK3F,gBAAhC,EAAkD,KAAKF,UAAL,CAAgB8F,YAAhB,KAAiC,KAAK9F,UAAL,CAAgB8F,YAAhB,GAA+BC,QAA/B,GAA0C,KAAK/F,UAAL,CAAgB8F,YAAhB,GAA+BC,QAAzE,GAAoF,KAAK/F,UAAL,CAAgB8F,YAAhB,EAArH,GAAsJ,EAAxM;AACA,mBAAO,KAAK1F,OAAL,CAAaiB,aAAb,CAA2B2E,GAAlC;AACA,iBAAK5D,QAAL,GAAgB,KAAKlC,gBAAL,CAAsB+F,QAAtB,KAAmC,uGAAaC,qBAAhE;AACA,iBAAKpG,MAAL,CAAYqG,GAAZ,CAAgB,uBAAhB,EAAyC,KAAKjG,gBAA9C;AACA,iBAAKmC,QAAL,GAAgB,KAAKnC,gBAArB;AACA,iBAAKoC,WAAL,CAAiBnC,SAAjB,GAA6B,KAAKA,SAAlC;AACA,iBAAKmC,WAAL,CAAiB8D,cAAjB,GAAkC,KAAKC,kBAAL,CAAwBC,WAAxB,CAAoC,gBAApC,CAAlC;AACA,iBAAKhE,WAAL,CAAiBiE,SAAjB,GAA6B,KAAKF,kBAAL,CAAwBC,WAAxB,CAAoC,WAApC,CAA7B;AACA,iBAAKhE,WAAL,CAAiBkE,qBAAjB,GAAyC,KAAKH,kBAAL,CAAwBC,WAAxB,CAAoC,uBAApC,CAAzC;;AACA,oBAAQ,KAAKpG,gBAAL,CAAsBuG,MAA9B;AACE,mBAAK,kIAAwBC,sBAA7B;AAAqD;AACnD,uBAAKlF,SAAL,GAAiB,IAAjB;AACA;AACD;;AACD,mBAAK,kIAAwBmF,6BAA7B;AAA4D;AAC1D,uBAAKjF,WAAL,GAAmB,IAAnB;AACA;AACD;;AACD,mBAAK,kIAAwBkF,sBAA7B;AAAqD;AACnD,uBAAKnF,SAAL,GAAiB,IAAjB;AACA;AACD;;AACD,mBAAK,kIAAwBoF,wBAA7B;AAAuD;AACrD,uBAAKlF,WAAL,GAAmB,IAAnB;AACA;AACD;;AACD,mBAAK,kIAAwBmF,wBAA7B;AAAuD;AACrD,uBAAK3E,WAAL,GAAmB,IAAnB;AACA;AACD;AApBH;AAsBD;AAhV4B;AAAA;AAAA,iBAkV7B,SAAA4E,eAAe,GAAG;;;AAChB;;AACA,iBAAKC,cAAL;;AACA,gBAAI,KAAKxF,SAAT,EAAoB;AAClB,kBAAI,YAAKtB,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAE+G,UAAvB,KAAqC,GAAzC,EAA8C;AAC5C,qBAAKrB,UAAL,CAAgBsB,qBAAhB,CAAsC,oGAAeC,mBAArD,EAA0E,CAAC,KAAK9C,sBAAL,CAA4BhB,MAA7B,CAA1E,EAAgH,CAAhH;AACD;AACF,aAJD,MAIO,IAAI,KAAK3B,WAAT,EAAsB;AAC3B,mBAAKa,OAAL,GAAgB,YAAKrC,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEkH,gBAAvB,MAA4C,GAA5C,IAAmD,KAAKlH,gBAAL,CAAsBmH,eAAtB,IAAyCC,SAA7F,GAA0G,IAA1G,GAAiH,KAAhI;AACA,mBAAK9E,MAAL,GAAc,YAAKtC,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEqH,eAAvB,MAA2C,GAA3C,GAAiD,IAAjD,GAAwD,KAAtE;AACA,mBAAK3B,UAAL,CAAgBsB,qBAAhB,CAAsC,oGAAeM,oBAArD,EAA2E,CAAC,KAAK5C,sBAAL,CAA4BE,aAA5B,CAA0CzB,MAA3C,EAC3E,KAAKuB,sBAAL,CAA4BC,iBAA5B,CAA8CxB,MAD6B,EACrB,KAAK0B,uBAAL,CAA6BD,aAA7B,CAA2CzB,MADtB,EAE3E,KAAK0B,uBAAL,CAA6BF,iBAA7B,CAA+CxB,MAF4B,EAEpB,KAAK2B,wBAAL,CAA8BF,aAA9B,CAA4CzB,MAFxB,EAG3E,KAAK2B,wBAAL,CAA8BH,iBAA9B,CAAgDxB,MAH2B,EAGnB,KAAKgC,oBAAL,CAA0BhC,MAHP,EAGe,KAAK4B,qBAAL,CAA2BH,aAA3B,CAAyCzB,MAHxD,EAI3E,KAAK4B,qBAAL,CAA2BJ,iBAA3B,CAA6CxB,MAJ8B,EAItB,KAAK6B,sBAAL,CAA4BJ,aAA5B,CAA0CzB,MAJpB,EAI4B,KAAK6B,sBAAL,CAA4BL,iBAA5B,CAA8CxB,MAJ1E,EAK3E,KAAK8B,uBAAL,CAA6BL,aAA7B,CAA2CzB,MALgC,EAKxB,KAAK8B,uBAAL,CAA6BN,iBAA7B,CAA+CxB,MALvB,EAK+B,KAAKiC,mBAAL,CAAyBjC,MALxD,CAA3E,EAK4I,CAL5I;AAMA,mBAAKoE,gBAAL;AACD;AACF;AApW4B;AAAA;AAAA,iBAsWrB,SAAAA,gBAAgB,GAAG;AACzB,gBAAI,KAAKlF,OAAT,EAAkB;AAChB,mBAAKmF,iBAAL,CAAuB,CAAC,KAAK9C,sBAAL,CAA4BC,iBAA5B,CAA8CxB,MAA/C,EAAuD,KAAK0B,uBAAL,CAA6BF,iBAA7B,CAA+CxB,MAAtG,EAA8G,KAAK2B,wBAAL,CAA8BH,iBAA9B,CAAgDxB,MAA9J,CAAvB;AACD;;AACD,gBAAI,KAAKb,MAAT,EAAiB;AACf,mBAAKkF,iBAAL,CAAuB,CAAC,KAAKzC,qBAAL,CAA2BJ,iBAA3B,CAA6CxB,MAA9C,EAAsD,KAAK6B,sBAAL,CAA4BL,iBAA5B,CAA8CxB,MAApG,EAA4G,KAAK8B,uBAAL,CAA6BN,iBAA7B,CAA+CxB,MAA3J,CAAvB;AACD;;AACD,gBAAI,CAAC,KAAKjB,QAAV,EAAoB;AAClB,mBAAKuF,yBAAL,CAA+B,KAAKzH,gBAAL,CAAsB,KAAKmF,oBAAL,CAA0BhC,MAAhD,CAA/B,EAAwF,KAAKkC,aAAL,CAAmBC,GAA3G;AACA,mBAAKmC,yBAAL,CAA+B,KAAKzH,gBAAL,CAAsB,KAAKoF,mBAAL,CAAyBjC,MAA/C,CAA/B,EAAuF,KAAKkC,aAAL,CAAmBE,UAA1G;AACD;AAEF;AAlX4B;AAAA;AAAA,iBAoX7B,SAAAmC,WAAW,CAACC,MAAD,EAAc;AACvB,gBAAIA,MAAM,IAAIA,MAAM,CAACC,WAArB,EAAkC;AAChC,kBAAID,MAAM,CAACC,WAAP,CAAmBC,SAAnB,KAAiC,kIAAwBC,qBAA7D,EAAoF;AAClF,qBAAKpG,WAAL,GAAmB,KAAnB;AACA,qBAAKC,iBAAL,GAAyB,KAAzB;AACA,qBAAKE,eAAL,GAAuB,IAAvB;AACD,eAJD,MAIO;AACL,qBAAKA,eAAL,GAAuB,KAAvB;;AACA,oBAAI8F,MAAM,CAACC,WAAP,CAAmBC,SAAnB,KAAiC,kIAAwBE,kBAAzD,IAA+EJ,MAAM,CAACC,WAAP,CAAmBC,SAAnB,KAAiC,kIAAwBG,kBAA5I,EAAgK;AAC9J,uBAAKtG,WAAL,GAAmB,IAAnB;AAAyB,uBAAKC,iBAAL,GAAyB,KAAzB;AACzB,uBAAKI,mBAAL,GAA2B4F,MAAM,CAACC,WAAP,CAAmBC,SAAnB,KAAiC,kIAAwBE,kBAApF;AACD,iBAHD,MAGO,IAAIJ,MAAM,CAACC,WAAP,CAAmBC,SAAnB,KAAiC,kIAAwBI,mBAA7D,EAAkF;AACvF,uBAAKtG,iBAAL,GAAyB,IAAzB;AAA+B,uBAAKD,WAAL,GAAmB,KAAnB;AAChC;AACF;AACF;AACF;AApY4B;AAAA;AAAA,iBAsYvB,SAAAoF,cAAc,GAAG;;;;;;;;;AACN,2BAAM,KAAKjH,QAAL,CAAcqI,aAAd,CAA4B,kIAAwBC,6BAApD,WAAyF,UAACC,KAAD,EAAW;AACvH,4BAAI,CAACxI,MAAL,CAAYwI,KAAZ,CAAkB,6DAAlB,EAAiFA,KAAjF;AACD,qBAFoB,CAAN;;;AAATC,0B;;AAGN,wBAAIA,MAAM,KAAK,CAAC,CAAZ,IAAiBA,MAAM,CAACC,2BAAP,KAAuC,kIAAwBC,iBAApF,EAAuG;AACrG,2BAAKzG,iBAAL,GAAyB,IAAzB;AACD,qBAFD,MAEO;AACL,2BAAKA,iBAAL,GAAyB,KAAzB;AACD;;;;;;;AACF;AA/Y4B;AAAA;AAAA,iBAiZ7B,SAAA0G,kBAAkB,GAAG,CAAG,CAjZK,CAmZ7B;;AAnZ6B;AAAA;AAAA,iBAoZ7B,SAAAvH,cAAc,GAAG;AACf,mBAAO,KAAKjB,gBAAL,CAAsB,KAAtB,CAAP;AACA,mBAAO,KAAKC,SAAL,CAAewI,QAAf,CAAwBC,QAAxB,CAAiCC,KAAjC,CAAuC,KAAvC,CAAP;AACD,WAvZ4B,CAyZ7B;;AAzZ6B;AAAA;AAAA,iBA0Z7B,SAAAlB,yBAAyB,CAACmB,WAAD,EAAcC,OAAd,EAAuB;AAAA;;AAC9C,gBAAIC,WAAW,GAAG;AAChBC,kCAAoB,EAAE;AACpBC,6BAAa,EAAE,KAAKhJ,gBAAL,CAAsBiJ,cADjB;AAEpBC,wBAAQ,EAAE,KAAKC,kBAAL,CAAwBP,WAAxB,EAAqCQ,IAF3B;AAGpBC,sBAAM,EAAE,KAAKF,kBAAL,CAAwBP,WAAxB,EAAqCU,EAHzB;AAIpBC,+BAAe,EAAEV,OAAO,IAAI,KAAKxD,aAAL,CAAmBC,GAA9B,GAAoC,kIAAwBkE,oBAA5D,GAAmF,kIAAwBC;AAJxG;AADN,aAAlB;AAQA,iBAAK/D,UAAL,CAAgBgE,cAAhB;AACA,iBAAK7J,QAAL,CAAc4H,yBAAd,CAAwCqB,WAAxC,EAAqDa,IAArD,CAA0D,UAACtB,MAAD,EAAiB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAIA,MAAM,IAAIA,MAAM,CAACuB,UAAP,IAAqB,CAAnC,EAAsC;AACpC,oBAAIf,OAAO,IAAI,MAAI,CAACxD,aAAL,CAAmBC,GAAlC,EAAuC;AACrC,wBAAI,CAACI,UAAL,CAAgBmE,qBAAhB,CAAsC,MAAI,CAAChF,uBAAL,CAA6BD,aAA7B,CAA2CzB,MAAjF,EAAyFkF,MAAM,CAACyB,mBAAhG,EAAqH,MAAI,CAAC9J,gBAA1H;;AACA,sBAAI+J,iBAAiB,GAAGC,MAAM,CAAC,MAAI,CAAChK,gBAAL,CAAsB,MAAI,CAAC0E,sBAAL,CAA4BE,aAA5B,CAA0CzB,MAAhE,CAAD,CAAN,GAAkF6G,MAAM,CAAC,MAAI,CAAChK,gBAAL,CAAsB,MAAI,CAAC6E,uBAAL,CAA6BD,aAA7B,CAA2CzB,MAAjE,CAAD,CAAhH;;AACA,wBAAI,CAACuC,UAAL,CAAgBmE,qBAAhB,CAAsC,MAAI,CAAC/E,wBAAL,CAA8BF,aAA9B,CAA4CzB,MAAlF,EAA2F4G,iBAAiB,IAAI,CAAhH,EAAoH,MAAI,CAAC/J,gBAAzH;AACD,iBAJD,MAIO;AACL,wBAAI,CAAC0F,UAAL,CAAgBmE,qBAAhB,CAAsC,MAAI,CAAC7E,sBAAL,CAA4BJ,aAA5B,CAA0CzB,MAAhF,EAAwFkF,MAAM,CAACyB,mBAA/F,EAAoH,MAAI,CAAC9J,gBAAzH;;AACA,sBAAIiK,gBAAgB,GAAGD,MAAM,CAAC,MAAI,CAAChK,gBAAL,CAAsB,MAAI,CAAC+E,qBAAL,CAA2BH,aAA3B,CAAyCzB,MAA/D,CAAD,CAAN,GAAiF6G,MAAM,CAAC,MAAI,CAAChK,gBAAL,CAAsB,MAAI,CAACgF,sBAAL,CAA4BJ,aAA5B,CAA0CzB,MAAhE,CAAD,CAA9G;;AACA,wBAAI,CAACuC,UAAL,CAAgBmE,qBAAhB,CAAsC,MAAI,CAAC5E,uBAAL,CAA6BL,aAA7B,CAA2CzB,MAAjF,EAA0F8G,gBAAgB,IAAI,CAA9G,EAAkH,MAAI,CAACjK,gBAAvH;AACD;AACF;AACF,aApCD,WAoCS,UAAAoI,KAAK,EAAI;AAChB,oBAAI,CAACxI,MAAL,CAAYwI,KAAZ,CAAkB,8CAAlB,EAAkEA,KAAlE;AACD,aAtCD,aAsCW,YAAM;AACf,oBAAI,CAAC1C,UAAL,CAAgBwE,cAAhB;AACD,aAxCD;AAyCD;AA7c4B;AAAA;AAAA,iBA+c7B,SAAAf,kBAAkB,CAACP,WAAD,EAAc;AAC9B,gBAAIQ,IAAJ;AACA,gBAAIE,EAAJ;AACAA,cAAE,GAAG,8FAAYa,WAAZ,CAAwB,gDAASC,KAAT,CAAe,KAAf,EAAsBf,MAAtB,EAAxB,CAAL;;AACA,oBAAQT,WAAR;AACE,mBAAK,GAAL;AAAU;AACRQ,sBAAI,GAAG,8FAAYe,WAAZ,CAAwB,gDAASE,OAAT,CAAiB,KAAjB,EAAwBhB,MAAxB,EAAxB,CAAP;AACA;AACD;;AACD,mBAAK,GAAL;AAAU;AACRD,sBAAI,GAAG,8FAAYe,WAAZ,CAAwB,gDAASG,QAAT,CAAkB,CAAlB,EAAqB,MAArB,EAA6BD,OAA7B,CAAqC,KAArC,EAA4ChB,MAA5C,EAAxB,CAAP;AACA;AACD;;AACD,mBAAK,GAAL;AAAU;AACRD,sBAAI,GAAG,8FAAYe,WAAZ,CAAwB,gDAASG,QAAT,CAAkB,CAAlB,EAAqB,OAArB,EAA8BD,OAA9B,CAAsC,KAAtC,EAA6ChB,MAA7C,EAAxB,CAAP;AACA;AACD;;AACD,mBAAK,GAAL;AAAU;AACRD,sBAAI,GAAG,8FAAYe,WAAZ,CAAwB,gDAASG,QAAT,CAAkB,CAAlB,EAAqB,MAArB,EAA6BD,OAA7B,CAAqC,KAArC,EAA4ChB,MAA5C,EAAxB,CAAP;AACA;AACD;;AACD,mBAAK,GAAL;AAAU;AACRD,sBAAI,GAAG,8FAAYe,WAAZ,CAAwB,gDAASG,QAAT,CAAkB,CAAlB,EAAqB,QAArB,EAA+BD,OAA/B,CAAuC,KAAvC,EAA8ChB,MAA9C,EAAxB,CAAP;AACA;AACD;AApBH;;AAsBA,mBAAO;AAAED,kBAAI,EAAJA,IAAF;AAAQE,gBAAE,EAAFA;AAAR,aAAP;AACD;AA1e4B;AAAA;AAAA,iBA4e7B,SAAA9B,iBAAiB,CAAC+C,UAAD,EAAa;AAAA,uDACPA,UADO;AAAA;;AAAA;AAC5B,kEAAiC;AAAA,oBAAtBpH,MAAsB;AAC/B,qBAAKuC,UAAL,CAAgBmE,qBAAhB,CAAsC1G,MAAtC,EAA8C,KAAKnD,gBAAL,CAAsBwK,YAApE,EAAkF,KAAKxK,gBAAvF;AACD;AAH2B;AAAA;AAAA;AAAA;AAAA;AAI7B;AAhf4B;AAAA,QAAS,uEAAT,C;;;;gBAdtB;;gBADA;;gBAKA;;gBATA;;;;AAmBIL,wBAAkB,6DAL9B,gEAAU;AACT8K,gBAAQ,EAAE,iBADD;AAETC,gBAAQ,EAAR,6EAFS;;AAAA,OAAV,CAK8B,E,+EA0CF,iG,EAAiC,mH,EAAqC,+G,EAAsC,sG,EA1C1G,GAAlB/K,kBAAkB,CAAlB","file":"79-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJkLW1hbmFnZW1lbnQucGFnZS5zY3NzIn0= */\";","export default \"<ps-template-stepper [options]=\\\"options\\\">\\n  <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"options.namesofSteps[0]\\\">\\n    <ps-container-panel [options]=\\\"panelOptions1\\\" id=\\\"card_management_information\\\">\\n      <ps-container-lookup-option [options]=\\\"cardOptions\\\" [itemCard]=\\\"itemCard\\\"></ps-container-lookup-option>\\n    </ps-container-panel>\\n    <ps-container-panel *ngIf=\\\"blockCard\\\" [options]=\\\"panelOptions2\\\" id=\\\"card_block_options\\\">\\n\\n      <ps-dropdown-card-core-reasons id=\\\"card-block-reason\\\" [options]=\\\"cardBlockReason\\\">\\n      </ps-dropdown-card-core-reasons>\\n\\n\\n      <ps-select-toggle class=\\\"onboarding_toggles\\\" [options]=\\\"cardBlockToggleOptions\\\">\\n      </ps-select-toggle>\\n\\n    </ps-container-panel>\\n    <ps-container-panel *ngIf=\\\"renewCard\\\" [options]=\\\"panelOptions3\\\" id=\\\"card_renew_options\\\">\\n\\n      <ps-complex-location (parentFun)=\\\"hideDestinationMap()\\\" [options]=\\\"deliveryAddressDetails\\\">\\n      </ps-complex-location>\\n\\n    </ps-container-panel>\\n    <ps-container-panel *ngIf=\\\"limitUpdate && showPos\\\" [options]=\\\"panelOptions6\\\" id=\\\"card_pos_limit_update\\\">\\n      <ps-complex-amount id=\\\"displayPosCurrentLimit\\\" [options]=\\\"currentPosLimitOptions\\\">\\n      </ps-complex-amount>\\n      <ng-container *ngIf=\\\"!isCredit\\\">\\n        <ps-lov-periodicity [id]=\\\"'POSpriodicity'\\\" [options]=\\\"POSpriodicityOptions\\\">\\n        </ps-lov-periodicity>\\n        <ps-complex-amount id=\\\"utilizedPosLimit\\\" [options]=\\\"utilizedPosLimitOptions\\\">\\n        </ps-complex-amount>\\n        <ps-complex-amount id=\\\"remainingPostLimit\\\" [options]=\\\"remainingPosLimitOptions\\\">\\n        </ps-complex-amount>\\n      </ng-container>\\n      <ps-input-amount id=\\\"requestPosLimitUpdate\\\" [options]=\\\"limitRequestPosOptions\\\">\\n      </ps-input-amount>\\n\\n    </ps-container-panel>\\n    <ps-container-panel *ngIf=\\\"limitUpdate && showWd\\\" [options]=\\\"panelOptions7\\\" id=\\\"card_widthrawal_limit_update\\\">\\n      <ps-complex-amount id=\\\"currentWdtLimit\\\" [options]=\\\"currentWdLimitOptions\\\">\\n      </ps-complex-amount>\\n      <ng-container *ngIf=\\\"!isCredit\\\">\\n        <ps-lov-periodicity [id]=\\\"'WDpriodicity'\\\" [options]=\\\"WDpriodicityOptions\\\">\\n        </ps-lov-periodicity>\\n        <ps-complex-amount id=\\\"utilizedWdLimit\\\" [options]=\\\"utilizedWdLimitOptions\\\">\\n        </ps-complex-amount>\\n        <ps-complex-amount id=\\\"remainingWdLimit\\\" [options]=\\\"remainingWdLimitOptions\\\">\\n        </ps-complex-amount>\\n      </ng-container>\\n\\n      <ps-input-amount id=\\\"requestWdLimitUpdate\\\" [options]=\\\"limitRequestWdOptions\\\">\\n      </ps-input-amount>\\n\\n    </ps-container-panel>\\n    <ps-container-panel *ngIf=\\\"unblockCard\\\" [options]=\\\"panelOptions8\\\">\\n\\n      <ps-dropdown-card-core-reasons id=\\\"card-unblock-reason\\\" [options]=\\\"cardUnblockReason\\\">\\n      </ps-dropdown-card-core-reasons>\\n\\n    </ps-container-panel>\\n\\n    <ps-container-panel *ngIf=\\\"cardReplace\\\" [options]=\\\"replacementPanelOptions\\\" id=\\\"replacement_reason\\\">\\n\\n      <ps-dropdown-card-core-reasons [options]=\\\"cardReplaceReason\\\">\\n      </ps-dropdown-card-core-reasons>\\n\\n    </ps-container-panel>\\n  </ps-form-step>\\n\\n</ps-template-stepper>\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport moment from 'moment';\nimport { IOptionsPsComplexAmountExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-amount/ps-complex-amount.component.interfaces';\nimport { IOptionsPsComplexLocationExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-location/ps-complex-location.component.interface';\nimport { IOptionsPsDropdownCardCoreReasonsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-card-core-reasons/ps-dropdown-card-core-reasons.component.interface';\nimport { IOptionsPsLovPeriodicityOptionsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.interfaces';\nimport { CardsService } from 'src/app/commonBussinessSRC/psServices/Cards/cards.service';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { CardManagementVO } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsContainerLookupOptionComponentExposed, IOptionsPsContainerPanel, IOptionsPsInputAmount, IOptionsPsSelectToggle, IOptionsTemplateStepper } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\n\n\n\n@Component({\n  selector: 'card-management',\n  templateUrl: './card-management.page.html',\n  styleUrls: ['./card-management.page.scss'],\n})\nexport class CardManagementPage extends OmniBasePage implements OnInit {\n  CardManagementVO: CardManagementVO = {};\n  private formGroup = new FormGroup({});\n  public options: IOptionsTemplateStepper = {\n    stepperName: 'card_management_stepper',\n    numberOfSteps: 1,\n    group: this.formGroup,\n    submitOptions: {\n      submitServiceUrl: PsCommonBusinessSettings.serviceUrl.cardActionRequestEndPoint,\n      group: this.formGroup,\n      preCallFunction: {\n        func(response) {\n          return new Promise<any>((resolve, reject) => {\n            resolve(this.executionClass.updateScreenVO(response));\n          });\n        },\n        executionClass: this,\n        params: [this]\n      },\n    },\n    requestObject: this.CardManagementVO,\n    isHorizontalStepper: true,\n    namesofSteps: ['cardManagement']\n  };\n  blockCard = false;\n  renewCard = false;\n  limitUpdate = false;\n  unblockCard = false;\n  showAddress = false;\n  showManualAddress = false;\n  showDestinationBranchMap = false;\n  enableCifBranch: any = false;\n  enableDeliveryLoc = false;\n  showHomeWorkAddress = false;\n  showHomeAddress = false;\n  cardReplace = false;\n  defaultDateFormat: any;\n  isCredit = false;\n\n  itemCard: any = {};\n  cardOptions: IOptionsPsContainerLookupOptionComponentExposed = {};\n\n  constructor(public logger: LoggerService, private omniPull: OmniPullService, private navService: PsNavigatorService,private crdsSrvce :CardsService) {\n    super();\n  }\n  showPos = false;\n  showWd = false;\n\n  panelOptions1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'card_information_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  panelOptions2: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'card_block_options_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  panelOptions3: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'card_renew_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  panelOptions6: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'pos_limit_update_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  panelOptions7: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'widthrawal_limit_update_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  panelOptions8: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'card_unblocking_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  replacementPanelOptions: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'card_replace_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  cardReplaceReason: IOptionsPsDropdownCardCoreReasonsExposed = {\n    fcName: 'cardReplaceReason',\n    group: this.formGroup,\n    labelKey: 'card_replace_reason_key',\n    placeHolder: 'select_card_replace_reason_key',\n    iconOptions: {\n      iconName: 'clipboard'\n    },\n    reasonType: CommonBussinessConstant.REPLACE_REASON_TYPE\n  };\n\n  deliveryAddressDetails: IOptionsPsComplexLocationExposed = {\n    collectionModeOptions: {\n      group: this.formGroup,\n      fcName: 'deliveryLoc'\n    },\n    branchLocationOptions: {\n      fcName: 'mapAtmBranchesDropdown',\n      group: this.formGroup,\n    },\n    homeAddressOptions: {\n      placeHolder: 'address_details_key',\n      labelKey: 'address_details_key',\n      group: this.formGroup,\n      fcName: 'addressDetails',\n      requestVO: this.CardManagementVO\n    },\n    workAddressOptions: {\n      placeHolder: 'address_details_key',\n      labelKey: 'address_details_key',\n      group: this.formGroup,\n      fcName: 'addressDetails',\n      requestVO: this.CardManagementVO\n    },\n    otherAddressOptions: {\n      labelKey: 'address_details_key',\n      rows: '3',\n      cols: '10',\n      fcName: 'otherAddressDetails',\n      group: this.formGroup,\n    },\n    branchCifOptions: {\n      placeHolder: 'request_branch_key',\n      labelKey: 'request_branch_key',\n      group: this.formGroup,\n      fcName: 'branchName',\n    },\n    cifBranchChecking: true\n  };\n\n\n  cardBlockToggleOptions: IOptionsPsSelectToggle = {\n    labelKey: 're_issue_card_key',\n    placeHolder: 're_issue_card_key',\n    group: this.formGroup,\n    fcName: 'reIssueCard',\n    psClass: 'toggleColor'\n  };\n\n  cardBlockReason: IOptionsPsDropdownCardCoreReasonsExposed = {\n    fcName: 'cardBlockReason',\n    group: this.formGroup,\n    labelKey: 'card_block_reason_key',\n    placeHolder: 'please_select_card_block_reason_key',\n    iconOptions: {\n      iconName: 'clipboard'\n    },\n    reasonType: CommonBussinessConstant.BlOCK_REASON_TYPE\n  };\n\n  cardUnblockReason: IOptionsPsDropdownCardCoreReasonsExposed = {\n    fcName: 'cardUnblockReason',\n    group: this.formGroup,\n    labelKey: 'card_unblock_reason_key',\n    placeHolder: 'select_card_unblock_reason_key',\n    iconOptions: {\n      iconName: 'clipboard'\n    },\n    reasonType: CommonBussinessConstant.UNBLOCK_REASON_TYPE\n  };\n  // currentPosLimitOptions: IOptionsPsKeyinInputExposed = {\n  //   labelKey: 'current_pos_limit_key',\n  //   fcName: 'currentPosLimit',\n  //   group: this.formGroup\n  // };\n\n  limitRequestPosOptions: IOptionsPsInputAmount = {\n    fcName: 'requestPosLimit',\n    group: this.formGroup,\n    labelKey: 'requested_pos_limit_key',\n    placeHolder: 'pls_enter_requested_pos_limit_key'\n  };\n\n  currentPosLimitOptions: IOptionsPsComplexAmountExposed = {\n    currenciesOptions: {\n      labelKey: 'currency_key',\n      placeHolder: 'currency_key',\n      fcName: 'currencyPosCode',\n      group: this.formGroup\n    },\n    amountOptions: {\n      labelKey: 'current_pos_limit_key',\n      placeHolder: 'current_pos_limit_key',\n      fcName: 'currentPosLimit',\n      group: this.formGroup\n    }\n  };\n  utilizedPosLimitOptions: IOptionsPsComplexAmountExposed = {\n    currenciesOptions: {\n      labelKey: 'currency_key',\n      placeHolder: 'currency_key',\n      fcName: 'UtilizedCurrencyPos',\n      group: this.formGroup\n    },\n    amountOptions: {\n      labelKey: 'utilized_pos_limit_key',\n      placeHolder: 'utilized_pos_limit_key',\n      fcName: 'utilizedPosLimit',\n      group: this.formGroup\n    }\n  };\n  remainingPosLimitOptions: IOptionsPsComplexAmountExposed = {\n    currenciesOptions: {\n      labelKey: 'currency_key',\n      placeHolder: 'currency_key',\n      fcName: 'remainingCurrencyPos',\n      group: this.formGroup\n    },\n    amountOptions: {\n      labelKey: 'remaining_pos_limit_key',\n      placeHolder: 'remaining_pos_limit_key',\n      fcName: 'remainingPosLimit',\n      group: this.formGroup\n    }\n  };\n\n  currentWdLimitOptions: IOptionsPsComplexAmountExposed = {\n    currenciesOptions: {\n      labelKey: 'currency_key',\n      placeHolder: 'currency_key',\n      fcName: 'currencyWdCode',\n      group: this.formGroup\n    },\n    amountOptions: {\n      labelKey: 'current_widthrawal_limit_key',\n      placeHolder: 'current_widthrawal_limit_key',\n      fcName: 'currentWdLimit',\n      group: this.formGroup\n    }\n  };\n  utilizedWdLimitOptions: IOptionsPsComplexAmountExposed = {\n    currenciesOptions: {\n      labelKey: 'currency_key',\n      placeHolder: 'currency_key',\n      fcName: 'UtilizedCurrencyWd',\n      group: this.formGroup\n    },\n    amountOptions: {\n      labelKey: 'utilized_wd_limit_key',\n      placeHolder: 'utilized_wd_limit_key',\n      fcName: 'utilizedWdLimit',\n      group: this.formGroup\n    }\n  };\n  remainingWdLimitOptions: IOptionsPsComplexAmountExposed = {\n    currenciesOptions: {\n      labelKey: 'currency_key',\n      placeHolder: 'currency_key',\n      fcName: 'remainingCurrencyWd',\n      group: this.formGroup\n    },\n    amountOptions: {\n      labelKey: 'remaining_wd_limit_key',\n      placeHolder: 'remaining_wd_limit_key',\n      fcName: 'remainingWdLimit',\n      group: this.formGroup\n    }\n  };\n\n  limitRequestWdOptions: IOptionsPsInputAmount = {\n    fcName: 'requestWdLimit',\n    group: this.formGroup,\n    labelKey: 'requested_widthrawal_limit_key',\n    placeHolder: 'pls_enter_requested_widthrawal_limit_key'\n  };\n  POSpriodicityOptions: IOptionsPsLovPeriodicityOptionsExposed = {\n    labelKey: 'pos_periodicity_key',\n    placeHolder: 'pos_periodicity_key',\n    fcName: 'posPeriodicity',\n    group: this.formGroup\n  };\n  WDpriodicityOptions: IOptionsPsLovPeriodicityOptionsExposed = {\n    labelKey: 'wd_periodicity_key',\n    placeHolder: 'wd_periodicity_key',\n    fcName: 'wdPeriodicity',\n    group: this.formGroup\n  };\n\n  TrxLimitTypes = {\n    POS: 0,\n    WITHDRAWAL: 1\n  }\n\n\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    //Modified by ghada, tp1362045 for fixing the issue of seeting values to screen VO\n    this.commonProv.copyObject(this.CardManagementVO, this.navService.getAllParams() ? this.navService.getAllParams().ScreenVO ? this.navService.getAllParams().ScreenVO : this.navService.getAllParams() : {})\n    delete this.options.requestObject.key;\n    this.isCredit = this.CardManagementVO.cardType === CardsService.CREDIT_CARD_TYPE_NAME;\n    this.logger.log('this.CardManagementVO', this.CardManagementVO);\n    this.itemCard = this.CardManagementVO;\n    this.cardOptions.formGroup = this.formGroup;\n    this.cardOptions.labelsValueMap = this.navigationServices.getParamKey('labelsValueMap');\n    this.cardOptions.headerMap = this.navigationServices.getParamKey('headerMap');\n    this.cardOptions.showInitialCardValues = this.navigationServices.getParamKey('showInitialCardValues');\n    switch (this.CardManagementVO.action) {\n      case CommonBussinessConstant.CARD_ACTION_TYPE_BLOCK: {\n        this.blockCard = true;\n        break;\n      }\n      case CommonBussinessConstant.CARD_ACTION_TYPE_LIMIT_UPDATE: {\n        this.limitUpdate = true;\n        break;\n      }\n      case CommonBussinessConstant.CARD_ACTION_TYPE_RENEW: {\n        this.renewCard = true;\n        break;\n      }\n      case CommonBussinessConstant.CARD_ACTION_TYPE_UNBLOCK: {\n        this.unblockCard = true;\n        break;\n      }\n      case CommonBussinessConstant.CARD_ACTION_TYPE_REPLACE: {\n        this.cardReplace = true;\n        break;\n      }\n    }\n  }\n\n  ionViewDidEnter() {\n    super.ionViewDidEnter();\n    this.fetchParameter();\n    if (this.blockCard) {\n      if (this.CardManagementVO?.allowRenew == '0') {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.cardBlockToggleOptions.fcName], 0);\n      }\n    } else if (this.limitUpdate) {\n      this.showPos = (this.CardManagementVO?.posLimitOverride === '1' && this.CardManagementVO.posLimitBasedOn != undefined) ? true : false;\n      this.showWd = this.CardManagementVO?.wdLimitOverride === '1' ? true : false;\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.currentPosLimitOptions.amountOptions.fcName,\n      this.currentPosLimitOptions.currenciesOptions.fcName, this.utilizedPosLimitOptions.amountOptions.fcName,\n      this.utilizedPosLimitOptions.currenciesOptions.fcName, this.remainingPosLimitOptions.amountOptions.fcName,\n      this.remainingPosLimitOptions.currenciesOptions.fcName, this.POSpriodicityOptions.fcName, this.currentWdLimitOptions.amountOptions.fcName,\n      this.currentWdLimitOptions.currenciesOptions.fcName, this.utilizedWdLimitOptions.amountOptions.fcName, this.utilizedWdLimitOptions.currenciesOptions.fcName,\n      this.remainingWdLimitOptions.amountOptions.fcName, this.remainingWdLimitOptions.currenciesOptions.fcName, this.WDpriodicityOptions.fcName], 1);\n      this.setLimitsDetails();\n    }\n  }\n\n  private setLimitsDetails() {\n    if (this.showPos) {\n      this.setLimitsCurrency([this.currentPosLimitOptions.currenciesOptions.fcName, this.utilizedPosLimitOptions.currenciesOptions.fcName, this.remainingPosLimitOptions.currenciesOptions.fcName])\n    }\n    if (this.showWd) {\n      this.setLimitsCurrency([this.currentWdLimitOptions.currenciesOptions.fcName, this.utilizedWdLimitOptions.currenciesOptions.fcName, this.remainingWdLimitOptions.currenciesOptions.fcName])\n    }\n    if (!this.isCredit) {\n      this.returnTransUtilizedAmount(this.CardManagementVO[this.POSpriodicityOptions.fcName], this.TrxLimitTypes.POS);\n      this.returnTransUtilizedAmount(this.CardManagementVO[this.WDpriodicityOptions.fcName], this.TrxLimitTypes.WITHDRAWAL);\n    }\n\n  }\n\n  onLocChange(values: any) {\n    if (values && values.selectedObj) {\n      if (values.selectedObj.itemValue === CommonBussinessConstant.SPECIFIC_BRANCH_VALUE) {\n        this.showAddress = false;\n        this.showManualAddress = false;\n        this.enableCifBranch = true;\n      } else {\n        this.enableCifBranch = false;\n        if (values.selectedObj.itemValue === CommonBussinessConstant.HOME_ADDRESS_VALUE || values.selectedObj.itemValue === CommonBussinessConstant.WORK_ADDRESS_VALUE) {\n          this.showAddress = true; this.showManualAddress = false;\n          this.showHomeWorkAddress = values.selectedObj.itemValue === CommonBussinessConstant.HOME_ADDRESS_VALUE;\n        } else if (values.selectedObj.itemValue === CommonBussinessConstant.OTHER_ADDRESS_VALUE) {\n          this.showManualAddress = true; this.showAddress = false;\n        }\n      }\n    }\n  }\n\n  async fetchParameter() {\n    const result = await this.omniPull.getParamValOf(CommonBussinessConstant.COLLECTION_DESTINATION_BRANCH).catch((error) => {\n      this.logger.error('Error ! while fetching admin param in card management page ', error);\n    });\n    if (result !== -1 && result.CollectionDestinationBranch === CommonBussinessConstant.END_USER_INPUT_ID) {\n      this.enableDeliveryLoc = true;\n    } else {\n      this.enableDeliveryLoc = false;\n    }\n  }\n\n  hideDestinationMap() { }\n\n  //Added by ghada,tp#1357661 to fix the issue of being not able to submit a card blocking/Activation \"this isa temp fix advised by Doris until Nabil commits a common fix on the issue\"\n  updateScreenVO() {\n    delete this.CardManagementVO['key'];\n    delete this.formGroup.controls.formData.value['key'];\n  }\n\n  //added by ghada, tp1362045 for retrieving and setting utilized amounts POS/Withdrawal\n  returnTransUtilizedAmount(periodicity, trxType) {\n    let requestData = {\n      commonParametersList: {\n        accountNumber: this.CardManagementVO.primaryAccount,\n        fromDate: this.setTranactionsDate(periodicity).from,\n        toDate: this.setTranactionsDate(periodicity).to,\n        TransactionType: trxType == this.TrxLimitTypes.POS ? CommonBussinessConstant.POS_TRANSACTION_TYPE : CommonBussinessConstant.WD_TRANSACTION_TYPE\n      },\n    }\n    this.commonProv.presentLoading();\n    this.omniPull.returnTransUtilizedAmount(requestData).then((result: any) => {\n      // let result = {\n      //   apiCode: -1,\n      //   appId: 1,\n      //   channelId: 1,\n      //   cifName: \"EL MOUSTAPHA EL WAVY\",\n      //   compCode: 1,\n      //   gridModel: [],\n      //   ocUserId: 1,\n      //   operAutoApprovalFalg: \"Y\",\n      //   operId: 1592,\n      //   operType: \"NA\",\n      //   outputCode: 0,\n      //   outputNotification: \"No Data Found\",\n      //   outputType: \"S\",\n      //   posUtilizedAmount: 0,\n      //   sessionId: \"14657291-69b2-4011-9b34-30ceda68ff03\",\n      //   transferType: \"A\",\n      //   typeDesc: \"REQ\",\n      //   udid: \"web_42f4b5a5bed597356c7c3d4460420c36_fe2729630015de55be5b1e54d1ca16b56db20202f157d01a3fa3ced13796bb7e_1282952613\",\n      //   userCifNo: \"10035314\",\n      //   userName: \"mromani\",\n      //   withdrawalUtilizedAmount: 0,\n      //   workingCif: \"10035314\"\n      // }\n      if (result && result.outputCode == 0) {\n        if (trxType == this.TrxLimitTypes.POS) {\n          this.commonProv.setValInsideNestedObj(this.utilizedPosLimitOptions.amountOptions.fcName, result.totalUtilizedAmount, this.CardManagementVO)\n          let remainingPosLimit = Number(this.CardManagementVO[this.currentPosLimitOptions.amountOptions.fcName]) - Number(this.CardManagementVO[this.utilizedPosLimitOptions.amountOptions.fcName]);\n          this.commonProv.setValInsideNestedObj(this.remainingPosLimitOptions.amountOptions.fcName, (remainingPosLimit || 0), this.CardManagementVO)\n        } else {\n          this.commonProv.setValInsideNestedObj(this.utilizedWdLimitOptions.amountOptions.fcName, result.totalUtilizedAmount, this.CardManagementVO)\n          let remainingWDLimit = Number(this.CardManagementVO[this.currentWdLimitOptions.amountOptions.fcName]) - Number(this.CardManagementVO[this.utilizedWdLimitOptions.amountOptions.fcName]);\n          this.commonProv.setValInsideNestedObj(this.remainingWdLimitOptions.amountOptions.fcName, (remainingWDLimit || 0), this.CardManagementVO)\n        }\n      }\n    }).catch(error => {\n      this.logger.error('Error: While fetching scheduled transfers  :', error);\n    }).finally(() => {\n      this.commonProv.dismissLoading();\n    })\n  }\n\n  setTranactionsDate(periodicity) {\n    let from;\n    let to;\n    to = CommonUtils.toIsoString(moment().endOf('day').toDate());\n    switch (periodicity) {\n      case 'D': {\n        from = CommonUtils.toIsoString(moment().startOf('day').toDate());        \n        break;\n      }\n      case 'W': {\n        from = CommonUtils.toIsoString(moment().subtract(6, 'days').startOf('day').toDate());        \n        break;\n      }\n      case 'M': {        \n        from = CommonUtils.toIsoString(moment().subtract(1, 'month').startOf('day').toDate());        \n        break;\n      }\n      case 'Y': {\n        from = CommonUtils.toIsoString(moment().subtract(1, 'year').startOf('day').toDate());        \n        break;\n      }\n      case 'Q': {        \n        from = CommonUtils.toIsoString(moment().subtract(3, 'months').startOf('day').toDate());        \n        break;\n      }\n    }\n    return { from, to };\n  }\n\n  setLimitsCurrency(fieldsList) {\n    for (const fcName of fieldsList) {\n      this.commonProv.setValInsideNestedObj(fcName, this.CardManagementVO.currencyCode, this.CardManagementVO);\n    }\n  }\n}\n"]}