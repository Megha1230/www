{"version":3,"sources":["webpack:///src/app/pages/account-opening/account-opening.page.html","webpack:///src/app/pages/account-opening/account-opening.page.ts","webpack:///src/app/pages/account-opening/account-opening.page.scss"],"names":["AccountOpeningPage","commonProv","loggerP","eventEmitterService","omniPull","commonService","navService","formGroup","defaultVO","mapAtmBranchesOptions","group","fcName","labelKey","mapOptions","showSegments","mapTypesInclude","branchIds","parameterToCheck","RequestBranch","requestVO","mask","groupSeparator","THOUSANDS_SEPARATOR","alias","autoGroup","placeholder","greedy","digits","radixPoint","DECIMAL_SEPARATOR","stepperOptions","stepperName","isHorizontalStepper","numberOfSteps","namesofSteps","submitOptions","extraParams","submitServiceUrl","serviceUrl","accountOpeningEndPoint","requestObject","accountTypeOptions","allowedAccountType","AllowedGeneralAccountTypes","accountCategory","ACC_TYPE_D","openingBalanceToggleOptions","placeHolder","psClass","minOpeningBalOptions","fromAccOptions","component","accountAllowedCurrencies","accountAllowedTypes","glTypes","accountType","fromTo","complexExchangeOptions","editableMode","showToCurrencyOptions","fromAmountOptions","currency","currenciesOptions","revertToOldValue","amountOptions","decimalPoints","toAmountOptions","accountNameOptions","currencyOptions","panelOptions1Step1","isExpandable","iconName","expanded","panelOptions2Step1","branchLabelOptions","selectBranchOptions","branchesOptions","toggleProfitOptions","profitAccOptions","selectedBranchObj","addOpeningBal","showProfitToggle","showProfitAccount","fetchParameter","ngOnInit","baseFormGroup","cifInfo","session","getValueOf","USERINFO","defVal","getElementValidations","DEFAULT_VALUE","parsed","JSON","parse","value","applyDynScreenDisplay","ACTION_TYPE_MANDATORY","ACTION_TYPE_VISIBLE","e","console","warn","ionViewDidEnter","ACTION_TYPE_READONLY","onSelectBranch","$event","itemValue","undefined","controls","setValue","setValInsideNestedObj","selectedObj","loadBranch","paramData","branchesIdList","cifBranch","returnBranchesList","then","result","gridModel","length","longDesc","error","customerInfoCO","branchCode","getParamValOf","AllowedBranches","enableCifBranch","branchSelectionAndMapControl","aBranch","allowedBranches","toString","split","AllAllowedBranches","indexOf","presentFatalAlert","navigateBackward","setTimeout","branchBriefDesc","mandatory","onAddOpeningBalanceChange","event","newValue","onFromAccountCombinationValidation","fromAccount","VALIDATE_COMBINATION","Object","validateCurrencyCombination","onFromAccountChange","currencyBriefNameEnglish","currencyCode","onCurrencyChanged","onCurrencyCombinationValidation","briefDescription","onAccountTypeChanged","minOpenBal","companySettingsCO","briefDesc","format","profitToggleCust","profitAccountCust","postProfitTo","POST_PROFIT_TO_DEPOSITE_ACCOUNT","POST_PROFIT_TO_PROFIT_ACCOUNT","custMode","IS_VISIBLE","genLedgerId","accountTypesGLIds","currenciesRef","loadCurrencies","validationRequest","fromCurrency","listOfAffectedFields","screenVO","listOfAccounts","fromAccountRef","exchangeRef","toCurrency","selector","template"],"mappings":"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","file":"76-es5.js","sourcesContent":["export default \"<!-- <ion-content > -->\\n\\n<ps-template-stepper [options]=\\\"stepperOptions\\\" [id]=\\\"stepperOptions.stepperName\\\">\\n  <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"stepperOptions.namesofSteps[0]\\\">\\n    <ps-container-panel [options]=\\\"panelOptions1Step1\\\" id=\\\"account_opening_panel_1\\\">\\n\\n      <ps-input-display-only *ngIf=\\\"enableCifBranch\\\" id=\\\"'accountCifBranch' + id\\\" [options]=\\\"branchLabelOptions\\\">\\n\\n      </ps-input-display-only>\\n\\n\\n      <ps-dropdown-account-types id=\\\"'accountType' + id\\\" [options]=\\\"accountTypeOptions\\\"\\n        (onPsChange)='onAccountTypeChanged($event)'>\\n      </ps-dropdown-account-types>\\n\\n      <ps-select-toggle [id]=\\\"'addOpeningBalance'\\\" [options]=\\\"openingBalanceToggleOptions\\\"\\n        (onPsChange)=\\\"onAddOpeningBalanceChange($event)\\\">\\n      </ps-select-toggle>\\n\\n      <ps-dropdown-currencies id=\\\"'currency' + id\\\" #currenciesRef [options]=\\\"currencyOptions\\\"\\n        (onPsChange)=\\\"onCurrencyChanged($event)\\\">\\n      </ps-dropdown-currencies>\\n\\n      <ng-container *ngIf=\\\"addOpeningBal\\\">\\n\\n        <ps-input-display-only id=\\\"MinimumOpeningBalance\\\" [options]=\\\"minOpeningBalOptions\\\">\\n        </ps-input-display-only>\\n\\n        <ps-lookup-own-accounts id=\\\"'fromAccount'\\\" #fromAccountRef [options]=\\\"fromAccOptions\\\"\\n          (onAccountChange)=\\\"onFromAccountChange($event)\\\"></ps-lookup-own-accounts>\\n\\n        <ps-complex-exchange id=\\\"exchangeComponent\\\" #exchangeRef\\n          [options]=\\\"complexExchangeOptions\\\"></ps-complex-exchange>\\n      </ng-container>\\n\\n      <!-- \\n              <ps-input-varchar id=\\\"'accountName' + id\\\" [options]=\\\"accountNameOptions\\\"></ps-input-varchar>\\n             -->\\n      <!-- </div> -->\\n\\n      <ps-select-toggle *ngIf=\\\"showProfitToggle\\\" [id]=\\\"'accprofitFMid'\\\" [options]=\\\"toggleProfitOptions\\\"\\n        class=\\\"ps-toggle-acc-open-2\\\">\\n      </ps-select-toggle>\\n\\n      <ps-lookup-own-accounts *ngIf=\\\"showProfitAccount\\\" id=\\\"profitAccount\\\"\\n        [options]=\\\"profitAccOptions\\\"></ps-lookup-own-accounts>\\n\\n    </ps-container-panel>\\n\\n    <ps-container-panel [options]=\\\"panelOptions2Step1\\\" id=\\\"account_opening_panel_2\\\">\\n      <ps-complex-select-branch [options]=\\\"selectBranchOptions\\\" (onPsChange)=\\\"onSelectBranch($event)\\\">\\n      </ps-complex-select-branch>\\n    </ps-container-panel>\\n  </ps-form-step>\\n  <ps-form-step *psStep=\\\"'step2'\\\" step2 [id]=\\\"stepperOptions.namesofSteps[1]\\\">\\n    <ps-map-atm-branches class=\\\"component-map-container\\\" [options]=\\\"mapAtmBranchesOptions\\\"></ps-map-atm-branches>\\n  </ps-form-step>\\n\\n</ps-template-stepper>\\n<!-- </ion-content> -->\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport Inputmask from 'inputmask';\nimport { PsAccountsListComponent } from 'src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component';\nimport { IOptionsPsComplexExchnageExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-exchange/ps-complex-exchange.component.interfaces';\nimport { IOptionsPsComplexSelectBranchComponentExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.interface';\nimport { IOptionsPsInputVarcharExposed } from 'src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-varchar/ps-input-varchar.component.interfaces';\nimport { IOptionsPsLookupOwnAccountsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.interfaces';\nimport { IOptionsPsMapAtmBranchesExposed } from 'src/app/commonBussinessSRC/psComponents/ps-map-atm-branches/ps-map-atm-branches.component.interfaces';\nimport { IOptionsPsDropdownAccountTypesExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-account-types/ps-dropdown-account-types.component.interface';\nimport { IOptionsPsDropdownCurrenciesExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-currencies/ps-dropdown-currencies.component.interfaces';\nimport { IOcBranchesRequest, IValidateCurrencyCombination } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniCommonService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-common.service';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { EventEmitterService } from 'src/app/commonSRC/psServices/event-emitter/event-emitter.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsContainerPanel, IOptionsPsKeyinInputExposed, IOptionsPsSelectToggle, IOptionsTemplateStepper, IPsMaskOptions } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { CommonBussinessConstant } from '../../commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\n\n@Component({\n  selector: 'account-opening',\n  templateUrl: './account-opening.page.html',\n  styleUrls: ['./account-opening.page.scss'],\n})\nexport class AccountOpeningPage extends OmniBasePage implements OnInit {\n  formGroup: FormGroup = new FormGroup({});\n  defaultVO: any = {};\n\n  cifInfo: any;\n  branchVal: any;\n  @ViewChild('fromAccountRef') fromAccountRef;\n  @ViewChild('exchangeRef') exchangeRef;\n  @ViewChild('currenciesRef') currenciesRef;\n  mapAtmBranchesOptions: IOptionsPsMapAtmBranchesExposed = {\n    group: this.formGroup,\n    fcName: 'mapAtmBranches',\n    labelKey: 'map_atm_branch_key',\n    mapOptions: {\n      labelKey: 'map'\n    },\n    showSegments: false,\n    mapTypesInclude: '\\'B\\'',\n    branchIds: '1,3,5',\n    parameterToCheck: CommonBussinessConstant.RequestBranch,\n    requestVO: this.defaultVO\n  };\n  mask: IPsMaskOptions = {\n    groupSeparator: PsCommonSettings.THOUSANDS_SEPARATOR,\n    alias: 'currency',\n    autoGroup: true,\n    placeholder: '0',\n    greedy: false,\n    digits: 2,\n    radixPoint: PsCommonSettings.DECIMAL_SEPARATOR\n  };\n  stepperOptions: IOptionsTemplateStepper = {\n    stepperName: 'acc_open_stepper',\n    isHorizontalStepper: true,\n    numberOfSteps: 2,\n    namesofSteps: ['acc_open_step1', 'acc_open_step2'],\n    group: this.formGroup,\n    submitOptions: {\n      extraParams: {},\n      submitServiceUrl: PsCommonBusinessSettings.serviceUrl.accountOpeningEndPoint,\n      group: this.formGroup\n    },\n    requestObject: this.defaultVO\n  };\n\n\n  accountTypeOptions: IOptionsPsDropdownAccountTypesExposed = {\n    allowedAccountType: ConstantCommon.AllowedGeneralAccountTypes,\n    accountCategory: ConstantCommon.ACC_TYPE_D,\n    group: this.formGroup,\n    fcName: 'accountTypes'\n  };\n\n  openingBalanceToggleOptions: IOptionsPsSelectToggle = {\n    labelKey: 'add_opening_balance_key',\n    placeHolder: 'add_opening_balance_key',\n    group: this.formGroup,\n    fcName: 'addOpeningBalance',\n    psClass: 'toggleColor'\n  };\n\n  minOpeningBalOptions: IOptionsPsKeyinInputExposed = {\n    placeHolder: 'minimum_opening_balance_key',\n    labelKey: 'minimum_opening_balance_key',\n    group: this.formGroup,\n    fcName: 'minOpenBalance'\n  };\n\n  public fromAccOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'from_account_key',\n    placeHolder: 'select_from_account_key',\n    component: PsAccountsListComponent,\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: 'G',\n    fcName: 'fromAccount',\n    accountType: 'G',\n    fromTo: 'from',\n    requestObject: this.defaultVO\n  };\n\n  public complexExchangeOptions: IOptionsPsComplexExchnageExposed = {\n    editableMode: false,\n    showToCurrencyOptions: true,\n    fromAmountOptions: {\n      currency: '',\n      currenciesOptions: {\n        placeHolder: 'currency_key',\n        labelKey: 'exchange_currency_key',\n        fcName: 'fromCurrency',\n        group: this.formGroup,\n        revertToOldValue: false\n      },\n      amountOptions: {\n        labelKey: 'amount_key',\n        placeHolder: 'enter_amount_key',\n        fcName: 'transactionAmount',\n        group: this.formGroup,\n        decimalPoints: 2\n      }\n    },\n    toAmountOptions: {\n      currency: '',\n      currenciesOptions: {\n        placeHolder: 'currency_key',\n        labelKey: 'currency_key',\n        fcName: 'toCurrency',\n        group: this.formGroup\n      },\n      amountOptions: {\n        labelKey: 'exchange_amount_key',\n        placeHolder: 'enter_amount_key',\n        fcName: 'toAmount',\n        group: this.formGroup,\n        decimalPoints: 2\n      }\n    },\n    requestObject: this.defaultVO,\n    group: this.formGroup\n  };\n\n  accountNameOptions: IOptionsPsInputVarcharExposed = {\n    labelKey: 'name_key',\n    placeHolder: 'name_key',\n    group: this.formGroup,\n    fcName: 'accountName'\n  };\n  currencyOptions: IOptionsPsDropdownCurrenciesExposed = {\n    labelKey: 'currency_key',\n    placeHolder: 'select_currency_key',\n    group: this.formGroup,\n    fcName: 'currency',\n    revertToOldValue: false\n  };\n  panelOptions1Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'account_details_key',\n    iconName: 'document',\n    expanded: true\n  };\n  panelOptions2Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'select_branch_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  branchLabelOptions: IOptionsPsKeyinInputExposed = {\n    placeHolder: 'user_branch_key',\n    labelKey: 'branch_key',\n    group: this.formGroup,\n    fcName: 'branch_type'\n  };\n\n  selectBranchOptions: IOptionsPsComplexSelectBranchComponentExposed = {\n    fcName: 'mapAtmBranchesDropdown',\n    group: this.formGroup,\n    branchesOptions: {\n      placeHolder: 'acc_opening_branch_key',\n      labelKey: 'label_acc_opening_branch_key',\n      group: this.formGroup,\n      fcName: 'default_branch'\n\n    }\n  };\n  toggleProfitOptions: IOptionsPsSelectToggle = {\n    labelKey: 'post_profit_to_same_account_key',\n    placeHolder: 'post_profit_to_same_account_key',\n    group: this.formGroup,\n    fcName: 'renewWithSame',\n    psClass: 'toggleColor',\n  }\n\n  profitAccOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'post_profit_to_key',\n    placeHolder: 'select_post_profit_to_key',\n    component: PsAccountsListComponent,\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: 'G',\n    fcName: 'profitAccount',\n    accountType: 'G',\n    fromTo: 'to',\n    requestObject: this.defaultVO\n  };\n  selectedBranchObj = {};\n  enableCifBranch;\n  addOpeningBal = false;\n  showProfitToggle = false;\n  showProfitAccount = false;\n  constructor(public commonProv: PsCommonService,\n    public loggerP: LoggerService,\n    public eventEmitterService: EventEmitterService,\n    private omniPull: OmniPullService,\n    private commonService: OmniCommonService,\n    public navService?: PsNavigatorService) {\n    super();\n    this.fetchParameter();\n  }\n\n\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    this.cifInfo = this.commonProv.session.getValueOf(ConstantCommon.USERINFO);\n    const defVal = this.commonProv.getElementValidations(this.openingBalanceToggleOptions.fcName)?.DEFAULT_VALUE;\n    if (defVal) {\n      try {\n        const parsed = JSON.parse(defVal);\n        if (parsed.value === true) {\n          this.addOpeningBal = true;\n          this.commonProv.applyDynScreenDisplay(\n            ConstantCommon.ACTION_TYPE_MANDATORY,\n            [this.complexExchangeOptions.fromAmountOptions.amountOptions.fcName],\n            1\n          );\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.minOpeningBalOptions.fcName], 1);\n        }\n      } catch (e) {\n        console.warn(\"Invalid DEFAULT_VALUE:\", defVal, e);\n      }\n    }\n  }\n\n  ionViewDidEnter() {\n    super.ionViewDidEnter();\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.toAmountOptions.amountOptions.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.openingBalanceToggleOptions.fcName], 0);\n  }\n\n  onSelectBranch($event) {\n    if ($event.itemValue !== undefined) {\n      this.formGroup.controls[this.selectBranchOptions.fcName].setValue($event);\n      this.commonProv.setValInsideNestedObj(this.selectBranchOptions.fcName, $event.selectedObj, this.defaultVO);\n    }\n  }\n\n  loadBranch() {\n    try {\n      const paramData: IOcBranchesRequest = {\n        branchesIdList: this.cifInfo.cifBranch ? this.cifInfo.cifBranch : ''\n      };\n      this.omniPull.returnBranchesList(paramData).then((result) => {\n        if (result && result.gridModel != null && result.gridModel.length > 0) {\n          this.formGroup.controls[this.branchLabelOptions.fcName].setValue(this.cifInfo.cifBranch ? result.gridModel[0].longDesc : '');\n        } else { this.loggerP.warn(result, 'empty response'); }\n      }).catch((error) => { });\n    } catch (error) { }\n  }\n  get getBranch(): number {\n    return this.cifInfo.customerInfoCO ? this.cifInfo.customerInfoCO.branchCode : 1;\n  }\n  async fetchParameter() {\n    await this.omniPull.getParamValOf(CommonBussinessConstant.RequestBranch, CommonBussinessConstant.AllowedBranches).then((result) => {\n      if (result !== -1 && result.RequestBranch == null || result.RequestBranch === ConstantCommon.cifBranch) {\n        this.enableCifBranch = true;\n        this.commonService.branchSelectionAndMapControl(0, [{ fcName: this.stepperOptions.namesofSteps[1] }, { fcName: this.mapAtmBranchesOptions.fcName },\n        { fcName: 'account_opening_panel_2' }], true);\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.branchLabelOptions.fcName], 1);\n        //set user default branch code and show user branch in label \n        this.commonProv.setValInsideNestedObj('branchCode', this.cifInfo.customerInfoCO?.branchCode || \"\", this.formGroup.controls['formData'].value);\n        const aBranch = result.allowedBranches ? result.allowedBranches.toString().split(',') : result.AllAllowedBranches.split(',');\n        if (result.RequestBranch === ConstantCommon.cifBranch && aBranch.toString().indexOf(this.cifInfo.cifBranch.toString()) === -1) {\n          CommonUtils.presentFatalAlert('Cannot_open_General_Account_in_your_CIF_Branch._Please_contact_our_call_center_key');\n          this.navService.navigateBackward();\n        } else {\n          setTimeout(() => {\n            this.commonProv.setValInsideNestedObj(this.branchLabelOptions.fcName, this.cifInfo.cifBranch ? this.cifInfo.customerInfoCO.branchBriefDesc : '', this.defaultVO);\n          }, 300);\n        }\n      } else {\n        this.enableCifBranch = false;\n        this.commonService.branchSelectionAndMapControl(1, [{ fcName: this.stepperOptions.namesofSteps[1] },\n        { fcName: this.mapAtmBranchesOptions.fcName, mandatory: 1 },\n        { fcName: 'account_opening_panel_2' }]);\n        //hide banch label\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.branchLabelOptions.fcName], 0);\n      }\n    }).catch((error) => {\n    });\n  }\n\n  onAddOpeningBalanceChange(event) {\n    if (event && event !== undefined) {\n      if (event.newValue === true || event.newValue === \"true\") {\n        this.addOpeningBal = true;\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.complexExchangeOptions.fromAmountOptions.amountOptions.fcName], 1);\n      } else {\n        this.addOpeningBal = false;\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.complexExchangeOptions.fromAmountOptions.amountOptions.fcName], 0);\n      }\n    }\n  }\n\n  onFromAccountCombinationValidation(fromAccount) {\n    if (fromAccount && fromAccount[ConstantCommon.VALIDATE_COMBINATION]) {\n      if (this.defaultVO[this.currencyOptions.fcName] instanceof Object) {\n        this.validateCurrencyCombination();\n      }\n    }\n  }\n\n  public onFromAccountChange(fromAccount) {\n    this.onFromAccountCombinationValidation(fromAccount);\n    this.complexExchangeOptions.fromAmountOptions.currency = fromAccount.currencyBriefNameEnglish;\n    this.complexExchangeOptions.fromAmountOptions.currencyCode = fromAccount.currency;\n    setTimeout(() => {\n      this.stepperOptions.requestObject[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName] = fromAccount.currency;\n    }, 1);\n  }\n\n  onCurrencyChanged(currency) {\n    this.onCurrencyCombinationValidation();\n    this.complexExchangeOptions.toAmountOptions.currency = currency.selectedObj.briefDescription;\n    this.complexExchangeOptions.toAmountOptions.currencyCode = currency.itemValue;\n    this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName] = currency.itemValue;\n  }\n\n  onAccountTypeChanged(event) {\n    if (event) {\n      if (event.minOpenBal) {\n        this.commonProv.setValInsideNestedObj(this.minOpeningBalOptions.fcName, this.cifInfo.companySettingsCO?.briefDesc + ' ' + Inputmask.format(event.minOpenBal, this.mask).toString(), this.defaultVO);\n      }\n      const profitToggleCust = this.commonProv.getElementValidations(this.toggleProfitOptions.fcName);\n      const profitAccountCust = this.commonProv.getElementValidations(this.profitAccOptions.fcName);\n      if (event.postProfitTo == CommonBussinessConstant.POST_PROFIT_TO_DEPOSITE_ACCOUNT || event.postProfitTo == CommonBussinessConstant.POST_PROFIT_TO_PROFIT_ACCOUNT) {\n        this.showProfitToggle = (PsCommonSettings.custMode || profitToggleCust.IS_VISIBLE) ? true : false;\n        this.showProfitAccount = (PsCommonSettings.custMode || profitAccountCust.IS_VISIBLE) && event.postProfitTo == CommonBussinessConstant.POST_PROFIT_TO_PROFIT_ACCOUNT\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.toggleProfitOptions.fcName], 1);\n        this.commonProv.setValInsideNestedObj(this.toggleProfitOptions.fcName, event.postProfitTo == CommonBussinessConstant.POST_PROFIT_TO_DEPOSITE_ACCOUNT, this.defaultVO);\n      } else {\n        this.showProfitToggle = this.showProfitAccount = false;\n      }\n      //Added by Marina AZDB-1208; to get allowed currenies for this account type only\n      if (event.genLedgerId) {\n        this.currencyOptions.accountTypesGLIds = event.genLedgerId;\n        this.currenciesRef.loadCurrencies();\n      }\n    }\n  }\n\n  onCurrencyCombinationValidation() {\n    if (this.defaultVO[this.fromAccOptions.fcName] instanceof Object) { //added by MichelHabib, tp#1583589 in order to check if the fromAccount is an object to be able to make the validation(in case of checker user on initialization of the screen fromAccount has a string value)\n      this.validateCurrencyCombination();\n    }\n  }\n\n\n  validateCurrencyCombination() {\n    let validationRequest: IValidateCurrencyCombination = {\n      fromCurrency: +this.defaultVO[this.fromAccOptions.fcName].currency,\n      listOfAffectedFields: [this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName, this.currencyOptions.fcName],\n      screenVO: this.defaultVO,\n      listOfAccounts: [this.fromAccountRef, this.exchangeRef],\n      toCurrency: +this.defaultVO[this.currencyOptions.fcName].itemValue,\n    };\n    this.omniPull.validateCurrencyCombination(validationRequest);\n  }\n}\n\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhY2NvdW50LW9wZW5pbmcucGFnZS5zY3NzIn0= */\";"]}