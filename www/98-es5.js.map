{"version":3,"sources":["webpack:///src/app/pages/report-page/report-page.page.html","webpack:///src/app/pages/report-page/report-page.page.scss","webpack:///src/app/pages/report-page/report-page.page.ts"],"names":["ReportPagePage","logger","common","navService","modalController","reportTemplateOptions","reportParametersList","iconPath","ICON_LOCATION_LANGUAGE","showReport","reportId","oper_ID","reloadReport","parameterListCache","document","addEventListener","event","target","classList","contains","REPORT_CLICK_EVENT_REFERENCE","preventDefault","hyperLinkTag","querySelector","parameterList","href","indexOf","substring","length","parametersListArray","split","operationIdObject","reportNameObject","operationIdObjectArray","operationId","parentOperId","reportNameObjectArray","reportName","slice","navigationExtras","eachParameter","parameter","queryParams","reportTitle","String","join","page","operID","title","component","param","openPage","classNameObject","methodNameObject","classNameObjectArray","className","methodNameObjectArray","methodName","requestParameters","applicationName","progReference","securityCode1","transactionNumberDetails","getAttachmentsAndOrDownload","stopImmediatePropagation","ngOnInit","ionViewDidEnter","stopTimer","commonProv","reportRefrshFlag","next","ionViewWillEnter","operId","prepareReportParams","handleFilteredReports","setTimeout","reportTemplate","init","ionViewWillLeave","displayDiv","result","getAllParams","resultData","dynamicOperId","submitOptions","group","submitServiceUrl","serviceUrl","commonSubmitAction","extraParams","timeOut","timeOutCount","timeOutFunc","message","nextPageOptions","filteredReport","includes","ngOnDestroy","pagesNavigationInfoSubscription","unsubscribe","selector","template"],"mappings":"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","file":"98-es5.js","sourcesContent":["export default \"<ps-template-report #reportTemplate [options]=\\\"reportTemplateOptions\\\" id=\\\"report_page\\\"></ps-template-report>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZXBvcnQtcGFnZS5wYWdlLnNjc3MifQ== */\";","import { Component, HostBinding, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { NavigationExtras } from '@angular/router';\nimport { ModalController, ViewWillEnter, ViewWillLeave } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsTemplateReport, IPageCommon } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\nimport { PsCommonSettings } from './../../commonSRC/psServices/models/ps-common.settings';\n\n\n@Component({\n  selector: 'report-page',\n  templateUrl: './report-page.page.html',\n  styleUrls: ['./report-page.page.scss'],\n})\nexport class ReportPagePage extends OmniBasePage implements OnInit, OnDestroy , ViewWillEnter , ViewWillLeave{\n\n  reportTemplateOptions: IOptionsPsTemplateReport = {\n    reportParametersList: {\n      iconPath: PsCommonBusinessSettings.ICON_LOCATION_LANGUAGE\n    },\n    showReport: true\n  };\n\n  @HostBinding('id') reportId = 'report_' + PsCommonSettings.oper_ID;\n  @ViewChild('reportTemplate') reportTemplate\n  reloadReport:boolean = false; //Mohanad: AZDB-5549-01092024 - Add flag which control when report get reloaded\n  public pagesNavigationInfoSubscription: Subscription;\n  parameterListCache = 0;\n  constructor(private logger: LoggerService, private common: PsCommonService, private navService: PsNavigatorService, public modalController: ModalController) {\n    super();\n    this.parameterListCache = 0;\n    /* Fixed by Hisham.Omar TP#986400 start \n     * Move the function content to the constructor as the constructor parameters \n     * will be undefined when accessing them using 'this' keyword\n     * Get the classList from offsetParent property as the class is added on the 'td' tag not the 'a' tag\n     * Remove the function 'checkHyperlinkClickEvent' from the code as it is no longer needed\n     * Remove the document function 'removeEventListener' from ngOnDestroy\n    **/\n    document.addEventListener('click', () => {\n      if (event.target['offsetParent']?.classList.contains(ConstantCommon.REPORT_CLICK_EVENT_REFERENCE)) {\n        event.preventDefault();\n        const hyperLinkTag = event.target['offsetParent'].querySelector('a');\n        let parameterList = hyperLinkTag.href as string;\n        if (this.parameterListCache && this.parameterListCache > 0) {\n          return;\n        }\n        this.parameterListCache++;\n        if (parameterList.indexOf('operId') > -1) {\n          parameterList = parameterList.substring(parameterList.indexOf('operId'), parameterList.length - 1);\n          let parametersListArray = parameterList.split('&');\n          const operationIdObject = parametersListArray[0];\n          const reportNameObject = parametersListArray[1];\n          const operationIdObjectArray = operationIdObject.split('=');\n          const operationId = operationIdObjectArray[1];\n          const parentOperId = PsCommonSettings.oper_ID;\n          PsCommonSettings.oper_ID = +operationId;\n          const reportNameObjectArray = reportNameObject.split('=');\n          const reportName = reportNameObjectArray[1];\n          parametersListArray = parametersListArray.length > 2 ? parametersListArray.slice(2) : [];\n          let navigationExtras: NavigationExtras = {};\n\n          const reportParametersList = {};\n\n          if (parametersListArray && parametersListArray.length > 0) {\n            for (const eachParameter of parametersListArray) {\n              const parameter = eachParameter.split('=');\n              reportParametersList[parameter[0]] = parameter[1];\n            }\n            navigationExtras = {\n              queryParams: reportParametersList\n            };\n            navigationExtras.queryParams['parentOperId'] = parentOperId;\n          }\n          let reportTitle = String(reportName).split('-').join('_');\n          reportTitle += '_key';\n\n          const page: IPageCommon = {\n            operID: +operationId,\n            title: reportTitle,\n            component: reportName,\n            param: navigationExtras.queryParams\n          };\n          navService.openPage(page);\n        } else {\n          parameterList = parameterList.substring(parameterList.indexOf('className'), parameterList.length - 1);\n          let parametersListArray = parameterList.split('&');\n          const classNameObject = parametersListArray[0];\n          const methodNameObject = parametersListArray[1];\n          const classNameObjectArray = classNameObject.split('=');\n          const className = classNameObjectArray[1];\n          const methodNameObjectArray = methodNameObject.split('=');\n          const methodName = methodNameObjectArray[1];\n          parametersListArray = parametersListArray.length > 2 ? parametersListArray.slice(2) : [];\n          const reportParametersList = {};\n          if (parametersListArray && parametersListArray.length > 0) {\n            for (const eachParameter of parametersListArray) {\n              const parameter = eachParameter.split('=');\n              reportParametersList[parameter[0]] = parameter[1];\n            }\n          }\n          // For now as the securityCode should be returned as securityCode1\n          // When fixed then we can pass the reportParameterList directly to the method.\n          const requestParameters = {\n            applicationName: reportParametersList['applicationName'],\n            progReference: reportParametersList['progReference'],\n            securityCode1: reportParametersList['securityCode'],\n            transactionNumberDetails: reportParametersList['transactionNumber']\n          };\n          common.getAttachmentsAndOrDownload(requestParameters, true);\n        }\n        event.stopImmediatePropagation();\n      }\n    }, false);\n    /* Fixed by Hisham.Omar TP#986400 end **/\n  }\n\n  ngOnInit() {\n    super.init();\n  }\n\n  ionViewDidEnter() {\n    super.ionViewDidEnter();\n    CommonUtils.stopTimer = false;\n    this.commonProv.reportRefrshFlag.next(true);\n  }\n\n  ionViewWillEnter(): void {\n    //Mohanad: AZDB-5549-01092024\n    this.reportTemplateOptions.operId = PsCommonSettings.oper_ID;\n    this.prepareReportParams();\n    this.handleFilteredReports();\n    // Using setTimeout to avoid the calling of willEnter twice to prevent fetching report\n    setTimeout(() => {\n      this.reportTemplate.init();\n    }, 500);\n  }\n  \n  \n  ionViewWillLeave(): void {\n    //Mohanad: AZDB-5549-01092024\n    this.reportTemplate.displayDiv = false;\n  }\n     \n  \n\n  prepareReportParams() {\n    //#1182706 Heba.Hassan - handle navigation params by openPage either navigateForward \n    const result = this.navService.getAllParams() ? this.navService.getAllParams() : this.navService.getAllParams().queryParams ? this.navService.getAllParams().queryParams : null;\n    if (result) {\n      const resultData = result.queryParams ? result.queryParams as Map<string, string> : result as Map<string, string>;\n      // oper id for the new transaction associated by submit\n      if (resultData['operId']) {\n        this.reportTemplateOptions.operId = resultData['operId'];\n        PsCommonSettings.oper_ID = this.reportTemplateOptions.operId;\n      }\n\n      if (resultData['dynamicOperId']) {\n        this.reportTemplateOptions.dynamicOperId = resultData['dynamicOperId'];\n        this.reportTemplateOptions.submitOptions = {\n          group: new FormGroup({}),\n          submitServiceUrl: PsCommonSettings.serviceUrl.commonSubmitAction,\n          extraParams: resultData\n        };\n      }\n      this.reportTemplateOptions.reportParametersList = resultData;\n      if (resultData['parentOperId']) {\n        this.reportTemplateOptions.parentOperId = resultData['parentOperId'];\n      }\n\n      if (resultData['timeOutCount']) {\n        this.reportTemplateOptions.timeOut = {};\n        this.reportTemplateOptions.timeOut.timeOutCount = resultData['timeOutCount'];\n        this.reportTemplateOptions.timeOut.timeOutFunc = resultData['function'];\n        this.reportTemplateOptions.timeOut.message = resultData['message'];\n      }\n      //added by Marina TP:#1586190\n      if(resultData['nextPage']){\n        this.reportTemplateOptions.nextPageOptions = resultData['nextPage'];\n      }\n      delete resultData['timeOutCount'];\n      delete resultData['function'];\n      delete resultData['message'];\n    }\n  }\n\n  handleFilteredReports() {\n    if (PsCommonBusinessSettings.filteredReport.includes(this.reportTemplateOptions.operId)) {\n      this.reportTemplateOptions.showReport = false;\n    } else {\n      this.reportTemplateOptions.showReport = true;\n    }\n  }\n  // refreshReport() {\n  //   this.showReport = false;\n  //   this.viewWillLeave();\n  //   setTimeout(() => {\n  //     super.viewDidEnter();\n  //     this.init();\n  //   }, 500);\n  // }\n\n  ngOnDestroy() {\n    if (this.pagesNavigationInfoSubscription) {\n      this.pagesNavigationInfoSubscription.unsubscribe();\n    }\n    CommonUtils.stopTimer = true;\n  }\n}\n"]}