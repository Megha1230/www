!function(){function t(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return n(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return r=t.done,t},e:function(t){c=!0,s=t},f:function(){try{r||null==o.return||o.return()}finally{if(c)throw s}}}}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=Array(n);e<n;e++)o[e]=t[e];return o}function e(t,n,e,i){var a=o(p(1&i?t.prototype:t),n,e);return 2&i&&"function"==typeof a?function(t){return a.apply(e,t)}:a}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,n,e){var o=i(t,n);if(o){var a=Object.getOwnPropertyDescriptor(o,n);return a.get?a.get.call(arguments.length<3?t:e):a.value}}).apply(null,arguments)}function i(t,n){for(;!{}.hasOwnProperty.call(t,n)&&null!==(t=p(t)););return t}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,c(o.key),o)}}function r(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:n+""}function u(t,n,e){return n=p(n),function(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(n,e||[],p(t).constructor):n.apply(t,e))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&m(t,n)}function m(t,n){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[31,339,340,341,342,343,344,345,346,347,348,349],{"/gCj":function(t,n,e){"use strict";e.d(n,"a",function(){return b});var o=e("BYmO"),i=e("DFXC"),s=e("qEF5"),c=e("QZhd"),l=e("Q0Ba"),p=e("fXoL"),m=e("ofXK"),h=e("D2x8"),d=e("ilDp"),O=function(t,n){return{showDefaultValue:t,showCountInput:n}};function y(t,n){if(1&t){var e=p.Yb();p.Xb(0,"ps-container-item",1),p.Xb(1,"div",2),p.fc("click",function(){return p.Fc(e),p.ic().unSetDefaultValues()}),p.Xb(2,"ps-keyin-input",3),p.fc("onPsChange",function(t){return p.Fc(e),p.ic().onDefaultValueChange(t)})("onPsEmpty",function(t){return p.Fc(e),p.ic().onEmptyCounter(t)}),p.Wb(),p.Wb(),p.Xb(3,"div",4),p.Xb(4,"ps-action-icon",5),p.fc("click",function(){return p.Fc(e),p.ic().doCrements("decrement")}),p.Wb(),p.Xb(5,"ps-action-icon",6),p.fc("click",function(){return p.Fc(e),p.ic().doCrements("increment")}),p.Wb(),p.Wb(),p.Wb()}if(2&t){var o=p.ic();p.pc("options",o.containerItemOptions),p.Fb(1),p.pc("ngClass",p.tc(6,O,!o.hideDefaultOptions,o.hideDefaultOptions)),p.Fb(1),p.pc("id",o.id)("options",o.defaultOptions),p.Fb(2),p.pc("options",o.decrementIconOptions),p.Fb(1),p.pc("options",o.incrementIconOptions)}}var b=function(){var t=function(t){function n(t,e){var o;return a(this,n),(o=u(this,n,[t,e])).defaultOptions={},o.decrementIconOptions={iconName:"arrow-dropdown-circle",iconPosition:"end"},o.incrementIconOptions={iconName:"arrow-dropup-circle",iconPosition:"end"},o.containerItemOptions={},o}return f(n,t),r(n,[{key:"ngOnInit",value:function(){this.unlimitedValue=this.commonProv.translate("unlimited_key"),this.filedCust=this.commonProv.getElementValidations(this.options.fcName),this.commonProv.copyObject(this.defaultOptions,this.options,!1),c.a.custMode&&(this.defaultOptions.type="number")}},{key:"ngAfterViewInit",value:function(){var t,n;this.checkMinMax(),this.defaultValue||(null===(t=this.defaultOptions.group.controls[this.defaultOptions.fcName])||void 0===t?void 0:t.value)&&(null===(n=this.defaultOptions.group.controls[this.defaultOptions.fcName])||void 0===n?void 0:n.value)!==this.unlimitedValue?this.unSetDefaultValues():this.setDefaultValues()}},{key:"ngOnChanges",value:function(t){void 0!==t.options.previousValue&&(this.defaultOptions=t.options.currentValue,this.checkMinMax())}},{key:"doCrements",value:function(t){var n,e,o="decrement"===t?this.currentInputValue-1:this.currentInputValue+1;this.hideDefaultOptions||(void 0!==this.defaultValue&&0!==s.a.parseInt(JSON.parse(this.defaultValue).value)&&(this.currentInputValue=s.a.parseInt(JSON.parse(this.defaultValue).value),o="decrement"===t?this.currentInputValue-1:this.currentInputValue+1),this.unSetDefaultValues()),"number"==typeof o&&o>=this.minValue&&o<=this.maxValue?(this.currentInputValue=o,this.currentInputValue===this.minValue&&(this.decrementIconOptions.isDisabled=!0),this.currentInputValue===this.maxValue&&(this.incrementIconOptions.isDisabled=!0),null===(n=this.defaultOptions.group.controls[this.options.fcName])||void 0===n||n.setValue(this.currentInputValue)):"number"==typeof o&&(o>=this.maxValue?(this.currentInputValue=this.maxValue,this.decrementIconOptions.isDisabled=!1,this.incrementIconOptions.isDisabled=!0):(this.currentInputValue=this.minValue,this.decrementIconOptions.isDisabled=!0,this.incrementIconOptions.isDisabled=!1),null===(e=this.defaultOptions.group.controls[this.options.fcName])||void 0===e||e.setValue(this.currentInputValue))}},{key:"onEmptyCounter",value:function(t){""===t&&this.setDefaultValues()}},{key:"checkMinMax",value:function(){var t,n,e;this.defaultValue=null===(t=this.filedCust)||void 0===t?void 0:t.DEFAULT_VALUE,this.minValue=(null===(n=this.filedCust)||void 0===n?void 0:n.MIN_VALUE)||0,this.maxValue=(null===(e=this.filedCust)||void 0===e?void 0:e.MAX_VALUE)||1/0}},{key:"handleValuesDisplay",value:function(){var t,n;this.currentInputValue=+(null===(t=this.defaultOptions.group.controls[this.defaultOptions.fcName])||void 0===t?void 0:t.value)||(this.defaultValue?s.a.parseInt(JSON.parse(this.defaultValue).value):this.minValue),null===(n=this.defaultOptions.group.controls[this.defaultOptions.fcName])||void 0===n||n.setValue(this.hideDefaultOptions?this.currentInputValue:this.defaultValue?s.a.parseInt(JSON.parse(this.defaultValue).value):this.unlimitedValue)}},{key:"setDefaultValues",value:function(){var t=this;this.hideDefaultOptions=!1,this.defaultOptions.type="",this.handleValuesDisplay(),Promise.resolve().then(function(){t.handleValuesDisplay()})}},{key:"unSetDefaultValues",value:function(){var t=this;this.hideDefaultOptions=!0,this.defaultOptions.type="number",Promise.resolve().then(function(){t.handleValuesDisplay()})}},{key:"onDefaultValueChange",value:function(t){this.hideDefaultOptions&&t.newValue===this.unlimitedValue?this.setDefaultValues():"number"==typeof t.newValue&&this.unSetDefaultValues(),this.onPsChange.emit(t.newValue)}}])}(o.a);return t.\u0275fac=function(n){return new(n||t)(p.Rb(l.a),p.Rb(i.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ps-input-count"]],inputs:{options:"options"},features:[p.Cb,p.Db],decls:1,vars:1,consts:[["class","ps-field-item-wrapper main-container col-12",3,"options",4,"ngIf"],[1,"ps-field-item-wrapper","main-container","col-12",3,"options"],[1,"inputDefaultOptions",3,"ngClass","click"],["onwheel","return false;",3,"id","options","onPsChange","onPsEmpty"],[1,"count-span"],["id","countMinus","name","arrow-dropdown-circle",1,"count-minus",3,"options","click"],["id","countAdd","name","arrow-dropup-circle",1,"count-add",3,"options","click"]],template:function(t,n){1&t&&p.Pc(0,y,6,9,"ps-container-item",0),2&t&&p.pc("ngIf",0!=n.filedCust.IS_VISIBLE||n.custMode)},directives:[m.o,h.a,m.m,o.a,d.a],encapsulation:2}),t}()},"P7Z/":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var o=e("BYmO"),i=e("DFXC"),s=e("Q0Ba"),c=e("fXoL"),l=function(){var t=function(t){function n(t,e){var o;return a(this,n),(o=u(this,n,[t,e])).mainOptions={},o}return f(n,t),r(n,[{key:"ngOnInit",value:function(){this.mainOptions=this.options,this.mainOptions.type="email",this.mainOptions.iconOptions={iconName:"input-mail"}}},{key:"onChangeEmail",value:function(t){this.onPsChange.emit(t)}}])}(o.a);return t.\u0275fac=function(n){return new(n||t)(c.Rb(s.a),c.Rb(i.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["ps-input-email"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,n){1&t&&(c.Xb(0,"ps-keyin-input",0),c.fc("onPsChange",function(t){return n.onChangeEmail(t)}),c.Wb()),2&t&&c.pc("id",n.id)("options",n.mainOptions)},directives:[o.a],styles:[""]}),t}()},gKqT:function(t,n,e){"use strict";e.r(n),e.d(n,"OmniBasePage",function(){return m});var o=e("oS+F"),i=e("zngb"),s=e("QZhd"),c=e("woXy"),u=e("qEF5"),l=e("Q0Ba"),p=e("lE2x"),f=e("fXoL"),m=function(){var t=function(){return r(function t(){a(this,t),this.isPageDisabled=!1,this.commonProv=u.a.injectionHandler(l.a),this.navigationServices=u.a.injectionHandler(c.a)},[{key:"init",value:function(){this.currentOperID=s.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();var t=this.navigationServices.getAllParams(),n={};t&&!0===t.readOnlypage?(n.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(i.a.FORM_READONLY,n)):this.customizationMap&&(n.IS_READONLY=0,this.customizationMap.set(i.a.FORM_READONLY,n)),this.screenTranslationOperIds=p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}},{key:"ngOnInit",value:function(){this.init()}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter()}},{key:"ionViewWillLeave",value:function(){this.viewWillLeave()}},{key:"ionViewWillEnter",value:function(){this.viewWillEnter()}},{key:"viewWillEnter",value:function(){}},{key:"disableForm",value:function(t){var n=this;if(void 0!==t&&this.customizationMap){var e=this.customizationMap.get(i.a.FORM_READONLY);e&&1===e.IS_READONLY&&"DISABLED"!=t.status&&(t.disable(),Object.keys(t.controls).forEach(function(t){n.commonProv.applyDynScreenDisplay(i.a.ACTION_TYPE_READONLY,[t],1)}))}}},{key:"viewDidEnter",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}},{key:"viewWillLeave",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID,{value:!0,page:this,willLeave:!0})}},{key:"ngAfterViewChecked",value:function(){var t=this;this.isPageDisabled||setTimeout(function(){t.disableForm(t.baseFormGroup),t.isPageDisabled=!0},300)}},{key:"getScreenTranslations",value:function(t){var n=t||2222,e=s.a.activeLanguge?s.a.activeLanguge:"EN";n&&e&&this.commonProv.language.getOperTranslation(e,n)}}])}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f.Lb({type:t,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(t,n){2&t&&f.Hb(n.psClass)},decls:0,vars:0,template:function(t,n){},styles:[""]}),t}()},nvBi:function(t,n,o){"use strict";o.r(n),o.d(n,"FinancialCalculatorPage",function(){return K});var i=o("3Pt+"),s=o("fOh1"),c=o("ZyuK"),l=o("DFXC"),p=o("zngb"),m=o("woXy"),h=o("Q0Ba"),d=o("gKqT"),O=o("V0Fi"),y=o("QZhd"),b=o("fXoL"),v=o("ofXK"),C=o("kRg/"),g=o("uKCV"),P=o("sAFK"),I=o("+f2X"),_=o("ZF3V"),V=o("Isd1"),w=o("xLEv"),D=o("G/Qj"),N=o("KVmc"),k=o("/gCj"),A=o("/ZU/");function E(t,n){if(1&t&&b.Sb(0,"ps-input-amount",5),2&t){var e=b.ic();b.pc("id",e.id+"_amount")("options",e.options.downPaymentOptions)}}var S,F,L=((S=function(t){function n(t,e,o){var i;return a(this,n),(i=u(this,n,[t,o])).omniPull=e,i.productTypeChange=new b.o,i.currencyChange=new b.o,i.amountChange=new b.o,i}return f(n,t),r(n,[{key:"ngOnInit",value:function(){e(n,"ngOnInit",this,3)([]),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.options.numberOfInstallmentsCountOptions.fcName],0)}},{key:"onProductChange",value:function(t){t&&t.selectedObj&&this.productTypeChange.emit(t)}},{key:"onAmountChanged",value:function(t){t&&this.amountChange.emit(t)}},{key:"onCurrencyChange",value:function(t){t&&this.currencyChange.emit(t)}}])}(_.a)).\u0275fac=function(t){return new(t||S)(b.Rb(h.a),b.Rb(c.a),b.Rb(l.a))},S.\u0275cmp=b.Lb({type:S,selectors:[["ps-complex-financial-calculator"]],inputs:{options:"options"},outputs:{productTypeChange:"productTypeChange",currencyChange:"currencyChange",amountChange:"amountChange"},features:[b.Cb],decls:7,vars:7,consts:[[1,"ps-complex-financial-calculator"],[3,"id","options","onPsChange"],[3,"options","onCurrencyChange","onAmountChanged"],[3,"options"],[3,"id","options",4,"ngIf"],[3,"id","options"]],template:function(t,n){1&t&&(b.Xb(0,"ps-container-complex",0),b.Xb(1,"ps-dropdown-product-types",1),b.fc("onPsChange",function(t){return n.onProductChange(t)}),b.Wb(),b.Xb(2,"ps-complex-amount",2),b.fc("onCurrencyChange",function(t){return n.onCurrencyChange(t)})("onAmountChanged",function(t){return n.onAmountChanged(t)}),b.Wb(),b.Sb(3,"ps-label",3),b.Pc(4,E,1,2,"ps-input-amount",4),b.Sb(5,"ps-label",3),b.Sb(6,"ps-input-count",3),b.Wb()),2&t&&(b.Fb(1),b.pc("id",n.id)("options",n.options.productTypesOptions),b.Fb(1),b.pc("options",n.options.complexAmountOptions),b.Fb(1),b.pc("options",n.options.amountLabelOptions),b.Fb(1),b.pc("ngIf",n.options.downPaymentExists),b.Fb(1),b.pc("options",n.options.paymentsLabelOptions),b.Fb(1),b.pc("options",n.options.numberOfInstallmentsCountOptions))},directives:[V.a,w.a,D.a,N.a,v.o,k.a,A.a],styles:[""]}),S),T=o("/QlS"),R=o("P7Z/"),x=o("7Cko"),M=((F=function(t){function n(){return a(this,n),u(this,n,arguments)}return f(n,t),r(n,[{key:"ngOnInit",value:function(){}}])}(_.a)).\u0275fac=function(t){return X(t||F)},F.\u0275cmp=b.Lb({type:F,selectors:[["ps-complex-contact-info"]],inputs:{options:"options"},features:[b.Cb],decls:4,vars:3,consts:[[1,"ps-complex-contact-info"],[3,"options"]],template:function(t,n){1&t&&(b.Xb(0,"ps-container-complex",0),b.Sb(1,"ps-input-varchar",1),b.Sb(2,"ps-input-email",1),b.Sb(3,"ps-entity-phone-number",1),b.Wb()),2&t&&(b.Fb(1),b.pc("options",n.options.fullNameOptions),b.Fb(1),b.pc("options",n.options.emailOptions),b.Fb(1),b.pc("options",n.options.phoneNumberOptions))},directives:[V.a,T.a,R.a,x.a],styles:[""]}),F),X=b.Zb(M);function G(t,n){if(1&t){var e=b.Yb();b.Xb(0,"ps-form-step",3),b.Xb(1,"ps-container-panel",4),b.Xb(2,"ps-complex-financial-calculator",5),b.fc("productTypeChange",function(t){return b.Fc(e),b.ic().onProductChange(t)})("amountChange",function(t){return b.Fc(e),b.ic().onAmountChange(t)})("currencyChange",function(t){return b.Fc(e),b.ic().currencyChange(t)}),b.Wb(),b.Wb(),b.Wb()}if(2&t){var o=b.ic();b.pc("id",o.stepperOptions.namesofSteps[0]),b.Fb(1),b.pc("options",o.panelOptions1Step2),b.Fb(1),b.pc("options",o.financialCalculatorOptions)}}function j(t,n){if(1&t&&(b.Vb(0),b.Xb(1,"ps-container-panel",8),b.Sb(2,"ps-complex-contact-info",9),b.Wb(),b.Ub()),2&t){var e=b.ic(2);b.Fb(1),b.pc("options",e.panelOptionsStep1),b.Fb(1),b.pc("options",e.contactInfoOptions)}}function W(t,n){if(1&t&&(b.Xb(0,"ps-form-step",6),b.Pc(1,j,3,2,"ng-container",7),b.Wb()),2&t){var e=b.ic();b.pc("id",e.stepperOptions.namesofSteps[1]),b.Fb(1),b.pc("psStep","step2")}}var B,K=((B=function(t){function n(t,e,o,s,r){var c;return a(this,n),(c=u(this,n)).datepipe=t,c.common=e,c.omniPull=o,c.logger=s,c.navService=r,c.formGroup=new i.f({}),c.productClass={},c.amountValue=0,c.ownFinancialCalculatorVO={},c.oldSelectedProduct=null,c}return f(n,t),r(n,[{key:"ngOnInit",value:function(){e(n,"init",this,3)([]),this.baseFormGroup=this.formGroup,this.screenOperId=y.a.oper_ID,this.screenOperId==O.a.PRE_LOGIN_FINANCIAL_CALCULATOR_OPER&&(this.preLoginCalc=!0),this.loadOptions()}},{key:"loadOptions",value:function(){this.panelOptionsStep1={isExpandable:!0,labelKey:"contact_information_key",iconName:"contact",expanded:!0},this.panelOptions1Step2={isExpandable:!0,labelKey:"financing_calculator_key",iconName:"calculator",expanded:!0},this.contactInfoOptions={emailOptions:{group:this.formGroup,fcName:"email",labelKey:"email_key",placeHolder:"enter_email_key"},fullNameOptions:{labelKey:"full_name_key",placeHolder:"full_name_key",group:this.formGroup,fcName:"fullName",iconOptions:{iconName:"user3"}},phoneNumberOptions:{labelKey:"phone_number_key",fcName:"phoneNumber",placeHolder:"phone_number_key",group:this.formGroup}},this.financialCalculatorOptions={productTypesOptions:{labelKey:"product_type_key",placeHolder:"product_type_key",fcName:"productType",group:this.formGroup},group:this.formGroup,complexAmountOptions:{showLimitLabel:!1,currency:"",currenciesOptions:{labelKey:"currency_key",placeHolder:"select_currency_key",fcName:"dealCurrency",group:this.formGroup},amountOptions:{labelKey:"amount_key",placeHolder:"enter_amount_key",fcName:"dealAmount",group:this.formGroup,decimalPoints:3}},downPaymentOptions:{fcName:"downPayment",group:this.formGroup,labelKey:"down_payment_key",placeHolder:"enter_down_payment_key",decimalPoints:2},numberOfInstallmentsCountOptions:{fcName:"numberOfPayments",group:this.formGroup,labelKey:"no_of_installments_key",forceTriggerChange:!0},paymentsLabelOptions:{previewMode:!0},amountLabelOptions:{previewMode:!0}},this.stepperOptions={stepperName:"finan_calc_stepper",isHorizontalStepper:!0,numberOfSteps:this.preLoginCalc?2:1,namesofSteps:["financing_calculator_key","contact_information_key"],group:this.formGroup,requestObject:this.ownFinancialCalculatorVO,submitOptions:{group:this.formGroup,submitServiceUrl:s.a.serviceUrl.FinancialCalculator,postCallFunction:{func:function(t){var n=this;return new Promise(function(e,o){e(n.executionClass.navigateToReport(t))})},executionClass:this,params:[this]},preCallFunction:{func:function(t){var n=this;return new Promise(function(e,o){e(n.executionClass.updateCalculatorVO(t))})},executionClass:this,params:[this]}}}}},{key:"ionViewDidEnter",value:function(){e(n,"ionViewDidEnter",this,3)([])}},{key:"navigateToReport",value:function(t){var n=t.commonResponseList;y.a.oper_ID===O.a.DEAL_REQUEST_OPER&&(n.dynamicOperId=O.a.DEAL_REQUEST_OPER),this.preLoginCalc&&(n.overrideOperId=O.a.FINANCING_CALC_REPORT),this.navService.openPage({operID:this.screenOperId,component:"financing-calculator-report",param:n})}},{key:"onProductChange",value:function(t){t&&t.selectedObj&&t.selectedObj.productClassCode!==this.productClass.productClassCode&&(this.productClass=t.selectedObj,this.formGroup.controls[this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName].setValue(this.productClass.noOfPayment?this.productClass.noOfPayment.toString():"0"),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MINVALUE,[this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName],this.productClass.minNoOfRepayments),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MAXVALUE,[this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName],this.productClass.minNoOfRepayments),this.financialCalculatorOptions.paymentsLabelOptions.labelKey=this.common.translate("down_payment_key")+" "+t.selectedObj.downPayment+"%",void 0!==this.productClass.minFinancingAmt&&this.productClass.minFinancingAmt>0&&(this.financialCalculatorOptions.amountLabelOptions.labelKey=this.common.translate("min_amount_key")+" "+this.productClass.minFinancingAmt),void 0!==this.productClass.maxFinancingAmt&&this.productClass.maxFinancingAmt<999999999999&&(this.financialCalculatorOptions.amountLabelOptions.labelKey+=" "+this.common.translate("max_amount_key")+" "+this.productClass.maxFinancingAmt),this.financialCalculatorOptions.downPaymentExists=!!(t.selectedObj.downPayment&&t.selectedObj.downPayment>0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MAXVALUE,[this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName],this.productClass.maxNoOfRepayments),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MINVALUE,[this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName],this.productClass.minNoOfRepayments),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MAXVALUE,[this.financialCalculatorOptions.complexAmountOptions.amountOptions.fcName],this.productClass.maxFinancingAmt),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MINVALUE,[this.financialCalculatorOptions.complexAmountOptions.amountOptions.fcName],this.productClass.minFinancingAmt),this.formGroup.controls[this.financialCalculatorOptions.complexAmountOptions.amountOptions.fcName]&&this.oldSelectedProduct&&(this.formGroup.controls[this.financialCalculatorOptions.complexAmountOptions.amountOptions.fcName].setValue(""),this.amountValue=0),this.formGroup.controls[this.financialCalculatorOptions.downPaymentOptions.fcName]&&this.formGroup.controls[this.financialCalculatorOptions.downPaymentOptions.fcName].setValue(0),this.formGroup.controls[this.financialCalculatorOptions.complexAmountOptions.currenciesOptions.fcName]&&this.formGroup.controls[this.financialCalculatorOptions.complexAmountOptions.currenciesOptions.fcName].setValue(null)),this.oldSelectedProduct=this.formGroup.controls[this.financialCalculatorOptions.productTypesOptions.fcName].value}},{key:"onAmountChange",value:function(t){if(t&&t.amount&&this.amountValue!=t.amount&&(this.amountValue=t.amount,t.amount&&this.productClass&&this.productClass.downPayment>0)){var n=t.amount*this.productClass.downPayment/100;this.formGroup.controls[this.financialCalculatorOptions.downPaymentOptions.fcName]&&(this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MAXVALUE,[this.financialCalculatorOptions.downPaymentOptions.fcName],t.amount),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MINVALUE,[this.financialCalculatorOptions.downPaymentOptions.fcName],n),this.formGroup.controls[this.financialCalculatorOptions.downPaymentOptions.fcName].setValue(n.toString()))}}},{key:"currencyChange",value:function(t){t&&t.itemValue&&this.formGroup.controls[this.financialCalculatorOptions.downPaymentOptions.fcName]&&(this.financialCalculatorOptions.downPaymentOptions.decimalPoints=this.financialCalculatorOptions.complexAmountOptions.amountOptions.decimalPoints)}},{key:"updateCalculatorVO",value:function(){this.ownFinancialCalculatorVO[this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName]==this.commonProv.translate("unlimited_key")&&this.commonProv.setValInsideNestedObj(this.financialCalculatorOptions.numberOfInstallmentsCountOptions.fcName,"Unlimited",this.ownFinancialCalculatorVO)}}])}(d.OmniBasePage)).\u0275fac=function(t){return new(t||B)(b.Rb(v.e),b.Rb(h.a),b.Rb(c.a),b.Rb(l.a),b.Rb(m.a))},B.\u0275cmp=b.Lb({type:B,selectors:[["app-financial-calculator"]],features:[b.Cb],decls:3,vars:4,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"ngIf"],["step1","",3,"id"],["id","financial_calc_panel1",3,"options"],[3,"options","productTypeChange","amountChange","currencyChange"],["step2","",3,"id"],[4,"psStep"],["id","financial_calc_panel2",3,"options"],["id","ps-complex-contact-info",3,"options"]],template:function(t,n){1&t&&(b.Xb(0,"ps-template-stepper",0),b.Pc(1,G,3,3,"ps-form-step",1),b.Pc(2,W,2,2,"ps-form-step",2),b.Wb()),2&t&&(b.pc("options",n.stepperOptions)("id",n.stepperOptions.stepperName),b.Fb(1),b.pc("psStep","step1"),b.Fb(1),b.pc("ngIf",n.preLoginCalc))},directives:[C.a,g.a,v.o,P.a,I.a,L,M],styles:["#map[_ngcontent-%COMP%] {\n  height: 100%;\n}"]}),B)},xLEv:function(n,e,o){"use strict";o.d(e,"a",function(){return d});var i=o("XNiG"),s=o("1G5W"),c=o("ZyuK"),l=o("iOQE"),p=o("DFXC"),m=o("Q0Ba"),h=o("fXoL"),d=function(){var n=function(n){function e(t,n,o){var s;return a(this,e),(s=u(this,e,[t,n])).omniPullService=o,s.options={},s.defaultOptions={},s.cancelPreviousRequest=new i.a,s}return f(e,n),r(e,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.loadProductTypes()}},{key:"loadProductTypes",value:function(t,n){var e=this,o=[],a={};this.cancelPreviousRequest.next(),this.cancelPreviousRequest=new i.a,n&&(a={appType:n}),t?(this.defaultOptions.listOfOptions=this.defaultOptions.listOfOptions||[],o=t,this.populateProductTypes(o)):this.omniPullService.returnProductClasses(a).pipe(Object(s.a)(this.cancelPreviousRequest)).subscribe(function(t){e.defaultOptions.listOfOptions=[],t&&t.gridModel&&t.gridModel.length>0&&(o=t.gridModel),e.populateProductTypes(o)},function(t){e.logger.error("Error: While fetching Product types in PsDropdownProductTypesComponent : ",t)})}},{key:"populateProductTypes",value:function(n){var e,o=t(n);try{for(o.s();!(e=o.n()).done;){var i=e.value;this.defaultOptions.listOfOptions.push({itemValue:i.productClassCode,description:i.briefName,selectedObj:i})}}catch(a){o.e(a)}finally{o.f()}}},{key:"selectDropDownChange",value:function(t){this.onPsChange.emit(t)}}])}(l.a);return n.\u0275fac=function(t){return new(t||n)(h.Rb(m.a),h.Rb(p.a),h.Rb(c.a))},n.\u0275cmp=h.Lb({type:n,selectors:[["ps-dropdown-product-types"]],inputs:{options:"options"},features:[h.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,n){1&t&&(h.Xb(0,"ps-select-dropdown",0),h.fc("onPsChange",function(t){return n.selectDropDownChange(t)}),h.Wb()),2&t&&h.pc("id",n.id)("options",n.defaultOptions)},directives:[l.a],styles:[""]}),n}()}}])}();