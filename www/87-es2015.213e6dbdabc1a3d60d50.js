(window.webpackJsonp=window.webpackJsonp||[]).push([[87,265,266,267,339,340,341,342,343,344,345,346,347,348,349],{HAMJ:function(i,e,s){"use strict";s.d(e,"a",function(){return N});var o=s("zngb"),n=s("qEF5"),t=s("lE2x"),c=s("QZhd"),r=s("uqA0"),a=s("fXoL"),p=s("ofXK"),l=s("GmoW"),u=s("ilDp"),h=s("+U2o"),d=s("Mapq");function m(i,e){if(1&i){const i=a.Yb();a.Xb(0,"div",5),a.Xb(1,"ps-action-icon",6),a.fc("onClick",function(){return a.Fc(i),a.ic().onBackIconClicked()}),a.Wb(),a.Xb(2,"ps-action-icon",7),a.fc("onClick",function(){return a.Fc(i),a.ic().openPage()}),a.Wb(),a.Wb()}if(2&i){const i=a.ic();a.Fb(1),a.pc("options",i.arrowIconOptios),a.Fb(1),a.pc("options",i.homeOptions)}}function O(i,e){if(1&i&&a.Sb(0,"ps-action-icon",11),2&i){const i=a.ic(2);a.pc("options",i.headerIconOptions)}}function b(i,e){if(1&i&&(a.Xb(0,"div",8),a.Pc(1,O,1,1,"ps-action-icon",9),a.Sb(2,"ps-label-header",10),a.Wb()),2&i){const i=a.ic();a.Fb(1),a.pc("ngIf",i.headerIconOptions.iconName),a.Fb(1),a.pc("options",i.optionsHeader)}}function f(i,e){if(1&i){const i=a.Yb();a.Xb(0,"ps-action-icon",16),a.fc("click",function(){return a.Fc(i),a.ic(2).showLess()}),a.Wb()}if(2&i){const i=a.ic(2);a.pc("options",i.collapseOptions)}}function I(i,e){if(1&i&&(a.Xb(0,"div",17),a.Sb(1,"ps-complex-menu",10),a.Wb()),2&i){const i=a.ic(2);a.Fb(1),a.pc("options",i.quickMenuHeader)}}function g(i,e){if(1&i){const i=a.Yb();a.Xb(0,"ps-action-icon",18),a.fc("click",function(){return a.Fc(i),a.ic(2).showMore()}),a.Wb()}if(2&i){const i=a.ic(2);a.pc("options",i.expandOptions)}}const k=function(i){return{collapsed:i}};function P(i,e){if(1&i&&(a.Xb(0,"div",12),a.Pc(1,f,1,1,"ps-action-icon",13),a.Pc(2,I,2,1,"div",14),a.Pc(3,g,1,1,"ps-action-icon",15),a.Wb()),2&i){const i=a.ic();a.pc("ngClass",a.sc(4,k,i.collapsed)),a.Fb(1),a.pc("ngIf",!i.collapsed),a.Fb(1),a.pc("ngIf",!i.collapsed),a.Fb(1),a.pc("ngIf",i.collapsed)}}const E=[[["","saveAsDraftButton",""]],[["","extraHeader",""]],"*",[["","psFooter",""]]],L=function(i){return{"center-header":i}},_=["[saveAsDraftButton]","[extraHeader]","*","[psFooter]"];let N=(()=>{class i extends r.a{constructor(){super(),this.collapseOptions={iconName:"arrow-down",labelOptions:{labelKey:"show_more_key"}},this.expandOptions={iconName:"arrow-up",labelOptions:{labelKey:"show_less_key"}},this.helpLabelOptions={labelKey:"help_key"},this.menuIcon={iconName:"menu"},this.closeIcon={iconName:"close"},this.arrowIconOptios={iconName:"arrow-back",allowCust:!0},this.homeOptions={iconName:"lock"},this.optionsHeader={},this.headerIconOptions={},this.quickMenuHeader={quicklinkMenu:!0},this.collapsed=!1,this.operId="operId_"+c.a.oper_ID,this.iconShouldBePresent=!1,this.iconShouldBeChecked=!1,this.hasSubscribed=!1}ngOnInit(){var i;this.landingType=t.a.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.LANDING_UI_TYPE,(null===(i=this.screenOptions)||void 0===i?void 0:i.quickMenuCollapsed)&&(this.collapsed=!0),this.isMobile=this.commonProv.isMobileLayout(),super.init(),this.navService.isUserLoggedIn&&(this.homeOptions.iconName="menu"),this.checkViewSubscriptionC=this.commonProv.getCheckViewByOper(c.a.oper_ID>0?c.a.oper_ID:o.a.DEFAULT_FALLBACK_OPER).subscribe(i=>{if(i){if(this.activePageSubscription&&this.activePageSubscription.unsubscribe(),i&&i.didEnter){this.hasSubscribed=!0;const i=this.navService.activePage;i&&this.updateHeader(i)}i&&i.willLeave&&this.hasSubscribed&&this.checkViewSubscriptionC&&this.checkViewSubscriptionC.unsubscribe()}else this.activePageSubscription=this.commonProv.activePage.subscribe(i=>{i?setTimeout(()=>{this.updateHeader(i)},500):this.activePageSubscription&&this.activePageSubscription.unsubscribe()})}),(this.commonProv.isWebLayout()||4==this.landingType)&&this.navService.isUserLoggedIn?this.iconShouldBeChecked=!0:this.iconShouldBePresent=!0}updateHeader(i){this.optionsHeader.labelKey="",this.headerIconOptions.iconName=null,this.optionsHeader.labelKey=i.title,this.headerIconOptions.iconName=i.icon}openPage(){this.navService.navigateToMain()}onBackIconClicked(){this.navService.onCancelClicked().then(i=>{i&&this.screenOptions.nextPageOptions&&this.navService.openPage(this.screenOptions.nextPageOptions)})}ngOnDestroy(){this.checkViewSubscriptionC&&this.checkViewSubscriptionC.unsubscribe()}get ifHomePage(){const i=t.a.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.LANDING_PAGE_OPER;return this.iconShouldBeChecked=!1,this.iconShouldBePresent=!n.a.isNotNull(i)||i!==c.a.oper_ID,this.iconShouldBePresent}showMore(){this.collapsed=!1}showLess(){this.collapsed=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Lb({type:i,selectors:[["ps-template-screen"]],hostVars:2,hostBindings:function(i,e){2&i&&a.Hb(e.operId)},inputs:{screenOptions:"screenOptions"},features:[a.Cb],ngContentSelectors:_,decls:11,vars:6,consts:[["psHeader",""],[1,"widget-style",3,"ngClass"],["class","widget-menu-icon widget-menu-icon-back",4,"ngIf"],["class","widget-header-title",4,"ngIf"],["class","common-quick-menu",3,"ngClass",4,"ngIf"],[1,"widget-menu-icon","widget-menu-icon-back"],["id","back_icon",1,"menu-icon","arrow_icon",3,"options","onClick"],[1,"menu-icon","home_icon",3,"options","onClick"],[1,"widget-header-title"],["class","menu-icon widget-header-icon",3,"options",4,"ngIf"],[3,"options"],[1,"menu-icon","widget-header-icon",3,"options"],[1,"common-quick-menu",3,"ngClass"],["class","material-icons show-more-less-icon expanded home-quick-links-expanded",3,"options","click",4,"ngIf"],["class","home-quick-links",4,"ngIf"],["class","material-icons show-more-less-icon collapsed home-quick-links-collapsed",3,"options","click",4,"ngIf"],[1,"material-icons","show-more-less-icon","expanded","home-quick-links-expanded",3,"options","click"],[1,"home-quick-links"],[1,"material-icons","show-more-less-icon","collapsed","home-quick-links-collapsed",3,"options","click"]],template:function(i,e){1&i&&(a.oc(E),a.Xb(0,"ps-template-base"),a.Vb(1,0),a.Xb(2,"div",1),a.Pc(3,m,3,2,"div",2),a.Pc(4,b,3,2,"div",3),a.nc(5),a.Wb(),a.nc(6,1),a.Ub(),a.Xb(7,"ps-container-form"),a.nc(8,2),a.Wb(),a.nc(9,3,["psFooter",""]),a.Pc(10,P,4,6,"div",4),a.Wb()),2&i&&(a.Fb(2),a.pc("ngClass",a.sc(4,L,!e.iconShouldBePresent)),a.Fb(1),a.pc("ngIf",e.iconShouldBeChecked&&!e.ifHomePage||e.iconShouldBePresent),a.Fb(1),a.pc("ngIf",e.optionsHeader.labelKey),a.Fb(6),a.pc("ngIf",e.navService.isUserLoggedIn&&e.showQuickMenu))},directives:[r.a,p.m,p.o,l.a,u.a,h.a,d.a],styles:[""]}),i})()},gKqT:function(i,e,s){"use strict";s.r(e),s.d(e,"OmniBasePage",function(){return u});var o=s("oS+F"),n=s("zngb"),t=s("QZhd"),c=s("woXy"),r=s("qEF5"),a=s("Q0Ba"),p=s("lE2x"),l=s("fXoL");let u=(()=>{class i{constructor(){this.isPageDisabled=!1,this.commonProv=r.a.injectionHandler(a.a),this.navigationServices=r.a.injectionHandler(c.a)}init(){this.currentOperID=t.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const i=this.navigationServices.getAllParams(),e={};i&&!0===i.readOnlypage?(e.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(n.a.FORM_READONLY,e)):this.customizationMap&&(e.IS_READONLY=0,this.customizationMap.set(n.a.FORM_READONLY,e)),this.screenTranslationOperIds=p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(i){if(void 0!==i&&this.customizationMap){const e=this.customizationMap.get(n.a.FORM_READONLY);e&&1===e.IS_READONLY&&"DISABLED"!=i.status&&(i.disable(),Object.keys(i.controls).forEach(i=>{this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_READONLY,[i],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:t.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:t.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:t.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:t.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(i){const e=i||2222,s=t.a.activeLanguge?t.a.activeLanguge:"EN";e&&s&&this.commonProv.language.getOperTranslation(s,e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Lb({type:i,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(i,e){2&i&&l.Hb(e.psClass)},decls:0,vars:0,template:function(i,e){},styles:[""]}),i})()},gkmT:function(i,e,s){"use strict";s.d(e,"a",function(){return p});var o=s("uqA0"),n=s("fXoL"),t=s("HAMJ"),c=s("TsIt"),r=s("OPJk");const a=["*"];let p=(()=>{class i extends o.a{constructor(){super(),this.submitOptions={labelKey:"submit_key",group:this.options.group}}ngOnInit(){super.init(),this.commonProv.copyObject(this.submitOptions,this.options.submitOptions,!1,!0),this.options.requestObject||(this.options.requestObject={}),this.commonProv.setFormData(this.options.group,this.options.requestObject)}onFooterClick(){void 0!==document.getElementsByTagName("ion-modal")[0]&&document.getElementsByTagName("ion-modal")[0].dismiss()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Lb({type:i,selectors:[["ps-template-form"]],inputs:{options:"options"},features:[n.Cb],ngContentSelectors:a,decls:5,vars:2,consts:[["psFooter",""],[1,"footer-buttons",3,"id","click"],["id","form_submit",1,"footer-buttons",3,"options","click"]],template:function(i,e){1&i&&(n.oc(),n.Xb(0,"ps-template-screen"),n.nc(1),n.Vb(2,0),n.Xb(3,"ps-button-cancel",1),n.fc("click",function(){return e.onFooterClick()}),n.Wb(),n.Xb(4,"ps-button-submit",2),n.fc("click",function(){return e.onFooterClick()}),n.Wb(),n.Ub(),n.Wb()),2&i&&(n.Fb(3),n.pc("id",e.id+"_form_cancel"),n.Fb(1),n.pc("options",e.submitOptions))},directives:[t.a,c.a,r.a],styles:[""]}),i})()},vZnc:function(i,e,s){"use strict";s.r(e),s.d(e,"PersonalizeMyQuickLinksPage",function(){return k});var o=s("3Pt+"),n=s("V0Fi"),t=s("fOh1"),c=s("ZyuK"),r=s("DFXC"),a=s("zngb"),p=s("lE2x"),l=s("QZhd"),u=s("Q0Ba"),h=s("gKqT"),d=s("fXoL"),m=s("gkmT"),O=s("ofXK"),b=s("ilDp"),f=s("KuXP");const I=function(i){return{iconName:i}};function g(i,e){if(1&i){const i=d.Yb();d.Vb(0),d.Xb(1,"div",2),d.Sb(2,"ps-action-icon",3),d.Xb(3,"ps-select-toggle",4),d.fc("onPsChange",function(s){d.Fc(i);const o=e.$implicit;return d.ic().onToggleChanged(s,o)}),d.Wb(),d.Wb(),d.Ub()}if(2&i){const i=e.$implicit;d.Fb(2),d.pc("options",d.sc(2,I,i.iconName)),d.Fb(1),d.pc("options",i)}}let k=(()=>{class i extends h.OmniBasePage{constructor(i,e,s){super(),this.commonService=i,this.logger=e,this.omniPull=s,this.formGroup=new o.f({}),this.operationsArray=[],this.selectedOperationsList=[],this.quickLinksList=[],this.personalizationQuickLinksPages=[],this.operArrayList=[],this.options={group:this.formGroup,submitOptions:{extraParams:{quickLinks:[]},group:this.formGroup,submitServiceUrl:t.a.serviceUrl.updateUserInfoProfile,preCallFunction:{func(i){return new Promise((e,s)=>{e(this.executionClass.updateSubmitQueryParams(i))})},executionClass:this,params:[this]},postCallFunction:{func(i){return new Promise((e,s)=>{e(this.executionClass.updateQuickLinksSession(i))})},executionClass:this,params:[this]}}},this.defaultQuickLinksList=[]}ngOnInit(){l.a.oper_ID=n.a.PERSONALIZE_MY_QUICK_LINK_OPER_ID,this.userInformation=this.commonProv.session.getValueOf(a.a.USERINFO),this.userInformation&&this.userInformation.businessProfiles.length>0&&this.prepareToggleOperations(this.userInformation.businessProfiles)}ionViewDidEnter(){super.ionViewDidEnter();for(let i=0;i<this.operationsArray.length;i++)this.operationsArray[i].isSelected&&this.formGroup.controls[this.operationsArray[i].fcName].setValue(!0)}updateQuickLinksSession(i){if("S"===i.outputType)if(this.commonProv.session.remove(n.a.QUICK_LINKS_MENUS),this.commonProv.session.append(n.a.QUICK_LINKS_MENUS,this.quickLinksList.length>0?this.quickLinksList:[]),0!==this.personalizationQuickLinksPages.length)this.omniPull.omniCommon.quickLinksMenuPages=this.personalizationQuickLinksPages;else if(this.omniPull.omniCommon.quickLinksMenuPages=[],this.defaultQuickLinksList=p.a.MAIN_CONFIG.DEFAULT_QUICK_LINKS_MENU?p.a.MAIN_CONFIG.DEFAULT_QUICK_LINKS_MENU:[],this.userInformation&&this.userInformation.businessProfiles.length>0){for(let i=0;i<this.defaultQuickLinksList.length;i++)this.addQuickLinkPage(this.defaultQuickLinksList[i]);this.omniPull.omniCommon.quickLinksMenuPages=this.personalizationQuickLinksPages}}disableToggleValidation(){for(let i=0;i<this.operationsArray.length;i++)this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.operationsArray[i].fcName],0)}prepareToggleOperations(i){if(this.operationsArray=[],this.quickLinksList=this.commonProv.session.getValueOf(n.a.QUICK_LINKS_MENUS)||[],this.userInformation&&this.userInformation.businessProfiles.length>0){if(0==this.quickLinksList.length){let i=[],e=p.a.MAIN_CONFIG.DEFAULT_QUICK_LINKS_MENU?p.a.MAIN_CONFIG.DEFAULT_QUICK_LINKS_MENU:[];for(let s=0;s<e.length;s++)i.push({operId:e[s]});this.quickLinksList=i}for(let e=0;e<i.length;e++){const s=i[e];if("N"!==s.operVO.BUSINESS_PROFILE_YN&&s.operAppChnlVO.CATEG===n.a.CATEGORY_MENU){const i=this.quickLinksList?this.quickLinksList.find(i=>i.operId===s.operVO.OPER_ID):void 0;let e={labelKey:s.operVO.OPER_NAME?s.operVO.OPER_NAME:s.operVO.DESCRIPTION,group:this.formGroup,fcName:s.operVO.OPER_NAME?s.operVO.OPER_NAME:s.operVO.DESCRIPTION,psClass:"toggleColor",isSelected:!!i,iconName:s.operAppChnlVO.ICON_NAME};this.operationsArray.push(e),this.operArrayList.push(s.operVO),e.isSelected&&this.addQuickLinkPage(s.operVO.OPER_ID)}}}}onToggleChanged(i,e){var s;if(!0===i.newValue){if(e){const i=this.operArrayList.find(i=>i.OPER_NAME===e.labelKey);this.selectedOperationsList.push(i),-1==(null===(s=this.quickLinksList)||void 0===s?void 0:s.findIndex(e=>e.operId===i.OPER_ID))&&this.quickLinksList.push({operId:i.OPER_ID});const o=this.omniPull.omniCommon.quickLinksMenuPages.find(e=>e.operID===i.OPER_ID),n=this.personalizationQuickLinksPages.find(e=>e.operID===i.OPER_ID);o&&n||this.addQuickLinkPage(i.OPER_ID)}this.disableToggleValidation()}else if(this.selectedOperationsList){const i=this.selectedOperationsList.find(i=>i.OPER_NAME===e.labelKey),s=this.selectedOperationsList.indexOf(i);-1!==s&&this.selectedOperationsList.splice(s,1);const o=this.quickLinksList.findIndex(e=>e.operId===i.OPER_ID);-1!==o&&this.quickLinksList.splice(o,1);const n=this.personalizationQuickLinksPages.findIndex(e=>e.operID===i.OPER_ID);-1!==s&&this.personalizationQuickLinksPages.splice(n,1)}}updateSubmitQueryParams(i){this.commonProv.copyObject(this.options.submitOptions.extraParams,{quickLinks:this.selectedOperationsList},!1,!0)}addQuickLinkPage(i){const e=this.userInformation.businessProfiles.find(e=>e.operVO.OPER_ID===i);let s=[];if(e.operAppChnlVO.CATEG===n.a.CATEGORY_MENU&&"N"!==e.operVO.BUSINESS_PROFILE_YN){if(void 0!==e.children&&e.children.length>0)for(let o=0;o<e.children.length;o++){const i=e.children[o];if("N"!==i.operVO.BUSINESS_PROFILE_YN){let e;e={title:i.operVO.OPER_NAME?i.operVO.OPER_NAME:i.operVO.DESCRIPTION,icon:i.operAppChnlVO.ICON_NAME,component:null!=i.operAppChnlVO.PAGE_HREF?i.operAppChnlVO.PAGE_HREF:a.a.HASH_INPUT,children:[],hasParent:!1,operID:i.operVO.OPER_ID,collapse:!0,hide:!0,param:void 0!==i.operAppChnlVO.PARAM?JSON.parse(i.operAppChnlVO.PARAM):i.operAppChnlVO.PARAM,isMaker:!!i.businessProfileOperVO&&"Y"==i.businessProfileOperVO.MAKER_YN,isChecker:!!i.businessProfileOperVO&&"Y"==i.businessProfileOperVO.CHECKER_YN},i.children?e.isParent=!0:e.isChildLeaf=!0,s.push(e)}}let i;i={title:e.operVO.OPER_NAME?e.operVO.OPER_NAME:e.operVO.DESCRIPTION,icon:e.operAppChnlVO.ICON_NAME,component:null!=e.operAppChnlVO.PAGE_HREF?e.operAppChnlVO.PAGE_HREF:a.a.HASH_INPUT,children:s,hasParent:!1,operID:e.operVO.OPER_ID,collapse:!0,hide:!0,param:void 0!==e.operAppChnlVO.PARAM?JSON.parse(e.operAppChnlVO.PARAM):e.operAppChnlVO.PARAM,isMaker:!!e.businessProfileOperVO&&"Y"==e.businessProfileOperVO.MAKER_YN,isChecker:!!e.businessProfileOperVO&&"Y"==e.businessProfileOperVO.CHECKER_YN},e.children?i.isParent=!0:i.isChildLeaf=!0,this.personalizationQuickLinksPages.find(e=>e.operID===i.operID)||this.personalizationQuickLinksPages.push(i)}}}return i.\u0275fac=function(e){return new(e||i)(d.Rb(u.a),d.Rb(r.a),d.Rb(c.a))},i.\u0275cmp=d.Lb({type:i,selectors:[["personalize-my-quick-links"]],features:[d.Cb],decls:2,vars:2,consts:[[3,"options"],[4,"ngFor","ngForOf"],[1,"ps-quick-link-item-container"],[1,"ps-quick-link-item-icon",3,"options"],[1,"ps-quick-link-item-toogle",3,"options","onPsChange"]],template:function(i,e){1&i&&(d.Xb(0,"ps-template-form",0),d.Pc(1,g,4,4,"ng-container",1),d.Wb()),2&i&&(d.pc("options",e.options),d.Fb(1),d.pc("ngForOf",e.operationsArray))},directives:[m.a,O.n,b.a,f.a],styles:[""]}),i})()}}]);