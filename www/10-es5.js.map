{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-widget-dropdowns/ps-complex-widget-dropdowns.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-widget-dropdowns/ps-complex-widget-dropdowns.component.html"],"names":["PsComplexWidgetDropdownsComponent","commonProv","loggerP","modalController","onSecondValueChange","numberOfDropdowns","currentDropdownPosition","selectedItemsList","selectReportsError","selectionErrorMessage","headerLabelOptions","backIconOptions","iconName","backClicked","showIcon","isPreviouslySelected","ngOnInit","options","dropdowns","length","renderDropdown","labelKey","onItemSelected","data","requestObject","fcName","itemValue","listOfOptions","psClass","asyncURL","HEADER_LABEL","setValInsideNestedObj","group","mapResponseProperties","enablePagination","componentInstance","serviceRequestObj","commonParametersList","selectedObj","indexOf","slice","lastIndexOf","replace","translate","description","endsWith","controls","reset","callService","common","presentLoading","setTimeout","emit","dismissLoading","showDescriptionModal","exist","widgetFcname","forEach","value","index","selected","splice","push","setValue","get","element","detailsObject","modalId","detailsModalId","create","component","detailsModal","componentProps","actions","detailsActionsList","cssClass","detailsModalClass","animated","id","present","onBackIconClicked","inValid","invalid","resetSelections","selector","template"],"mappings":"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","file":"10-es5.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { PsBaseFieldComponent } from './../../../../commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\r\nimport { LoggerService } from './../../../../commonSRC/psServices/logger/logger.service';\r\nimport { ConstantCommon } from './../../../../commonSRC/psServices/models/common-constant';\r\nimport { IOptionsPsActionIcon, IOptionsPsLabel } from './../../../../commonSRC/psServices/models/ps-common-interface';\r\nimport { PsCommonService } from './../../../../commonSRC/psServices/ps-common/ps-common.service';\r\nimport { IOptionsPsComplexWidgetDropdownsExposed } from './ps-complex-widget-dropdowns.component.interface';\r\nimport { PsSelect } from '../../../../commonSRC/psServices/models/common-type';\r\n\r\n\r\n@Component({\r\n    selector: 'ps-complex-widget-dropdowns',\r\n    templateUrl: './ps-complex-widget-dropdowns.component.html'\r\n})\r\nexport class PsComplexWidgetDropdownsComponent extends PsBaseFieldComponent implements OnInit {\r\n    @Input() options: IOptionsPsComplexWidgetDropdownsExposed;\r\n    @Output() public onSecondValueChange: EventEmitter<any> = new EventEmitter<any>();\r\n    numberOfDropdowns = 0;\r\n    currentDropdownPosition = 0;\r\n    selectedItemsList: PsSelect=[];\r\n    selectReportsError=false;\r\n    selectionErrorMessage=\"no_selected_reports_key\";\r\n    headerLabelOptions: IOptionsPsLabel = {};\r\n    backIconOptions: IOptionsPsActionIcon = {\r\n        iconName: 'arrow-back'\r\n    };\r\n    backClicked = false;\r\n    showIcon = false;\r\n    isPreviouslySelected: boolean = false;  // AZDB-7715 - AMANAOI250051 - 201633 - The system is displaying wrong billers - Dev: Muzammil Arif\r\n\r\n    constructor(public commonProv: PsCommonService, public loggerP: LoggerService, private modalController: ModalController) {\r\n        super(commonProv, loggerP);\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.options.dropdowns && this.options.dropdowns.length > 0) {\r\n            this.numberOfDropdowns = this.options.dropdowns.length;\r\n            this.options.dropdowns[0].renderDropdown = true;\r\n            this.currentDropdownPosition = 1;\r\n            this.headerLabelOptions.labelKey = this.options.dropdowns[0].labelKey;\r\n        }\r\n    }\r\n\r\n    onItemSelected(data) {\r\n        /* The cases that will go through the IF condition :\r\n         * Opening a draft screen\r\n         * Navigating to next widget level where its list of options are filled from the business screen (Not Async call).\r\n        */\r\n        if (this.options.requestObject &&\r\n            this.options.requestObject[this.options.dropdowns[this.currentDropdownPosition - 1].fcName] &&\r\n            data.itemValue === this.options.requestObject[this.options.dropdowns[this.currentDropdownPosition - 1].fcName].itemValue\r\n            && this.options.dropdowns[this.currentDropdownPosition] && this.options.dropdowns[this.currentDropdownPosition].listOfOptions && this.options.dropdowns[this.currentDropdownPosition].listOfOptions.length > 0) {\r\n            if (this.options.dropdowns.length > this.currentDropdownPosition) {\r\n                this.options.dropdowns[this.currentDropdownPosition - 1].psClass = 'hide-dropdown';\r\n                this.options.dropdowns[this.currentDropdownPosition].psClass = 'show-dropdown';\r\n                this.currentDropdownPosition++;\r\n                this.showIcon = true;\r\n            }\r\n        } else {\r\n            if (this.options.dropdowns.length > 1 || (this.options.dropdowns.length == 1 && this.options.dropdowns[0].asyncURL)) {\r\n                // AZDB-7715 - AMANAOI250051 - 201633 - The system is displaying wrong billers - Dev: Muzammil Arif\r\n                this.isPreviouslySelected = this.options.requestObject[this.options.dropdowns[this.currentDropdownPosition - 1].fcName] && this.options.requestObject[ConstantCommon.HEADER_LABEL] ? true : false;\r\n                this.commonProv.setValInsideNestedObj(this.options.dropdowns[this.currentDropdownPosition - 1].fcName, data, this.options.requestObject);\r\n                if (this.options.dropdowns.length > this.currentDropdownPosition) {\r\n                    if (this.backClicked) {\r\n                        this.commonProv.setValInsideNestedObj(this.options.dropdowns[this.currentDropdownPosition].fcName, null, this.options.requestObject);\r\n                        this.options.dropdowns[this.currentDropdownPosition].renderDropdown = false;\r\n                        this.options.dropdowns[this.currentDropdownPosition] = {\r\n                            group: this.options.dropdowns[this.currentDropdownPosition].group,\r\n                            fcName: this.options.dropdowns[this.currentDropdownPosition].fcName,\r\n                            labelKey: this.options.dropdowns[this.currentDropdownPosition].labelKey,\r\n                            asyncURL: this.options.dropdowns[this.currentDropdownPosition].asyncURL,\r\n                            mapResponseProperties: this.options.dropdowns[this.currentDropdownPosition].mapResponseProperties,\r\n                            enablePagination: this.options.dropdowns[this.currentDropdownPosition].enablePagination,\r\n                            listOfOptions: [],\r\n                            componentInstance: this.options.dropdowns[this.currentDropdownPosition].componentInstance\r\n                        };\r\n                        this.headerLabelOptions.labelKey = this.options.dropdowns[this.currentDropdownPosition - 1].labelKey;\r\n                    }\r\n                    // If we define request parameters in the options of the next widget list, then we append the clicked widget data to them\r\n                    if (this.options.dropdowns[this.currentDropdownPosition].serviceRequestObj) {\r\n                        this.options.dropdowns[this.currentDropdownPosition].serviceRequestObj.commonParametersList = data.selectedObj;\r\n                    } else {\r\n                        this.options.dropdowns[this.currentDropdownPosition].serviceRequestObj = { 'commonParametersList': data.selectedObj };\r\n                    }\r\n                    this.options.dropdowns[this.currentDropdownPosition].renderDropdown = true;\r\n                    this.options.dropdowns[this.currentDropdownPosition - 1].psClass = 'hide-dropdown';\r\n                    if (this.headerLabelOptions.labelKey.indexOf('-') !== -1) {\r\n                        this.headerLabelOptions.labelKey = this.headerLabelOptions.labelKey.slice(0, this.headerLabelOptions.labelKey.lastIndexOf('-') + 1);\r\n                        this.headerLabelOptions.labelKey.replace(this.commonProv.translate(this.options.dropdowns[this.currentDropdownPosition - 1].fcName), data.description);\r\n                        if (this.headerLabelOptions.labelKey.endsWith('-')) {\r\n                            this.headerLabelOptions.labelKey = this.headerLabelOptions.labelKey.slice(0, -1); //Jira #7587 - Double checking if there is a dash after replacement\r\n                        }\r\n                        this.headerLabelOptions.labelKey += ' - ' + this.options.dropdowns[this.currentDropdownPosition].fcName;\r\n                    } else {\r\n                        this.headerLabelOptions.labelKey = data.description;\r\n                        this.headerLabelOptions.labelKey += ' - ' + this.options.dropdowns[this.currentDropdownPosition].fcName;\r\n                    }\r\n                    this.showIcon = true;\r\n                    this.currentDropdownPosition++;\r\n                    this.options.group.controls[this.options.dropdowns[this.currentDropdownPosition - 1].fcName].reset();\r\n                    this.options.dropdowns[this.currentDropdownPosition - 1].componentInstance.callService();\r\n                } else if (this.options.dropdowns.length === this.currentDropdownPosition) {\r\n                    // AZDB-7715 - AMANAOI250051 - 201633 - The system is displaying wrong billers - Dev: Muzammil Arif\r\n                    this.headerLabelOptions.labelKey = this.isPreviouslySelected ? this.headerLabelOptions.labelKey.slice(0, this.headerLabelOptions.labelKey.indexOf('-') + 1) : this.headerLabelOptions.labelKey.slice(0, this.headerLabelOptions.labelKey.lastIndexOf('-') + 1);\r\n                    this.headerLabelOptions.labelKey += data.description;\r\n                    this.options.requestObject[ConstantCommon.HEADER_LABEL] = this.headerLabelOptions.labelKey;\r\n                    this.common.presentLoading();\r\n                    setTimeout(() => {\r\n                        this.onSecondValueChange.emit(this.options.requestObject);\r\n                        this.common.dismissLoading();\r\n                    }, 500);\r\n                    this.showDescriptionModal(data);\r\n                }\r\n        }else if(this.options.dropdowns.length==1 && !this.options.dropdowns[0].asyncURL){\r\n            let exist=false;\r\n            this.selectReportsError=false;\r\n            const widgetFcname=this.options.dropdowns[0].fcName;\r\n            this.selectedItemsList.forEach((value, index) => {\r\n               if(value.itemValue==data.itemValue){\r\n                    exist=true;\r\n                    value.selected=false;\r\n                    this.selectedItemsList.splice(index,1);\r\n                }\r\n            });\r\n            if(!exist){\r\n                this.selectedItemsList.push(data);\r\n            }\r\n            if(this.selectedItemsList.length==0){\r\n                this.selectReportsError=true;\r\n                this.options.group.controls[widgetFcname].setValue([]);\r\n                this.options.group.get(widgetFcname).setValue([]);\r\n            }\r\n            this.selectedItemsList.forEach(element => {\r\n                element.selected=true;\r\n            });\r\n            this.options.group.controls[widgetFcname].setValue(this.selectedItemsList);\r\n            this.options.group.get(widgetFcname).setValue(this.selectedItemsList);\r\n            this.commonProv.setValInsideNestedObj(this.options.dropdowns[0].fcName, this.selectedItemsList, this.options.requestObject);\r\n        }\r\n     }\r\n    }\r\n\r\n    async showDescriptionModal(data) {\r\n        if (this.options.detailsObject) {\r\n            const modalId = this.options.detailsObject.detailsModalId;\r\n            const detailsModal = await this.modalController.create({\r\n                component: this.options.detailsObject.detailsModal,\r\n                componentProps: { data: { ...data.selectedObj }, actions: this.options.detailsObject.detailsActionsList },\r\n                cssClass: this.options.detailsObject.detailsModalClass,\r\n                animated: false,\r\n                id: modalId\r\n            });\r\n            await detailsModal.present();\r\n        }\r\n    }\r\n\r\n    onBackIconClicked() {\r\n        this.backClicked = true;\r\n        const inValid = this.options.group.controls[this.options.dropdowns[this.currentDropdownPosition - 1].fcName].invalid;\r\n        if (inValid) {\r\n            this.options.group.controls[this.options.dropdowns[this.currentDropdownPosition - 1].fcName].reset();\r\n        }\r\n        this.options.dropdowns[this.currentDropdownPosition - 1].psClass = 'hide-dropdown';\r\n        this.options.dropdowns[this.currentDropdownPosition - 2].psClass = 'show-dropdown';\r\n        this.currentDropdownPosition--;\r\n        if (this.currentDropdownPosition === 1) {\r\n            this.showIcon = false;\r\n        }\r\n    }\r\n\r\n    resetSelections(){\r\n        const widgetFcname=this.options.dropdowns[0].fcName;\r\n        this.selectedItemsList.forEach(element => {\r\n            element.selected=false;\r\n        });\r\n        this.selectedItemsList=[];\r\n        this.options.group.controls[widgetFcname].setValue([]);\r\n        this.options.group.get(widgetFcname).setValue(this.selectedItemsList);\r\n        this.commonProv.setValInsideNestedObj(this.options.dropdowns[0].fcName, this.selectedItemsList, this.options.requestObject);\r\n        this.selectReportsError=true;\r\n    }\r\n}","export default \"<ps-container-complex class=\\\"ps-complex-widget-dropdowns\\\">\\r\\n    <ng-container *ngIf=\\\"options?.dropdowns.length > 0\\\">\\r\\n        <div class=\\\"ps-complex-widget-dropdowns_header\\\">\\r\\n            <div class=\\\"ps-complex-widget-dropdowns_header-back\\\" *ngIf=\\\"showIcon\\\">\\r\\n                <ps-action-icon [options]=\\\"backIconOptions\\\" (onClick)=\\\"onBackIconClicked()\\\"></ps-action-icon>\\r\\n            </div>\\r\\n            <div class=\\\"ps-complex-widget-dropdowns_header-label\\\">\\r\\n                <ps-label [options]=\\\"headerLabelOptions\\\"></ps-label>\\r\\n            </div>\\r\\n        </div>\\r\\n        <ng-container *ngFor=\\\"let dropdownOptions of options.dropdowns; let i = index\\\">\\r\\n            <ps-select-dropdown-widget (onPsChange)=\\\"onItemSelected($event)\\\" [options]=\\\"dropdownOptions\\\"\\r\\n                [ngClass]=\\\"[dropdownOptions && dropdownOptions.psClass?dropdownOptions.psClass:'','level-'+i]\\\">\\r\\n            </ps-select-dropdown-widget>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n    <p *ngIf=\\\"selectReportsError\\\" class=\\\"select-documents-validation-message\\\">{{selectionErrorMessage | translate}}</p>\\r\\n</ps-container-complex>\";"]}