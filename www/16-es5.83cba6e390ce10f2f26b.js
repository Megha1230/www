!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:n+""}function i(t,n,e){return n=r(n),function(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(n,e||[],r(t).constructor):n.apply(t,e))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(s=function(){return!!t})()}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&c(t,n)}function c(t,n){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[16,339,340,341,342,343,344,345,346,347,348,349],{HadF:function(n,o,s){"use strict";s.d(o,"a",function(){return R});var r=s("V0Fi"),c=s("ZyuK"),u=s("ZF3V"),p=s("DFXC"),f=s("zngb"),l=s("qEF5"),b=s("QZhd"),d=s("Q0Ba"),m=s("0CJq"),h=s("fXoL"),O=s("Isd1"),v=s("ofXK"),g=s("UTjL"),y=s("x3b/"),I=s("GmwD"),C=s("/QlS"),N=s("7Cko"),_=s("y70R");function E(t,n){if(1&t){var e=h.Yb();h.Xb(0,"ps-input-account-number",5),h.fc("onPsChange",function(t){return h.Fc(e),h.ic().validateBeneficiary(t)})("onPsEmpty",function(t){return h.Fc(e),h.ic().onEmptyAccountNum(t)}),h.Wb()}if(2&t){var o=h.ic();h.pc("options",o.defaultOptions.benefAccountNumberOptions)}}function P(t,n){if(1&t&&h.Sb(0,"ps-input-card-number",6),2&t){var e=h.ic();h.pc("options",e.defaultOptions.benefCardNumberOptions)}}function w(t,n){if(1&t&&h.Sb(0,"ps-dropdown-currencies",7),2&t){var e=h.ic();h.pc("id",e.id)("options",e.defaultOptions.currencyOptions)}}function k(t,n){if(1&t&&h.Sb(0,"ps-input-varchar",7),2&t){var e=h.ic();h.pc("id",e.id)("options",e.defaultOptions.benefNameOptions)}}function D(t,n){if(1&t&&h.Sb(0,"ps-entity-phone-number",6),2&t){var e=h.ic();h.pc("options",e.defaultOptions.benefPhoneOptions)}}function A(t,n){if(1&t&&h.Sb(0,"ps-complex-id-details",8),2&t){var e=h.ic();h.pc("options",e.defaultOptions.complexIdDetailsOptions)}}function j(t,n){if(1&t&&h.Sb(0,"ps-input-varchar",7),2&t){var e=h.ic();h.pc("id",e.id)("options",e.defaultOptions.benefReasonOptions)}}var R=function(){var n=function(n){function o(n,e,s,r){var a;return t(this,o),(a=i(this,o,[n,s])).commonProv=n,a.omniPull=e,a.omniCommon=r,a.isCardBenef=!1,a.defaultOptions={},a}return a(o,n),e(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.options.requestObject&&(this.defaultOptions.requestObject=this.options.requestObject),this.options.benefAccountNumberOptions&&this.options.benefAccountNumberOptions.requestObject&&(this.defaultOptions.benefAccountNumberOptions.requestObject=this.options.benefAccountNumberOptions.requestObject),this.options.benefAccountNumberOptions.forceTriggerChange=!this.options.requestObject||!this.options.requestObject.dataSaveId,b.a.oper_ID!=r.a.BANK_CARD_BENEFICIARY_OPER_ID&&b.a.oper_ID!=r.a.LOCAL_CARD_BENEFICIARY_OPER_ID||(this.isCardBenef=!0)}},{key:"validateBeneficiary",value:function(t){var n=this;if(null==this.options.requestObject.bankFullObj&&(this.options.requestObject.bankFullObj=this.options.requestObject.bank),this.options.validateBeneficiary){var e={accountNumber:t.newValue};if(this.options.requestObject&&this.options.requestObject.bankFullObj)e.bankCode=this.options.requestObject.bankFullObj;else if(b.a.oper_ID===r.a.LOCAL_BENEFICIARY_OPER_ID)return this.omniCommon.presentInfoAlert("please_choose_a_bank_key"),void(this.options.requestObject.accountNumber=null);if(this.options.requestObject&&this.options.requestObject.swiftCode)e.swiftCode=this.options.requestObject.swiftCode;else if(b.a.oper_ID===r.a.EXTERNAL_BENEFICIARY_OPER_ID)return this.omniCommon.presentInfoAlert("please_choose_a_swift_code_key"),void(this.options.requestObject.accountNumber=null);this.common.presentLoading(),this.omniCommon.validateBeneficiary(e).then(function(t){n.common.dismissLoading(),l.a.deleteError(n.options.benefAccountNumberOptions.group,n.options.benefAccountNumberOptions.fcName),l.a.deleteError(n.options.benefNameOptions.group,n.options.benefNameOptions.fcName)}).catch(function(t){n.common.dismissLoading(),n.options.requestObject[n.defaultOptions.benefAccountNumberOptions.fcName]=null,n.options.requestObject[n.defaultOptions.currencyOptions.fcName]=null,n.options.requestObject[n.defaultOptions.benefNameOptions.fcName]=null,n.options.benefAccountNumberOptions.group.controls[n.defaultOptions.benefAccountNumberOptions.fcName].setErrors({invalid:!0}),n.options.benefAccountNumberOptions.group.controls[n.defaultOptions.benefAccountNumberOptions.fcName].oldValue=null,n.options.benefAccountNumberOptions.group.controls[n.defaultOptions.benefAccountNumberOptions.fcName].innerValue=null,t&&t.data.outputType===f.a.OUT_PUT_TYPE_U?l.a.setErrors(n.options.benefAccountNumberOptions.group,n.options.benefAccountNumberOptions.fcName,[{msgKey:t.data.outputNotification}]):n.common.logger.log(t)})}}},{key:"onEmptyAccountNum",value:function(t){this.onPsEmpty.emit(t)}}])}(u.a);return n.\u0275fac=function(t){return new(t||n)(h.Rb(d.a),h.Rb(c.a),h.Rb(p.a),h.Rb(m.a))},n.\u0275cmp=h.Lb({type:n,selectors:[["ps-complex-beneficiary-details"]],inputs:{options:"options"},features:[h.Cb],decls:8,vars:7,consts:[[1,"ps-complex-swift-benef-creation"],[3,"options","onPsChange","onPsEmpty",4,"ngIf"],[3,"options",4,"ngIf"],[3,"id","options",4,"ngIf"],["id","complex_id_details1",3,"options",4,"ngIf"],[3,"options","onPsChange","onPsEmpty"],[3,"options"],[3,"id","options"],["id","complex_id_details1",3,"options"]],template:function(t,n){1&t&&(h.Xb(0,"ps-container-complex",0),h.Pc(1,E,1,1,"ps-input-account-number",1),h.Pc(2,P,1,1,"ps-input-card-number",2),h.Pc(3,w,1,2,"ps-dropdown-currencies",3),h.Pc(4,k,1,2,"ps-input-varchar",3),h.Pc(5,D,1,1,"ps-entity-phone-number",2),h.Pc(6,A,1,1,"ps-complex-id-details",4),h.Pc(7,j,1,2,"ps-input-varchar",3),h.Wb()),2&t&&(h.Fb(1),h.pc("ngIf",n.defaultOptions.benefAccountNumberOptions&&!n.isCardBenef),h.Fb(1),h.pc("ngIf",n.defaultOptions.benefCardNumberOptions&&n.isCardBenef),h.Fb(1),h.pc("ngIf",n.defaultOptions.currencyOptions&&!(n.isCardBenef&&"internal"==n.options.beneficiaryType)),h.Fb(1),h.pc("ngIf",n.defaultOptions.benefNameOptions),h.Fb(1),h.pc("ngIf",n.defaultOptions.benefPhoneOptions),h.Fb(1),h.pc("ngIf",n.defaultOptions.complexIdDetailsOptions),h.Fb(1),h.pc("ngIf",n.defaultOptions.benefReasonOptions))},directives:[O.a,v.o,g.a,y.a,I.a,C.a,N.a,_.a],styles:[""]}),n}()},UTjL:function(n,o,s){"use strict";s.d(o,"a",function(){return y});var r=s("fXoL"),c=s("ZyuK"),u=s("BYmO"),p=s("DFXC"),f=s("qEF5"),l=s("Q0Ba"),b=s("woXy"),d=s("zngb"),m=s("ofXK"),h=s("ilDp"),O=function(t){return{disableContent:t}};function v(t,n){if(1&t){var e=r.Yb();r.Xb(0,"ps-action-icon",3),r.fc("onClick",function(){return r.Fc(e),r.ic().getScannedData(!0)}),r.Wb()}if(2&t){var o=r.ic();r.pc("id","QrScannerIcon")("ngClass",r.sc(3,O,o.isInReadOnlyScreen))("options",o.actionOption)}}var g=function(t){return{colAcc:t}},y=function(){var n=function(n){function o(n,e,s,a){var c;return t(this,o),(c=i(this,o,[n,e])).omniPull=s,c.nav=a,c.getScannedQr=new r.o,c.actionOption={},c.custMode&&(c.options.showScannerIcon=!0),c}return a(o,n),e(o,[{key:"ngOnInit",value:function(){var t,n=this.common.returnOperCustomization();this.isInReadOnlyScreen=1==(null===(t=n.get(d.a.FORM_READONLY))||void 0===t?void 0:t.IS_READONLY),f.a.isNotNull(this.options)&&(this.options.hideValueOnError=!0),this.actionOption={iconName:"qr_code_scanner",allowCust:!0,group:this.options.group}}},{key:"onChangeEvent",value:function(t){this.onPsChange.emit(t)}},{key:"getScannedData",value:function(t){var n=this;this.custMode||(0==this.options.forceTriggerChange&&(this.options.forceTriggerChange=!0),this.commonProv.scanQRCode().then(function(e){var o,i;if(e){e=JSON.parse(e),n.commonProv.setValInsideNestedObj(n.options.fcName,null===(o=e.AccountRef)||void 0===o?void 0:o.split("-")[1],n.options.requestObject?n.options.requestObject:{});var s=Object.assign(Object.assign({},e),{accountNumber:null===(i=e.AccountRef)||void 0===i?void 0:i.split("-")[1]});n.getScannedQr.emit([s,t])}}).catch(function(t){n.logger.error("something went wrong",t),n.nav.navigateBackward()}))}}])}(u.a);return n.\u0275fac=function(t){return new(t||n)(r.Rb(l.a),r.Rb(p.a),r.Rb(c.a),r.Rb(b.a))},n.\u0275cmp=r.Lb({type:n,selectors:[["ps-input-account-number"]],inputs:{options:"options"},outputs:{getScannedQr:"getScannedQr"},features:[r.Cb],decls:3,vars:6,consts:[[3,"ngClass"],[3,"id","options","onPsChange","onPsEmpty"],["class","scanQrIcon",3,"id","ngClass","options","onClick",4,"ngIf"],[1,"scanQrIcon",3,"id","ngClass","options","onClick"]],template:function(t,n){1&t&&(r.Xb(0,"div",0),r.Xb(1,"ps-keyin-input",1),r.fc("onPsChange",function(t){return n.onChangeEvent(t)})("onPsEmpty",function(t){return n.onEmpty(t)}),r.Wb(),r.Pc(2,v,1,5,"ps-action-icon",2),r.Wb()),2&t&&(r.pc("ngClass",r.sc(4,g,n.options.showScannerIcon||n.custMode)),r.Fb(1),r.pc("id",n.id)("options",n.options),r.Fb(1),r.pc("ngIf",n.options.showScannerIcon||n.custMode))},directives:[m.m,u.a,m.o,h.a],styles:[""]}),n}()},gKqT:function(n,o,i){"use strict";i.r(o),i.d(o,"OmniBasePage",function(){return b});var s=i("oS+F"),r=i("zngb"),a=i("QZhd"),c=i("woXy"),u=i("qEF5"),p=i("Q0Ba"),f=i("lE2x"),l=i("fXoL"),b=function(){var n=function(){return e(function n(){t(this,n),this.isPageDisabled=!1,this.commonProv=u.a.injectionHandler(p.a),this.navigationServices=u.a.injectionHandler(c.a)},[{key:"init",value:function(){this.currentOperID=a.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();var t=this.navigationServices.getAllParams(),n={};t&&!0===t.readOnlypage?(n.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(r.a.FORM_READONLY,n)):this.customizationMap&&(n.IS_READONLY=0,this.customizationMap.set(r.a.FORM_READONLY,n)),this.screenTranslationOperIds=f.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?f.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}},{key:"ngOnInit",value:function(){this.init()}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter()}},{key:"ionViewWillLeave",value:function(){this.viewWillLeave()}},{key:"ionViewWillEnter",value:function(){this.viewWillEnter()}},{key:"viewWillEnter",value:function(){}},{key:"disableForm",value:function(t){var n=this;if(void 0!==t&&this.customizationMap){var e=this.customizationMap.get(r.a.FORM_READONLY);e&&1===e.IS_READONLY&&"DISABLED"!=t.status&&(t.disable(),Object.keys(t.controls).forEach(function(t){n.commonProv.applyDynScreenDisplay(r.a.ACTION_TYPE_READONLY,[t],1)}))}}},{key:"viewDidEnter",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),s.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}},{key:"viewWillLeave",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID,{value:!0,page:this,willLeave:!0})}},{key:"ngAfterViewChecked",value:function(){var t=this;this.isPageDisabled||setTimeout(function(){t.disableForm(t.baseFormGroup),t.isPageDisabled=!0},300)}},{key:"getScreenTranslations",value:function(t){var n=t||2222,e=a.a.activeLanguge?a.a.activeLanguge:"EN";n&&e&&this.commonProv.language.getOperTranslation(e,n)}}])}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Lb({type:n,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(t,n){2&t&&l.Hb(n.psClass)},decls:0,vars:0,template:function(t,n){},styles:[""]}),n}()},"x3b/":function(n,o,s){"use strict";s.d(o,"a",function(){return f});var r=s("DFXC"),c=s("Q0Ba"),u=s("BYmO"),p=s("fXoL"),f=function(){var n=function(n){function o(n,e){var s;return t(this,o),(s=i(this,o,[n,e])).options={},s.defaultOptions={mask:{mask:"9999 9999 9999 9999"},labelKey:"card_number_key",placeHolder:"enter_your_card_number_key",type:"tel",imageOptions:{imageName:"",psClass:"card-action-image"}},s}return a(o,n),e(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options,!1)}},{key:"changeCardIcon",value:function(t){var n=t.target.value;this.defaultOptions.imageOptions.imageName=n.startsWith("4")?"Visa-Curved.png":this.checkCard(52,55,n)||this.checkCard(2221,2720,n)?"Mastercard-Curved.png":n.startsWith("34")||n.startsWith("37")?"American-Express-Curved.png":n.startsWith("6011")||n.startsWith("65")?"Discover-Straight.png":n.startsWith("36")||n.startsWith("38")||this.checkCard(300,305,n)?"DinerClub.png":n.startsWith("35")||n.startsWith("2131")||n.startsWith("1800")?"jbc-card.jpg":""}},{key:"checkCard",value:function(t,n,e){var o=!1;if(e&&t&&n)for(var i=t;i<=n;i++)if(e.startsWith(i.toString())){o=!0;break}return o}}])}(u.a);return n.\u0275fac=function(t){return new(t||n)(p.Rb(c.a),p.Rb(r.a))},n.\u0275cmp=p.Lb({type:n,selectors:[["ps-input-card-number"]],inputs:{options:"options"},features:[p.Cb],decls:1,vars:2,consts:[[1,"ps-input-card-number",3,"id","options","keyup"]],template:function(t,n){1&t&&(p.Xb(0,"ps-keyin-input",0),p.fc("keyup",function(t){return n.changeCardIcon(t)}),p.Wb()),2&t&&p.pc("id",n.id)("options",n.defaultOptions)},directives:[u.a],styles:[""]}),n}()}}])}();