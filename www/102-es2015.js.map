{"version":3,"sources":["./src/app/pages/upgrade-card/upgrade-card.page.scss","./src/app/pages/upgrade-card/upgrade-card.page.ts","./src/app/pages/upgrade-card/upgrade-card.page.html"],"names":[],"mappings":"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","file":"102-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1cGdyYWRlLWNhcmQucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { PsAccountsListComponent } from 'src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component';\nimport { IOptionsPsComplexLocationExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-location/ps-complex-location.component.interface';\nimport { IOptionsPsComplexSelectBranchComponentExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.interface';\nimport { IOptionsPsInputVarcharExposed } from 'src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-varchar/ps-input-varchar.component.interfaces';\nimport { IOptionsPsLookupOwnAccountsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.interfaces';\nimport { IOptionsPsDropdownCardTypesExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-card-types/ps-dropdown-card-types.component.interface';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { UpgradeCardRequestVO } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsContainerPanel, IOptionsTemplateStepper, IPageCommon } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { IOptionsPsComplexAlertController } from 'src/app/commonSRC/psTemplates/ps-template-alert-controller/ps-template-alert-controller.template.interfaces';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\n\n@Component({\n  selector: 'app-upgrade-card',\n  templateUrl: './upgrade-card.page.html',\n  styleUrls: ['./upgrade-card.page.scss'],\n})\nexport class UpgradeCardPage extends OmniBasePage implements OnInit {\n  private formGroup: FormGroup = new FormGroup({});\n  upgradeCardVO: UpgradeCardRequestVO = {};\n  defaultCardAccount: any;\n  showDebitCard: boolean = false;\n  enableRequestCifBranch: boolean = false;\n  cifInfo: any = {};\n\n  stepperOptions: IOptionsTemplateStepper = {\n    stepperName: 'upgrade_card_stepper',\n    isHorizontalStepper: true,\n    numberOfSteps: 1,\n    namesofSteps: ['upgrade_card_step1'],\n    group: this.formGroup,\n    submitOptions: {\n      extraParams: {},\n      submitServiceUrl: PsCommonSettings.serviceUrl.commonSubmitAction,\n      group: this.formGroup,\n      postCallFunction: {\n        func(response) {\n          return new Promise<any>((resolve, reject) => {\n            resolve(this.executionClass.checkUnsettledBalance(response));\n          });\n        },\n        params: [this],\n        executionClass: this\n      },\n    },\n    requestObject: this.upgradeCardVO,\n  };\n  panelOptions1Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'card_details_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  cardHolderNameOptions: IOptionsPsInputVarcharExposed = {\n    labelKey: 'card_holder_name_key',\n    placeHolder: 'card_holder_name_key',\n    group: this.formGroup,\n    fcName: 'cardHolderName'\n  };\n\n  primaryAccountOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'primary_account_key',\n    placeHolder: 'primary_account_key',\n    currency: '',\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: ConstantCommon.GeneralType,\n    fcName: 'primaryAccount',\n    component: PsAccountsListComponent,\n    fromTo: 'from',\n    accountType: ConstantCommon.GeneralType,\n    requestObject: this.upgradeCardVO,\n  };\n  secondaryAccountOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'secondary_account_key',\n    placeHolder: 'secondary_account_key',\n    currency: '',\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: ConstantCommon.GeneralType,\n    fcName: 'secondaryAccount',\n    component: PsAccountsListComponent,\n    fromTo: 'from',\n    accountType: ConstantCommon.GeneralType,\n    requestObject: this.upgradeCardVO,\n  };\n\n  debitCardTypeOptions: IOptionsPsDropdownCardTypesExposed = {\n    labelKey: 'debit_card_type_key',\n    placeHolder: 'select_card_type_key',\n    group: this.formGroup,\n    fcName: 'debitCardType',\n    cardType: ConstantCommon.CARDTYPE_D\n  };\n  creditCardTypeOptions: IOptionsPsDropdownCardTypesExposed = {\n    labelKey: 'credit_card_type_key',\n    placeHolder: 'select_card_type_key',\n    group: this.formGroup,\n    fcName: 'creditCardType',\n    cardType: ConstantCommon.CARDTYPE_C\n  };\n  settlementAccountOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'settlement_account_key',\n    placeHolder: 'settlement_account_key',\n    currency: '',\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: ConstantCommon.GeneralType,\n    fcName: 'settlementAccount',\n    component: PsAccountsListComponent,\n    fromTo: 'from',\n    accountType: ConstantCommon.GeneralType,\n    requestObject: this.upgradeCardVO,\n  };\n  panelOptions2Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'select_map_branch_key',\n    iconName: 'location-pin',\n    expanded: true,\n  };\n  selectBranchOptions: IOptionsPsComplexSelectBranchComponentExposed = {\n    fcName: 'mapAtmBranchesDropdown',\n    group: this.formGroup,\n  };\n  deliveryAddressDetails: IOptionsPsComplexLocationExposed = {\n    collectionModeOptions: {\n      group: this.formGroup,\n      fcName: 'deliveryLoc'\n    },\n    branchLocationOptions: {\n      fcName: 'destinationBranchesDropdown',\n      group: this.formGroup,\n      countryRegionCityOptions: {\n        countriesOptions: {\n          fcName: 'destinationBranchCountry'\n        },\n        regionOptions: {\n          fcName: 'destinationBranchRegion'\n        },\n        cityOptions: {\n          fcName: 'destinationBranchCity'\n        }\n      },\n      branchesOptions: {\n        fcName: 'destinationBranch'\n      }\n    },\n    homeAddressOptions: {\n      placeHolder: 'home_address_key',\n      labelKey: 'home_address_key',\n      group: this.formGroup,\n      fcName: 'homeAddress',\n      requestVO: this.upgradeCardVO,\n    },\n    workAddressOptions: {\n      placeHolder: 'work_address_key',\n      labelKey: 'work_address_key',\n      group: this.formGroup,\n      fcName: 'workAddress',\n      requestVO: this.upgradeCardVO,\n    },\n    otherAddressOptions: {\n      labelKey: 'address_details_key',\n      rows: '3',\n      cols: '10',\n      fcName: 'otherAddressDetails',\n      group: this.formGroup,\n    },\n    branchCifOptions: {\n      labelKey: 'account_branch_key', // account or cif branch\n      group: this.formGroup,\n      fcName: 'branchName',\n    },\n    cifBranchChecking: true\n  };\n\n  constructor(public loggerP: LoggerService, public nav: PsNavigatorService, private omniPull: OmniPullService, private translateSrv: TranslateService) {\n    super();\n  }\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    this.showDebitCard = this.commonProv.activePage.value.operID === CommonBussinessConstant.UPGRADE_CREDIT_CARD ? false : true;\n    if (this.showDebitCard) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.creditCardTypeOptions.fcName, this.cardHolderNameOptions.fcName, this.settlementAccountOptions.fcName], 0);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.debitCardTypeOptions.fcName, this.primaryAccountOptions.fcName, this.secondaryAccountOptions.fcName], 1);\n    } else {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.creditCardTypeOptions.fcName, this.cardHolderNameOptions.fcName, this.settlementAccountOptions.fcName], 1);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.debitCardTypeOptions.fcName, this.primaryAccountOptions.fcName, this.secondaryAccountOptions.fcName], 0);\n\n    }\n  }\n\n  ionViewDidEnter() {\n    super.ionViewDidEnter();\n    this.fetchParameter();\n    this.defaultCardAccount = this.nav.getAllParams().primaryAccount;\n\n    if (this.showDebitCard) {\n      const secondaryAccount = this.nav.getAllParams().secondaryAccount;\n      this.commonProv.setValInsideNestedObj(this.primaryAccountOptions.fcName, this.defaultCardAccount, this.upgradeCardVO);\n      this.commonProv.setValInsideNestedObj(this.primaryAccountOptions.fcName + \"_lookupKey\", this.defaultCardAccount, this.upgradeCardVO);\n      if (secondaryAccount) {\n        this.commonProv.setValInsideNestedObj(this.secondaryAccountOptions.fcName, secondaryAccount, this.upgradeCardVO);\n        this.commonProv.setValInsideNestedObj(this.secondaryAccountOptions.fcName + \"_lookupKey\", secondaryAccount, this.upgradeCardVO);\n      }\n    } else {\n      const defaultCardHolderName = this.translateSrv.currentLang.toLocaleLowerCase() === 'ar' ? this.commonProv.session.getValueOf(ConstantCommon.USERINFO).customerInfoCO?.longNameArabic : this.commonProv.session.getValueOf(ConstantCommon.USERINFO).customerInfoCO?.longName;\n      this.commonProv.setValInsideNestedObj(this.cardHolderNameOptions.fcName, defaultCardHolderName, this.upgradeCardVO);\n      this.commonProv.setValInsideNestedObj(this.settlementAccountOptions.fcName, this.defaultCardAccount, this.upgradeCardVO);\n      this.commonProv.setValInsideNestedObj(this.settlementAccountOptions.fcName + \"_lookupKey\", this.defaultCardAccount, this.upgradeCardVO);\n    }\n  }\n\n  async fetchParameter() {\n    this.cifInfo = this.commonProv.session.getValueOf(ConstantCommon.USERINFO);\n    const result = await this.omniPull.getParamValOf(CommonBussinessConstant.CARDS_REQUEST_BRANCH)\n      .catch((error) => {\n        this.loggerP.error(error);\n      });\n    if (result !== -1 && result.RequestBranch === CommonBussinessConstant.END_USER_INPUT_ID) {\n      this.enableRequestCifBranch = false;\n    } else {\n      this.enableRequestCifBranch = true;\n    }\n    this.hideShowRequestBranch();\n  }\n\n  onSelectBranch(event) {\n    if (event.itemValue !== undefined) {\n      this.formGroup.controls[this.selectBranchOptions.fcName].setValue(event);\n      this.commonProv.setValInsideNestedObj(this.selectBranchOptions.fcName, event.selectedObj, this.upgradeCardVO);\n    }\n  }\n\n  hideMap() {\n    let modeOfCollection = this.upgradeCardVO ? this.upgradeCardVO[this.deliveryAddressDetails.collectionModeOptions.fcName] : {};\n    if (modeOfCollection?.itemValue === CommonBussinessConstant.SPECIFIC_BRANCH_VALUE || modeOfCollection === CommonBussinessConstant.SPECIFIC_BRANCH_VALUE) {\n\n      if (this.deliveryAddressDetails.enableCifBranch == 1) {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.stepperOptions.namesofSteps[1]], 1, true);\n      } else {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, ['destBranch'], 1, true);\n      }\n    } else {\n      if (this.deliveryAddressDetails.enableCifBranch == 1) {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.stepperOptions.namesofSteps[1]], 0, true);\n      } else {\n        this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, ['destBranch'], 0, true);\n      }\n    }\n  }\n\n  hideShowRequestBranch() {\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, ['upgrade_card_req_panel2'], !this.enableRequestCifBranch);\n  }\n\n  async checkUnsettledBalance(response) {\n    if (!this.showDebitCard) {\n      // TODO: check for any unsettled balance on the current ((credit)) card  --> Call web service\n      if (response && response.outputCode === -1) {\n        const settleBalanceAlertController: IOptionsPsComplexAlertController = {\n          cssClass: 'cronto-code',\n          id: 'settle-balance',\n          header: 'please_settle_oustanding_balance_in_order_to_proceed_key',\n          headerImageOptions: {\n            imageName: '',\n            imageBase64Url: ''\n          },\n          buttons: [\n            {\n              role: 'cancel',\n              options: {\n                labelKey: 'cancel_key',\n                psClass: 'ps-drafts-report-cancel-button',\n                group: null\n              },\n              handler: () => {\n                CommonUtils.dismissAllModals();\n              }\n            }, {\n              role: 'cancel',\n              options: {\n                labelKey: 'ok_key',\n                iconName: '',\n                psClass: 'ps-drafts-report-submit-button',\n                group: null\n              },\n              handler: () => {\n                let settlementPage: IPageCommon = {\n                  operID: 51,\n                  title: 'CREDIT_CARD_SETTLEMENT_REQ',\n                  component: 'credit-card-settlement',\n                  icon: \"card-status-report\",\n                  param: {\n                    accountNumber: this.defaultCardAccount,\n                  }\n                };\n                this.nav.openPage(settlementPage);\n              }\n            }\n          ]\n        };\n        this.commonProv.presentPsAlert(settleBalanceAlertController, 'settle-balance');\n      }\n    }\n  }\n}\n","export default \"<ps-template-stepper [options]=\\\"stepperOptions\\\" [id]=\\\"stepperOptions.stepperName\\\">\\n  <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"stepperOptions.namesofSteps[0]\\\">\\n    <ps-container-panel [options]=\\\"panelOptions1Step1\\\" id=\\\"upgrade_card_req_panel\\\">\\n\\n      <ps-input-varchar id=\\\"cardHolderName\\\" [options]=\\\"cardHolderNameOptions\\\"></ps-input-varchar>\\n\\n      <ps-lookup-own-accounts id=\\\"'primaryAccount'+ id\\\" [options]=\\\"primaryAccountOptions\\\">\\n      </ps-lookup-own-accounts>\\n\\n      <ps-dropdown-card-types id=\\\"debitCardType\\\" [options]=\\\"debitCardTypeOptions\\\">\\n      </ps-dropdown-card-types>\\n      <ps-dropdown-card-types id=\\\"creditCardType\\\" [options]=\\\"creditCardTypeOptions\\\">\\n      </ps-dropdown-card-types>\\n\\n      <ps-lookup-own-accounts id=\\\"'secondaryAccount'+ id\\\" [options]=\\\"secondaryAccountOptions\\\">\\n      </ps-lookup-own-accounts>\\n\\n      <ps-lookup-own-accounts id=\\\"settlementAccountid\\\" [options]=\\\"settlementAccountOptions\\\">\\n      </ps-lookup-own-accounts>\\n\\n      <ps-complex-location (parentFun)=\\\"hideMap()\\\" [options]=\\\"deliveryAddressDetails\\\">\\n      </ps-complex-location>\\n\\n    </ps-container-panel>\\n    <ps-container-panel [options]=\\\"panelOptions2Step1\\\" id=\\\"upgrade_card_req_panel2\\\">\\n      <ps-complex-select-branch [options]=\\\"selectBranchOptions\\\" (onPsChange)=\\\"onSelectBranch($event)\\\">\\n      </ps-complex-select-branch>\\n    </ps-container-panel>\\n\\n  </ps-form-step>\\n</ps-template-stepper>\";"],"sourceRoot":"webpack:///"}