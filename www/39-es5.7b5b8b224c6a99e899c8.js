!function(){function e(e,n,o,i){var s=t(m(1&i?e.prototype:e),n,o);return 2&i&&"function"==typeof s?function(e){return s.apply(o,e)}:s}function t(){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,o){var i=n(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(arguments.length<3?e:o):s.value}}).apply(null,arguments)}function n(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function r(n,o,s,a){var r=o&&o.prototype instanceof c?o:c,l=Object.create(r.prototype);return i(l,"_invoke",function(n,o,i){var s,a,r,c=0,l=i||[],u=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return s=t,a=0,r=e,d.n=n,p}};function f(n,o){for(a=n,r=o,t=0;!u&&c&&!i&&t<l.length;t++){var i,s=l[t],f=d.p,m=s[2];n>3?(i=m===o)&&(r=s[(a=s[4])?5:(a=3,3)],s[4]=s[5]=e):s[0]<=f&&((i=n<2&&f<s[1])?(a=0,d.v=o,d.n=s[1]):f<m&&(i=n<3||s[0]>o||o>m)&&(s[4]=n,s[5]=o,d.n=m,a=0))}if(i||n>1)return p;throw u=!0,o}return function(i,l,m){if(c>1)throw TypeError("Generator is already running");for(u&&1===l&&f(l,m),a=l,r=m;(t=a<2?e:r)||!u;){s||(a?a<3?(a>1&&(d.n=-1),f(a,r)):d.n=r:d.v=r);try{if(c=2,s){if(a||(i="next"),t=s[i]){if(!(t=t.call(s,r)))throw TypeError("iterator result is not an object");if(!t.done)return t;r=t.value,a<2&&(a=0)}else 1===a&&(t=s.return)&&t.call(s),a<2&&(r=TypeError("The iterator does not provide a '"+i+"' method"),a=1);s=e}else if((t=(u=d.n<0)?r:n.call(o,d))!==p)break}catch(t){s=e,a=1,r=t}finally{c=1}}return{value:t,done:u}}}(n,s,a),!0),l}var p={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var d=[][s]?t(t([][s]())):(i(t={},s,function(){return this}),t),f=u.prototype=c.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,i(f,"constructor",u),i(u,"constructor",l),l.displayName="GeneratorFunction",i(u,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,s,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:r,m:m}})()}function i(e,t,n,o){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}(i=function(e,t,n,o){function a(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?s?s(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,o)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){p=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(p)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l(o.key),o)}}function c(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t,n){return t=m(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(e,f()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"41l2":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("mrSG"),a=n("ZyuK"),p=n("iOQE"),l=n("DFXC"),d=n("Q0Ba"),f=n("fXoL"),m=function(){var e=function(e){function t(e,n,o){var i;return r(this,t),(i=u(this,t,[e,n])).omniPull=o,i.showLovDropdown=!1,i.defaultDropDownLovOptions={isLOVDropdown:!0},i}return y(t,e),c(t,[{key:"ngOnInit",value:function(){var e=this;this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(function(t){if(t){var n=t.get(e.options.fcName);n&&n.LOV_TYPE_ID&&n.LOV_TYPE_ID!==e.options.lovTypeId&&e.loadLovDropDown()}})}},{key:"loadLovDropDown",value:function(){var e;return Object(i.b)(this,void 0,void 0,o().m(function t(){var n,i,a,r,p,c,l,u,d=this;return o().w(function(t){for(;;)switch(t.n){case 0:if(this.defaultDropDownLovOptions.listOfOptions&&0!=(null===(e=this.defaultDropDownLovOptions.listOfOptions)||void 0===e?void 0:e.length)){t.n=5;break}if((n=this.commonProv.getElementValidations(this.options.fcName))&&n.LOV_TYPE_ID&&(this.options.lovTypeId=n.LOV_TYPE_ID),null!=this.options.lovTypeId&&void 0!==this.options.lovTypeId){t.n=1;break}return t.a(2,void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov"));case 1:if(!this.options.lovAdminFilterParamName){t.n=3;break}return t.n=2,this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);case 2:(i=t.v)&&(this.options.lovAdminFilterParamName=i[this.options.lovAdminFilterParamName]);case 3:return a={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},t.n=4,this.omniPull.returnLovTypesValues(a).catch(function(e){d.showLovDropdown=!1,d.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",e)});case 4:if(r=t.v,this.defaultDropDownLovOptions.listOfOptions=[],r&&r.length>0){p=s(r);try{for(p.s();!(c=p.n()).done;)l=c.value,(u={itemValue:l.itemValue,description:l.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(l.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:l}).selectedObj[this.options.fcName]=l.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(u)}catch(o){p.e(o)}finally{p.f()}this.showLovDropdown=!0}case 5:return t.a(2)}},t,this)}))}},{key:"selectDropDownChange",value:function(e){this.onPsChange.emit(e)}}])}(p.a);return e.\u0275fac=function(t){return new(t||e)(f.Rb(d.a),f.Rb(l.a),f.Rb(a.a))},e.\u0275cmp=f.Lb({type:e,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[f.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(f.Xb(0,"ps-select-dropdown",0),f.fc("onPsChange",function(e){return t.selectDropDownChange(e)}),f.Wb()),2&e&&f.pc("id",t.id)("options",t.defaultDropDownLovOptions)},directives:[p.a],styles:[""]}),e}()},EZLY:function(t,n,o){"use strict";o.d(n,"a",function(){return m});var i=o("fXoL"),s=o("uqA0"),a=o("xV2m"),p=o("KVmc"),l=["templateList"],d=function(){return{labelKey:"no_matching_found_key",translate:!0}},f=["*"],m=function(){var t=function(t){function n(){var e;return r(this,n),(e=u(this,n)).searchOptions={contentReference:"container-lookup-option",selectors:"ion-label,span:not(:has(ps-label,ion-label),.highlight)",actionType:"filter"},e}return y(n,t),c(n,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){e(n,"init",this,3)([])}},{key:"ngAfterViewInit",value:function(){this.searchOptions.templateRef=this.templateList}}])}(s.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-template-list"]],viewQuery:function(e,t){var n;(1&e&&i.Wc(l,1,i.m),2&e)&&(i.Bc(n=i.gc())&&(t.templateList=n.first))},features:[i.Cb],ngContentSelectors:f,decls:7,vars:3,consts:[[1,"ps-template-list-searchbar-wrapper"],["id","search_in_template_list",3,"options"],[1,"ps-template-list-container"],["templateList",""],[1,"no-matching-found",3,"options"],["id","ps-template-list-main-content"]],template:function(e,t){1&e&&(i.oc(),i.Xb(0,"div",0),i.Sb(1,"ps-input-search-html",1),i.Wb(),i.Xb(2,"div",2,3),i.Sb(4,"ps-label",4),i.Xb(5,"div",5),i.nc(6),i.Wb(),i.Wb()),2&e&&(i.Fb(1),i.pc("options",t.searchOptions),i.Fb(3),i.pc("options",i.rc(2,d)))},directives:[a.a,p.a],encapsulation:2}),t}()},"P7Z/":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("BYmO"),i=n("DFXC"),s=n("Q0Ba"),a=n("fXoL"),p=function(){var e=function(e){function t(e,n){var o;return r(this,t),(o=u(this,t,[e,n])).mainOptions={},o}return y(t,e),c(t,[{key:"ngOnInit",value:function(){this.mainOptions=this.options,this.mainOptions.type="email",this.mainOptions.iconOptions={iconName:"input-mail"}}},{key:"onChangeEmail",value:function(e){this.onPsChange.emit(e)}}])}(o.a);return e.\u0275fac=function(t){return new(t||e)(a.Rb(s.a),a.Rb(i.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["ps-input-email"]],inputs:{options:"options"},features:[a.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(a.Xb(0,"ps-keyin-input",0),a.fc("onPsChange",function(e){return t.onChangeEmail(e)}),a.Wb()),2&e&&a.pc("id",t.id)("options",t.mainOptions)},directives:[o.a],styles:[""]}),e}()},PUN2:function(t,n,o){"use strict";o.d(n,"a",function(){return O});var i=o("fXoL"),s=o("V0Fi"),a=o("fOh1"),p=o("EZLY"),l=o("ofXK"),d=o("0BTV"),f=o("BygU");function m(e,t){if(1&e&&i.Sb(0,"ps-action-hyperlink",2),2&e){var n=i.ic();i.pc("options",n.addBeneficiaryOptions)}}function h(e,t){if(1&e){var n=i.Yb();i.Xb(0,"ps-container-lookup-option",4),i.fc("clickedCard",function(e){return i.Fc(n),i.ic(2).updateCard(e)}),i.Wb()}if(2&e){var o=t.$implicit,s=i.ic(2);i.pc("options",s.populateBenefCard(o))("itemCard",o)}}function b(e,t){if(1&e&&(i.Xb(0,"div"),i.Pc(1,h,1,2,"ps-container-lookup-option",3),i.Wb()),2&e){var n=i.ic();i.Fb(1),i.pc("ngForOf",n.options.itemList)}}var O=function(){var t=function(t){function n(){var e;return r(this,n),(e=u(this,n)).options={},e.onClickCard=new i.o,e.reloadFct=new i.o,e.labelValuesMap=new Map,e.editRequestMap=new Map,e.headerMap=new Map,e.addBeneficiaryOptions={route:"add-payId",labelKey:"add_payid_benef_key",iconOptions:{iconName:"add-benef",labelOptions:{labelKey:"add_payid_benef_key"}},pageOptions:{operId:s.a.PAYID_BENEFICIARY_OPER_ID,title:"payid_beneficiary_key",iconName:"beneficiaries"}},e.showSingleItem=!1,e.populatePayIdBeneficiariesMap(),e}return y(n,t),c(n,[{key:"ngOnInit",value:function(){e(n,"init",this,3)([]),this.options.listOfOptions&&(this.options.listOfOptions.map(function(e,t){return e.rowIndex=t}),this.options.itemList=this.options.listOfOptions)}},{key:"populateBenefCard",value:function(e){var t={};return t.labelKey=this.options.labelKey,t.fcName=this.options.fcName,t.currencyFlag="currencyDesc",t.labelsValueMap=this.labelValuesMap,t.headerMap=this.headerMap,t.formGroup=this.options.group,t.itemList=this.options.itemList,t.showInitialCardValues=2,t.editActionUrl=a.a.serviceUrl.personalizationNicknameEndPoint,t.editRequestMap=this.editRequestMap,t.group=this.options.group,t.actionDetailsOptions=[{id:"delete",buttonIcon:"delete",labelOptions:{labelKey:"delete_key"},actionUrl:a.a.serviceUrl.deleteBeneficiaryEndPoint,cssClass:"delete-benef fab-edit-button",label:"delete_key",iconName:"trash",actionType:"delete",alertType:"prompt",alertStyle:"warning",reloadList:!0,operId:s.a.PAYID_BENEFICIARY_OPER_ID},{id:"edit",label:"edit_key",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"edit1",labelOptions:{labelKey:"edit_key"}},route:"add-payId",navigationOptions:{queryParams:{readOnlypage:!1}},pageOptions:{operId:s.a.PAYID_BENEFICIARY_OPER_ID,iconName:"edit1",title:"edit_key"}}},{id:"transfer",label:"transfer_key",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"create",labelOptions:{labelKey:"transfer_key"}},route:"payId-transfer",navigationOptions:{queryParams:{readOnlypage:!1}},pageOptions:{operId:s.a.PAYID_TRANSFER_OPER_ID,iconName:"create"},preCallFunction:{func:function(){var e=this;return new Promise(function(n,o){n(e.executionClass.prepareTransaction(t.actionDetailsOptions[2].actionHyperlink))})},executionClass:this,params:[]}}}],t.statementOptions={},t.isEditable=this.options.isEditable,t.reloadFunction={func:function(){var e=this;return new Promise(function(t,n){t(e.executionClass.reloadList())})},executionClass:this,params:[]},t}},{key:"reloadList",value:function(){this.reloadFct.emit()}},{key:"updateCard",value:function(e){e&&this.options.listOfOptions&&(this.options.itemList=this.options.listOfOptions.filter(function(t){return t===e}),this.options.item=this.options.itemList[0],this.showSingleItem=!this.showSingleItem,this.options.showItemPopUp=!this.options.showItemPopUp),this.onClickCard.emit(this.options)}},{key:"populatePayIdBeneficiariesMap",value:function(){var e,t;e={key:"payIdContent",value:"------",isEdit:!1},t={key:"purpose",value:"----",isEdit:!1},this.labelValuesMap.set("payid_key",e),this.labelValuesMap.set("purpose_key",t),this.editRequestMap.set("newNickName","nickName"),this.editRequestMap.set("type","A")}},{key:"prepareTransaction",value:function(e){e.navigationOptions.queryParams.ScreenVO={toBeneficiary:e.navigationOptions.queryParams.nickName,toBeneficiary_lookupKey:e.navigationOptions.queryParams.nickName}}}])}(p.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-payId-beneficiary"]],inputs:{options:"options"},outputs:{onClickCard:"onClickCard",reloadFct:"reloadFct"},features:[i.Cb],decls:4,vars:2,consts:[["class","add-beneficiary-button",3,"options",4,"ngIf"],[4,"ngIf"],[1,"add-beneficiary-button",3,"options"],[3,"options","itemCard","clickedCard",4,"ngFor","ngForOf"],[3,"options","itemCard","clickedCard"]],template:function(e,t){1&e&&(i.Xb(0,"ps-template-list"),i.Xb(1,"div"),i.Pc(2,m,1,1,"ps-action-hyperlink",0),i.Wb(),i.Pc(3,b,2,1,"div",1),i.Wb()),2&e&&(i.Fb(2),i.pc("ngIf",t.options.isEditable),i.Fb(1),i.pc("ngIf",(null==t.options||null==t.options.itemList?null:t.options.itemList.length)>0))},directives:[p.a,l.o,d.a,l.n,f.a],styles:[""]}),t}()},ULj9:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i,s,a=n("mrSG"),p=n("ZyuK"),l=n("zngb"),d=n("ZF3V"),f=n("DFXC"),m=n("Q0Ba"),h=n("V0Fi"),b=n("fXoL"),O=n("Isd1"),v=n("+n0y"),g=n("iOQE"),k=((s=function(e){function t(e,n,o){var i;return r(this,t),(i=u(this,t,[e,n])).omniPull=o,i.defaultSelectOptions={labelKey:"label_branch_key",placeHolder:"branch_key"},i.branches=[],i}return y(t,e),c(t,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options)}},{key:"ngOnChanges",value:function(){this.getBranches()}},{key:"getBranches",value:function(){var e=this,t={countryId:this.options.selectedCountryCode?parseInt(this.options.selectedCountryCode):null,regionId:this.options.selectedRegionCode?parseInt(this.options.selectedRegionCode):null,cityId:this.options.selectedCityCode?parseInt(this.options.selectedCityCode):null,mapTypesInclude:"'B'"};this.branches=[],this.omniPull.returnMapAtmBranches(t).then(function(t){if(e.defaultSelectOptions.listOfOptions=[],t&&null!=t.gridModel&&t.gridModel.length>0){for(var n=0;n<t.gridModel.length;n++)e.branches.push({itemValue:t.gridModel[n].vsBranchCode,description:t.gridModel[n].briefDesc,selectedObj:t.gridModel[n]});e.defaultSelectOptions.listOfOptions=e.branches;var o=e.defaultSelectOptions.group.controls[e.defaultSelectOptions.fcName].value;o&&!e.defaultSelectOptions.listOfOptions.some(function(e){return e.itemValue===o})&&e.defaultSelectOptions.group.controls[e.defaultSelectOptions.fcName].setValue(null)}else e.defaultSelectOptions.listOfOptions=[],e.defaultSelectOptions.group.controls[e.defaultSelectOptions.fcName].setValue(null),e.logger.warn(t,"empty response")}).catch(function(e){})}},{key:"onBranchChange",value:function(e){this.loggerP.log("onBranchChange"+e),this.onPsChange.emit(e)}}])}(g.a)).\u0275fac=function(e){return new(e||s)(b.Rb(m.a),b.Rb(f.a),b.Rb(p.a))},s.\u0275cmp=b.Lb({type:s,selectors:[["ps-dropdown-branches"]],inputs:{options:"options"},features:[b.Cb,b.Db],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(b.Xb(0,"ps-select-dropdown",0),b.fc("onPsChange",function(e){return t.onBranchChange(e)}),b.Wb()),2&e&&b.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[g.a],styles:[""]}),s),_=((i=function(e){function t(e,n,o){var i;return r(this,t),(i=u(this,t,[e,n])).omniPull=o,i.defaultOptions={},i}return y(t,e),c(t,[{key:"ngOnInit",value:function(){var e,t;return Object(a.b)(this,void 0,void 0,o().m(function n(){var i,s;return o().w(function(n){for(;;)switch(n.n){case 0:if(this.defaultOptions={countryRegionCityOptions:{countriesOptions:{labelKey:"country__key",placeHolder:"select_country_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.countriesOptions.fcName:"branch_country",group:this.options.group,iconOptions:{iconName:"clipboard"}},regionOptions:{labelKey:"region_key",placeHolder:"region_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.regionOptions.fcName:"branch_region",group:this.options.group},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.cityOptions.fcName:"branch_city",group:this.options.group}}},this.defaultOptions.branchesOptions={group:this.options.group,fcName:this.options.branchesOptions?this.options.branchesOptions.fcName:"default_branch",placeHolder:(null===(e=this.options.branchesOptions)||void 0===e?void 0:e.placeHolder)?this.options.branchesOptions.placeHolder:"branch_key",labelKey:(null===(t=this.options.branchesOptions)||void 0===t?void 0:t.labelKey)?this.options.branchesOptions.labelKey:"label_branch_key"},this.commonProv.copyObject(this.defaultOptions,this.options),i=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName),!this.options.parameterToCheck){n.n=2;break}return n.n=1,this.omniPull.checkBranch(this.options.parameterToCheck);case 1:s=n.v,i=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],s.enableCifBranch||this.defaultOptions.branchesOptions.fcName&&!i.IS_VISIBLE?0:i.IS_MANDATORY),n.n=3;break;case 2:this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],i.IS_MANDATORY);case 3:return n.a(2)}},n,this)}))}},{key:"onSelectBranch",value:function(e){this.onPsChange.emit(e)}},{key:"onChildDropdownSelected",value:function(e){if(e[h.a.SELECTED_DROPDOWN]){var t=e[h.a.SELECTED_DROPDOWN];t===h.a.COUNTRY_DROPDOWN?(this.defaultOptions.branchesOptions.selectedCountryCode=void 0!==e.selectedObj?e.selectedObj.countriesID:null!=e.newValue?e.newValue:null,this.defaultOptions.branchesOptions.selectedRegionCode=null,this.defaultOptions.branchesOptions.selectedCityCode=null):t===h.a.REGION_DROPDOWN?(this.defaultOptions.branchesOptions.selectedRegionCode=void 0!==e.selectedObj?e.selectedObj.countriesRegionID:null!=e.newValue?e.newValue:null,this.defaultOptions.branchesOptions.selectedCityCode=null):t===h.a.CITY_DROPDOWN&&(this.defaultOptions.branchesOptions.selectedCityCode=void 0!==e.selectedObj?e.selectedObj.citiesId:null!=e.newValue?e.newValue:null)}this.defaultOptions.branchesOptions=Object.assign({},this.defaultOptions.branchesOptions)}}])}(d.a)).\u0275fac=function(e){return new(e||i)(b.Rb(m.a),b.Rb(f.a),b.Rb(p.a))},i.\u0275cmp=b.Lb({type:i,selectors:[["ps-complex-select-branch"]],inputs:{options:"options"},features:[b.Cb],decls:3,vars:4,consts:[[1,"ps-complex-swift-benef-creation"],[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(b.Xb(0,"ps-container-complex",0),b.Xb(1,"ps-complex-country-regions-cities",1),b.fc("onPsChange",function(e){return t.onChildDropdownSelected(e)}),b.Wb(),b.Xb(2,"ps-dropdown-branches",1),b.fc("onPsChange",function(e){return t.onSelectBranch(e)}),b.Wb(),b.Wb()),2&e&&(b.Fb(1),b.pc("id",t.id)("options",t.defaultOptions.countryRegionCityOptions),b.Fb(1),b.pc("id",t.id)("options",t.defaultOptions.branchesOptions))},directives:[O.a,v.a,k],styles:[""]}),i)},"fmW+":function(t,n,o){"use strict";o.d(n,"a",function(){return I});var i,s=o("ZF3V"),a=o("DFXC"),p=o("Q0Ba"),l=o("fXoL"),d=o("Isd1"),f=o("V0Fi"),m=o("41l2"),h=((i=function(e){function t(e,n){var o;return r(this,t),(o=u(this,t,[e,n])).common=e,o.logger=n,o.defaultOptions={labelKey:"payid_type_key",placeHolder:"select_payid_type_key",lovTypeId:f.a.LOV_TYPE_ID_BENEF_PAYID_TYPES},o}return y(t,e),c(t,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.defaultOptions.listOfOptions=[{itemValue:"M",description:"Mobile Number",selectedObj:{itemValue:"M",description:"Mobile Number"}},{itemValue:"E",description:"Email Address",selectedObj:{itemValue:"E",description:"Email Address"}},{itemValue:"P",description:"Phone Number",selectedObj:{itemValue:"P",description:"Phone Number"}}]}},{key:"onBenefTypeSelected",value:function(e){this.onPsChange.emit(e)}}])}(m.a)).\u0275fac=function(e){return new(e||i)(l.Rb(p.a),l.Rb(a.a))},i.\u0275cmp=l.Lb({type:i,selectors:[["ps-lov-payId-types"]],inputs:{options:"options"},features:[l.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(l.Xb(0,"ps-dropdown-lov",0),l.fc("onPsChange",function(e){return t.onBenefTypeSelected(e)}),l.Wb()),2&e&&l.pc("id",t.id)("options",t.defaultOptions)},directives:[m.a],styles:[""]}),i),b=o("ofXK"),O=o("7Cko"),v=o("P7Z/");function g(e,t){if(1&e&&l.Sb(0,"ps-entity-phone-number",4),2&e){var n=l.ic();l.pc("options",n.options.mobileOptions)}}function k(e,t){if(1&e&&l.Sb(0,"ps-input-email",5),2&e){var n=l.ic();l.pc("options",n.options.emailOptions)}}function _(e,t){if(1&e&&l.Sb(0,"ps-entity-phone-number",6),2&e){var n=l.ic();l.pc("options",n.options.phoneOptions)}}var P,I=((P=function(t){function n(e,t){var o;return r(this,n),(o=u(this,n,[e,t])).common=e,o.logger=t,o.selectedType="",o}return y(n,t),c(n,[{key:"ngOnInit",value:function(){e(n,"init",this,3)([])}},{key:"onPayIdTypeSelected",value:function(e){this.selectedType=e&&e.itemValue?e.itemValue:null,this.onPsChange.emit(e)}}])}(s.a)).\u0275fac=function(e){return new(e||P)(l.Rb(p.a),l.Rb(a.a))},P.\u0275cmp=l.Lb({type:P,selectors:[["ps-complex-payId-types-details"]],inputs:{options:"options"},features:[l.Cb],decls:5,vars:4,consts:[["id","payidTypes",3,"options","onPsChange"],["id","mobile",3,"options",4,"ngIf"],["id","email",3,"options",4,"ngIf"],["id","phone",3,"options",4,"ngIf"],["id","mobile",3,"options"],["id","email",3,"options"],["id","phone",3,"options"]],template:function(e,t){1&e&&(l.Xb(0,"ps-container-complex"),l.Xb(1,"ps-lov-payId-types",0),l.fc("onPsChange",function(e){return t.onPayIdTypeSelected(e)}),l.Wb(),l.Pc(2,g,1,1,"ps-entity-phone-number",1),l.Pc(3,k,1,1,"ps-input-email",2),l.Pc(4,_,1,1,"ps-entity-phone-number",3),l.Wb()),2&e&&(l.Fb(1),l.pc("options",t.options.payIdTypesOptions),l.Fb(1),l.pc("ngIf","M"===t.selectedType),l.Fb(1),l.pc("ngIf","E"===t.selectedType),l.Fb(1),l.pc("ngIf","P"===t.selectedType))},directives:[d.a,h,b.o,O.a,v.a],styles:[""]}),P)},q5E2:function(t,n,i){"use strict";i.r(n),i.d(n,"PayIdTransferPage",function(){return X});var a,p=i("3Pt+"),l=i("PUN2"),f=i("fmW+"),m=i("V0Fi"),h=i("zngb"),b=i("QZhd"),O=i("woXy"),v=i("gKqT"),g=i("fXoL"),k=i("kRg/"),_=i("uKCV"),P=i("sAFK"),I=i("+f2X"),C=i("mrSG"),N=i("ZF3V"),w=i("Q0Ba"),T=i("DFXC"),D=i("ZyuK"),S=i("Isd1"),L=i("L0og"),V=["complexLookupComponentObj"],E=((a=function(t){function n(e,t,o){var i;return r(this,n),(i=u(this,n,[e,t])).common=e,i.logger=t,i.omniPull=o,i.options={requestObject:null},i.complexLookupOptions={requestObject:null,notFoundMessage:"no_payids_found_key"},i.labelValuesMap=new Map,i.populatePayIdMap(),i}return y(n,t),c(n,[{key:"ngOnInit",value:function(){e(n,"init",this,3)([]),this.returnPayIdList(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.common.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:l.a}},{key:"returnPayIdList",value:function(){return Object(C.b)(this,void 0,void 0,o().m(function e(){var t,n,i=this;return o().w(function(e){for(;;)switch(e.n){case 0:return t={filterByOper:!0,fromTo:this.options.fromTo},e.n=1,this.omniPull.returnBeneficiaries(t).catch(function(e){i.complexLookupOptions.listOfOptions=[],i.logger.error("Error: While fetching payID beneficiaries in PsLookupBeneficiariesLocalComponent :",e)});case 1:(n=e.v).gridModel="to"===this.options.fromTo?[{submitFieldValueMap:{nickName:"IBA Wallet",linkedAccount:"00018000132160353140272",payIdType:"P",status:"Active",payIdTypeDescriptionConcat:"Phone Number",phoneNumber:"376712345",lookupKey:"1",purpose:"business wallet",previewProperty:"nickName",statusCode:"A"},dataSaveId:1},{submitFieldValueMap:{nickName:"NAB Wallet",linkedAccount:"00018000132160353140272",payIdType:"P",status:"Active",payIdTypeDescriptionConcat:"Email Address",emailaddress:"payID2@azentio.com",lookupKey:"2",purpose:"business wallet",previewProperty:"nickName",statusCode:"A"},dataSaveId:2}]:[{submitFieldValueMap:{nickName:"Ahmed ElFkhrany",availableBalance:"2000000",linkedAccount:"00018000132160353140272",payIdType:"P",status:"Active",payIdTypeDescriptionConcat:"Phone Number",phoneNumber:"376712345",lookupKey:"00018000132160353140272",purpose:"Testing",previewProperty:"nickName",statusCode:"A"}},{submitFieldValueMap:{nickName:"Mohamed Fawzy",availableBalance:"111745",linkedAccount:"00018000132100353140275",payIdType:"P",status:"Active",payIdTypeDescriptionConcat:"Mobile Number",mobileNumber:"911606588589",lookupKey:"00018000132100353140275",purpose:"Testing",previewProperty:"nickName",statusCode:"A"}},{submitFieldValueMap:{nickName:"Muhammad Romani",availableBalance:"2000",linkedAccount:"00018000132160353140272",payIdType:"E",status:"Deactive",payIdTypeDescriptionConcat:"Email Address",emailaddress:"mohammadromani@azentio.com",lookupKey:"MR1300018000132160353140272",purpose:"Testing",previewProperty:"nickName",statusCode:"B"}}],this.complexLookupOptions.listOfOptions=n&&n.gridModel.length>0?this.populatePayIdsList(n.gridModel):[];case 2:return e.a(2)}},e,this)}))}},{key:"populatePayIdsList",value:function(e){var t,n=[],o=s(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;i&&i.submitFieldValueMap&&(i=i.submitFieldValueMap,n.push({nickName:i.nickName,payIdType:i.payIdType,payIdTypeDescriptionConcat:i.payIdTypeDescriptionConcat,payIdContent:i.payIdTypeDescriptionConcat+" - "+(i.phoneNumber||i.emailAddress||i.mobileNumber),phoneNumber:i.phoneNumber,emailaddress:i.emailAddress,mobileNumber:i.mobileNumber,purpose:i.purpose,lookupKey:i.nickName,previewProperty:"nickName"}))}}catch(a){o.e(a)}finally{o.f()}return n}},{key:"onSelectItem",value:function(e){}},{key:"populatePayIdMap",value:function(){var e;e={key:"payIdContent",value:"------",isEdit:!1},this.labelValuesMap.set("payid_key",e)}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}}])}(N.a)).\u0275fac=function(e){return new(e||a)(g.Rb(w.a),g.Rb(T.a),g.Rb(D.a))},a.\u0275cmp=g.Lb({type:a,selectors:[["ps-lookup-own-payIds"]],viewQuery:function(e,t){var n;1&e&&g.Wc(V,1),2&e&&g.Bc(n=g.gc())&&(t.complexLookupComponentObj=n.first)},inputs:{options:"options"},features:[g.Cb],decls:2,vars:2,consts:[[1,"ps-complex-own-payIds"],[3,"id","options","changeItem"]],template:function(e,t){1&e&&(g.Xb(0,"ps-container-complex",0),g.Xb(1,"ps-complex-lookup",1),g.fc("changeItem",function(e){return t.onSelectItem(e)}),g.Wb(),g.Wb()),2&e&&(g.Fb(1),g.pc("id",t.id)("options",t.complexLookupOptions))},directives:[S.a,L.a],styles:[""]}),a),F=i("+c6a"),A=i("CKXk"),R=i("G/Qj"),B=i("/QlS"),j=i("KuXP"),M=i("ULj9");function x(e,t){if(1&e){var n=g.Yb();g.Xb(0,"ps-form-step",2),g.Xb(1,"ps-container-panel",3),g.Sb(2,"ps-lookup-own-payIds",4),g.Xb(3,"ps-complex-segment",5),g.fc("complexSegmentButtonClicked",function(e){return g.Fc(n),g.ic().onClickSegment(e)}),g.Xb(4,"ps-content-segment",6),g.Sb(5,"ps-lookup-own-payIds",4),g.Wb(),g.Xb(6,"ps-content-segment",7),g.Sb(7,"ps-complex-payId-types-details",4),g.Wb(),g.Wb(),g.Sb(8,"ps-complex-amount",4),g.Sb(9,"ps-input-varchar",4),g.Sb(10,"ps-input-varchar",4),g.Sb(11,"ps-select-toggle",4),g.Wb(),g.Xb(12,"ps-container-panel",8),g.Sb(13,"ps-complex-select-branch",4),g.Wb(),g.Wb()}if(2&e){var o=g.ic();g.pc("id",o.stepperOptions.namesofSteps[0]),g.Fb(1),g.pc("options",o.payidTransferPanelOptions),g.Fb(1),g.pc("options",o.fromPayIdLookupOptions),g.Fb(1),g.pc("options",o.complexSegmentOptions),g.Fb(1),g.pc("id",o.complexSegmentOptions.segmentContainerOptions.namesofSegments[0]),g.Fb(1),g.pc("options",o.toPayIdLookupOptions),g.Fb(1),g.pc("id",o.complexSegmentOptions.segmentContainerOptions.namesofSegments[1]),g.Fb(1),g.pc("options",o.payIdTypesDetailsOptions),g.Fb(1),g.pc("options",o.complexAmountOptions),g.Fb(1),g.pc("options",o.ownPurposeOptions),g.Fb(1),g.pc("options",o.benefPurposeOptions),g.Fb(1),g.pc("options",o.saveToBenefToggleOptions),g.Fb(1),g.pc("options",o.branchPanelOptions),g.Fb(1),g.pc("options",o.selectBranchOptions)}}var K,X=((K=function(t){function n(e){var t;return r(this,n),(t=u(this,n)).navService=e,t.formGroup=new p.f({}),t.transferVO={},t.stepperOptions={stepperName:"payId_transfer_stepper",isHorizontalStepper:!0,numberOfSteps:1,namesofSteps:["payId_transfer_details"],group:t.formGroup,submitOptions:{extraParams:{},submitServiceUrl:b.a.serviceUrl.commonSubmitAction,group:t.formGroup,postCallFunction:{func:function(e){var t=this;return new Promise(function(n,o){n(t.executionClass.handleScreenVo(e))})},executionClass:d(t),params:[d(t)]}},requestObject:t.transferVO},t.payidTransferPanelOptions={isExpandable:!0,labelKey:"payid_transfer_key",iconName:"document",expanded:!0},t.branchPanelOptions={isExpandable:!0,labelKey:"select_branch_key",iconName:"document",expanded:!0},t.fromPayIdLookupOptions={labelKey:"from_payid_key",placeHolder:"select_from_payid_key",component:l.a,group:t.formGroup,fcName:"fromPayId",fromTo:"from",requestObject:t.transferVO},t.toPayIdLookupOptions={labelKey:"to_payid_key",placeHolder:"select_to_payid_key",component:l.a,group:t.formGroup,fcName:"toBeneficiary",fromTo:"to",requestObject:t.transferVO},t.complexSegmentOptions={group:t.formGroup,segmentOptions:{fcName:"beneficiarySegment",segmentList:[{selected:!0,itemValue:"to_benef",description:t.commonProv.translate("to_beneficiary_key")},{selected:!0,itemValue:"to_others",description:t.commonProv.translate("to_other_key")}],group:t.formGroup},segmentContainerOptions:{numberOfSegments:2,namesofSegments:["beneficiary_segment","other_segment"]}},t.payIdTypesDetailsOptions={payIdTypesOptions:{fcName:"payIdType",group:t.formGroup},mobileOptions:{fcName:"mobileNo",labelKey:"mobile_no_key",placeHolder:"enter_mobile_no_key",group:t.formGroup},emailOptions:{fcName:"email",labelKey:"email_address_key",placeHolder:"enter_email_address_key",group:t.formGroup},phoneOptions:{fcName:"phoneNo",labelKey:"phone_number_key",placeHolder:"enter_phone_number_key",group:t.formGroup}},t.complexAmountOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"select_currency_key",group:t.formGroup,fcName:"currency"},amountOptions:{labelKey:"amount_key",placeHolder:"enter_amount_key",fcName:"transferAmount",group:t.formGroup,type:"amount",decimalPoints:3},requestObject:t.transferVO},t.ownPurposeOptions={labelKey:"own_purpose_key",placeHolder:"enter_the_purpose_to_be_shown_on_your_statement_key",group:t.formGroup,fcName:"ownPurpose"},t.benefPurposeOptions={labelKey:"beneficiary_purpose_key",placeHolder:"enter_the_purpose_to_be_shared_with_beneficiary_bank_key",group:t.formGroup,fcName:"benefPurpose"},t.saveToBenefToggleOptions={labelKey:"save_beneficiary_key",placeHolder:"save_beneficiar_key",group:t.formGroup,fcName:"saveBenef",psClass:"toggleColor"},t.selectBranchOptions={fcName:"mapAtmBranchesDropdown",group:t.formGroup},t}return y(n,t),c(n,[{key:"ngOnInit",value:function(){e(n,"init",this,3)([]),this.baseFormGroup=this.formGroup,this.commonProv.copyObject(this.transferVO,this.navService.getAllParams()?this.navService.getAllParams().ScreenVO?this.navService.getAllParams().ScreenVO:this.navService.getAllParams():{})}},{key:"ionViewDidEnter",value:function(){e(n,"ionViewDidEnter",this,3)([])}},{key:"onClickSegment",value:function(e){var t,n;e===this.complexSegmentOptions.segmentOptions.segmentList[0].itemValue?(this.commonProv.applyDynScreenDisplay(h.a.ACTION_TYPE_MANDATORY,[this.payIdTypesDetailsOptions.payIdTypesOptions.fcName],0),this.commonProv.setValInsideNestedObj(this.payIdTypesDetailsOptions.payIdTypesOptions.fcName,null,this.transferVO),this.complexPayIdTypesDetailsComp.onPayIdTypeSelected()):(this.commonProv.applyDynScreenDisplay(h.a.ACTION_TYPE_MANDATORY,[this.toPayIdLookupOptions.fcName,this.toPayIdLookupOptions.fcName+"_lookupKey"],0),this.commonProv.setValInsideNestedObj(this.toPayIdLookupOptions.fcName,null,this.transferVO),null===(t=this.formGroup.controls[this.toPayIdLookupOptions.fcName])||void 0===t||t.reset(),null===(n=this.formGroup.controls[this.toPayIdLookupOptions.fcName+"_lookupKey"])||void 0===n||n.reset()),this.formGroup.controls[this.complexSegmentOptions.segmentOptions.fcName].setValue(e)}},{key:"savePayIdBeneficiary",value:function(){var e,t,n,o,i,s;s={operID:m.a.PAYID_BENEFICIARY_OPER_ID,title:"payid_beneficiary_key",component:"add-payId",param:{payIdType:null===(e=this.formGroup.controls[this.payIdTypesDetailsOptions.payIdTypesOptions.fcName])||void 0===e?void 0:e.value,mobileNumber:null===(t=this.formGroup.controls[this.payIdTypesDetailsOptions.mobileOptions.fcName])||void 0===t?void 0:t.value,emailAddress:null===(n=this.formGroup.controls[this.payIdTypesDetailsOptions.emailOptions.fcName])||void 0===n?void 0:n.value,phoneNumber:null===(o=this.formGroup.controls[this.payIdTypesDetailsOptions.phoneOptions.fcName])||void 0===o?void 0:o.value,purpose:null===(i=this.formGroup.controls[this.benefPurposeOptions.fcName])||void 0===i?void 0:i.value}},this.navService.openPage(s)}},{key:"handleScreenVo",value:function(e){var t;1==(null===(t=this.formGroup.controls[this.saveToBenefToggleOptions.fcName])||void 0===t?void 0:t.value)&&this.savePayIdBeneficiary()}}])}(v.OmniBasePage)).\u0275fac=function(e){return new(e||K)(g.Rb(O.a))},K.\u0275cmp=g.Lb({type:K,selectors:[["payId-transfer"]],viewQuery:function(e,t){var n;1&e&&g.Wc(f.a,1),2&e&&g.Bc(n=g.gc())&&(t.complexPayIdTypesDetailsComp=n.first)},features:[g.Cb],decls:2,vars:3,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],["id","payId-transfer-panel",3,"options"],[3,"options"],["id","payidTransferSegment",1,"payid-transfer-segment",3,"options","complexSegmentButtonClicked"],["segment1","",3,"id"],["segment2","",3,"id"],["id","branch-panel",3,"options"]],template:function(e,t){1&e&&(g.Xb(0,"ps-template-stepper",0),g.Pc(1,x,14,14,"ps-form-step",1),g.Wb()),2&e&&(g.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),g.Fb(1),g.pc("psStep","step1"))},directives:[k.a,_.a,P.a,I.a,E,F.a,A.a,f.a,R.a,B.a,j.a,M.a],styles:[""]}),K)}}])}();