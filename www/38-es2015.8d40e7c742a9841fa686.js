(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"+BRL":function(t,o,e){"use strict";e.d(o,"a",function(){return c});var i=e("DFXC"),s=e("Q0Ba"),n=e("BYmO"),p=e("fXoL");let c=(()=>{class t extends n.a{constructor(t,o){super(t,o),this.options={},this.defaultOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options,!1)}onInputChanged(t){this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(p.Rb(s.a),p.Rb(i.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ps-input-free-text"]],inputs:{options:"options"},features:[p.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(p.Xb(0,"ps-keyin-input",0),p.fc("onPsChange",function(t){return o.onInputChanged(t)}),p.Wb()),2&t&&p.pc("id",o.id)("options",o.defaultOptions)},directives:[n.a],styles:[""]}),t})()},"41l2":function(t,o,e){"use strict";e.d(o,"a",function(){return r});var i=e("mrSG"),s=e("ZyuK"),n=e("iOQE"),p=e("DFXC"),c=e("Q0Ba"),a=e("fXoL");let r=(()=>{class t extends n.a{constructor(t,o,e){super(t,o),this.omniPull=e,this.showLovDropdown=!1,this.defaultDropDownLovOptions={isLOVDropdown:!0}}ngOnInit(){this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(t=>{if(t){const o=t.get(this.options.fcName);o&&o.LOV_TYPE_ID&&o.LOV_TYPE_ID!==this.options.lovTypeId&&this.loadLovDropDown()}})}loadLovDropDown(){var t;return Object(i.b)(this,void 0,void 0,function*(){if(!this.defaultDropDownLovOptions.listOfOptions||0==(null===(t=this.defaultDropDownLovOptions.listOfOptions)||void 0===t?void 0:t.length)){const t=this.commonProv.getElementValidations(this.options.fcName);if(t&&t.LOV_TYPE_ID&&(this.options.lovTypeId=t.LOV_TYPE_ID),null==this.options.lovTypeId||void 0===this.options.lovTypeId)return void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov");if(this.options.lovAdminFilterParamName){const t=yield this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);t&&(this.options.lovAdminFilterParamName=t[this.options.lovAdminFilterParamName])}const o={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},e=yield this.omniPull.returnLovTypesValues(o).catch(t=>{this.showLovDropdown=!1,this.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",t)});if(this.defaultDropDownLovOptions.listOfOptions=[],e&&e.length>0){for(const t of e){const o={itemValue:t.itemValue,description:t.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(t.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:t};o.selectedObj[this.options.fcName]=t.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(o)}this.showLovDropdown=!0}}})}selectDropDownChange(t){this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(a.Rb(c.a),a.Rb(p.a),a.Rb(s.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[a.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(a.Xb(0,"ps-select-dropdown",0),a.fc("onPsChange",function(t){return o.selectDropDownChange(t)}),a.Wb()),2&t&&a.pc("id",o.id)("options",o.defaultDropDownLovOptions)},directives:[n.a],styles:[""]}),t})()},BcCD:function(t,o,e){"use strict";e.d(o,"a",function(){return u});var i=e("zngb"),s=e("JpVU"),n=e("DFXC"),p=e("qEF5"),c=e("Q0Ba"),a=e("ZyuK"),r=e("r40+"),l=e("fXoL");let u=(()=>{class t extends s.a{constructor(t,o,e){super(t,o,e),this.commonProv=t,this.dateOptions={},this.omniPull=p.a.injectionHandler(a.a)}ngOnInit(){this.commonProv.copyObject(this.dateOptions,this.options,!1);const t=this.omniPull.omniCommon.session.getValueOf(i.a.preLoginResponse).parameters;this.dateOptions.displayFormat=t.DefaultDateFormat?t.DefaultDateFormat.parameterVal:"DD/MM/YYYY",this.dateOptions.pickerFormat=this.dateOptions.displayFormat}ngOnChanges(){this.options&&this.options.min&&(this.dateOptions.min=this.options.min),this.options&&this.options.max&&(this.dateOptions.max=this.options.max)}dateChanged(t){this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(l.Rb(c.a),l.Rb(n.a),l.Rb(r.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["ps-date-day-month-year"]],inputs:{options:"options"},features:[l.Cb,l.Db],decls:1,vars:2,consts:[[1,"ps-day-month-year",3,"options","id","onPsChange","onPsInit"]],template:function(t,o){1&t&&(l.Xb(0,"ps-keyin-date",0),l.fc("onPsChange",function(t){return o.dateChanged(t)})("onPsInit",function(t){return o.onInit(t)}),l.Wb()),2&t&&l.pc("options",o.dateOptions)("id",o.id)},directives:[s.a],styles:[""]}),t})()},J8wZ:function(t,o,e){"use strict";e.d(o,"a",function(){return r});var i=e("mrSG"),s=e("fXoL"),n=e("ZyuK"),p=e("DFXC"),c=e("Q0Ba"),a=e("iOQE");let r=(()=>{class t extends a.a{constructor(t,o,e){super(t,o),this.omniPull=e,this.listOfIdTypes=[],this.expiryNeeded=new s.o,this.defaultOptions={labelKey:"id_type_key",placeHolder:"select_id_type_key"}}ngOnInit(){if(this.commonProv.copyObject(this.options,this.defaultOptions,!1),this.options.listOfOptions&&this.options.listOfOptions.length>0){this.defaultOptions.listOfOptions=this.options.listOfOptions,this.listOfIdTypes=[];for(const t of this.defaultOptions.listOfOptions)this.listOfIdTypes.push(t.selectedObj)}else this.loadIdTypes()}loadIdTypes(t){var o;return Object(i.b)(this,void 0,void 0,function*(){const e={idTypeList:"",param:t||(null===(o=this.options)||void 0===o?void 0:o.param)},i=yield this.omniPull.returnIdTypesList(e).catch(t=>{this.logger.error("Error: While fetching id types in PsLovIdTypesComponent :",t)});if(this.defaultOptions.listOfOptions=[],i&&i.gridModel&&i.gridModel.length>0){this.listOfIdTypes=i.gridModel,this.defaultOptions.listOfOptions.splice(0,this.defaultOptions.listOfOptions.length);for(const t of i.gridModel){const o={itemValue:t.CODE.toString(),description:t.briefDesc,selectedObj:t};this.defaultOptions.listOfOptions.push(o)}this.commonProv.copyObject(this.options,this.defaultOptions,!1)}})}onChangeIdTypes(t){for(let o of this.listOfIdTypes)o.CODE===t.itemValue&&this.expiryNeeded.emit("1"===o.ID_EXP_DTE_MAN);this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(s.Rb(c.a),s.Rb(p.a),s.Rb(n.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["ps-dropdown-id-types"]],inputs:{options:"options"},outputs:{expiryNeeded:"expiryNeeded"},features:[s.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(s.Xb(0,"ps-select-dropdown",0),s.fc("onPsChange",function(t){return o.onChangeIdTypes(t)}),s.Wb()),2&t&&s.pc("id",o.id)("options",o.options)},directives:[a.a],styles:[""]}),t})()},OEOT:function(t,o,e){"use strict";e.d(o,"a",function(){return a});var i=e("DFXC"),s=e("Q0Ba"),n=e("BcCD"),p=e("r40+"),c=e("fXoL");let a=(()=>{class t extends n.a{constructor(t,o,e){super(t,o,e),this.commonProv=t,this.dateDayMonthYearOptions={min:new Date}}ngOnInit(){this.commonProv.copyObject(this.dateDayMonthYearOptions,this.options,!1)}dataChanged(t){this.onPsChange.emit(t)}superWriteValue(t){super.writeValue(t)}}return t.\u0275fac=function(o){return new(o||t)(c.Rb(s.a),c.Rb(i.a),c.Rb(p.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["ps-date-day-month-year-future"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"options","id","onPsChange"]],template:function(t,o){1&t&&(c.Xb(0,"ps-date-day-month-year",0),c.fc("onPsChange",function(t){return o.dataChanged(t)}),c.Wb()),2&t&&c.pc("options",o.dateDayMonthYearOptions)("id",o.id)},directives:[n.a],styles:[""]}),t})()},"P7Z/":function(t,o,e){"use strict";e.d(o,"a",function(){return c});var i=e("BYmO"),s=e("DFXC"),n=e("Q0Ba"),p=e("fXoL");let c=(()=>{class t extends i.a{constructor(t,o){super(t,o),this.mainOptions={}}ngOnInit(){this.mainOptions=this.options,this.mainOptions.type="email",this.mainOptions.iconOptions={iconName:"input-mail"}}onChangeEmail(t){this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(p.Rb(n.a),p.Rb(s.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ps-input-email"]],inputs:{options:"options"},features:[p.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(p.Xb(0,"ps-keyin-input",0),p.fc("onPsChange",function(t){return o.onChangeEmail(t)}),p.Wb()),2&t&&p.pc("id",o.id)("options",o.mainOptions)},directives:[i.a],styles:[""]}),t})()},VEWP:function(t,o,e){"use strict";e.d(o,"a",function(){return O});var i=e("mrSG"),s=e("fXoL"),n=e("4lGw"),p=e("V0Fi"),c=e("ZyuK"),a=e("ZF3V"),r=e("EIUR"),l=e("DFXC"),u=e("zngb"),h=e("Q0Ba"),m=e("Isd1"),d=e("L0og");const f=["complexLookupComponentObj"];let O=(()=>{class t extends a.a{constructor(t,o,e,i){super(t,o),this.commonService=t,this.omniPull=e,this.accountsService=i,this.options={fromTo:"",requestObject:null},this.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!this.options.multiple&&this.options.multiple},this.onAccountChange=new s.o,this.onAccountDeleted=new s.o,this.labelValuesMap=new Map,this.psCurrency=new r.a,this.labelOptions={},this.allType=!1}ngOnInit(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}ngOnChanges(t){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}loadAccounts(t){return Object(i.b)(this,void 0,void 0,function*(){if(null!=t&&(this.options=t),this.options.listOfAccounts=[],void 0===this.options.fromTo||""===this.options.fromTo)return void this.logger.error("lookup_from_to_missing_key");const o=this.commonService.session.getValueOf(u.a.USERINFO),e=this.prepareRequestData(o);this.returnAccountList(e)})}returnAccountList(t){return Object(i.b)(this,void 0,void 0,function*(){const o=this.commonProv.session.getValueOf(p.a.PERSONALIZATION_CO);this.complexLookupOptions.listOfOptions=void 0;const e=yield this.omniPull.returnAccounts(t).catch(t=>{this.complexLookupOptions.listOfOptions=[],this.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",t)});if(e&&e.gridModel.length>0){if(this.allType){t.accountType="F",t.permittedGls="F";const o=yield this.omniPull.returnAccounts(t).catch(t=>{this.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",t)});o&&o.gridModel.length>0&&(e.gridModel=[...e.gridModel,...o.gridModel])}if(this.options.listOfAccounts=e.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(t=>t.accountNumber!==this.options.accountNumber)),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(t=>t.accountNumber!==this.options.accountNumber))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map((t,o)=>t.rowIndex=o),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)){let t="QR"===this.options.purpose?null==o?void 0:o.defaultQrPaymentAccKey:null==o?void 0:o.defaultTransferAccKey;this.complexLookupOptions.listOfOptions.map(o=>{o.personalizeKey&&o.personalizeKey===t&&(this.common.setValInsideNestedObj(this.options.fcName,o.lookupKey,this.options.requestObject),this.common.setValInsideNestedObj(this.options.fcName+"_lookupKey",o.lookupKey,this.options.requestObject))})}}else this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[]})}populateCustomAccounts(t){const o=[];for(const e of t){const t={briefNameEnglish:e.briefNameEnglish,cifShortNameEnglish:e.cifShortNameEnglish,accountNumber:e.accountNumber,balance:this.psCurrency.transform(null==e.balance?"0.0":e.balance,e.currencyDecimalPoints)+" "+(e.currencyBriefName||e.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==e.availableBalance?"0.0":e.availableBalance,e.currencyDecimalPoints)+" "+(e.currencyBriefName||e.currencyBriefNameEnglish),currencyBriefName:e.currencyBriefName||e.currencyBriefNameEnglish,currencyBriefNameEnglish:e.currencyBriefNameEnglish,currency:e.currency,accountTypeDesc:e.accountTypeDesc,additionalRef:e.additionalRef,ibanAccNo:e.ibanAccNo,accGl:e.accGl,serialNo:e.serialNo,branch:e.branch,cif:e.cif,formattedAccount:this.accountsService.returnFormattedAccount(e).formattedAccount,personalizeKey:e.personalizeKey,nickName:e.nickName,briefName:e.briefName,lookupKey:e.additionalRef,branchDescription:e.branchDescription?e.branchDescription:"",generalLedgerBriefNameEng:e.generalLedgerBriefNameEng?e.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:e.statusDescription,statusCode:e.status,accountFormat:this.accountsService.returnFormattedAccount(e).accountFormat};this.options.multiple&&(t.excludeType=e.excludeType),o.push(t)}return o}prepareRequestData(t){let o={};if(t&&t.omniUserVO&&(o={userCifNo:t.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(o={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(o.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(o.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(o.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(o.endUserId=this.options.endUserId),null!=this.options.fromCurrency?o.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(o.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)o.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{let t="";for(const o in this.options.accountAllowedCurrencies)t+=this.options.accountAllowedCurrencies[o]+",";t=t.slice(0,t.lastIndexOf(",")),o.accountAllowedCurrencies=t}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)o.accountAllowedTypes=this.options.accountAllowedTypes;else{let t="";for(const o in this.options.accountAllowedTypes)t+=this.options.accountAllowedTypes[o]+",";t=t.slice(0,t.lastIndexOf(",")),o.accountAllowedTypes=t}return o}fetchAccountBasedOnCurrency(t){return this.options.listOfAccounts}onChange(t){this.logger.log(t)}populateOwnAccountMap(){let t={},o={},e={};t={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},o={key:"currentBalance",value:"0.0",isEdit:!1},e={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",t),this.labelValuesMap.set("balance_key",o),this.labelValuesMap.set("available_balance_key",e)}onChangeItem(t){this.onAccountChange.emit(t)}onDeleteItem(t){t&&this.onAccountDeleted.emit(t)}handleMultipleSelection(){const t=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(t=>this.options.requestObject[this.options.fcName].some(o=>o.accountNumber==t.accountNumber)):[];this.complexLookupOptions.selectedItems=t.filter(t=>this.options.setAllAccountsAsSelecetd&&(!t.excludeType||!(t.excludeType.includes(p.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||t.excludeType.includes(p.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!this.options.setAllAccountsAsSelecetd).map(t=>Object.assign(Object.assign({item:t[t.previewProperty]},t),{itemLookup:t.lookupKey})),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}removeAccount(t){t&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(o=>t.accountNumber!=o.accountNumber):[])}reset(){this.complexLookupComponentObj.resetLookUp()}refreshAcounts(t){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(t)}}return t.\u0275fac=function(o){return new(o||t)(s.Rb(h.a),s.Rb(l.a),s.Rb(c.a),s.Rb(n.a))},t.\u0275cmp=s.Lb({type:t,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(t,o){if(1&t&&s.Wc(f,1),2&t){let t;s.Bc(t=s.gc())&&(o.complexLookupComponentObj=t.first)}},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[s.Cb,s.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(t,o){1&t&&(s.Xb(0,"ps-container-complex",0),s.Xb(1,"ps-complex-lookup",1,2),s.fc("changeItem",function(t){return o.onChangeItem(t)})("onDeleteItem",function(t){return o.onDeleteItem(t)}),s.Wb(),s.Wb()),2&t&&(s.Fb(1),s.pc("id",o.id)("options",o.complexLookupOptions))},directives:[m.a,d.a],styles:[""]}),t})()},uH6F:function(t,o,e){"use strict";e.r(o),e.d(o,"RegisterUserPage",function(){return G});var i=e("3Pt+"),s=e("OVQh"),n=e("fXoL"),p=e("fOh1"),c=e("ZF3V"),a=e("Q0Ba"),r=e("ofXK"),l=e("BygU");function u(t,o){if(1&t){const t=n.Yb();n.Xb(0,"ps-container-lookup-option",3),n.fc("clickedCard",function(o){return n.Fc(t),n.ic(2).updateCard(o)}),n.Wb()}if(2&t){const t=o.$implicit,e=n.ic(2);n.pc("id","ps-container-lookup-option_"+e.id)("options",e.containerLookUpOptions)("itemCard",t)}}function h(t,o){if(1&t&&(n.Xb(0,"div",1),n.Pc(1,u,1,3,"ps-container-lookup-option",2),n.Wb()),2&t){const t=n.ic();n.Fb(1),n.pc("ngForOf",t.options.itemList)}}let m=(()=>{class t extends c.a{constructor(t,o){super(t,t.logger),this.cdRef=o,this.onClickCard=new n.o,this.containerLookUpOptions={},this.labelValuesMap=new Map,this.headerMap=new Map,this.showSingleAccount=!1,this.requestMap=new Map,this.editRequestMap=new Map}ngOnInit(){super.init(),this.populateHeaderValueMap(),null==this.options.showOnlyList&&(this.options.showOnlyList=!1),this.containerLookUpOptions.currencyFlag="currencyBriefNameEnglish",this.containerLookUpOptions.labelsValueMap=this.labelValuesMap,this.containerLookUpOptions.headerMap=this.headerMap,this.containerLookUpOptions.formGroup=this.options.group,this.containerLookUpOptions.isEditable=this.options.isEditable,this.containerLookUpOptions.editActionUrl=p.a.serviceUrl.personalizationNicknameEndPoint,this.containerLookUpOptions.requestMap=this.requestMap,this.containerLookUpOptions.editRequestMap=this.editRequestMap,this.options&&this.options.listOfOptions&&(this.options.listOfOptions.map((t,o)=>t.rowIndex=o),this.options.itemList=this.options.listOfOptions),this.containerLookUpOptions.actionDetailsOptions=[],this.containerLookUpOptions.statementOptions={}}populateHeaderValueMap(){let t={},o={},e={},i={},s={},n={};t={key:"facilityType",value:""},o={key:"currencyName",value:"0.0"},e={key:"facilityBranch",value:"0.0"},i={key:"status",value:""},s={key:"title",value:"cifLongName",isEdit:!1,formGroupMap:{placeHolder:"",fcName:"cifLongName"}},n={key:"subTitle",value:"revolvingOneOff",isEdit:!1,formGroupMap:{placeHolder:"",fcName:"revolvingOneOff"}},this.labelValuesMap.set("facility_type_key",t),this.labelValuesMap.set("currency_key",o),this.labelValuesMap.set("ufacility_branch_key",e),this.labelValuesMap.set("status_key",i),this.headerMap.set("title",s),this.headerMap.set("subTitle",n)}updateCard(t){t&&this.options.listOfOptions&&(this.options.itemList=this.options.listOfOptions.filter(o=>o===t),this.options.item=this.options.itemList[0],this.showSingleAccount=!this.showSingleAccount,this.options.showItemPopUp=!this.options.showItemPopUp),this.onClickCard.emit(this.options)}ngAfterViewChecked(){this.cdRef.markForCheck(),this.options&&null==this.options.itemList?(this.options.itemList=this.options.listOfOptions,this.showSingleAccount=!1):(this.options&&this.options.itemList&&1===this.options.itemList.length&&!1===this.showSingleAccount||this.options&&void 0===this.options.showItemPopUp)&&(this.options.itemList=this.options.listOfOptions),this.containerLookUpOptions.itemList=this.options.itemList,this.containerLookUpOptions.formGroup=this.options.group}}return t.\u0275fac=function(o){return new(o||t)(n.Rb(a.a),n.Rb(n.i))},t.\u0275cmp=n.Lb({type:t,selectors:[["ps-option-facility-access"]],inputs:{options:"options"},outputs:{onClickCard:"onClickCard"},features:[n.Cb],decls:1,vars:1,consts:[["class","ps-options-facility",4,"ngIf"],[1,"ps-options-facility"],[3,"id","options","itemCard","clickedCard",4,"ngFor","ngForOf"],[3,"id","options","itemCard","clickedCard"]],template:function(t,o){1&t&&n.Pc(0,h,2,1,"div",0),2&t&&n.pc("ngIf",(null==o.options||null==o.options.itemList?null:o.options.itemList.length)>0)},directives:[r.o,r.n,l.a],styles:[""]}),t})();var d=e("zngb"),f=e("woXy"),O=e("gKqT"),y=e("0CJq"),b=e("qEF5"),g=e("kRg/"),v=e("uKCV"),L=e("sAFK"),C=e("+f2X"),N=e("6pjd"),k=e("+BRL"),P=e("mrSG"),_=e("iOQE"),A=e("DFXC"),I=e("ZyuK");let w=(()=>{class t extends _.a{constructor(t,o,e){super(t,o),this.omniPull=e,this.defaultSelectOptions={}}ngOnInit(){this.defaultSelectOptions={labelKey:this.options.labelKey?this.options.labelKey:"sub_profile_key",placeHolder:this.options.placeHolder?this.options.placeHolder:"sub_profile_key",group:this.options.group,fcName:this.options.fcName},this.fetchProfileDataFromService()}onProfileChange(t){}fetchProfileDataFromService(){return Object(P.b)(this,void 0,void 0,function*(){const t=yield this.omniPull.returnSubProfiles().catch(t=>{this.logger.error("Error: While fetching sub profiles in PsDropdownSubProfileComponent :",t)});this.defaultSelectOptions.listOfOptions=[],t&&t.length>0&&(t.forEach(t=>{for(const o of t.subProfile){const t=Object.assign(Object.assign({},o),{itemValue:o.profileId,description:o.name,selectedObj:o});this.defaultSelectOptions.listOfOptions.push(t)}}),this.logger.log("Success: fetchProfileDataFromService :-> this.defaultSelectOptions.listOfOptions",this.defaultSelectOptions.listOfOptions))})}}return t.\u0275fac=function(o){return new(o||t)(n.Rb(a.a),n.Rb(A.a),n.Rb(I.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["ps-dropdown-sub-profile"]],inputs:{options:"options"},features:[n.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(n.Xb(0,"ps-select-dropdown",0),n.fc("onPsChange",function(t){return o.onProfileChange(t)}),n.Wb()),2&t&&n.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[_.a],styles:[""]}),t})();var T=e("P7Z/"),D=e("7Cko"),x=e("V0Fi"),E=e("41l2");let F=(()=>{class t extends E.a{constructor(t,o){super(t,o),this.defaultOptions={iconLocation:p.a.ICON_LOCATION_LANGUAGE,lovTypeId:x.a.LOV_TYPE_ID_PREFERRED_LANGUAGES}}ngOnInit(){this.defaultOptions.labelKey=this.commonProv.translate("LANGUAGE_KEY"),this.commonProv.copyObject(this.defaultOptions,this.options,!1)}ngAfterContentInit(){}onChangeLov(t){this.onPsChange.emit(t),this.commonProv.presentProfile.next(!1)}stopBannersTimer(){this.commonProv.presentProfile.next(!0)}}return t.\u0275fac=function(o){return new(o||t)(n.Rb(a.a),n.Rb(A.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["ps-lov-preferred-language"]],inputs:{options:"options"},features:[n.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange","click"]],template:function(t,o){1&t&&(n.Xb(0,"ps-dropdown-lov",0),n.fc("onPsChange",function(t){return o.onChangeLov(t)})("click",function(){return o.stopBannersTimer()}),n.Wb()),2&t&&n.pc("id",o.id)("options",o.defaultOptions)},directives:[E.a],styles:[""]}),t})();var S=e("VEWP"),R=e("L0og");let V=(()=>{class t extends c.a{constructor(t,o,e){super(t,o),this.commonService=t,this.omniPull=e,this.options={requestObject:null},this.onFacilityChange=new n.o,this.formGroup=new i.f({}),this.complexLookupOptions={requestObject:null,notFoundMessage:"no_facility_found_key"},this.labelValuesMap=new Map}ngOnInit(){super.init(),this.loadFacilityAccessList(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.complexLookupOptions.multiple=!!this.options.multiple&&this.options.multiple,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:m}loadFacilityAccessList(){this.reutrnFacilityAccessList({})}reutrnFacilityAccessList(t){return Object(P.b)(this,void 0,void 0,function*(){const o=yield this.omniPull.returnFinancingAccess(t).catch(t=>{this.complexLookupOptions.listOfOptions=[],this.logger.error("Error: While fetching facilities in PsLookupFacilityAccessComponent :",t)});this.complexLookupOptions.listOfOptions=o&&o.gridModel.length>0?this.populateFacilities(o.gridModel):[]})}onChangeItem(t){this.onFacilityChange.emit(t.item)}populateFacilities(t){this.listOfFacilities=[];for(const o of t)this.listOfFacilities.push({cifLongName:o.cifLongName,facilityCode:o.facilityCode,revolvingOneOff:o.revolvingOneOff,currencyName:o.currencyName,facilityType:o.facilityType,cifNo:o.cifNo,fromApplication:o.fromApplication,cifIdNo:o.cifIdNo,facilityBranch:o.facilityBranch,facilityValue:o.facilityValue,status:o.status,lookupKey:o.lookupKey,previewProperty:"cifLongName"});return this.listOfFacilities}}return t.\u0275fac=function(o){return new(o||t)(n.Rb(a.a),n.Rb(A.a),n.Rb(I.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["ps-lookup-facility-access"]],inputs:{options:"options"},outputs:{onFacilityChange:"onFacilityChange"},features:[n.Cb],decls:1,vars:2,consts:[[3,"id","options","changeItem"]],template:function(t,o){1&t&&(n.Xb(0,"ps-complex-lookup",0),n.fc("changeItem",function(t){return o.onChangeItem(t)}),n.Wb()),2&t&&n.pc("id",o.id)("options",o.complexLookupOptions)},directives:[R.a],styles:[""]}),t})();var M=e("J8wZ");let U=(()=>{class t extends _.a{constructor(t,o,e){super(t,o),this.commonProv=t,this.loggerP=o,this.omniPull=e,this.defaultSelectOptions={labelKey:"individual_cif_no_key",placeHolder:"select_individual_cif_no_key"}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options),this.returnIndividualCifNo()}onChange(t){this.onPsChange.emit(t)}returnIndividualCifNo(){return Object(P.b)(this,void 0,void 0,function*(){const t=yield this.omniPull.returnCIFList({}).catch(t=>{this.commonProv.logger.error("Error: While fetching returnCIFList in cif-list-report page :",t)});if(this.defaultSelectOptions.listOfOptions=[],t&&t.gridModel&&t.gridModel.length>0)for(const o of t.gridModel)this.defaultSelectOptions.listOfOptions.push({itemValue:o.userCifNo,description:o.userCifNo+"-"+o.firstName,selectedObj:o})})}}return t.\u0275fac=function(o){return new(o||t)(n.Rb(a.a),n.Rb(A.a),n.Rb(I.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["ps-dropdown-individual-cif-no"]],inputs:{options:"options"},features:[n.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(n.Xb(0,"ps-select-dropdown",0),n.fc("onPsChange",function(t){return o.onChange(t)}),n.Wb()),2&t&&n.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[_.a],styles:[""]}),t})();var j=e("+0sH"),K=e("OEOT");function B(t,o){if(1&t){const t=n.Yb();n.Xb(0,"ps-form-step",2),n.Xb(1,"ps-container-panel",0),n.Xb(2,"ps-input-username",3),n.fc("onPsChange",function(o){return n.Fc(t),n.ic().onChangeUsername(o)}),n.Wb(),n.Sb(3,"ps-input-free-text",0),n.Sb(4,"ps-input-free-text",0),n.Sb(5,"ps-dropdown-sub-profile",0),n.Sb(6,"ps-input-email",0),n.Sb(7,"ps-entity-phone-number",0),n.Sb(8,"ps-lov-preferred-language",0),n.Sb(9,"ps-lookup-own-accounts",4),n.Sb(10,"ps-lookup-facility-access",0),n.Sb(11,"ps-dropdown-id-types",0),n.Sb(12,"ps-input-free-text",0),n.Sb(13,"ps-dropdown-individual-cif-no",0),n.Sb(14,"ps-select-checkbox",5),n.Sb(15,"ps-date-day-month-year-future",6),n.Wb(),n.Wb()}if(2&t){const t=n.ic();n.pc("id",t.options.namesofSteps[0]),n.Fb(1),n.pc("options",t.panelOptions1),n.Fb(1),n.pc("options",t.userId),n.Fb(1),n.pc("options",t.username),n.Fb(1),n.pc("options",t.arabicName),n.Fb(1),n.pc("options",t.subProfile),n.Fb(1),n.pc("options",t.userEmail),n.Fb(1),n.pc("options",t.phoneOptions),n.Fb(1),n.pc("options",t.alertLanguage),n.Fb(1),n.pc("options",t.accountListOptions),n.Fb(1),n.pc("options",t.facilityDetailsOptions),n.Fb(1),n.pc("options",t.dropdownIdTypesOptions),n.Fb(1),n.pc("options",t.idNumberOptions),n.Fb(1),n.pc("options",t.individualCifNoOptions),n.Fb(1),n.pc("options",t.loginTimeFrameOptions),n.Fb(1),n.pc("options",t.dateOptions)}}let G=(()=>{class t extends O.OmniBasePage{constructor(t,o,e){super(),this.navService=t,this.omniCommon=o,this.commonProvider=e,this.RegisterAdminUserVO={},this.isEditState=!1,this.formGroup=new i.f({}),this.options={stepperName:"corporate_user_register_stepper",numberOfSteps:1,group:this.formGroup,submitOptions:{submitServiceUrl:p.a.serviceUrl.registerUser,group:this.formGroup},requestObject:this.RegisterAdminUserVO,isHorizontalStepper:!0,namesofSteps:["registerUser"]},this.userId={group:this.formGroup,fcName:"newUserName",placeHolder:"user_name_key",labelKey:"user_name_key"},this.username={group:this.formGroup,fcName:"newName",placeHolder:"name_key",labelKey:"name_key",iconOptions:{iconName:"user"}},this.arabicName={group:this.formGroup,fcName:"arabicName",placeHolder:"enter_arabic_name_key",labelKey:"arabic_name_key",iconOptions:{iconName:"user"}},this.phoneOptions={group:this.formGroup,fcName:"mobileNumber",labelKey:"phone_number_key"},this.alertLanguage={group:this.formGroup,fcName:"alertLanguage",labelKey:"alert_language_key",placeHolder:"alert_language_key"},this.userEmail={group:this.formGroup,fcName:"email",labelKey:"email_key",iconName:"register-mail",placeHolder:"email_key"},this.subProfile={group:this.formGroup,fcName:"subProfile",labelKey:"sub_profile_key",placeHolder:"user_sub_profile_key",iconOptions:{iconName:"document"}},this.panelOptions1={isExpandable:!0,labelKey:"user_registration_key",iconName:"document",expanded:!0},this.accountListOptions={labelKey:"account_list_key",placeHolder:"select_accounts_key",component:s.a,group:this.formGroup,fcName:"accountList",fromTo:"from",requestObject:this.RegisterAdminUserVO,multiple:!0,allType:!0,glTypes:"G",accountType:"G",enableListPagination:!0,endUserId:this.navService.getAllParams()&&this.navService.getAllParams().ScreenVO&&this.navService.getAllParams().ScreenVO.userId?this.navService.getAllParams().ScreenVO.userId:void 0},this.facilityDetailsOptions={labelKey:"financing_list",placeHolder:"select_from_financing_list_key",fcName:"financingList",group:this.formGroup,component:m,requestObject:this.RegisterAdminUserVO,multiple:!0},this.individualCifNoOptions={group:this.formGroup,fcName:"individualCifNo",labelKey:"individual_cif_no_key",placeHolder:"select_individual_cif_no_key"},this.dateOptions={labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate",group:this.formGroup},this.loginTimeFrameOptions={labelKey:"include_in_login_time_frame_key",group:this.formGroup,fcName:"includeLoginTimeYN"},this.dropdownIdTypesOptions={fcName:"corporateIdType",group:this.formGroup},this.idNumberOptions={labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"corporateIdNumber",group:this.formGroup}}ngOnInit(){super.init(),this.baseFormGroup=this.formGroup,"{}"!==JSON.stringify(this.navService.getAllParams())&&(this.RegisterAdminUserVO=this.navService.getAllParams()?this.navService.getAllParams():{},this.isEditState=!0)}ionViewDidEnter(){super.ionViewDidEnter(),this.commonProv.applyDynScreenDisplay(d.a.ACTION_TYPE_MANDATORY,[this.individualCifNoOptions.fcName],0),this.isEditState&&(this.commonProv.applyDynScreenDisplay(d.a.ACTION_TYPE_READONLY,[this.userId.fcName],1),this.commonProv.applyDynScreenDisplay(d.a.ACTION_TYPE_MANDATORY,[this.facilityDetailsOptions.fcName],0)),this.RegisterAdminUserVO.restore&&this.commonProv.applyDynScreenDisplay(d.a.ACTION_TYPE_READONLY,[this.userId.fcName,this.individualCifNoOptions.fcName,this.facilityDetailsOptions.fcName,this.accountListOptions.fcName,this.username.fcName,this.phoneOptions.fcName,this.alertLanguage.fcName,this.userEmail.fcName,this.subProfile.fcName,this.loginTimeFrameOptions.fcName],1)}onChangeUsername(t){const o={userName:t.newValue};this.commonProv.presentLoading(),this.omniCommon.verifyUserName(o).then(t=>{this.commonProv.dismissLoading(),b.a.deleteError(this.userId.group,this.userId.fcName),this.formGroup.controls[this.userId.fcName][d.a.CONTROLLER_STOP_REVALIDATION]=!1}).catch(t=>{this.commonProv.setValInsideNestedObj(this.userId.fcName,null,this.options.requestObject),this.commonProv.dismissLoading(),t&&t.data.outputType===d.a.OUT_PUT_TYPE_U&&(b.a.setErrors(this.formGroup,this.userId.fcName,[{msgKey:t.data.outputNotification}]),this.formGroup.controls[this.userId.fcName][d.a.CONTROLLER_STOP_REVALIDATION]=!0)})}}return t.\u0275fac=function(o){return new(o||t)(n.Rb(f.a),n.Rb(y.a),n.Rb(a.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["register-user"]],features:[n.Cb],decls:2,vars:2,consts:[[3,"options"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],[3,"options","onPsChange"],["id","user_admin_accounts",3,"options"],["id","loginTimeFrameCheckbox",3,"options"],["id","expiryDate",3,"options"]],template:function(t,o){1&t&&(n.Xb(0,"ps-template-stepper",0),n.Pc(1,B,16,16,"ps-form-step",1),n.Wb()),2&t&&(n.pc("options",o.options),n.Fb(1),n.pc("psStep","step1"))},directives:[g.a,v.a,L.a,C.a,N.a,k.a,w,T.a,D.a,F,S.a,V,M.a,U,j.a,K.a],styles:[""]}),t})()}}]);