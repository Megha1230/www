!function(){function t(){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,o,n){var i=e(t,o);if(i){var r=Object.getOwnPropertyDescriptor(i,o);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(null,arguments)}function e(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function c(o,n,i,r){var c=n&&n.prototype instanceof u?n:u,p=Object.create(c.prototype);return s(p,"_invoke",function(o,n,i){var r,s,c,u=0,p=i||[],l=!1,f={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,o){return r=e,s=0,c=t,f.n=o,a}};function m(o,n){for(s=o,c=n,e=0;!l&&u&&!i&&e<p.length;e++){var i,r=p[e],m=f.p,h=r[2];o>3?(i=h===n)&&(c=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=m&&((i=o<2&&m<r[1])?(s=0,f.v=n,f.n=r[1]):m<h&&(i=o<3||r[0]>n||n>h)&&(r[4]=o,r[5]=n,f.n=h,s=0))}if(i||o>1)return a;throw l=!0,n}return function(i,p,h){if(u>1)throw TypeError("Generator is already running");for(l&&1===p&&m(p,h),s=p,c=h;(e=s<2?t:c)||!l;){r||(s?s<3?(s>1&&(f.n=-1),m(s,c)):f.n=c:f.v=c);try{if(u=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(l=f.n<0)?c:o.call(n,f))!==a)break}catch(e){r=t,s=1,c=e}finally{u=1}}return{value:e,done:l}}}(o,i,r),!0),p}var a={};function u(){}function p(){}function l(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(s(e={},n,function(){return this}),e),m=l.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t}return p.prototype=l,s(m,"constructor",l),s(l,"constructor",p),p.displayName="GeneratorFunction",s(l,i,"GeneratorFunction"),s(m),s(m,i,"Generator"),s(m,n,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:h}})()}function s(t,e,o,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}(s=function(t,e,o,n){function r(e,o){s(t,e,function(t){return this._invoke(e,o,t)})}e?i?i(t,e,{value:o,enumerable:!n,configurable:!n,writable:!n}):t[e]=o:(r("next",0),r("throw",1),r("return",2))})(t,e,o,n)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function u(t,e,o){return e&&a(t.prototype,e),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function l(t,e,o){return e=h(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}(t,m()?Reflect.construct(e,o||[],h(t).constructor):e.apply(t,o))}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(m=function(){return!!t})()}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}function O(t,e){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{VEWP:function(t,e,i){"use strict";i.d(e,"a",function(){return P});var s=i("mrSG"),a=i("fXoL"),p=i("4lGw"),f=i("V0Fi"),m=i("ZyuK"),h=i("ZF3V"),O=i("EIUR"),g=i("DFXC"),d=i("zngb"),b=i("Q0Ba"),v=i("Isd1"),A=i("L0og"),k=["complexLookupComponentObj"],P=function(){var t=function(t){function e(t,o,n,i){var r;return c(this,e),(r=l(this,e,[t,o])).commonService=t,r.omniPull=n,r.accountsService=i,r.options={fromTo:"",requestObject:null},r.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!r.options.multiple&&r.options.multiple},r.onAccountChange=new a.o,r.onAccountDeleted=new a.o,r.labelValuesMap=new Map,r.psCurrency=new O.a,r.labelOptions={},r.allType=!1,r}return y(e,t),u(e,[{key:"ngOnInit",value:function(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}},{key:"ngOnChanges",value:function(t){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}},{key:"loadAccounts",value:function(t){return Object(s.b)(this,void 0,void 0,r().m(function e(){var o,n;return r().w(function(e){for(;;)switch(e.n){case 0:if(null!=t&&(this.options=t),this.options.listOfAccounts=[],void 0!==this.options.fromTo&&""!==this.options.fromTo){e.n=1;break}return e.a(2,void this.logger.error("lookup_from_to_missing_key"));case 1:o=this.commonService.session.getValueOf(d.a.USERINFO),n=this.prepareRequestData(o),this.returnAccountList(n);case 2:return e.a(2)}},e,this)}))}},{key:"returnAccountList",value:function(t){return Object(s.b)(this,void 0,void 0,r().m(function e(){var n,i,s,c,a=this;return r().w(function(e){for(;;)switch(e.n){case 0:return n=this.commonProv.session.getValueOf(f.a.PERSONALIZATION_CO),this.complexLookupOptions.listOfOptions=void 0,e.n=1,this.omniPull.returnAccounts(t).catch(function(t){a.complexLookupOptions.listOfOptions=[],a.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",t)});case 1:if(!((i=e.v)&&i.gridModel.length>0)){e.n=4;break}if(!this.allType){e.n=3;break}return t.accountType="F",t.permittedGls="F",e.n=2,this.omniPull.returnAccounts(t).catch(function(t){a.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",t)});case 2:(s=e.v)&&s.gridModel.length>0&&(i.gridModel=[].concat(o(i.gridModel),o(s.gridModel)));case 3:this.options.listOfAccounts=i.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(t){return t.accountNumber!==a.options.accountNumber})),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(t){return t.accountNumber!==a.options.accountNumber}))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map(function(t,e){return t.rowIndex=e}),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)&&(c="QR"===this.options.purpose?null==n?void 0:n.defaultQrPaymentAccKey:null==n?void 0:n.defaultTransferAccKey,this.complexLookupOptions.listOfOptions.map(function(t){t.personalizeKey&&t.personalizeKey===c&&(a.common.setValInsideNestedObj(a.options.fcName,t.lookupKey,a.options.requestObject),a.common.setValInsideNestedObj(a.options.fcName+"_lookupKey",t.lookupKey,a.options.requestObject))})),e.n=5;break;case 4:this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[];case 5:return e.a(2)}},e,this)}))}},{key:"populateCustomAccounts",value:function(t){var e,o=[],i=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return c=t.done,t},e:function(t){a=!0,s=t},f:function(){try{c||null==o.return||o.return()}finally{if(a)throw s}}}}(t);try{for(i.s();!(e=i.n()).done;){var r=e.value,s={briefNameEnglish:r.briefNameEnglish,cifShortNameEnglish:r.cifShortNameEnglish,accountNumber:r.accountNumber,balance:this.psCurrency.transform(null==r.balance?"0.0":r.balance,r.currencyDecimalPoints)+" "+(r.currencyBriefName||r.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==r.availableBalance?"0.0":r.availableBalance,r.currencyDecimalPoints)+" "+(r.currencyBriefName||r.currencyBriefNameEnglish),currencyBriefName:r.currencyBriefName||r.currencyBriefNameEnglish,currencyBriefNameEnglish:r.currencyBriefNameEnglish,currency:r.currency,accountTypeDesc:r.accountTypeDesc,additionalRef:r.additionalRef,ibanAccNo:r.ibanAccNo,accGl:r.accGl,serialNo:r.serialNo,branch:r.branch,cif:r.cif,formattedAccount:this.accountsService.returnFormattedAccount(r).formattedAccount,personalizeKey:r.personalizeKey,nickName:r.nickName,briefName:r.briefName,lookupKey:r.additionalRef,branchDescription:r.branchDescription?r.branchDescription:"",generalLedgerBriefNameEng:r.generalLedgerBriefNameEng?r.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:r.statusDescription,statusCode:r.status,accountFormat:this.accountsService.returnFormattedAccount(r).accountFormat};this.options.multiple&&(s.excludeType=r.excludeType),o.push(s)}}catch(c){i.e(c)}finally{i.f()}return o}},{key:"prepareRequestData",value:function(t){var e={};if(t&&t.omniUserVO&&(e={userCifNo:t.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(e={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(e.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(e.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(e.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(e.endUserId=this.options.endUserId),null!=this.options.fromCurrency?e.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(e.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)e.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{var o="";for(var n in this.options.accountAllowedCurrencies)o+=this.options.accountAllowedCurrencies[n]+",";o=o.slice(0,o.lastIndexOf(",")),e.accountAllowedCurrencies=o}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)e.accountAllowedTypes=this.options.accountAllowedTypes;else{var i="";for(var r in this.options.accountAllowedTypes)i+=this.options.accountAllowedTypes[r]+",";i=i.slice(0,i.lastIndexOf(",")),e.accountAllowedTypes=i}return e}},{key:"fetchAccountBasedOnCurrency",value:function(t){return this.options.listOfAccounts}},{key:"onChange",value:function(t){this.logger.log(t)}},{key:"populateOwnAccountMap",value:function(){var t,e,o;t={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},e={key:"currentBalance",value:"0.0",isEdit:!1},o={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",t),this.labelValuesMap.set("balance_key",e),this.labelValuesMap.set("available_balance_key",o)}},{key:"onChangeItem",value:function(t){this.onAccountChange.emit(t)}},{key:"onDeleteItem",value:function(t){t&&this.onAccountDeleted.emit(t)}},{key:"handleMultipleSelection",value:function(){var t=this,e=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(function(e){return t.options.requestObject[t.options.fcName].some(function(t){return t.accountNumber==e.accountNumber})}):[];this.complexLookupOptions.selectedItems=e.filter(function(e){return t.options.setAllAccountsAsSelecetd&&(!e.excludeType||!(e.excludeType.includes(f.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||e.excludeType.includes(f.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!t.options.setAllAccountsAsSelecetd}).map(function(t){return Object.assign(Object.assign({item:t[t.previewProperty]},t),{itemLookup:t.lookupKey})}),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}},{key:"removeAccount",value:function(t){t&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(function(e){return t.accountNumber!=e.accountNumber}):[])}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}},{key:"refreshAcounts",value:function(t){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(t)}}])}(h.a);return t.\u0275fac=function(e){return new(e||t)(a.Rb(b.a),a.Rb(g.a),a.Rb(m.a),a.Rb(p.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(t,e){var o;(1&t&&a.Wc(k,1),2&t)&&(a.Bc(o=a.gc())&&(e.complexLookupComponentObj=o.first))},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[a.Cb,a.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(t,e){1&t&&(a.Xb(0,"ps-container-complex",0),a.Xb(1,"ps-complex-lookup",1,2),a.fc("changeItem",function(t){return e.onChangeItem(t)})("onDeleteItem",function(t){return e.onDeleteItem(t)}),a.Wb(),a.Wb()),2&t&&(a.Fb(1),a.pc("id",e.id)("options",e.complexLookupOptions))},directives:[v.a,A.a],styles:[""]}),t}()},amOZ:function(e,o,n){"use strict";n.r(o),n.d(o,"ChangeMaturityInstructionsPage",function(){return j});var i=n("3Pt+"),r=n("OVQh"),s=n("fOh1"),a=n("ZyuK"),p=n("f42Q"),m=n("DFXC"),O=n("zngb"),g=n("woXy"),d=n("Q0Ba"),b=n("gKqT"),v=n("EIUR"),A=n("fXoL"),k=n("ofXK"),P=n("kRg/"),w=n("sAFK"),_=n("+f2X"),N=n("VEWP"),C=n("KuXP"),I=["maturitrytransferRef"],T=["profitAccountRef"];function x(t,e){if(1&t&&A.Sb(0,"ps-accounts-list",11),2&t){var o=A.ic();A.pc("options",o.accountListOptions)}}function S(t,e){if(1&t){var o=A.Yb();A.Xb(0,"ps-select-toggle",12),A.fc("onPsChange",function(t){return A.Fc(o),A.ic().onChange(t)}),A.Wb()}if(2&t){var n=A.ic();A.pc("id","accOpenFMid")("options",n.mainOptions.toggleOptions)}}function L(t,e){if(1&t){var o=A.Yb();A.Xb(0,"ps-select-toggle",13),A.fc("onPsChange",function(t){return A.Fc(o),A.ic().onProfitChange(t)}),A.Wb()}if(2&t){var n=A.ic();A.pc("id","accprofitFMid")("options",n.mainOptions.toggleProfitOptions)}}var j=function(){var e=function(e){function o(t,e,n,a,u,p){var m;return c(this,o),(m=l(this,o)).commonProv=t,m.navService=e,m.loggerP=n,m.eventEmitterService=a,m.datePipe=u,m.omniPull=p,m.formGroup=new i.f({}),m.changeMaturityInstructionsVO={},m.stepperOptions={isHorizontalStepper:!0,requestObject:m.changeMaturityInstructionsVO,numberOfSteps:1,namesofSteps:["change_maturity_step1"],group:m.formGroup,submitOptions:{extraParams:{},submitServiceUrl:s.a.serviceUrl.updateMaturityInstructions,group:m.formGroup,preCallFunction:{func:function(t){var e=this;return new Promise(function(t,o){t(e.executionClass.checkProfitAccount())})},executionClass:f(m),params:[f(m)]},postCallFunction:{func:function(t){var e=this;return new Promise(function(o,n){o(e.executionClass.serviceRes(t))})},params:[f(m)],executionClass:f(m)}}},m.panelOptionsStep1={isExpandable:!0,labelKey:"maturity_instructions_key",iconName:"document",expanded:!0},m.panelOptionsStep2={isExpandable:!0,labelKey:"account_details_key",iconName:"document",expanded:!0},m.psCurrency=new v.a,m.generalLabelValuesMap=new Map,m.generalHeaderMap=new Map,m.termsLabelValuesMap=new Map,m.termsHeaderMap=new Map,m.enableCifBranch=!1,m.enablePeriodicity=!1,m.accountTypesOptions={accountTypesOptions:{allowedAccountType:O.a.AllowedFixedMaturityAccountsTypes,accountCategory:O.a.ACC_TYPE_T,group:m.formGroup,fcName:"accountTypes"},periodicity:{group:m.formGroup,fcName:"periodiCity"},minimumBalance:{group:m.formGroup,fcName:"minBalance"},group:m.formGroup,requestObject:m.changeMaturityInstructionsVO},m.psComplexAmountOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",group:m.formGroup,fcName:"currency"},amountOptions:{labelKey:"opening_balance_key",placeHolder:"enter_opening_balance_key",fcName:"inputAmount",group:m.formGroup,type:"amount",decimalPoints:3}},m.mainOptions={toggleOptions:{labelKey:"renew_key",placeHolder:"renew_key",group:m.formGroup,fcName:"renew",psClass:"toggleColor"},toggleProfitOptions:{labelKey:"Post_Profit_to_Same_Account_key",placeHolder:"Post_Profit_to_Same_Account_key",group:m.formGroup,fcName:"renewWithSame"}},m.accountListOptions={group:m.formGroup,fcName:"account",isEditable:!1,requestObject:m.changeMaturityInstructionsVO},m.maturityTransferOptions={labelKey:"on_maturity_transfer_balance_to_key",placeHolder:"select_on_maturity_transfer_balance_to_key",component:r.a,group:m.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"maturityAccount",accountType:"G",fromTo:"to",requestObject:m.changeMaturityInstructionsVO},m.profitAccOptions={labelKey:"post_profit_to_key",placeHolder:"select_post_profit_to_key",component:r.a,group:m.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"profitAccount",accountType:"G",fromTo:"to",requestObject:m.changeMaturityInstructionsVO},m}return y(o,e),u(o,[{key:"ngOnInit",value:function(){var e,n,i,r,s;(e=o,n="init",i=this,s=t(h(1&(r=3)?e.prototype:e),n,i),2&r&&"function"==typeof s?function(t){return s.apply(i,t)}:s)([]),this.baseFormGroup=this.formGroup,this.cifInfo=this.commonProv.session.getValueOf(O.a.USERINFO),this.termAccount=this.navService.getAllParams()?this.navService.getAllParams():{},this.commonProv.copyObject(this.changeMaturityInstructionsVO,this.navService.getAllParams()?this.navService.getAllParams().ScreenVO?this.navService.getAllParams().ScreenVO:this.navService.getAllParams():{}),this.accountListOptions.listOfOptions=[],this.accountListOptions.listOfOptions.push(this.changeMaturityInstructionsVO),this.commonProv.copyObject(this.stepperOptions.submitOptions.extraParams,{branch:this.cifInfo.customerInfoCO?this.cifInfo.customerInfoCO.branchCode:""},!1,!0)}},{key:"ngAfterViewInit",value:function(){var t,e=this;this.changeMaturityInstructionsVO.fromAccount=Object.assign({},this.changeMaturityInstructionsVO),setTimeout(function(){e.changeMaturityInstructionsVO[e.accountTypesOptions.accountTypesOptions.fcName]=e.changeMaturityInstructionsVO.accGl,e.changeMaturityInstructionsVO[e.psComplexAmountOptions.currenciesOptions.fcName]=e.changeMaturityInstructionsVO.currency},300),(null===(t=this.navService.getAllParams())||void 0===t?void 0:t.MaturityInfo)&&(this.commonProv.copyObject(this.changeMaturityInstructionsVO,this.navService.getAllParams().MaturityInfo),this.renewAccount=this.changeMaturityInstructionsVO.renew,this.postProfitAccount=!!this.renewAccount&&this.changeMaturityInstructionsVO.renewWithSame,this.setMaturityTogglesValues(),delete this.changeMaturityInstructionsVO.MaturityInfo)}},{key:"serviceRes",value:function(t){this.commonProv.logger.log(t)}},{key:"onChange",value:function(t){var e,o;0==t.newValue?(this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_VISIBLE,[this.profitAccOptions.fcName],0),null===(e=this.profitAccountRef)||void 0===e||e.reset(),this.profitAccOptions=Object.assign({},this.profitAccOptions)):(null===(o=this.maturitrytransferRef)||void 0===o||o.reset(),this.mainOptions.toggleProfitOptions.group.controls[this.mainOptions.toggleProfitOptions.fcName]&&(this.mainOptions.toggleProfitOptions.group.controls[this.mainOptions.toggleProfitOptions.fcName].oldValue=null),this.changeMaturityInstructionsVO[this.mainOptions.toggleProfitOptions.fcName]=!1),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_VISIBLE,[this.mainOptions.toggleProfitOptions.fcName],0==t.newValue?0:1),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_VISIBLE,[this.maturityTransferOptions.fcName],0==t.newValue?1:0)}},{key:"onProfitChange",value:function(t){var e;0==t.newValue?this.changeMaturityInstructionsVO[this.mainOptions.toggleOptions.fcName]=!0:null===(e=this.profitAccountRef)||void 0===e||e.reset(),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_VISIBLE,[this.profitAccOptions.fcName],0==t.newValue?1:0)}},{key:"setMaturityTogglesValues",value:function(){this.changeMaturityInstructionsVO[this.mainOptions.toggleOptions.fcName]=this.renewAccount,this.changeMaturityInstructionsVO[this.mainOptions.toggleProfitOptions.fcName]=this.renewAccount?this.postProfitAccount:void 0}},{key:"checkProfitAccount",value:function(){var t=!0===this.stepperOptions.requestObject[this.mainOptions.toggleOptions.fcName]||"true"===this.stepperOptions.requestObject[this.mainOptions.toggleOptions.fcName],e=!0===this.stepperOptions.requestObject[this.mainOptions.toggleProfitOptions.fcName]||"true"===this.stepperOptions.requestObject[this.mainOptions.toggleProfitOptions.fcName];(t&&e||!t&&!e)&&this.commonProv.setValInsideNestedObj(this.profitAccOptions.fcName,this.termAccount,this.stepperOptions.requestObject)}}])}(b.OmniBasePage);return e.\u0275fac=function(t){return new(t||e)(A.Rb(d.a),A.Rb(g.a),A.Rb(m.a),A.Rb(p.a),A.Rb(k.e),A.Rb(a.a))},e.\u0275cmp=A.Lb({type:e,selectors:[["app-change-maturity-instructions"]],viewQuery:function(t,e){var o;(1&t&&(A.Wc(I,1),A.Wc(T,1)),2&t)&&(A.Bc(o=A.gc())&&(e.maturitrytransferRef=o.first),A.Bc(o=A.gc())&&(e.profitAccountRef=o.first))},features:[A.Cb],decls:12,vars:8,consts:[[3,"options"],["step1",""],["id","account_details_panel",3,"options"],["id","account_details",3,"options",4,"ngIf"],["id","change_maturity_panel",3,"options"],["class","ps-toggle-acc-open fixed-maturity-account-toggle",3,"id","options","onPsChange",4,"ngIf"],["id","'maturitrytransfer'+ id",3,"options"],["maturitrytransferRef",""],["class","ps-toggle-acc-open-2",3,"id","options","onPsChange",4,"ngIf"],["id","' profitAccount'+ id",3,"options"],["profitAccountRef",""],["id","account_details",3,"options"],[1,"ps-toggle-acc-open","fixed-maturity-account-toggle",3,"id","options","onPsChange"],[1,"ps-toggle-acc-open-2",3,"id","options","onPsChange"]],template:function(t,e){1&t&&(A.Xb(0,"ps-template-stepper",0),A.Xb(1,"ps-form-step",1),A.Xb(2,"ps-container-panel",2),A.Pc(3,x,1,1,"ps-accounts-list",3),A.Wb(),A.Xb(4,"ps-container-panel",4),A.Pc(5,S,1,2,"ps-select-toggle",5),A.Sb(6,"ps-lookup-own-accounts",6,7),A.Pc(8,L,1,2,"ps-select-toggle",8),A.Xb(9,"div"),A.Sb(10,"ps-lookup-own-accounts",9,10),A.Wb(),A.Wb(),A.Wb(),A.Wb()),2&t&&(A.pc("options",e.stepperOptions),A.Fb(2),A.pc("options",e.panelOptionsStep2),A.Fb(1),A.pc("ngIf",(null==e.accountListOptions||null==e.accountListOptions.listOfOptions?null:e.accountListOptions.listOfOptions.length)>0),A.Fb(1),A.pc("options",e.panelOptionsStep1),A.Fb(1),A.pc("ngIf",void 0!==e.renewAccount),A.Fb(1),A.pc("options",e.maturityTransferOptions),A.Fb(2),A.pc("ngIf",void 0!==e.postProfitAccount),A.Fb(2),A.pc("options",e.profitAccOptions))},directives:[P.a,w.a,_.a,k.o,N.a,r.a,C.a],styles:[""]}),e}()}}])}();