{"version":3,"sources":["webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.html","webpack:///src/app/pages/payee-manage/payee-manage.module.ts","webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.scss","webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.module.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-fav-payee-list/ps-fav-payee-list.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-fav-payee-list/ps-fav-payee-list.component.scss","webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-fav-payee-list/ps-fav-payee-list.component.ts"],"names":["routes","path","component","PayeeManagePageModule","imports","forChild","declarations","PsTemplateViewModule","exports","entryComponents","schemas","PsTemplateView","events","cancelOptions","labelKey","group","options","spinner","actionImageOptions","imageName","getCssVariableValue","reqStartEvent","subscribe","time","reqCompletEvent","ngOnInit","requestObject","commonProv","setFormData","onFooterClick","document","getElementsByTagName","undefined","dismiss","ngOnDestroy","unsubscribe","selector","template","PsFavPayeeListComponent","reloadFct","onClickCard","labelValuesMap","Map","headerMap","requestMap","editRequestMap","bRefresh","postFct","func","Promise","resolve","reject","executionClass","reloadList","params","pupulateFavPayeeMap","showOnlyList","listOfOptions","map","element","index","itemList","getContainerLookUpOptions","prepareLookUp","lookupDetails","fcName","labelsValueMap","formGroup","isEditable","actionDetailsOptions","id","label","actionHyperlink","iconOptions","iconName","labelOptions","pageOptions","operId","WIDGET_BILL_PAYMENTS_OPER_ID","navigationOptions","queryParams","navigationIndex","buttonIcon","actionUrl","serviceUrl","deleteBeneficiaryEndPoint","cssClass","actionType","alertStyle","alertType","alertMessage","DELETE_FAV_PAYEE_OPER_ID","EDIT_FAV_PAYEE_OPER_ID","statementOptions","reloadFunction","emit","billerMap","categoryMap","referenceMap","headerTitleMap","key","value","isEdit","set","updateCard","item","filter","acct","showItemPopUp"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAiBaC,qBAAqB;AAAA;AAAA,Q;;AAArBA,2BAAqB,6DAVjC,+DAAS;AACRC,eAAO,EAAE,CACP,qEADO,EAEP,6DAAaC,QAAb,CAAsBL,MAAtB,CAFO,EAGP,+FAHO,EAIP,oIAJO,EAKP,0JALO,CADD;AAQRM,oBAAY,EAAE,CAAC,kEAAD;AARN,OAAT,CAUiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;AC1Bb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCmBFI,oBAAoB;AAAA;AAAA,Q;;AAApBA,0BAAoB,6DAXhC,+DAAS;AACRH,eAAO,EAAE,CACP,2DADO,EAEP,qFAFO,EAGP,iHAHO,CADD;AAMRE,oBAAY,EAAE,CAAC,yEAAD,CANN;AAORE,eAAO,EAAE,CAAC,yEAAD,CAPD;AAQRC,uBAAe,EAAE,CAAC,yEAAD,CART;AASRC,eAAO,EAAE,CAAC,oEAAD;AATD,OAAT,CAWgC,GAApBH,oBAAoB,CAApB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCaFI,cAAc;AAezB;AACA,gCAAmBC,MAAnB,EAAmC;AAAA;;AAAA;;AACjC;AADiB,gBAAAA,MAAA,GAAAA,MAAA;AAbnB,gBAAAC,aAAA,GAAwC;AACtCC,oBAAQ,EAAE,YAD4B;AAEtCC,iBAAK,EAAE,MAAKC,OAAL,CAAaD;AAFkB,WAAxC;AAIA,gBAAAE,OAAA,GAAU,KAAV;AAEA,gBAAAC,kBAAA,GAA4C;AAC1CC,qBAAS,EAAE,4EAAYC,mBAAZ,CAAgC,wBAAhC;AAD+B,WAA5C,CAOmC,CAEjC;;AACA,gBAAKC,aAAL,GAAqBT,MAAM,CAACU,SAAP,CAAiB,yBAAjB,EAA4C,UAACC,IAAD,EAAU;AACzE,kBAAKN,OAAL,GAAe,IAAf;AACD,WAFoB,CAArB;AAGA,gBAAKO,eAAL,GAAuBZ,MAAM,CAACU,SAAP,CAAiB,2BAAjB,EAA8C,UAACC,IAAD,EAAU;AAC7E,kBAAKN,OAAL,GAAe,KAAf;AACD,WAFsB,CAAvB;AANiC;AASlC;;AAzBwB;;AAAA;AAAA;AAAA,iBA2BzB,SAAAQ,QAAQ,GAAG;AACT,iBAAKT,OAAL,CAAaU,aAAb,GAA6B,KAAKV,OAAL,CAAaU,aAAb,GAA6B,KAAKV,OAAL,CAAaU,aAA1C,GAA0D,EAAvF;;AACA,gBAAG,KAAKV,OAAL,CAAaD,KAAhB,EAAsB;AACpB,mBAAKY,UAAL,CAAgBC,WAAhB,CAA4B,KAAKZ,OAAL,CAAaD,KAAzC,EAAgD,KAAKC,OAAL,CAAaU,aAA7D;AACD;AACF;AAhCwB;AAAA;AAAA,iBAkCzB,SAAAG,aAAa,GAAG;AACd,gBAAIC,QAAQ,CAACC,oBAAT,CAA8B,WAA9B,EAA2C,CAA3C,MAAkDC,SAAtD,EAAiE;AAC/DF,sBAAQ,CAACC,oBAAT,CAA8B,WAA9B,EAA2C,CAA3C,EAA8CE,OAA9C;AACD;AACF;AAtCwB;AAAA;AAAA,iBAwCzB,SAAAC,WAAW,GAAG;AACZ;AACA;;AACA,gBAAI,KAAKb,aAAT,EAAwB;AACtB,mBAAKA,aAAL,CAAmBc,WAAnB;AACD;;AACD,gBAAI,KAAKX,eAAT,EAA0B;AACxB,mBAAKA,eAAL,CAAqBW,WAArB;AACD;AACF;AAjDwB;AAAA,QAAS,0FAAT,C;;;;gBAXlB;;;;;;gBAaN;;;AAFUxB,oBAAc,6DAL1B,gEAAU;AACTyB,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR,kFAFS;;AAAA,OAAV,CAK0B,E,+EAgBE,sE,EAhBF,GAAd1B,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHb;;;;;;;;UAWa2B,uBAAuB;AAoBlC;AAAA;;AAAA;;AAEE;AArBQ,iBAAAC,SAAA,GAAY,IAAI,0DAAJ,EAAZ;AACD,iBAAAvB,OAAA,GAAyC,EAAzC,CAkBT,CAjBA;;AACiB,iBAAAwB,WAAA,GAAc,IAAI,0DAAJ,EAAd;AACV,iBAAAC,cAAA,GAAiB,IAAIC,GAAJ,EAAjB;AACA,iBAAAC,SAAA,GAAY,IAAID,GAAJ,EAAZ;AACA,iBAAAE,UAAA,GAAa,IAAIF,GAAJ,EAAb;AACA,iBAAAG,cAAA,GAAiB,IAAIH,GAAJ,EAAjB;AAEP,iBAAAI,QAAA,GAAgB,KAAhB;AACA,iBAAAC,OAAA,GAA+B;AAC7BC,gBAD6B,WAC7BA,IAD6B,GACtB;AAAA;;AACL,qBAAO,IAAIC,OAAJ,CAAiB,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC3CD,uBAAO,CAAC,MAAI,CAACE,cAAL,CAAoBC,UAApB,EAAD,CAAP;AACD,eAFM,CAAP;AAGD,aAL4B;AAM7BD,0BAAc,QANe;AAO7BE,kBAAM,EAAE;AAPqB,WAA/B;AASA;AAGC;;AAvBiC;;AAAA;AAAA;AAAA,iBA0BlC,SAAA7B,QAAQ,GAAG;AACT;;AACA,iBAAK8B,mBAAL;;AACA,gBAAI,KAAKvC,OAAL,CAAawC,YAAb,KAA8B,IAA9B,IAAsC,KAAKxC,OAAL,CAAawC,YAAb,KAA8BxB,SAAxE,EAAmF;AACjF,mBAAKhB,OAAL,CAAawC,YAAb,GAA4B,KAA5B;AACD;;AACD,gBAAI,KAAKxC,OAAL,IAAgB,KAAKA,OAAL,CAAayC,aAAjC,EAAgD;AAC9C,mBAAKzC,OAAL,CAAayC,aAAb,CAA2BC,GAA3B,CAA+B,UAACC,OAAD,EAAUC,KAAV;AAAA,uBAAoBD,OAAO,CAAC,UAAD,CAAP,GAAsBC,KAA1C;AAAA,eAA/B;AACA,mBAAK5C,OAAL,CAAa6C,QAAb,GAAwB,KAAK7C,OAAL,CAAayC,aAArC;AACD;AACF;AApCiC;AAAA;AAAA,iBAsClC,SAAAK,yBAAyB,GAAG;AAC1B,mBAAO,KAAKC,aAAL,EAAP;AACD;AAxCiC;AAAA;AAAA,iBA0C1B,SAAAA,aAAa;AACnB,gBAAIC,aAAa,GAAoD,EAArE;AACAA,yBAAa,CAAClD,QAAd,GAAyB,KAAKE,OAAL,CAAaF,QAAtC;AACAkD,yBAAa,CAACC,MAAd,GAAuB,KAAKjD,OAAL,CAAaiD,MAApC;AACAD,yBAAa,CAACE,cAAd,GAA+B,KAAKzB,cAApC;AACAuB,yBAAa,CAACrB,SAAd,GAA0B,KAAKA,SAA/B;AACAqB,yBAAa,CAACG,SAAd,GAA0B,KAAKnD,OAAL,CAAaD,KAAvC;AACAiD,yBAAa,CAACI,UAAd,GAA2B,KAAKpD,OAAL,CAAaoD,UAAxC;AACAJ,yBAAa,CAACH,QAAd,GAAyB,KAAK7C,OAAL,CAAa6C,QAAtC;AAGAG,yBAAa,CAACK,oBAAd,GAAqC,CAAC;AACpCC,gBAAE,EAAE,KADgC;AAEpCC,mBAAK,EAAE,SAF6B;AAGpCC,6BAAe,EAAE;AACfzD,qBAAK,EAAE,KAAKC,OAAL,CAAaD,KADL;AAEf0D,2BAAW,EAAE;AACXC,0BAAQ,EAAE,aADC;AAEXC,8BAAY,EAAE;AACZ7D,4BAAQ,EAAE;AADE;AAFH,iBAFE;AAQf8D,2BAAW,EAAE;AACXC,wBAAM,EAAE,wGAAwBC;AADrB,iBARE;AAWfC,iCAAiB,EAAE;AACjBC,6BAAW,EAAE;AAAEC,mCAAe,EAAE;AAAnB;AADI;AAXJ;AAHmB,aAAD,EAkBlC;AACDX,gBAAE,EAAE,QADH;AAEDK,0BAAY,EAAE;AACZ7D,wBAAQ,EAAE;AADE,eAFb;AAKDoE,wBAAU,EAAE,QALX;AAMDC,uBAAS,EAAE,uGAAyBC,UAAzB,CAAoCC,yBAN9C;AAODC,sBAAQ,EAAE,iBAPT;AAQDf,mBAAK,EAAE,YARN;AASDG,sBAAQ,EAAE,OATT;AAUDa,wBAAU,EAAE,QAVX;AAWDC,wBAAU,EAAE,SAXX;AAYDC,uBAAS,EAAE,QAZV;AAaDC,0BAAY,EAAE,kCAbb;AAcDb,oBAAM,EAAE,wGAAwBc;AAd/B,aAlBkC,EAiClC;AACDrB,gBAAE,EAAE,MADH;AAEDC,mBAAK,EAAE,UAFN;AAGDC,6BAAe,EAAE;AACfzD,qBAAK,EAAE,KAAKC,OAAL,CAAaD,KADL;AAEf0D,2BAAW,EAAE;AACXC,0BAAQ,EAAE,OADC;AAEXC,8BAAY,EAAE;AACZ7D,4BAAQ,EAAE;AADE;AAFH,iBAFE;AAQf8D,2BAAW,EAAE;AACXC,wBAAM,EAAE,wGAAwBe;AADrB;AARE;AAHhB,aAjCkC,CAArC;AAiDA5B,yBAAa,CAAC6B,gBAAd,GAAiC,EAAjC;AACA7B,yBAAa,CAAC8B,cAAd,GAA+B;AAC7B9C,kBAD6B,WAC7BA,IAD6B,GACtB;AAAA;;AACL,uBAAO,IAAIC,OAAJ,CAAiB,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC3CD,yBAAO,CAAC,MAAI,CAACE,cAAL,CAAoBC,UAApB,EAAD,CAAP;AACD,iBAFM,CAAP;AAGD,eAL4B;AAM7BD,4BAAc,EAAE,IANa;AAO7BE,oBAAM,EAAE;AAPqB,aAA/B;AASA,mBAAOU,aAAP;AACD;AAjHiC;AAAA;AAAA,iBAmHlC,SAAAX,UAAU,GAAG;AACX,iBAAKd,SAAL,CAAewD,IAAf;AACD;AArHiC;AAAA;AAAA,iBAuH1B,SAAAxC,mBAAmB,GAAG;AAC5B,gBAAIyC,SAAS,GAAiB,EAA9B;AACA,gBAAIC,WAAW,GAAiB,EAAhC;AACA,gBAAIC,YAAY,GAAiB,EAAjC;AACA,gBAAIC,cAAc,GAAiB,EAAnC;AAEAH,qBAAS,GAAG;AACVI,iBAAG,EAAE,yBADK;AAEVC,mBAAK,EAAE,EAFG;AAGVC,oBAAM,EAAE;AAHE,aAAZ;AAMAL,uBAAW,GAAG;AACZG,iBAAG,EAAE,2BADO;AAEZC,mBAAK,EAAE,EAFK;AAGZC,oBAAM,EAAE;AAHI,aAAd;AAMAJ,wBAAY,GAAG;AACbE,iBAAG,EAAE,eADQ;AAEbC,mBAAK,EAAE,EAFM;AAGbC,oBAAM,EAAE;AAHK,aAAf;AAMAH,0BAAc,GAAG;AACfC,iBAAG,EAAE,OADU;AAEfC,mBAAK,EAAE,UAFQ;AAGfC,oBAAM,EAAE;AAHO,aAAjB,CAxB4B,CA8B5B;;AACA,iBAAK7D,cAAL,CAAoB8D,GAApB,CAAwB,YAAxB,EAAsCP,SAAtC;AACA,iBAAKvD,cAAL,CAAoB8D,GAApB,CAAwB,cAAxB,EAAwCN,WAAxC;AACA,iBAAKxD,cAAL,CAAoB8D,GAApB,CAAwB,eAAxB,EAAyCL,YAAzC;AACA,iBAAKvD,SAAL,CAAe4D,GAAf,CAAmB,OAAnB,EAA4BJ,cAA5B;AACD;AA1JiC;AAAA;AAAA,iBA4J3B,SAAAK,UAAU,CAACC,IAAD,EAAY;AAC3B,gBAAIA,IAAI,IAAI,KAAKzF,OAAL,CAAayC,aAAzB,EAAwC;AACtC,mBAAKzC,OAAL,CAAa6C,QAAb,GAAwB,KAAK7C,OAAL,CAAayC,aAAb,CAA2BiD,MAA3B,CAAkC,UAAAC,IAAI;AAAA,uBAAIA,IAAI,KAAKF,IAAb;AAAA,eAAtC,CAAxB;AACA,mBAAKzF,OAAL,CAAayF,IAAb,GAAoB,KAAKzF,OAAL,CAAa6C,QAAb,CAAsB,CAAtB,CAApB;AACA,mBAAK7C,OAAL,CAAa4F,aAAb,GAA6B,CAAC,KAAK5F,OAAL,CAAa4F,aAA3C;AACD;;AACD,iBAAKpE,WAAL,CAAiBuD,IAAjB,CAAsB,KAAK/E,OAA3B;AACD;AAnKiC;AAAA,QAAS,2HAAT,C;;;;;;;;gBACjC;;;gBACA;;;gBAEA;;;AAJUsB,6BAAuB,6DALnC,gEAAU;AACTF,gBAAQ,EAAE,mBADD;AAETC,gBAAQ,EAAR,oFAFS;;AAAA,OAAV,CAKmC,E,iFAAA,GAAvBC,uBAAuB,CAAvB","file":"pages-payee-manage-payee-manage-module-es5.js","sourcesContent":["export default \"<ps-template-screen>\\n    <ps-action-image class=\\\"inline-loading-image\\\" *ngIf=\\\"!options.disableLoading && spinner\\\"\\n        [options]=\\\"actionImageOptions\\\">\\n    </ps-action-image>\\n    <ng-content>\\n    </ng-content>\\n    <ng-container psFooter>\\n        <ng-content select=[footer]></ng-content>\\n        <ps-button-cancel (click)=\\\"onFooterClick()\\\" [id]=\\\"id + 'temp_btn_cancel'\\\" [options]=\\\"cancelOptions\\\">\\n        </ps-button-cancel>\\n\\n    </ng-container>\\n</ps-template-screen>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PsFavPayeeListComponentModule } from 'src/app/commonBussinessSRC/psComponents/ps-fav-payee-list/ps-fav-payee-list.component.module';\nimport { PsTemplateViewModule } from 'src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.module';\nimport { PsComponentsModule } from '../../commonSRC/psComponents/ps-components.module';\nimport { SharedModule } from '../../commonSRC/shared.module';\nimport { PayeeManagePage } from './payee-manage.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PayeeManagePage,\n  }\n];\n\n@NgModule({\n  imports: [\n    SharedModule,\n    RouterModule.forChild(routes),\n    PsComponentsModule,\n    PsTemplateViewModule,\n    PsFavPayeeListComponentModule\n  ],\n  declarations: [PayeeManagePage]\n})\nexport class PayeeManagePageModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy10ZW1wbGF0ZS12aWV3LnRlbXBsYXRlLnNjc3MifQ== */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\n\nimport { PsComponentsModule } from '../../psComponents/ps-components.module';\nimport { SharedModule } from '../../shared.module';\nimport { PsTemplateScreenPageModule } from '../ps-template-screen/ps-template-screen.template.module';\nimport { PsTemplateView } from './ps-template-view.template';\n\n\n@NgModule({\n  imports: [\n    SharedModule,\n    PsComponentsModule,\n    PsTemplateScreenPageModule\n  ],\n  declarations: [PsTemplateView],\n  exports: [PsTemplateView],\n  entryComponents: [PsTemplateView],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class PsTemplateViewModule { }\n","export default \"<ps-template-list>\\n   <ng-container *ngIf=\\\"options?.itemList?.length > 0\\\">\\n      <ng-container *ngFor=\\\"let item of options.itemList\\\">\\n         <ps-container-lookup-option [id]=\\\"id + '_opt'\\\" [options]=\\\"getContainerLookUpOptions()\\\" [itemCard]=\\\"item\\\"\\n            (clickedCard)=\\\"updateCard($event)\\\"></ps-container-lookup-option>\\n      </ng-container>\\n   </ng-container>\\n</ps-template-list>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1mYXYtcGF5ZWUtbGlzdC5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, Input, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Events } from '../../psServices/Event/event.service';\nimport { CommonUtils } from '../../psServices/models/common-utils';\nimport { IOptionsPsActionImage, IOptionsPsButtonCancel, IOptionsPsTemplateView } from '../../psServices/models/ps-common-interface';\nimport { PsTemplateBasePage } from '../ps-template-base/ps-template-base.page';\n\n\n@Component({\n  selector: 'ps-template-view',\n  templateUrl: './ps-template-view.template.html',\n  styleUrls: ['./ps-template-view.template.scss'],\n})\nexport class PsTemplateView extends PsTemplateBasePage implements OnDestroy {\n\n  @Input() options: IOptionsPsTemplateView;\n  cancelOptions: IOptionsPsButtonCancel = {\n    labelKey: 'cancel_key',\n    group: this.options.group\n  };\n  spinner = false;\n\n  actionImageOptions: IOptionsPsActionImage = {\n    imageName: CommonUtils.getCssVariableValue('--ps-loader-image-name')\n  };\n  // Added by Richie #TP 1105083 due to migration to ionic 5 since Event service was removed and replaced with observable\n  private reqStartEvent: Subscription;\n  private reqCompletEvent: Subscription;\n  // End Richie\n  constructor(public events: Events) {\n    super();\n    // modified by Richie #TP 1105083 due to migration to ionic 5 since Event service was removed and replaced with observable with one argument\n    this.reqStartEvent = events.subscribe('network:request:started', (time) => {\n      this.spinner = true;\n    });\n    this.reqCompletEvent = events.subscribe('network:request:completed', (time) => {\n      this.spinner = false;\n    });\n  }\n\n  ngOnInit() {\n    this.options.requestObject = this.options.requestObject ? this.options.requestObject : {};\n    if(this.options.group){\n      this.commonProv.setFormData(this.options.group, this.options.requestObject);\n    }\n  }\n\n  onFooterClick() {\n    if (document.getElementsByTagName('ion-modal')[0] !== undefined) {\n      document.getElementsByTagName('ion-modal')[0].dismiss();\n    }\n  }\n\n  ngOnDestroy() {\n    // modified by Richie #TP 1105083\n    super.ngOnDestroy();\n    if (this.reqStartEvent) {\n      this.reqStartEvent.unsubscribe();\n    }\n    if (this.reqCompletEvent) {\n      this.reqCompletEvent.unsubscribe();\n    }\n  }\n\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { IFunctionDefinition, IMapKeyValue, IOptionsPsContainerLookupOptionComponentExposed } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsTemplateListPage } from 'src/app/commonSRC/psTemplates/ps-template-list/ps-template-list.template';\nimport { CommonBussinessConstant } from '../../psServices/models/ps-common-bussiness-constant';\nimport { PsCommonBusinessSettings } from '../../psServices/models/ps-commonBusiness.settings';\nimport { IOptionsPsFavPayeeListExposed } from './ps-fav-payee-list.component.interfaces';\n\n\n\n\n/**\n * @author Ammar.Ahmed\n * @since 22/06/2021\n *\n * <p> PsInternalBeneficiaryComponent is business component contains mapping for for container-lookup component to load internal beneficiaries</p>\n */\n@Component({\n  selector: 'ps-fav-payee-list',\n  templateUrl: './ps-fav-payee-list.component.html',\n  styleUrls: ['./ps-fav-payee-list.component.scss'],\n})\nexport class PsFavPayeeListComponent extends PsTemplateListPage implements OnInit {\n  @Output() reloadFct = new EventEmitter<string>();\n  @Input() options: IOptionsPsFavPayeeListExposed = {};\n  // tslint:disable-next-line: no-output-on-prefix\n  @Output() public onClickCard = new EventEmitter<any>();\n  public labelValuesMap = new Map<string, IMapKeyValue>();\n  public headerMap = new Map<string, IMapKeyValue>();\n  public requestMap = new Map<string, string>();\n  public editRequestMap = new Map<string, string>();\n  updateList: any[];\n  bRefresh: any = false;\n  postFct: IFunctionDefinition = {\n    func() {\n      return new Promise<any>((resolve, reject) => {\n        resolve(this.executionClass.reloadList());\n      });\n    },\n    executionClass: this,\n    params: []\n  };\n  constructor(\n  ) {\n    super();\n  }\n\n\n  ngOnInit() {\n    super.init();\n    this.pupulateFavPayeeMap();\n    if (this.options.showOnlyList === null || this.options.showOnlyList === undefined) {\n      this.options.showOnlyList = false;\n    }\n    if (this.options && this.options.listOfOptions) {\n      this.options.listOfOptions.map((element, index) => element['rowIndex'] = index);\n      this.options.itemList = this.options.listOfOptions;\n    }\n  }\n\n  getContainerLookUpOptions() {\n    return this.prepareLookUp();\n  }\n\n  private prepareLookUp(): any {\n    let lookupDetails: IOptionsPsContainerLookupOptionComponentExposed = {};\n    lookupDetails.labelKey = this.options.labelKey;\n    lookupDetails.fcName = this.options.fcName;\n    lookupDetails.labelsValueMap = this.labelValuesMap;\n    lookupDetails.headerMap = this.headerMap;\n    lookupDetails.formGroup = this.options.group;\n    lookupDetails.isEditable = this.options.isEditable;\n    lookupDetails.itemList = this.options.itemList;\n\n\n    lookupDetails.actionDetailsOptions = [{\n      id: 'pay',\n      label: 'pay_key',\n      actionHyperlink: {\n        group: this.options.group,\n        iconOptions: {\n          iconName: 'paper-plane',\n          labelOptions: {\n            labelKey: 'pay_key'\n          }\n        },\n        pageOptions: {\n          operId: CommonBussinessConstant.WIDGET_BILL_PAYMENTS_OPER_ID,\n        },\n        navigationOptions: {\n          queryParams: { navigationIndex: 1 }\n        }\n      }\n    }, {\n      id: 'delete',\n      labelOptions: {\n        labelKey: 'delete_key'\n      },\n      buttonIcon: 'delete',\n      actionUrl: PsCommonBusinessSettings.serviceUrl.deleteBeneficiaryEndPoint,\n      cssClass: 'fab-edit-button',\n      label: 'delete_key',\n      iconName: 'trash',\n      actionType: 'delete',\n      alertStyle: 'warning',\n      alertType: 'prompt',\n      alertMessage: 'confirm_delete_this_favorite_key',\n      operId: CommonBussinessConstant.DELETE_FAV_PAYEE_OPER_ID\n    }, {\n      id: 'edit',\n      label: 'edit_key',\n      actionHyperlink: {\n        group: this.options.group,\n        iconOptions: {\n          iconName: 'paper',\n          labelOptions: {\n            labelKey: 'edit_key'\n          }\n        },\n        pageOptions: {\n          operId: CommonBussinessConstant.EDIT_FAV_PAYEE_OPER_ID,\n        }\n      }\n    }];\n    lookupDetails.statementOptions = {};\n    lookupDetails.reloadFunction = {\n      func() {\n        return new Promise<any>((resolve, reject) => {\n          resolve(this.executionClass.reloadList());\n        });\n      },\n      executionClass: this,\n      params: []\n    }\n    return lookupDetails;\n  }\n\n  reloadList() {\n    this.reloadFct.emit();\n  }\n\n  private pupulateFavPayeeMap() {\n    let billerMap: IMapKeyValue = {};\n    let categoryMap: IMapKeyValue = {};\n    let referenceMap: IMapKeyValue = {};\n    let headerTitleMap: IMapKeyValue = {};\n\n    billerMap = {\n      key: 'billerDescriptionConcat',\n      value: '',\n      isEdit: false,\n    };\n\n    categoryMap = {\n      key: 'categoryDescriptionConcat',\n      value: '',\n      isEdit: false,\n    };\n\n    referenceMap = {\n      key: 'billerAccount',\n      value: '',\n      isEdit: false\n    };\n\n    headerTitleMap = {\n      key: 'title',\n      value: 'nickName',\n      isEdit: false,\n    };\n\n    // key here will be used as label in look up details component\n    this.labelValuesMap.set('biller_key', billerMap);\n    this.labelValuesMap.set('category_key', categoryMap);\n    this.labelValuesMap.set('reference_key', referenceMap);\n    this.headerMap.set('title', headerTitleMap);\n  }\n\n  public updateCard(item: any) {\n    if (item && this.options.listOfOptions) {\n      this.options.itemList = this.options.listOfOptions.filter(acct => acct === item);\n      this.options.item = this.options.itemList[0];\n      this.options.showItemPopUp = !this.options.showItemPopUp;\n    }\n    this.onClickCard.emit(this.options);\n  }\n\n}\n"]}