{"version":3,"sources":["webpack:///src/app/pages/prepaid-card-recharge/prepaid-card-recharge.page.ts","webpack:///src/app/pages/prepaid-card-recharge/prepaid-card-recharge.page.scss","webpack:///src/app/pages/prepaid-card-recharge/prepaid-card-recharge.page.html"],"names":["PrepaidCardRechargePage","navService","omniPull","formGroup","rechargeCardVO","stepperOptions","stepperName","isHorizontalStepper","numberOfSteps","namesofSteps","group","submitOptions","extraParams","submitServiceUrl","serviceUrl","creditCardRequest","requestObject","panelOptions1Step1","isExpandable","labelKey","expanded","fromCardOptions","placeHolder","fcName","toCardOptions","complexExchangeOptions","editableMode","showToCurrencyOptions","fromAmountOptions","currency","currenciesOptions","amountOptions","decimalPoints","toAmountOptions","fromAccountOptions","component","accountAllowedCurrencies","accountAllowedTypes","glTypes","accountType","fromTo","rechargeMethodsOptions","ngOnInit","baseFormGroup","commonProv","copyObject","getAllParams","ScreenVO","ionViewDidEnter","applyDynScreenDisplay","ACTION_TYPE_READONLY","rechargeMethodCust","getElementValidations","DEFAULT_VALUE","IS_VISIBLE","rechargedMethod","itemValue","JSON","parse","value","onRechargeMethodsChange","onFromAccountChange","fromAccount","currencyBriefNameEnglish","currencyCode","setTimeout","onFromCardChange","fromCard","validateCurrencyCombination","currencyDesc","onToCardChange","toCard","rechargeMethod","ACTION_TYPE_VISIBLE","selectedAccount","VALIDATE_CURRENCY_COMBINATION","validationRequest","fromCurrency","toCurrency","listOfAccounts","fromCardRef","toCardRef","listOfAffectedFields","screenVO","updateScreenVo","resp","submitType","selector","template"],"mappings":"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","file":"96-es5.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { PsAccountsListComponent } from 'src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component';\nimport { IOptionsPsComplexExchnageExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-exchange/ps-complex-exchange.component.interfaces';\nimport { IOptionsPsLookupDebitCardsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-debit-cards/ps-lookup-debit-cards.component.interfaces';\nimport { IOptionsPsLookupOwnAccountsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.interfaces';\nimport { IOptionsPsLookupPrepaidCardsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-prepaid-cards/ps-lookup-prepaid-cards.component.interface';\nimport { IOptionsPsLovRechargeMethodsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-recharge-methods/ps-lov-recharge-methods.interface';\nimport { IValidateCurrencyCombination, RechargeCardVO } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IOptionsPsContainerPanel, IOptionsTemplateStepper } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { OmniBasePage } from 'src/app/pages/omni-base/omni-base.page';\n\n@Component({\n  selector: 'app-prepaid-card-recharge',\n  templateUrl: './prepaid-card-recharge.page.html',\n  styleUrls: ['./prepaid-card-recharge.page.scss'],\n})\nexport class PrepaidCardRechargePage extends OmniBasePage implements OnInit {\n\n  @ViewChild('toCardRef') toCardRef;\n  @ViewChild('fromCardRef') fromCardRef;\n  formGroup: FormGroup = new FormGroup({});\n  rechargeCardVO: RechargeCardVO = {};\n  stepperOptions: IOptionsTemplateStepper = {\n    stepperName: 'prepaid_card_stepper',\n    isHorizontalStepper: true,\n    numberOfSteps: 1,\n    namesofSteps: [\n      'prepaid_card_req_step1',\n    ],\n    group: this.formGroup,\n    submitOptions: {\n      extraParams: {},\n      submitServiceUrl: PsCommonBusinessSettings.serviceUrl.creditCardRequest,\n      group: this.formGroup,\n    },\n    requestObject: this.rechargeCardVO,\n  };\n\n  panelOptions1Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'prepaid_card_recharge_details_key',\n    expanded: true,\n  };\n\n  fromCardOptions: IOptionsPsLookupDebitCardsExposed = {\n    labelKey: 'from_card_key',\n    placeHolder: 'select_from_card_key',\n    group: this.formGroup,\n    fcName: 'fromCard',\n    requestObject: this.rechargeCardVO,\n  };\n  toCardOptions: IOptionsPsLookupPrepaidCardsExposed = {\n    labelKey: 'to_card_key',\n    placeHolder: 'select_to_card_key',\n    group: this.formGroup,\n    fcName: 'toCard',\n    requestObject: this.rechargeCardVO,\n  };\n\n  public complexExchangeOptions: IOptionsPsComplexExchnageExposed = {\n    editableMode: false,\n    showToCurrencyOptions: true,\n    fromAmountOptions: {\n      currency: '',\n      currenciesOptions: {\n        placeHolder: 'currency_key',\n        labelKey: 'currency_key',\n        fcName: 'fromCurrency',\n        group: this.formGroup\n      },\n      amountOptions: {\n        labelKey: 'amount_key',\n        placeHolder: 'enter_amount_key',\n        fcName: 'transactionAmount',\n        group: this.formGroup,\n        decimalPoints: 2\n      }\n    },\n    toAmountOptions: {\n      currency: '',\n      currenciesOptions: {\n        placeHolder: 'exchange_currency_key',\n        labelKey: 'exchange_currency_key',\n        fcName: 'currency',\n        group: this.formGroup\n      },\n      amountOptions: {\n        labelKey: 'exchange_amount_key',\n        placeHolder: 'enter_amount_key',\n        fcName: 'toAmount',\n        group: this.formGroup,\n        decimalPoints: 2\n      }\n    },\n    requestObject: this.rechargeCardVO,\n    group: this.formGroup\n  };\n\n  public fromAccountOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'from_account_key',\n    placeHolder: 'select_from_account_key',\n    component: PsAccountsListComponent,\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: 'G',\n    fcName: 'fromAccount',\n    accountType: 'G',\n    fromTo: 'from',\n    requestObject: this.rechargeCardVO\n  };\n\n  rechargeMethodsOptions: IOptionsPsLovRechargeMethodsExposed = {\n    group: this.formGroup,\n    fcName: 'rechargeMethods',\n  };\n\n\n  constructor(private navService: PsNavigatorService, public omniPull: OmniPullService) {\n    super();\n  }\n\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    this.commonProv.copyObject(this.rechargeCardVO, this.navService.getAllParams() ? this.navService.getAllParams().ScreenVO ? this.navService.getAllParams().ScreenVO : this.navService.getAllParams() : {})\n\n  }\n\n  ionViewDidEnter() {\n    super.ionViewDidEnter();\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName,\n    this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName], 1);\n\n    if (this.rechargeCardVO && this.rechargeCardVO[this.toCardOptions.fcName]) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.toCardOptions.fcName], 1)\n    }\n    const rechargeMethodCust = this.commonProv.getElementValidations(this.rechargeMethodsOptions.fcName);\n    if (rechargeMethodCust.DEFAULT_VALUE && rechargeMethodCust.IS_VISIBLE == 0) {\n      const rechargedMethod = {\n        itemValue: JSON.parse(rechargeMethodCust.DEFAULT_VALUE).value\n      }\n      this.onRechargeMethodsChange(rechargedMethod);\n    }\n\n  }\n\n\n  public onFromAccountChange(fromAccount) {\n    this.complexExchangeOptions.fromAmountOptions.currency = fromAccount.currencyBriefNameEnglish;\n    this.complexExchangeOptions.fromAmountOptions.currencyCode = fromAccount.currency;\n    setTimeout(() => {\n      this.stepperOptions.requestObject[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName] = fromAccount.currency;\n    }, 1);\n  }\n\n  //added by Marina TP:#1542494 to update exchange component from currency\n  onFromCardChange(fromCard) {\n    this.validateCurrencyCombination(fromCard);\n    this.complexExchangeOptions.fromAmountOptions.currency = fromCard.currencyDesc;\n    this.complexExchangeOptions.fromAmountOptions.currencyCode = fromCard.currency;\n    setTimeout(() => {\n      this.stepperOptions.requestObject[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName] = fromCard.currency;\n    }, 1);\n  }\n\n  //added by Marina TP:#1542494 to update exchange component to currency\n  onToCardChange(toCard) {\n    this.validateCurrencyCombination(toCard);\n    this.complexExchangeOptions.toAmountOptions.currency = toCard.currencyDesc;\n    this.complexExchangeOptions.toAmountOptions.currencyCode = toCard.currency;\n    setTimeout(() => {\n      this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName] = toCard.currency;\n    }, 1);\n  }\n  //added by Marina TP:#1542494 to hide and show from account and from card fields based on recharge method chosen\n  onRechargeMethodsChange(rechargeMethod) {\n    if (rechargeMethod.itemValue == 'A') {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.fromCardOptions.fcName], 0);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.fromAccountOptions.fcName], 1);\n    }\n    else {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.fromAccountOptions.fcName], 0);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.fromCardOptions.fcName], 1);\n    }\n  }\n\n  // Added by Omar Talaat To fix #IDB230103\n  private validateCurrencyCombination(selectedAccount) {\n    if (selectedAccount[ConstantCommon.VALIDATE_CURRENCY_COMBINATION]) {\n      if (this.rechargeCardVO[this.fromCardOptions.fcName] && this.rechargeCardVO[this.toCardOptions.fcName]) {\n        let validationRequest: IValidateCurrencyCombination = {\n          fromCurrency: +this.rechargeCardVO[this.fromCardOptions.fcName].currency,\n          toCurrency: +this.rechargeCardVO[this.toCardOptions.fcName].currency,\n          listOfAccounts: [this.fromCardRef, this.toCardRef],\n          listOfAffectedFields: [this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName, this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName],\n          screenVO: this.rechargeCardVO\n        };\n        this.omniPull.validateCurrencyCombination(validationRequest);\n      }\n    }\n\n  }\n\n  updateScreenVo(resp) {\n    this.rechargeCardVO.submitType = '-1'; // Added by: MFawzy - tp: #1542492 - as requested per Doris to get the correct mappingId with the submit service\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcmVwYWlkLWNhcmQtcmVjaGFyZ2UucGFnZS5zY3NzIn0= */\";","export default \"<ps-template-stepper [options]=\\\"stepperOptions\\\" [id]=\\\"stepperOptions.stepperName\\\">\\n  <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"stepperOptions.namesofSteps[0]\\\">\\n    <ps-container-panel [options]=\\\"panelOptions1Step1\\\" id=\\\"prepaid_card_req_panel\\\">\\n      <ps-lov-recharge-methods [options]=\\\"rechargeMethodsOptions\\\"\\n        (onPsChange)=\\\"onRechargeMethodsChange($event)\\\"></ps-lov-recharge-methods>\\n      <ps-lookup-own-accounts id=\\\"from-account\\\" [options]=\\\"fromAccountOptions\\\"\\n        (onAccountChange)=\\\"onFromAccountChange($event)\\\"></ps-lookup-own-accounts>\\n      <ps-lookup-debit-cards (onDebitCardChange)=\\\"onFromCardChange($event)\\\" [options]=\\\"fromCardOptions\\\">\\n      </ps-lookup-debit-cards>\\n      <ps-lookup-prepaid-cards (onPrepaidCardChange)=\\\"onToCardChange($event)\\\"\\n        [options]=\\\"toCardOptions\\\"></ps-lookup-prepaid-cards>\\n      <ps-complex-exchange id=\\\"exchange\\\" [options]=\\\"complexExchangeOptions\\\">\\n      </ps-complex-exchange>\\n    </ps-container-panel>\\n  </ps-form-step>\\n</ps-template-stepper>\";"]}