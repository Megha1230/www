(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{AsVL:function(o,n,s){"use strict";s.d(n,"a",function(){return b});var i=s("fXoL"),e=s("ZF3V"),t=s("DFXC"),r=s("Q0Ba"),a=s("zngb"),c=s("qEF5"),p=s("0CJq"),u=s("ZyuK"),m=s("Isd1"),h=s("ofXK"),d=s("6pjd"),l=s("jedr"),f=s("tobJ"),C=s("R5ro");function g(o,n){if(1&o){const o=i.Yb();i.Xb(0,"ps-input-username",5),i.fc("onPsChange",function(n){return i.Fc(o),i.ic().onChangeUsername(n)})("onPsEmpty",function(){return i.Fc(o),i.ic().onEmptyUsername()}),i.Wb()}if(2&o){const o=i.ic();i.pc("id","input_username_"+o.id)("options",o.options.userNameOption)}}function w(o,n){if(1&o){const o=i.Yb();i.Xb(0,"ps-complex-password-confirm",6),i.fc("onPasswordChange",function(n){return i.Fc(o),i.ic().onChangeComplexNewPassword(n)})("onConfirmPasswordChange",function(n){return i.Fc(o),i.ic().onChangeComplexConfirmPassword(n)}),i.Wb()}if(2&o){const o=i.ic();i.pc("id","complex_password_confirm_"+o.id)("options",o.options.passwordConfirmOptions)}}function P(o,n){if(1&o){const o=i.Yb();i.Xb(0,"ps-confirm-pin",7),i.fc("onPinChange",function(n){return i.Fc(o),i.ic().onChangeComplexNewPin(n)})("onConfirmPinChanged",function(n){return i.Fc(o),i.ic().onChangeComplexConfirmPin(n)}),i.Wb()}if(2&o){const o=i.ic();i.pc("id","complex_pin_confirm_"+o.id)("options",o.options.pinConfirmOptions)}}function y(o,n){if(1&o){const o=i.Yb();i.Xb(0,"ps-complex-security-questions",8),i.fc("onSecurityQuestionChange",function(n){return i.Fc(o),i.ic().onChangeSecurityQuestion(n)})("onAnswerChange",function(n){return i.Fc(o),i.ic().onChangeSecurityAnswer(n)}),i.Wb()}if(2&o){const o=i.ic();i.pc("id","complex_security_question_"+o.id)("options",o.options.securityQuestionOptions)}}let b=(()=>{class o extends e.a{constructor(o,n,s,e){super(o,n),this.commonProv=o,this.loggerP=n,this.omniPull=s,this.omniCommon=e,this.onSecurityQuestionChange=new i.o,this.onSecurityAnswerChange=new i.o,this.onComplexPasswordChange=new i.o,this.onComplexConfirmPasswordChange=new i.o,this.onComplexPinChange=new i.o,this.onComplexConfirmPinChange=new i.o,this.onUsernameChange=new i.o,this.componentVO={}}ngOnInit(){this.componentVO=this.omniPull.omniCommon.common.returnFormVO(this.options.group)}onChangeUsername(o){if(this.options.userNameOption.validateUserName){const n={userName:o.newValue};this.common.presentLoading(),this.omniCommon.verifyUserName(n).then(n=>{this.common.dismissLoading(),c.a.deleteError(this.options.userNameOption.group,this.options.userNameOption.fcName),this.options.userNameOption.group.controls[this.options.userNameOption.fcName][a.a.CONTROLLER_STOP_REVALIDATION]=!1,this.validateWithPassword(o)}).catch(o=>{this.common.setValInsideNestedObj(this.options.userNameOption.fcName,null,this.options.requestObject),this.common.dismissLoading(),o&&o.data.outputType===a.a.OUT_PUT_TYPE_U?(c.a.setErrors(this.options.userNameOption.group,this.options.userNameOption.fcName,[{msgKey:o.data.outputNotification}]),this.options.userNameOption.group.controls[this.options.userNameOption.fcName][a.a.CONTROLLER_STOP_REVALIDATION]=!0):this.common.logger.log(o)})}else this.validateWithPassword(o)}validateWithPassword(o){this.options.group.controls[this.options.passwordConfirmOptions.password.fcName].reset(),this.options.group.controls[this.options.passwordConfirmOptions.confirmPassword.fcName].reset(),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.passwordConfirmOptions.password.fcName],1),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.passwordConfirmOptions.confirmPassword.fcName],1),this.omniPull.getParamValOf("PassNotSimilarToUserName").then(n=>{n&&n.PassNotSimilarToUserName&&(this.options.passwordConfirmOptions.allowUserSimilarToPassword=n.PassNotSimilarToUserName,this.options.passwordConfirmOptions.username=o.newValue)}).catch(o=>this.logger.log(o)),this.onUsernameChange.emit(o)}onEmptyUsername(){this.options.group.controls[this.options.passwordConfirmOptions.password.fcName].reset(),this.options.group.controls[this.options.passwordConfirmOptions.confirmPassword.fcName].reset(),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.passwordConfirmOptions.password.fcName],0),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.passwordConfirmOptions.confirmPassword.fcName],0)}onChangeComplexNewPassword(o){this.onComplexPasswordChange.emit(o)}onChangeComplexConfirmPassword(o){this.onComplexConfirmPasswordChange.emit(o)}onChangeComplexNewPin(o){this.onComplexPinChange.emit(o)}onChangeComplexConfirmPin(o){this.onComplexConfirmPinChange.emit(o)}onChangeSecurityQuestion(o){this.onSecurityQuestionChange.emit(o)}onChangeSecurityAnswer(o){this.onSecurityAnswerChange.emit(o)}}return o.\u0275fac=function(n){return new(n||o)(i.Rb(r.a),i.Rb(t.a),i.Rb(u.a),i.Rb(p.a))},o.\u0275cmp=i.Lb({type:o,selectors:[["ps-complex-user-credentials"]],inputs:{options:"options"},outputs:{onSecurityQuestionChange:"onSecurityQuestionChange",onSecurityAnswerChange:"onSecurityAnswerChange",onComplexPasswordChange:"onComplexPasswordChange",onComplexConfirmPasswordChange:"onComplexConfirmPasswordChange",onComplexPinChange:"onComplexPinChange",onComplexConfirmPinChange:"onComplexConfirmPinChange",onUsernameChange:"onUsernameChange"},features:[i.Cb],decls:5,vars:5,consts:[[3,"id"],[3,"id","options","onPsChange","onPsEmpty",4,"ngIf"],[3,"id","options","onPasswordChange","onConfirmPasswordChange",4,"ngIf"],[3,"id","options","onPinChange","onConfirmPinChanged",4,"ngIf"],[3,"id","options","onSecurityQuestionChange","onAnswerChange",4,"ngIf"],[3,"id","options","onPsChange","onPsEmpty"],[3,"id","options","onPasswordChange","onConfirmPasswordChange"],[3,"id","options","onPinChange","onConfirmPinChanged"],[3,"id","options","onSecurityQuestionChange","onAnswerChange"]],template:function(o,n){1&o&&(i.Xb(0,"ps-container-complex",0),i.Pc(1,g,1,2,"ps-input-username",1),i.Pc(2,w,1,2,"ps-complex-password-confirm",2),i.Pc(3,P,1,2,"ps-confirm-pin",3),i.Pc(4,y,1,2,"ps-complex-security-questions",4),i.Wb()),2&o&&(i.pc("id","container_complex_"+n.id),i.Fb(1),i.pc("ngIf",n.options.userNameOption),i.Fb(1),i.pc("ngIf",n.options.passwordConfirmOptions),i.Fb(1),i.pc("ngIf",n.options.pinConfirmOptions),i.Fb(1),i.pc("ngIf",n.options.securityQuestionOptions))},directives:[m.a,h.o,d.a,l.a,f.a,C.a],styles:[""]}),o})()},R5ro:function(o,n,s){"use strict";s.d(n,"a",function(){return g});var i=s("fXoL"),e=s("ZyuK"),t=s("ZF3V"),r=s("DFXC"),a=s("Q0Ba"),c=s("ofXK"),p=s("Isd1"),u=s("mrSG"),m=s("V0Fi"),h=s("iOQE");let d=(()=>{class o extends h.a{constructor(o,n,s){super(o,n),this.commonProv=o,this.loggerP=n,this.omniPull=s}ngOnInit(){this.init()}init(){this.securityQuestionOptions={labelKey:"security_question_key",placeHolder:"select_security_question_key",fcName:this.options.fcName,group:this.options.group,iconOptions:{iconName:"lock-closed"}},this.loadSecurityQuestions()}onChangeSecurityQuestion(o){this.onPsChange.emit(o)}loadSecurityQuestions(){return Object(u.b)(this,void 0,void 0,function*(){const o=yield this.omniPull.returnSecurityQuestion({nbRec:-1,status:m.a.STATUS_APPROVED}).catch(o=>{this.logger.error("Error! while fetching security quetions in PsDropdownSecurityQuestionComponent :",o)});if(this.securityQuestionOptions.listOfOptions=[],o&&o.gridModel)for(const n of o.gridModel)this.securityQuestionOptions.listOfOptions.push({itemValue:n.securityQuestionVO.SECURITY_ID,description:n.securityQuestionVO.DESCRIPTION,selectedObj:n})})}}return o.\u0275fac=function(n){return new(n||o)(i.Rb(a.a),i.Rb(r.a),i.Rb(e.a))},o.\u0275cmp=i.Lb({type:o,selectors:[["ps-dropdown-security-question"]],inputs:{options:"options"},features:[i.Cb],decls:1,vars:2,consts:[[1,"ps-dropdown-security-questions",3,"id","options","onPsChange"]],template:function(o,n){1&o&&(i.Xb(0,"ps-select-dropdown",0),i.fc("onPsChange",function(o){return n.onChangeSecurityQuestion(o)}),i.Wb()),2&o&&i.pc("id",n.id)("options",n.securityQuestionOptions)},directives:[h.a],styles:[""]}),o})();var l=s("+BRL");function f(o,n){if(1&o){const o=i.Yb();i.Vb(0),i.Xb(1,"ps-dropdown-security-question",3),i.fc("onPsChange",function(n){return i.Fc(o),i.ic(2).onChangeSecurityQuestion(n)}),i.Wb(),i.Xb(2,"ps-input-free-text",3),i.fc("onPsChange",function(n){return i.Fc(o),i.ic(2).onChangeAnwer(n)}),i.Wb(),i.Ub()}if(2&o){const o=i.ic(2);i.Fb(1),i.pc("id","sec_question_"+o.id)("options",o.options.securityQuestionOptions),i.Fb(1),i.pc("id","sec_answer_"+o.id)("options",o.options.securityAnswerOptions)}}function C(o,n){if(1&o&&(i.Xb(0,"ps-container-complex",1),i.Pc(1,f,3,4,"ng-container",2),i.Wb()),2&o){const o=i.ic();i.pc("id","container_complex_"+o.id),i.Fb(1),i.pc("ngIf",o.options.group)}}let g=(()=>{class o extends t.a{constructor(o,n,s){super(o,n),this.commonProv=o,this.loggerP=n,this.omniPull=s,this.onSecurityQuestionChange=new i.o,this.onAnswerChange=new i.o}ngOnInit(){super.init(),this.options.securityAnswerOptions.revertToOldValue=!1,this.options&&this.options.securityAnswerOptions&&(this.options.securityAnswerOptions.iconOptions={iconName:"key1"}),this.omniPull.getParamValOf("EnableSecurityQuestion").then(o=>{this.EnableSecurityQuestion=o.EnableSecurityQuestion}).catch(o=>this.logger.log(o))}onChangeSecurityQuestion(o){this.onSecurityQuestionChange.emit(o)}onChangeAnwer(o){this.onAnswerChange.emit(o)}}return o.\u0275fac=function(n){return new(n||o)(i.Rb(a.a),i.Rb(r.a),i.Rb(e.a))},o.\u0275cmp=i.Lb({type:o,selectors:[["ps-complex-security-questions"]],inputs:{options:"options"},outputs:{onSecurityQuestionChange:"onSecurityQuestionChange",onAnswerChange:"onAnswerChange"},features:[i.Cb],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[4,"ngIf"],[3,"id","options","onPsChange"]],template:function(o,n){1&o&&i.Pc(0,C,2,2,"ps-container-complex",0),2&o&&i.pc("ngIf",n.EnableSecurityQuestion)},directives:[c.o,p.a,d,l.a],styles:[""]}),o})()},jedr:function(o,n,s){"use strict";s.d(n,"a",function(){return g});var i=s("fXoL"),e=s("ZF3V"),t=s("1kNi"),r=s("DFXC"),a=s("zngb"),c=s("Q0Ba"),p=s("Isd1"),u=s("ofXK"),m=s("KVmc");const h=["passwordRef"],d=["confirmPasswordRef"];function l(o,n){if(1&o&&i.Sb(0,"ps-label",8),2&o){const o=i.ic();i.pc("options",o.passNote)}}const f=function(o){return{labelKey:o}};function C(o,n){if(1&o&&(i.Xb(0,"p",9),i.Sb(1,"ps-label",8),i.Wb()),2&o){const o=i.ic();i.Fb(1),i.pc("options",i.sc(1,f,o.errorMsg))}}let g=(()=>{class o extends e.a{constructor(o,n){super(o,n),this.commonProv=o,this.loggerP=n,this.onPasswordChange=new i.o,this.onConfirmPasswordChange=new i.o,this.newPassword=null,this.confirmedNewPassword=null,this.passNote={}}ngOnInit(){null==this.options.showPasswordHint&&(this.options.showPasswordHint=!0),this.passNote.labelKey=this.options.hintMessage?this.options.hintMessage:"pass_note_key"}onChangePassword(o){this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.confirmPassword.fcName],1),this.newPassword=o.newValue,this.options.allowUserSimilarToPassword&&(this.options.username&&this.newPassword===this.options.username?(this.options.group.controls[this.options.password.fcName].setErrors({warning:this.commonProv.translate("YOU_CANNOT_SET_A_PASSWORD_SIMILAR_TO_THE_USERNAME_KEY")}),super.checkValidationErrors(),this.passwordRef.superWriteValue("")):this.commonProv.session.getStoredValueOf(a.a.USER_NAME).then(n=>{n&&n===o.newValue&&(this.options.group.controls[this.options.password.fcName].setErrors({warning:this.commonProv.translate("YOU_CANNOT_SET_A_PASSWORD_SIMILAR_TO_THE_USERNAME_KEY")}),super.checkValidationErrors(),this.passwordRef.superWriteValue(""))})),this.confirmPasswordRef.superWriteValue(""),this.confirmedNewPassword=null,this.onPasswordChange.emit(o)}onChangeConfirmPassword(o){this.errorMsg="",this.confirmedNewPassword=o.newValue,null!==this.newPassword&&null!==this.confirmedNewPassword&&this.newPassword!==this.confirmedNewPassword&&(this.options.confirmPassword.group.controls[this.options.confirmPassword.fcName].setErrors({customErrorKey:this.commonProv.translate(this.options.password.labelKey)+" "+this.commonProv.translate("do_not_match_key")}),this.errorMsg=this.commonProv.translate(this.options.password.labelKey)+" "+this.commonProv.translate("do_not_match_key"),super.checkValidationErrors(),this.commonProv.setValInsideNestedObj(this.options.confirmPassword.fcName,null,this.options.requestObject)),this.onConfirmPasswordChange.emit(o)}onfieldEmpty(o){"pass"===o?this.newPassword=null:this.confirmedNewPassword=null,this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.confirmPassword.fcName],0)}}return o.\u0275fac=function(n){return new(n||o)(i.Rb(c.a),i.Rb(r.a))},o.\u0275cmp=i.Lb({type:o,selectors:[["ps-complex-password-confirm"]],viewQuery:function(o,n){if(1&o&&(i.Wc(h,1),i.Wc(d,1)),2&o){let o;i.Bc(o=i.gc())&&(n.passwordRef=o.first),i.Bc(o=i.gc())&&(n.confirmPasswordRef=o.first)}},inputs:{options:"options"},outputs:{onPasswordChange:"onPasswordChange",onConfirmPasswordChange:"onConfirmPasswordChange"},features:[i.Cb],decls:9,vars:7,consts:[[3,"id"],[1,"main-password","pc-input-label","ps-input-text-font-color",3,"id","options","onPsEmpty","onPsChange"],["passwordRef",""],[1,"col-12","pass-note"],[3,"options",4,"ngIf"],[1,"confirm-password","pc-input-label","ps-input-text-font-color",3,"id","options","onPsEmpty","onPsChange"],["confirmPasswordRef",""],["class","validation-message",4,"ngIf"],[3,"options"],[1,"validation-message"]],template:function(o,n){1&o&&(i.Xb(0,"ps-container-complex",0),i.Xb(1,"ps-input-password",1,2),i.fc("onPsEmpty",function(){return n.onfieldEmpty("pass")})("onPsChange",function(o){return n.onChangePassword(o)}),i.Wb(),i.Xb(3,"div",3),i.Pc(4,l,1,1,"ps-label",4),i.Wb(),i.Xb(5,"ps-input-password",5,6),i.fc("onPsEmpty",function(){return n.onfieldEmpty("conf")})("onPsChange",function(o){return n.onChangeConfirmPassword(o)}),i.Wb(),i.Vb(7),i.Pc(8,C,2,3,"p",7),i.Ub(),i.Wb()),2&o&&(i.pc("id","password_confirm"+n.id),i.Fb(1),i.pc("id","password_"+n.id)("options",n.options.password),i.Fb(3),i.pc("ngIf",n.options.showPasswordHint),i.Fb(1),i.pc("id","confirmPassword_"+n.id)("options",n.options.confirmPassword),i.Fb(3),i.pc("ngIf",n.errorMsg))},directives:[p.a,t.a,u.o,m.a],styles:[""]}),o})()},tobJ:function(o,n,s){"use strict";s.d(n,"a",function(){return m});var i=s("fXoL"),e=s("ZyuK"),t=s("DFXC"),r=s("Q0Ba"),a=s("jedr"),c=s("ofXK"),p=s("Isd1");function u(o,n){if(1&o){const o=i.Yb();i.Xb(0,"ps-container-complex",1),i.Xb(1,"ps-complex-password-confirm",2),i.fc("onPasswordChange",function(n){return i.Fc(o),i.ic().onChangePin(n)})("onConfirmPasswordChange",function(n){return i.Fc(o),i.ic().onChangeConfirmPin(n)}),i.Wb(),i.Wb()}if(2&o){const o=i.ic();i.pc("id","confirm_pin"+o.id),i.Fb(1),i.pc("options",o.defaultOptions)}}let m=(()=>{class o extends a.a{constructor(o,n,s){super(o,n),this.commonProv=o,this.loggerP=n,this.omniPull=s,this.onPinChange=new i.o,this.onConfirmPinChange=new i.o,this.newPin=null,this.confirmedNewPin=null,this.defaultOptions={password:{labelKey:"pin_key",placeHolder:"enter_pin_key"},confirmPassword:{labelKey:"confirm_pin_key",placeHolder:"enter_confirm_pin_key"},showPasswordHint:!1}}ngOnInit(){super.init(),this.isRequireTransactionPassword=!1,this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.defaultOptions.requestObject=this.options.requestObject,this.omniPull.getParamValOf("RequireTransactionPassword").then(o=>{this.isRequireTransactionPassword=o.RequireTransactionPassword}).catch(o=>this.logger.log(o))}onChangePin(o){this.onPinChange.emit(o)}onChangeConfirmPin(o){this.onConfirmPinChange.emit(o)}}return o.\u0275fac=function(n){return new(n||o)(i.Rb(r.a),i.Rb(t.a),i.Rb(e.a))},o.\u0275cmp=i.Lb({type:o,selectors:[["ps-confirm-pin"]],inputs:{options:"options"},outputs:{onPinChange:"onPinChange",onConfirmPinChange:"onConfirmPinChange"},features:[i.Cb],decls:1,vars:1,consts:[["class","ps-confirm-pin",3,"id",4,"ngIf"],[1,"ps-confirm-pin",3,"id"],["id","complex_confirm_pin",3,"options","onPasswordChange","onConfirmPasswordChange"]],template:function(o,n){1&o&&i.Pc(0,u,2,2,"ps-container-complex",0),2&o&&i.pc("ngIf",n.isRequireTransactionPassword)},directives:[c.o,p.a,a.a],styles:[""]}),o})()}}]);