!function(){function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,i,n){var t=o(e,i);if(t){var a=Object.getOwnPropertyDescriptor(t,i);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(null,arguments)}function o(e,o){for(;!{}.hasOwnProperty.call(e,o)&&null!==(e=u(e)););return e}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,o,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function s(i,t,a,r){var s=t&&t.prototype instanceof l?t:l,p=Object.create(s.prototype);return n(p,"_invoke",function(i,n,t){var a,r,s,l=0,p=t||[],u=!1,m={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(o,i){return a=o,r=0,s=e,m.n=i,c}};function b(i,n){for(r=i,s=n,o=0;!u&&l&&!t&&o<p.length;o++){var t,a=p[o],b=m.p,O=a[2];i>3?(t=O===n)&&(s=a[(r=a[4])?5:(r=3,3)],a[4]=a[5]=e):a[0]<=b&&((t=i<2&&b<a[1])?(r=0,m.v=n,m.n=a[1]):b<O&&(t=i<3||a[0]>n||n>O)&&(a[4]=i,a[5]=n,m.n=O,r=0))}if(t||i>1)return c;throw u=!0,n}return function(t,p,O){if(l>1)throw TypeError("Generator is already running");for(u&&1===p&&b(p,O),r=p,s=O;(o=r<2?e:s)||!u;){a||(r?r<3?(r>1&&(m.n=-1),b(r,s)):m.n=s:m.v=s);try{if(l=2,a){if(r||(t="next"),o=a[t]){if(!(o=o.call(a,s)))throw TypeError("iterator result is not an object");if(!o.done)return o;s=o.value,r<2&&(r=0)}else 1===r&&(o=a.return)&&o.call(a),r<2&&(s=TypeError("The iterator does not provide a '"+t+"' method"),r=1);a=e}else if((o=(u=m.n<0)?s:i.call(n,m))!==c)break}catch(o){a=e,r=1,s=o}finally{l=1}}return{value:o,done:u}}}(i,a,r),!0),p}var c={};function l(){}function p(){}function u(){}o=Object.getPrototypeOf;var m=[][a]?o(o([][a]())):(n(o={},a,function(){return this}),o),b=u.prototype=l.prototype=Object.create(m);function O(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,n(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e}return p.prototype=u,n(b,"constructor",u),n(u,"constructor",p),p.displayName="GeneratorFunction",n(u,r,"GeneratorFunction"),n(b),n(b,r,"Generator"),n(b,a,function(){return this}),n(b,"toString",function(){return"[object Generator]"}),(i=function(){return{w:s,m:O}})()}function n(e,o,i,t){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(n=function(e,o,i,t){function r(o,i){n(e,o,function(e){return this._invoke(o,i,e)})}o?a?a(e,o,{value:i,enumerable:!t,configurable:!t,writable:!t}):e[o]=i:(r("next",0),r("throw",1),r("return",2))})(e,o,i,t)}function t(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function a(e,o){for(var i=0;i<o.length;i++){var n=o[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function r(e,o,i){return o&&a(e.prototype,o),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var o=function(e,o){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,o||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:o+""}function c(e,o,i){return o=u(o),function(e,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(e,p()?Reflect.construct(o,i||[],u(e).constructor):o.apply(e,i))}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&b(e,o)}function b(e,o){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,o){return e.__proto__=o,e})(e,o)}(window.webpackJsonp=window.webpackJsonp||[]).push([[28,339,340,341,342,343,344,345,346,347,348,349],{NEl1:function(o,n,a){"use strict";a.r(n),a.d(n,"OmniLoginPage",function(){return ve});var s=a("mrSG"),p=a("3Pt+"),b=a("0CJq"),O=a("ZyuK"),f=a("K1pK"),g=a("qEF5"),d=a("lE2x"),h=a("bQcQ"),v=a("V0Fi"),_=a("fOh1"),N=a("ysEX"),y=a("zngb"),I=a("QZhd"),E=a("woXy"),P=a("gKqT"),S=a("fXoL"),A=a("TEn/"),k=a("wJnc"),w=a("8cTo"),C=a("/uUt"),T=a("OPJk"),R=a("6pjd"),L=a("1kNi"),D=a("Q0Ba"),F=a("uqA0"),M=a("DFXC"),B=a("tyNb"),V=a("ofXK"),U=a("KuXP"),K=a("UlE8"),G=a("0BTV"),W=a("/Ck2"),q=a("KVmc"),X=a("DEHn"),j=["submitButton"],Y=["usernameRef"],x=["passwordRef"];function z(e,o){if(1&e&&(S.Xb(0,"div",25),S.Xb(1,"div",26),S.Sb(2,"ps-gallery-banners",27),S.Wb(),S.Wb()),2&e){var i=S.ic();S.Fb(2),S.pc("options",i.bannersOptions)}}function H(e,o){if(1&e&&(S.Xb(0,"div",28),S.Sb(1,"ps-label",29),S.Sb(2,"ps-label",29),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.userWelcomeOptions),S.Fb(1),S.pc("options",i.longUserNameOptions)}}function Z(e,o){if(1&e){var i=S.Yb();S.Xb(0,"div",30),S.Xb(1,"ps-input-username",31,32),S.fc("onPsEmpty",function(){return S.Fc(i),S.ic().onEmptyUsername()})("onPsKeyUp",function(e){return S.Fc(i),S.ic().onUsernameKeyUp(e)})("onPsChange",function(e){return S.Fc(i),S.ic().onChangeUserName(e)}),S.Wb(),S.Wb()}if(2&e){var n=S.ic();S.Fb(1),S.pc("id","username_"+n.id)("options",n.mainOptions.userName)}}function J(e,o){if(1&e){var i=S.Yb();S.Xb(0,"ps-button-biometric",33),S.fc("authenticateBiometric",function(){return S.Fc(i),S.ic().logInByBiometric()}),S.Wb()}if(2&e){var n=S.ic();S.pc("options",n.biometricSubmitOptions)}}var Q,$=[[["","header",""]],[["","footer",""]],[["","bankName",""]],[["","login-fab-list",""]]],ee=["[header]","[footer]","[bankName]","[login-fab-list]"],oe=((Q=function(e){function o(e,i,n,a,r,s){var p;return t(this,o),(p=c(this,o)).faio=e,p.alertCtrl=i,p.commonServices=n,p.route=a,p.logger=r,p.omniPull=s,p.mainOptions={},p.longUserName="",p.rememberMeFromStorage=!1,p.showBannerOnLogin=!1,p.showBiometricButton=!1,p.passwordChanged=!1,p.onlineRegistrationOptions={route:"online-registration",pageOptions:{operId:v.a.ONLINE_REGISTRATION_OPER,title:"online_registration_key",iconName:"user"},iconOptions:{iconName:"user",labelOptions:{labelKey:"online_registration_key"}}},p.reactivateMyAccountOptions={route:"reactivate-my-account",pageOptions:{operId:v.a.REACTIVATE_ACCOUNT_OPER,title:"ractivate_my_account_key",iconName:"reactivate-my-account"},iconOptions:{iconName:"reactivate-my-account",labelOptions:{labelKey:"reactivate_my_account_key"}}},p.helpCredentialsOptions={route:"forgot-credentials",pageOptions:{operId:v.a.FORGOT_CREDENTIALS_OPER,iconName:"help-circle",title:"help_with_credentials_key"},iconOptions:{iconName:"help-circle",labelOptions:{labelKey:"help_with_credentials_key"}}},p.captchaOptions={fcName:"recaptchaReactive"},p.onUserNameChange=new S.o,p.logInClicked=new S.o,p.defaultConfiguration={password:{fcName:"userPassword"},userName:{fcName:"userName"},rememberMe:{labelKey:"remember_me_key",fcName:"rememberMe"}},p.biometricLoginOptions={iconOptions:{iconName:"finger-print",labelOptions:{labelKey:"biometric_login_key"}}},p.submitOptions={group:p.mainOptions.group,labelKey:"login_key",submitServiceUrl:I.a.serviceUrl.authenticate,enableNavigateBack:!1,preCallFunction:{func:function(){var e=this;return new Promise(function(o){o(e.executionClass.setOperId())})},executionClass:l(p)},postCallFunction:{func:function(e){var o=this;return new Promise(function(i,n){i(o.executionClass.logIn(e))})},params:[l(p)],executionClass:l(p)}},p.userWelcomeOptions={labelKey:"welcome_key"},p.longUserNameOptions={},p.rememberMeCase=!1,p.userNameValue=null,p.operId="operId_"+I.a.oper_ID,p}return m(o,e),r(o,[{key:"option",set:function(e){e&&(this.mainOptions=e)}},{key:"ngOnInit",value:function(){var e=this;d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in template-login, ngOnInit with start time: "+(new Date).toISOString()),this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_VISIBLE,["reactivate-my_account_link"],0),this.init(),this.omniPull.getParamValOf(v.a.APPLY_LOGIN_VALIDATIONS).then(function(o){o[v.a.APPLY_LOGIN_VALIDATIONS]&&(e.applyLoginValidations=!0)}),I.a.APP_ID!=v.a.CORPORATE_APP_ID&&this.showHideReactivateLink(),this.showBannerOnLogin=d.a.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.DISPLAY_SLIDER_ON_LOGIN,this.commonProv.copyObject(this.mainOptions,this.defaultConfiguration,!1,!0),this.submitOptions.group=this.mainOptions.group,this.captchaOptions.group=this.mainOptions.group;var o=new Map;o.set(this.mainOptions.userName.fcName,{required:!0}),o.set(this.mainOptions.password.fcName,{required:!0}),this.commonProv.setDefaultValidators(o,this.mainOptions.group),this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_MANDATORY,[this.mainOptions.password.fcName],1),this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_MANDATORY,[this.mainOptions.rememberMe.fcName],0),this.commonProv.session.append(y.a.AUTO_LOGIN,0),this.resultusername="",this.commonProv.session.getStoredValueOf(v.a.USER_NAME).then(function(o){e.resultusername=o}),this.commonProv.session.getStoredValueOf(v.a.REMEMBER_ME+I.a.APP_ID).then(function(o){var i,n;if(e.commonProv.setValInsideNestedObj(e.mainOptions.rememberMe.fcName,o,null===(i=e.mainOptions.group.controls.formData)||void 0===i?void 0:i.value),o&&(e.rememberMeFromStorage=!0,e.resultusername)){e.rememberMeCase=!0,e.commonProv.setValInsideNestedObj(e.mainOptions.userName.fcName,e.resultusername,null===(n=e.mainOptions.group.controls.formData)||void 0===n?void 0:n.value);var t=e.commonProv.session.getValueOf(y.a.PRE_LOGIN_PARAMS);t&&(e.commonProv.session.getStoredValueOf(v.a.USER_LONG_NAME_KEY+I.a.APP_ID).then(function(o){o&&(e.longUserName=o,e.longUserNameOptions.labelKey=o)}),t[y.a.ENABLE_BIOMETRICS_PARAM]&&"true"===t[y.a.ENABLE_BIOMETRICS_PARAM].parameterVal&&g.a.isNativeMobile()&&(e.biometricSubmitOptions={labelKey:"biometric_login_key",iconName:"biometric",psClass:"ps-button-submit",group:e.mainOptions.group,biometricOptions:{username:e.resultusername}},e.commonProv.session.getStoredValueOf(v.a.BIOMETRIC_LOGIN).then(function(o){o&&(e.showBiometricButton=!0,e.isSplashScreenVisibleObs=e.commonServices.isSplashScreenVisible.pipe(Object(C.a)()).subscribe(function(o){null==o||!1!==o||I.a.bn6Vh8DfrTErfPp4||e.doBiometricLogin()}))})))}}),this.commonServices.cancelClicked.subscribe(function(o){e.submitOptions.group&&e.submitOptions.group.controls&&e.submitOptions.group.controls[e.mainOptions.userName.fcName]&&e.commonProv.session.getStoredValueOf(v.a.REMEMBER_ME+I.a.APP_ID).then(function(e){})}),this.onSubmitListener=this.commonProv.events.subscribe("onSubmit",function(o){e.recheckCredentialsValue(o)}),this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_READONLY,["login_submit"],1),d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in template-login, ngOnInit with end time: "+(new Date).toISOString()),this.logger.logForTesting("*****************Login screen display:******* "+(new Date).toISOString().replace("T"," ").replace("Z","")),console.log("*****************Login screen display: "+(new Date).toISOString().replace("T"," ").replace("Z",""))}},{key:"ionViewDidEnter",value:function(){d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in template-login, ionViewDidEnter with start time: "+(new Date).toISOString())}},{key:"doBiometricLogin",value:function(){var e=this;this.showBiometricButton&&(this.commonProv.session.getValueOf(v.a.SESSION_LOGGED_IN)||this.commonProv.checkBiometricAuthentication(this.biometricSubmitOptions.biometricOptions).then(function(o){e.commonProv.biometricAuthResult.pipe(Object(C.a)()).subscribe(function(i){o!==y.a.BIOMETRIC_AUTH_SUCCESS&&i!==y.a.BIOMETRIC_AUTH_SUCCESS||e.logInByBiometric()})}))}},{key:"logInByBiometric",value:function(){this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_MANDATORY,[this.mainOptions.password.fcName],0),this.commonProv.session.append(y.a.AUTO_LOGIN,1),this.submitButtonRef.callServer()}},{key:"logIn",value:function(e){var o,i;this.logger.logForTesting("*****************loggedIn:******* "+(new Date).toISOString().replace("T"," ").replace("Z","")),console.log("*****************loggedIn: "+(new Date).toISOString().replace("T"," ").replace("Z","")),(null===(o=this.submitOptions.group.controls[this.mainOptions.rememberMe.fcName])||void 0===o?void 0:o.value)?(this.commonProv.session.append(v.a.REMEMBER_ME+I.a.APP_ID,null===(i=this.submitOptions.group.controls[this.mainOptions.rememberMe.fcName])||void 0===i?void 0:i.value,!0),this.commonProv.session.append(v.a.USER_NAME,e.userName,!0)):(this.commonProv.session.append(v.a.REMEMBER_ME+I.a.APP_ID,!1,!0),this.commonProv.session.remove(v.a.USER_NAME)),this.commonProv.session.append(y.a.AUTH_USER_NAME,e.userName,!0),this.commonProv.session.append(v.a.SESSION_LOGGED_IN,!0,!1),this.logInClicked.emit(Object.assign(Object.assign({},JSON.parse(JSON.stringify(this.mainOptions.group.controls.formData.value))),e))}},{key:"onChangeUserName",value:function(e){e&&e.newValue&&this.mainOptions.group.controls.formData.value[this.mainOptions.userName.fcName]&&(this.logger.logForTesting("*****************userName filled:******* "+(new Date).toISOString().replace("T"," ").replace("Z","")),console.log("*****************userName filled: "+(new Date).toISOString().replace("T"," ").replace("Z",""))),e&&e.newValue&&this.showBiometricButton&&(this.showBiometricButton=!1)}},{key:"onChangePassword",value:function(e){e&&e.newValue&&this.mainOptions.group.controls.formData.value[this.mainOptions.password.fcName]&&(this.logger.logForTesting("*****************password filled:******* "+(new Date).toISOString().replace("T"," ").replace("Z","")),console.log("*****************password filled: "+(new Date).toISOString().replace("T"," ").replace("Z",""))),e&&e.newValue&&(this.showBiometricButton=!1,this.passwordChanged=!0,this.commonProv.session.append(y.a.AUTO_LOGIN,0))}},{key:"onToggle",value:function(e){return Object(s.b)(this,void 0,void 0,i().m(function o(){var n=this;return i().w(function(o){for(;;)switch(o.n){case 0:!e.newValue&&e.oldValue&&(this.rememberMeFromStorage&&this.resultusername&&(this.rememberMeCase=!1),this.commonProv.session.append(v.a.USER_NAME,"",!0),this.commonProv.session.append(v.a.REMEMBER_ME+I.a.APP_ID,!1,!0)),this.commonProv.isMobile()&&this.commonProv.session.getStoredValueOf(v.a.BIOMETRIC_LOGIN).then(function(e){n.isBioAvailable=e}),this.commonProv.isMobile()&&!1===e.newValue&&e.oldValue&&this.isBioAvailable&&this.commonProv.presentPsAlert({cssClass:"ps-button-save",header:"biometric_login_will_be_disabled_key",inputs:[{options:{placeHolder:"are_you_sure_you_want_to_continue_key",fcName:"menuPageSelection",group:this.options.group,disablePreview:!0}}],buttons:[{role:"cancel",options:{labelKey:"cancel_key",psClass:"ps-drafts-report-cancel-button",group:null},handler:function(){n.commonProv.setValInsideNestedObj(n.mainOptions.rememberMe.fcName,!0,n.mainOptions.group.controls.formData.value)}},{role:"cancel",options:{labelKey:"confirm_key",iconName:"paper-plane",psClass:"ps-drafts-report-submit-button",group:this.options.group},handler:function(){n.commonProv.session.append(v.a.BIOMETRIC_LOGIN,!1,!0)}}]},"off-toggle-confirmation"),0==e.newValue&&""!=this.longUserName&&(this.longUserName="",this.submitOptions.group.controls[this.mainOptions.userName.fcName].reset(),this.commonProv.session.append(v.a.USER_LONG_NAME_KEY+I.a.APP_ID,"",!0)),0==e.newValue&&1==this.showBiometricButton?this.showBiometricButton=!1:1==e.newValue&&0==this.showBiometricButton&&!this.passwordChanged&&this.isBioAvailable&&(this.showBiometricButton=!0);case 1:return o.a(2)}},o,this)}))}},{key:"onUserNameChangeFn",value:function(e){this.onUserNameChange.emit(e)}},{key:"setOperId",value:function(){var e=this;return new Promise(function(o,i){I.a.oper_ID=y.a.LOGIN_OPER_ID,e.applyLoginValidations?e.commonServices.http.commonRequestAjax(I.a.serviceUrl.authenticate,Object.assign({},e.submitOptions.group.controls.formData.value)).then(function(e){e.success&&o(!0)}).catch(function(e){i()}):o(!0)})}},{key:"onEmptyUsername",value:function(){this.logger.logForTesting("*****************userName deleted:*******"+(new Date).toISOString().replace("T"," ").replace("Z","")),console.log("*****************userName deleted: "+(new Date).toISOString().replace("T"," ").replace("Z",""))}},{key:"ngOnDestroy",value:function(){this.isSplashScreenVisibleObs&&this.isSplashScreenVisibleObs.unsubscribe(),this.onSubmitListener.unsubscribe()}},{key:"recheckCredentialsValue",value:function(e){!this.rememberMeFromStorage&&g.a.isEmptyOrNull(this.mainOptions.group.controls.formData.value[this.mainOptions.userName.fcName])&&this.populateValueUsingVanillaJs(this.mainOptions.userName.fcName,this.usernameRef.inputRef.getDomRef()),g.a.isEmptyOrNull(this.mainOptions.group.controls.formData.value[this.mainOptions.password.fcName])&&this.populateValueUsingVanillaJs(this.mainOptions.password.fcName,this.passwordRef.inputRef.getDomRef())}},{key:"populateValueUsingVanillaJs",value:function(e,o){if(!g.a.isEmptyOrNull(o.value)){var i=o.value,n={};n[e]=i,this.submitOptions.group.patchValue(n),this.commonProv.setValInsideNestedObj(e,i,this.mainOptions.group.controls.formData.value)}}},{key:"onUsernameKeyUp",value:function(e){var o,i;this._manageLoginButtonKey(null===(o=null==e?void 0:e.currentTarget)||void 0===o?void 0:o.value,null===(i=this.passwordRef.inputRef.getDomRef())||void 0===i?void 0:i.value)}},{key:"onPasswordKeyUp",value:function(e){var o,i,n;this.rememberMeFromStorage&&this.resultusername&&this.rememberMeCase?this._manageLoginButtonKey(this.resultusername,null===(o=null==e?void 0:e.currentTarget)||void 0===o?void 0:o.value):this._manageLoginButtonKey(null===(i=this.usernameRef.inputRef.getDomRef())||void 0===i?void 0:i.value,null===(n=null==e?void 0:e.currentTarget)||void 0===n?void 0:n.value)}},{key:"_manageLoginButtonKey",value:function(e,o){var i=!1,n=!1;g.a.isEmptyOrNull(e)||(i=!0),g.a.isEmptyOrNull(o)||(n=!0),this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_READONLY,["login_submit"],i&&n?0:1)}},{key:"showHideReactivateLink",value:function(){return Object(s.b)(this,void 0,void 0,i().m(function e(){var o,n=this;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.omniPull.getParamValOf(v.a.ALLOW_ONLINE_SELF_REACTIVATION);case 1:if(o=v.a.ALLOW_ONLINE_SELF_REACTIVATION,!e.v[o]){e.n=2;break}this.commonProv.applyDynScreenDisplay(y.a.ACTION_TYPE_VISIBLE,["reactivate-my_account_link"],1),this.submitOptions.overrideAlerts=[{code:v.a.DEACTIVATED_USER_ERROR_CODE,optionsAlert:{message:this.commonServices.translate("user_is_deactivated_key")+"\n"+this.commonServices.translate("reactivate_your_account_key"),buttonsArray:[{group:new p.f({}),labelKey:"yes_key",handler:function(){g.a.dismissAllModals(),n.navService.openPage({title:"reactivate_my_account_key",icon:"reactivate-my-account",operID:v.a.REACTIVATE_ACCOUNT_OPER,component:"reactivate-my-account"})}},{group:new p.f({}),labelKey:"no_key",handler:function(){g.a.dismissAllModals()}}]}}];case 2:return e.a(2)}},e,this)}))}}])}(F.a)).\u0275fac=function(e){return new(e||Q)(S.Rb(w.a),S.Rb(A.b),S.Rb(D.a),S.Rb(B.a),S.Rb(M.a),S.Rb(O.a))},Q.\u0275cmp=S.Lb({type:Q,selectors:[["ps-template-login"]],viewQuery:function(e,o){var i;1&e&&(S.Wc(j,1),S.Wc(Y,1),S.Wc(x,1)),2&e&&(S.Bc(i=S.gc())&&(o.submitButtonRef=i.first),S.Bc(i=S.gc())&&(o.usernameRef=i.first),S.Bc(i=S.gc())&&(o.passwordRef=i.first))},hostVars:2,hostBindings:function(e,o){2&e&&S.Hb(o.operId)},inputs:{showForgotPwd:"showForgotPwd",option:["options","option"]},outputs:{onUserNameChange:"onUserNameChange",logInClicked:"logInClicked"},features:[S.Cb],ngContentSelectors:ee,decls:30,vars:14,consts:[["class","ps-template-login-banners widget-banner","psHeader","",4,"ngIf"],[1,"ps-template-login-card"],[1,"ps-template-login-card-flex"],[1,"ps-template-login-logo"],["id","ps-container-login-form"],["class","ps-template-login-longName",4,"ngIf"],["class","ps-template-login-username",4,"ngIf"],[1,"ps-template-login-password"],[3,"id","options","onPsKeyUp","onPsChange"],["passwordRef",""],[1,"ps-template-login-rememberMe"],[1,"ps-template-login-rememberMe-toggle",3,"id","options","onPsChange"],[1,"ps-template-login-captcha"],[3,"id","options"],[1,"ps-template-login-help"],["id","help_with_cred_link",3,"options"],["id","reactivate_my_account_link",1,"reactivate-my-account-link",3,"options"],[1,"ps-template-login-submit"],["id","login_submit",1,"ps-login-submit",3,"options"],["submitButton",""],["class","ps-biometric-submit","id","biommmmetric_submit",3,"options","authenticateBiometric",4,"ngIf"],[1,"additional-links"],["id","online_registration_link",1,"online-registration-link",3,"options"],[1,"ps-template-login-links"],[1,"bank-name"],["psHeader","",1,"ps-template-login-banners","widget-banner"],["banner","",1,"login-banners"],["id","login_banner",1,"profile-animate-left",3,"options"],[1,"ps-template-login-longName"],[3,"options"],[1,"ps-template-login-username"],[3,"id","options","onPsEmpty","onPsKeyUp","onPsChange"],["usernameRef",""],["id","biommmmetric_submit",1,"ps-biometric-submit",3,"options","authenticateBiometric"]],template:function(e,o){1&e&&(S.oc($),S.Xb(0,"ps-template-base"),S.Pc(1,z,3,1,"div",0),S.Xb(2,"ion-card",1),S.Xb(3,"div",2),S.Xb(4,"div",3),S.nc(5),S.Wb(),S.Xb(6,"div",4),S.Pc(7,H,3,2,"div",5),S.Pc(8,Z,3,2,"div",6),S.Xb(9,"div",7),S.Xb(10,"ps-input-password",8,9),S.fc("onPsKeyUp",function(e){return o.onPasswordKeyUp(e)})("onPsChange",function(e){return o.onChangePassword(e)}),S.Wb(),S.Wb(),S.Xb(12,"div",10),S.Xb(13,"ps-select-toggle",11),S.fc("onPsChange",function(e){return o.onToggle(e)}),S.Wb(),S.Wb(),S.Xb(14,"div",12),S.Sb(15,"ps-captcha",13),S.Wb(),S.Xb(16,"div",14),S.Sb(17,"ps-action-hyperlink",15),S.Sb(18,"ps-action-hyperlink",16),S.Wb(),S.Xb(19,"div",17),S.Sb(20,"ps-button-submit",18,19),S.Pc(22,J,1,1,"ps-button-biometric",20),S.Wb(),S.Xb(23,"div",21),S.Sb(24,"ps-action-hyperlink",22),S.Wb(),S.Xb(25,"div",23),S.nc(26,1),S.Wb(),S.Xb(27,"div",24),S.nc(28,2),S.Wb(),S.Wb(),S.nc(29,3),S.Wb(),S.Wb(),S.Wb()),2&e&&(S.Fb(1),S.pc("ngIf",o.showBannerOnLogin),S.Fb(6),S.pc("ngIf",o.rememberMeFromStorage&&""!=o.longUserName),S.Fb(1),S.pc("ngIf",!(o.rememberMeFromStorage&&""!=o.longUserName)),S.Fb(2),S.pc("id","password_"+o.id)("options",o.mainOptions.password),S.Fb(3),S.pc("id","rememberMe_"+o.id)("options",o.mainOptions.rememberMe),S.Fb(2),S.pc("id","captcha_"+o.id)("options",o.captchaOptions),S.Fb(2),S.pc("options",o.helpCredentialsOptions),S.Fb(1),S.pc("options",o.reactivateMyAccountOptions),S.Fb(2),S.pc("options",o.submitOptions),S.Fb(2),S.pc("ngIf",o.showBiometricButton),S.Fb(2),S.pc("options",o.onlineRegistrationOptions))},directives:[F.a,V.o,A.h,L.a,U.a,K.a,G.a,T.a,W.a,q.a,R.a,X.a],styles:[""]}),Q),ie=a("sNWo"),ne=a("ZF3V"),te=a("ilDp"),ae=a("3XHH");function re(e,o){if(1&e&&S.Sb(0,"ps-container-html-viewer",3),2&e){var i=S.ic();S.pc("options",i.htmlViewerOptions)}}var se,ce=((se=function(e){function o(e,i){var n;return t(this,o),(n=c(this,o,[e,i])).commonProv=e,n.loggerP=i,n.options={},n.tooltipOptions={iconName:"info"},n.showArrow=!0,n.ifResult=!1,n}return m(o,e),r(o,[{key:"ngOnInit",value:function(){this.tooltipOptions.iconName=this.options.iconName?this.options.iconName:"info";var e=this.options.fileName;e&&(this.htmlViewerOptions={fileName:e},this.ifResult=!0)}}])}(ne.a)).\u0275fac=function(e){return new(e||se)(S.Rb(D.a),S.Rb(M.a))},se.\u0275cmp=S.Lb({type:se,selectors:[["ps-complex-tooltip"]],inputs:{options:"options"},features:[S.Cb],decls:3,vars:2,consts:[[1,"tooltip-container"],["class","tooltiptext",3,"options",4,"ngIf"],[3,"options"],[1,"tooltiptext",3,"options"]],template:function(e,o){1&e&&(S.Xb(0,"div",0),S.Pc(1,re,1,1,"ps-container-html-viewer",1),S.Sb(2,"ps-action-icon",2),S.Wb()),2&e&&(S.Fb(1),S.pc("ngIf",o.ifResult&&o.htmlViewerOptions.fileName),S.Fb(1),S.pc("options",o.tooltipOptions))},directives:[V.o,te.a,ae.a],styles:[""]}),se);function le(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",17),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.createAccountOptions),S.Fb(1),S.pc("options",i.createAccountToolTipOptions)}}function pe(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",18),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.ProductNServiceCategoriesOptions),S.Fb(1),S.pc("options",i.ProductsToolTipOptions)}}function ue(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",19),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.qiblaDirectionOptions),S.Fb(1),S.pc("options",i.qiblaDirectionToolTipOptions)}}function me(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",20),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.prayerOptions),S.Fb(1),S.pc("options",i.PrayerToolTipOptions)}}function be(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",21),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.atmAndBranchLocatorOptions),S.Fb(1),S.pc("options",i.atmAndBranchtToolTipOptions)}}function Oe(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",22),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.financingCalculatorOptions),S.Fb(1),S.pc("options",i.finacialCalculatorToolTipOptions)}}function fe(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",23),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic();S.Fb(1),S.pc("options",i.faqOptions),S.Fb(1),S.pc("options",i.faqToolTipOptions)}}function ge(e,o){if(1&e&&(S.Xb(0,"div",16),S.Sb(1,"ps-action-hyperlink",24),S.Sb(2,"ps-complex-tooltip",4),S.Wb()),2&e){var i=S.ic(),n=i.index,t=i.$implicit,a=S.ic();S.Fb(1),S.pc("id","login_oper_"+n)("options",t),S.Fb(1),S.pc("options",a.preLoginOpersTooltipsOptions[n])}}function de(e,o){if(1&e&&(S.Vb(0),S.Pc(1,ge,3,3,"div",9),S.Ub()),2&e){var i=o.index,n=S.ic();S.Fb(1),S.pc("ngIf",n.checkIfVisibleCustomization("login_oper_"+i))}}var he,ve=((he=function(o){function n(e,o,i,a,r,s,l){var u,m,b,O,f;return t(this,n),(u=c(this,n)).navService=e,u.session=o,u.alertCtrl=i,u.omniPush=a,u.ommniCommon=r,u.errorHandlerService=s,u.omniPull=l,u.loginForm=new p.f({}),u.version=d.a.CLIENT_ASSETS_CONFIG.IMGS_FOLDER_URL,u.fab_login="fab_login",u.preLoginOpersLinksOptions=[],u.preLoginOpersTooltipsOptions=[],u.options={password:{fcName:"password",group:u.loginForm},userName:{fcName:"userName",group:u.loginForm},rememberMe:{fcName:"rememberMe",group:u.loginForm},group:u.loginForm},u.serverURLOptions={iconOptions:{iconName:"diamond",labelOptions:{labelKey:"SERVER_URL_KEY"}},disableLoading:!0},u.atmAndBranchLocatorOptions={route:"atm-branch-locator",labelKey:"atm_and_branch_locator_key",iconOptions:{iconName:"map",labelOptions:{labelKey:"atm_and_branch_locator_key"}},pageOptions:{operId:v.a.PRELOGIN_MAP_ATM_OPER}},u.qiblaDirectionOptions={route:"qibla-direction",labelKey:"qibla_direction_key",iconOptions:{iconName:"compass-outline",labelOptions:{labelKey:"qibla_direction_key"}},pageOptions:{operId:v.a.QIBLA_DIRECTION_OPER}},u.createAccountOptions={pageOptions:{operId:(null===(b=null===(m=null==d.a?void 0:d.a.MAIN_CONFIG)||void 0===m?void 0:m.WEBVIEW_URLS)||void 0===b?void 0:b.WEBVIEW_ONBOARDING_URL)?-1:v.a.ON_BOARDING_OPER,title:"become_our_customer_key",iconName:"person-add"},route:(null===(f=null===(O=null==d.a?void 0:d.a.MAIN_CONFIG)||void 0===O?void 0:O.WEBVIEW_URLS)||void 0===f?void 0:f.WEBVIEW_ONBOARDING_URL)?"webview-onboarding-page":"on-boarding",navigationOptions:u.getOnboardingNavigationOptions(),labelKey:"become_our_customer_key",iconOptions:{iconName:"person-add",labelOptions:{labelKey:"become_our_customer_key"}}},u.ProductNServiceCategoriesOptions={pageOptions:{operId:y.a.DEFAULT_FALLBACK_OPER,title:"products_and_services_key",iconName:"information-circle-outline"},route:"products-services",labelKey:"products_and_services_key",iconOptions:{iconName:"information-circle-outline",labelOptions:{labelKey:"products_and_services_key"}}},u.financingCalculatorOptions={route:"financial-calculator",pageOptions:{operId:v.a.PRE_LOGIN_FINANCIAL_CALCULATOR_OPER,title:"financing_calculator_key",iconName:"calculator"},iconOptions:{iconName:"calculator",labelOptions:{labelKey:"financing_calculator_key"}}},u.faqOptions={route:"faq",pageOptions:{operId:y.a.DEFAULT_FALLBACK_OPER,title:"faq_key",iconName:"help"},iconOptions:{iconName:"help",labelOptions:{labelKey:"faq_key"}},navigationOptions:{queryParams:{fileName:_.a.faq}}},u.prayerOptions={route:"prayer-time",labelKey:"prayer_time_key",iconOptions:{iconName:"timer-outline",labelOptions:{labelKey:"prayer_time_key"}},pageOptions:{operId:v.a.PRAYER_TIME_OPER}},u.loginfabListOptions={group:u.loginForm,mainProperties:{iconName:"login-fab-icon",group:u.loginForm,labelKey:"show_more_key"},topFabList:[{id:"prayer_time_",group:u.loginForm,iconName:u.prayerOptions.iconOptions.iconName,labelKey:u.prayerOptions.iconOptions.labelOptions.labelKey,fileName:_.a.prayerTime,handler:function(){u.navService.openPage({component:"prayer-time",title:u.prayerOptions.labelKey,operID:v.a.PRAYER_TIME_OPER})}},{id:"qibla_direction_",group:u.loginForm,iconName:u.qiblaDirectionOptions.iconOptions.iconName,labelKey:u.qiblaDirectionOptions.iconOptions.labelOptions.labelKey,fileName:_.a.qiblaDirection,handler:function(){u.navService.openPage({component:"qibla-direction",title:u.qiblaDirectionOptions.labelKey,operID:v.a.QIBLA_DIRECTION_OPER})}},{id:"atm_and_branch_",group:u.loginForm,iconName:u.atmAndBranchLocatorOptions.iconOptions.iconName,labelKey:u.atmAndBranchLocatorOptions.iconOptions.labelOptions.labelKey,fileName:_.a.branchesAndAtm,handler:function(){u.navService.openPage({component:"atm-branch-locator",title:u.atmAndBranchLocatorOptions.labelKey,operID:v.a.PRELOGIN_MAP_ATM_OPER,icon:"map"})}},{id:"products_",group:u.loginForm,iconName:u.ProductNServiceCategoriesOptions.iconOptions.iconName,labelKey:u.ProductNServiceCategoriesOptions.iconOptions.labelOptions.labelKey,fileName:_.a.productAndServices,handler:function(){u.navService.openPage({component:"products-services",title:u.ProductNServiceCategoriesOptions.labelKey,operID:v.a.DEFAULT_FALLBACK_OPER})}},{id:"financing_calc_",group:u.loginForm,iconName:u.financingCalculatorOptions.iconOptions.iconName,labelKey:u.financingCalculatorOptions.iconOptions.labelOptions.labelKey,fileName:_.a.finacialCalculator,handler:function(){u.navService.openPage({component:"financial-calculator",title:u.financingCalculatorOptions.iconOptions.labelOptions.labelKey,operID:u.financingCalculatorOptions.pageOptions.operId})}},{id:"create_account_",group:u.loginForm,iconName:u.createAccountOptions.iconOptions.iconName,labelKey:u.createAccountOptions.iconOptions.labelOptions.labelKey,fileName:_.a.becomeOurCustomer,handler:function(){u.handleBecomeOurCustomer()}},{id:"faq_link_",group:u.loginForm,iconName:u.faqOptions.iconOptions.iconName,labelKey:u.faqOptions.iconOptions.labelOptions.labelKey,fileName:_.a.faq,handler:function(){u.navService.openPage({component:u.faqOptions.route,title:u.faqOptions.pageOptions.title,operID:u.faqOptions.pageOptions.operId,param:{fileName:_.a.faq}})}}]},u.bankName={},u.createAccountToolTipOptions={iconName:"info",fileName:_.a.becomeOurCustomer},u.ProductsToolTipOptions={iconName:"info",fileName:_.a.productAndServices},u.qiblaDirectionToolTipOptions={iconName:"info",fileName:_.a.qiblaDirection},u.PrayerToolTipOptions={iconName:"info",fileName:_.a.prayerTime},u.atmAndBranchtToolTipOptions={iconName:"info",fileName:_.a.branchesAndAtm},u.finacialCalculatorToolTipOptions={iconName:"info",fileName:_.a.finacialCalculator},u.faqToolTipOptions={iconName:"info",fileName:_.a.faq},u.optionsPreferredLanguage={group:u.loginForm,fcName:"loginLang",changeSystemLanguage:!0,forceTriggerChange:!1,preventNavigationToMain:!0},u}return m(n,o),r(n,[{key:"ngOnInit",value:function(){var e=this;d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in omni-login, ngOnInit with start time: "+(new Date).toISOString()),this.prepareCreateLikeLinks(),this.bannersOptions={layout:"slider"},I.a.oper_ID=y.a.LOGIN_OPER_ID,I.a.pageName=y.a.LOGIN_PAGE_NAME,this.omniPull.getParamValOf("BankName").then(function(o){o.BankName&&(e.bankName.labelKey=o.BankName)}).catch(function(e){}),this.baseFormGroup=this.loginForm}},{key:"ionViewDidEnter",value:function(){var o,i,t,a,r;d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in omni-login, ionViewDidEnter with start time: "+(new Date).toISOString()),(o=n,i="ionViewDidEnter",t=this,r=e(u(1&(a=3)?o.prototype:o),i,t),2&a&&"function"==typeof r?function(e){return r.apply(t,e)}:r)([]),I.a.VGn7PhYqt0YnWCou=!1,this.commonProv.sendTimeLog(),this.commonProv.setValInsideNestedObj(this.optionsPreferredLanguage.fcName,I.a.activeLanguge,this.loginForm.controls.formData.value)}},{key:"authenticate",value:function(e){return Object(s.b)(this,void 0,void 0,i().m(function o(){var n,t=this;return i().w(function(o){for(;;)switch(o.n){case 0:d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in omni-login, authenticate() with start time: "+(new Date).toISOString()),g.a.isNativeMobile()&&e.trustingOutputCode===v.a.DEVICE_CANNOT_BE_TRUSTED_MAX_REACHED||e.trustingOutputCode===v.a.DEVICE_CANNOT_BE_TRUSTED_BLOCKED_STATUS?g.a.presentFailureAlert(e.trustingOutputNotificationDetails):g.a.isNativeMobile()&&e.trustingOutputCode===v.a.DEVICE_NOT_TRUSTED?this.showTrustedConfirmationMessage(e):(this.commonProv.presentLoading(),n=this.commonProv.session.getValueOf(v.a.ASSIGNED_SOFT_TOKEN),e=Object.assign(Object.assign({},e),{assignedSoftToken:n}),0===this.navService.preLoginRoutingChecking(e).length&&(this.commonProv.dismissLoading(),"true"==e.userAlreadylogin?g.a.presentInfoAlert(this.commonProv.translate("logged_from_another_session_key"),{buttonsArray:[{group:this.options.group,labelKey:"cancel_key",type:"reset",handler:function(){g.a.dismissAllModals()}},{group:this.options.group,labelKey:"force_logout_key",type:"submit",handler:function(){t.showActivateOTPInfo(e.assignedSoftToken).then(function(o){return t.login(e.ocUserId,e.userName)}),g.a.dismissAllModals()}}]}):this.showActivateOTPInfo(e.assignedSoftToken).then(function(){return t.login(e.ocUserId,e.userName)})));case 1:return o.a(2)}},o,this)}))}},{key:"prepareCreateLikeLinks",value:function(){var e=this.commonProv.session.getValueOf(y.a.preLoginResponse),o=e.preLoginOpers?e.preLoginOpers.filter(function(e){return void 0!==e.operVO.CREATELIKE_OPER_ID}):[];o&&(this.preLoginOpersLinksOptions=o.map(function(e){return{pageOptions:{operId:e.operVO.OPER_ID,title:e.operVO.OPER_NAME.toLowerCase()+"_key",iconName:e.operAppChnlVO.ICON_NAME?e.operAppChnlVO.ICON_NAME:"checkmark-circle-outline"},route:e.operAppChnlVO.PAGE_HREF,labelKey:e.operVO.OPER_NAME.toLowerCase()+"_key",iconOptions:{iconName:e.operAppChnlVO.ICON_NAME?e.operAppChnlVO.ICON_NAME:"checkmark-circle-outline",labelOptions:{labelKey:e.operVO.OPER_NAME.toLowerCase()+"_key"}}}}),this.preLoginOpersTooltipsOptions=o.map(function(e){return{iconName:"info",fileName:(e.operVO.DESCRIPTION&&e.operVO.DESCRIPTION.replace(/\s+/g,"-"))+"-tooltip.html"}}))}},{key:"showTrustedConfirmationMessage",value:function(e){var o=this;return new Promise(function(i,n){g.a.presentInfoAlert(o.commonProv.translate("mark_as_trusted_device_key"),{buttonsArray:[{group:o.options.group,type:"reset",labelKey:"cancel_key",handler:function(){g.a.dismissAllModals()}},{group:o.options.group,labelKey:"ok_key",type:"submit",handler:function(){o.navService.openPage({title:"device_details_key",component:"device-details",operID:y.a.DEVICE_MANAGEMENT_OPER_ID,param:e}),g.a.dismissAllModals()}}]})})}},{key:"login",value:function(e,o){var i=this,n={ocUserId:e,userName:o};d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in omni-login, before omniPush.login() with start time: "+(new Date).toISOString()),this.omniPush.login(n).then(function(e){if(d.a.MAIN_CONFIG.TIME_LOG_ENABLED&&I.a.timeLogs.push("in omni-login, after omniPush.login() with end time: "+(new Date).toISOString()),e){var o=i.commonProv.session.getValueOf(y.a.USERINFO);i.commonProv.session.append(v.a.QUICK_LINKS_MENUS,o.quickLinks?o.quickLinks:[]),!0===i.options.group.controls[i.options.rememberMe.fcName].value&&i.session.append(v.a.USER_LONG_NAME_KEY+I.a.APP_ID,I.a.APP_ID!==v.a.RETAIL_APP_ID&&o.name?o.name:o.customerInfoCO.longName,!0),o&&o.personalizationCO&&(i.session.append(v.a.PERSONALIZATION_CO,o.personalizationCO),i.session.getValueOf(v.a.PERSONALIZATION_CO),o.personalizationCO.nickname&&g.a.presentSuccessAlert(g.a.translate("welcome_key")+" "+o.personalizationCO.nickname,{autoHide:!0}))}})}},{key:"checkIfVisibleCustomization",value:function(e){var o=this.commonProv.getElementValidations(e);return!!I.a.custMode||1===o.IS_VISIBLE}},{key:"showActivateOTPInfo",value:function(e){var o=this;return new Promise(function(i,n){0==e?o.commonProv.isUserAssignedToSoftTokenAction(!0,"checked_activate_otp_info_modal_key",o.options).then(function(){return i(!0)}):i(!0)})}},{key:"getOnboardingNavigationOptions",value:function(){var e,o,i=null===(o=null===(e=null==d.a?void 0:d.a.MAIN_CONFIG)||void 0===e?void 0:e.WEBVIEW_URLS)||void 0===o?void 0:o.WEBVIEW_ONBOARDING_URL;return i&&""!==i.trim()?(this.buildFullUrl(i),{queryParams:{}}):{queryParams:{widgetStepper:!1,CIFOnboarding:!1}}}},{key:"buildFullUrl",value:function(e){if(e.startsWith("http://")||e.startsWith("https://"))return e;var o=d.a.MAIN_CONFIG.MAIN_PATH,i=o.endsWith("/")?o.slice(0,-1):o;return e.startsWith("/")?i+e:i+"/"+e}},{key:"handleBecomeOurCustomer",value:function(){var e,o,i=null===(o=null===(e=null==d.a?void 0:d.a.MAIN_CONFIG)||void 0===e?void 0:e.WEBVIEW_URLS)||void 0===o?void 0:o.WEBVIEW_ONBOARDING_URL;i&&""!==i.trim()?(this.buildFullUrl(i),this.navService.openPage({component:"webview-onboarding-page",title:"become_our_customer_key",operID:v.a.ON_BOARDING_OPER,param:{}})):this.navService.openPage({component:"on-boarding",title:this.createAccountOptions.labelKey,operID:this.createAccountOptions.pageOptions.operId,param:{widgetStepper:!1,CIFOnboarding:!1}})}}])}(P.OmniBasePage)).\u0275fac=function(e){return new(e||he)(S.Rb(E.a),S.Rb(h.a),S.Rb(A.b),S.Rb(N.a),S.Rb(b.a),S.Rb(f.a),S.Rb(O.a))},he.\u0275cmp=S.Lb({type:he,selectors:[["omni-login"]],features:[S.Cb],decls:23,vars:14,consts:[[1,"login-page"],[1,"container-fluid","ion-no-padding"],[1,"row","ion-no-padding"],[1,"ps-dropdown-allowed-languages-wrapper"],[3,"options"],[1,"login-main","col-12","col-sm-12","col-md-12","col-lg-12","col-xl-7","offset-lg-0","offset-xl-3"],["id","omni-login",3,"options","logInClicked"],["header","",1,"bank-logo"],["footer","",1,"omni-login-links"],["class","additional-links",4,"ngIf"],[4,"ngFor","ngForOf"],["login-fab-list","",1,"omni-login-fab-list"],[3,"options","id"],["bankName","",1,"omni-login-fab-list",3,"options"],[1,"ps-version"],[1,"omni-login-version-number"],[1,"additional-links"],["id","create_account_link",3,"options"],["id","products_link",3,"options"],["id","qibla_direction_link",3,"options"],["id","prayer-time_link",3,"options"],["id","atm_and_branch_locator_link",3,"options"],["id","financing_calculator_link",3,"options"],["id","faq_link",3,"options"],[3,"id","options"]],template:function(e,o){1&e&&(S.Xb(0,"ion-content",0),S.Xb(1,"div",1),S.Xb(2,"div",2),S.Xb(3,"div",3),S.Sb(4,"ps-dropdown-allowed-languages",4),S.Wb(),S.Xb(5,"div",5),S.Xb(6,"ps-template-login",6),S.fc("logInClicked",function(e){return o.authenticate(e)}),S.Sb(7,"div",7),S.Xb(8,"div",8),S.Pc(9,le,3,2,"div",9),S.Pc(10,pe,3,2,"div",9),S.Pc(11,ue,3,2,"div",9),S.Pc(12,me,3,2,"div",9),S.Pc(13,be,3,2,"div",9),S.Pc(14,Oe,3,2,"div",9),S.Pc(15,fe,3,2,"div",9),S.Pc(16,de,2,1,"ng-container",10),S.Wb(),S.Xb(17,"div",11),S.Sb(18,"ps-button-fab-list",12),S.Wb(),S.Sb(19,"ps-label",13),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Xb(20,"ion-footer",14),S.Xb(21,"div",15),S.Rc(22),S.Wb(),S.Wb(),S.Wb()),2&e&&(S.Fb(4),S.pc("options",o.optionsPreferredLanguage),S.Fb(2),S.pc("options",o.options),S.Fb(3),S.pc("ngIf",o.checkIfVisibleCustomization("create_account_link")),S.Fb(1),S.pc("ngIf",o.checkIfVisibleCustomization("products_link")),S.Fb(1),S.pc("ngIf",o.checkIfVisibleCustomization("qibla_direction_link")),S.Fb(1),S.pc("ngIf",o.checkIfVisibleCustomization("prayer-time_link")),S.Fb(1),S.pc("ngIf",o.checkIfVisibleCustomization("atm_and_branch_locator_link")),S.Fb(1),S.pc("ngIf",o.checkIfVisibleCustomization("financing_calculator_link")),S.Fb(1),S.pc("ngIf",o.checkIfVisibleCustomization("faq_link")),S.Fb(1),S.pc("ngForOf",o.preLoginOpersLinksOptions),S.Fb(2),S.pc("options",o.loginfabListOptions)("id",o.fab_login),S.Fb(1),S.pc("options",o.bankName),S.Fb(3),S.Sc(o.version))},directives:[A.j,k.a,oe,V.o,V.n,ie.a,q.a,A.o,G.a,ce],styles:[""]}),he)},gKqT:function(e,o,i){"use strict";i.r(o),i.d(o,"OmniBasePage",function(){return b});var n=i("oS+F"),a=i("zngb"),s=i("QZhd"),c=i("woXy"),l=i("qEF5"),p=i("Q0Ba"),u=i("lE2x"),m=i("fXoL"),b=function(){var e=function(){return r(function e(){t(this,e),this.isPageDisabled=!1,this.commonProv=l.a.injectionHandler(p.a),this.navigationServices=l.a.injectionHandler(c.a)},[{key:"init",value:function(){this.currentOperID=s.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();var e=this.navigationServices.getAllParams(),o={};e&&!0===e.readOnlypage?(o.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(a.a.FORM_READONLY,o)):this.customizationMap&&(o.IS_READONLY=0,this.customizationMap.set(a.a.FORM_READONLY,o)),this.screenTranslationOperIds=u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}},{key:"ngOnInit",value:function(){this.init()}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter()}},{key:"ionViewWillLeave",value:function(){this.viewWillLeave()}},{key:"ionViewWillEnter",value:function(){this.viewWillEnter()}},{key:"viewWillEnter",value:function(){}},{key:"disableForm",value:function(e){var o=this;if(void 0!==e&&this.customizationMap){var i=this.customizationMap.get(a.a.FORM_READONLY);i&&1===i.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(function(e){o.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_READONLY,[e],1)}))}}},{key:"viewDidEnter",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),n.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}},{key:"viewWillLeave",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID,{value:!0,page:this,willLeave:!0})}},{key:"ngAfterViewChecked",value:function(){var e=this;this.isPageDisabled||setTimeout(function(){e.disableForm(e.baseFormGroup),e.isPageDisabled=!0},300)}},{key:"getScreenTranslations",value:function(e){var o=e||2222,i=s.a.activeLanguge?s.a.activeLanguge:"EN";o&&i&&this.commonProv.language.getOperTranslation(i,o)}}])}();return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=m.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,o){2&e&&m.Hb(o.psClass)},decls:0,vars:0,template:function(e,o){},styles:[""]}),e}()}}])}();