!function(){function e(e,n,i,o){var s=t(d(1&o?e.prototype:e),n,i);return 2&o&&"function"==typeof s?function(e){return s.apply(i,e)}:s}function t(){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var o=n(e,t);if(o){var s=Object.getOwnPropertyDescriptor(o,t);return s.get?s.get.call(arguments.length<3?e:i):s.value}}).apply(null,arguments)}function n(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,i,s,r){var a=i&&i.prototype instanceof c?i:c,l=Object.create(a.prototype);return o(l,"_invoke",function(n,i,o){var s,r,a,c=0,l=o||[],u=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return s=t,r=0,a=e,f.n=n,p}};function d(n,i){for(r=n,a=i,t=0;!u&&c&&!o&&t<l.length;t++){var o,s=l[t],d=f.p,m=s[2];n>3?(o=m===i)&&(a=s[(r=s[4])?5:(r=3,3)],s[4]=s[5]=e):s[0]<=d&&((o=n<2&&d<s[1])?(r=0,f.v=i,f.n=s[1]):d<m&&(o=n<3||s[0]>i||i>m)&&(s[4]=n,s[5]=i,f.n=m,r=0))}if(o||n>1)return p;throw u=!0,i}return function(o,l,m){if(c>1)throw TypeError("Generator is already running");for(u&&1===l&&d(l,m),r=l,a=m;(t=r<2?e:a)||!u;){s||(r?r<3?(r>1&&(f.n=-1),d(r,a)):f.n=a:f.v=a);try{if(c=2,s){if(r||(o="next"),t=s[o]){if(!(t=t.call(s,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,r<2&&(r=0)}else 1===r&&(t=s.return)&&t.call(s),r<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),r=1);s=e}else if((t=(u=f.n<0)?a:n.call(i,f))!==p)break}catch(t){s=e,r=1,a=t}finally{c=1}}return{value:t,done:u}}}(n,s,r),!0),l}var p={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var f=[][s]?t(t([][s]())):(o(t={},s,function(){return this}),t),d=u.prototype=c.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,o(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,o(d,"constructor",u),o(u,"constructor",l),l.displayName="GeneratorFunction",o(u,r,"GeneratorFunction"),o(d),o(d,r,"Generator"),o(d,s,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:m}})()}function o(e,t,n,i){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}(o=function(e,t,n,i){function r(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?s?s(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(r("next",0),r("throw",1),r("return",2))})(e,t,n,i)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){p=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(p)throw s}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function c(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function u(e,t,n){return t=d(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[45,339,340,341,342,343,344,345,346,347,348,349],{"41l2":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n("mrSG"),r=n("ZyuK"),p=n("iOQE"),l=n("DFXC"),f=n("Q0Ba"),d=n("fXoL"),h=function(){var e=function(e){function t(e,n,i){var o;return a(this,t),(o=u(this,t,[e,n])).omniPull=i,o.showLovDropdown=!1,o.defaultDropDownLovOptions={isLOVDropdown:!0},o}return m(t,e),c(t,[{key:"ngOnInit",value:function(){var e=this;this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(function(t){if(t){var n=t.get(e.options.fcName);n&&n.LOV_TYPE_ID&&n.LOV_TYPE_ID!==e.options.lovTypeId&&e.loadLovDropDown()}})}},{key:"loadLovDropDown",value:function(){var e;return Object(o.b)(this,void 0,void 0,i().m(function t(){var n,o,r,a,p,c,l,u,f=this;return i().w(function(t){for(;;)switch(t.n){case 0:if(this.defaultDropDownLovOptions.listOfOptions&&0!=(null===(e=this.defaultDropDownLovOptions.listOfOptions)||void 0===e?void 0:e.length)){t.n=5;break}if((n=this.commonProv.getElementValidations(this.options.fcName))&&n.LOV_TYPE_ID&&(this.options.lovTypeId=n.LOV_TYPE_ID),null!=this.options.lovTypeId&&void 0!==this.options.lovTypeId){t.n=1;break}return t.a(2,void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov"));case 1:if(!this.options.lovAdminFilterParamName){t.n=3;break}return t.n=2,this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);case 2:(o=t.v)&&(this.options.lovAdminFilterParamName=o[this.options.lovAdminFilterParamName]);case 3:return r={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},t.n=4,this.omniPull.returnLovTypesValues(r).catch(function(e){f.showLovDropdown=!1,f.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",e)});case 4:if(a=t.v,this.defaultDropDownLovOptions.listOfOptions=[],a&&a.length>0){p=s(a);try{for(p.s();!(c=p.n()).done;)l=c.value,(u={itemValue:l.itemValue,description:l.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(l.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:l}).selectedObj[this.options.fcName]=l.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(u)}catch(i){p.e(i)}finally{p.f()}this.showLovDropdown=!0}case 5:return t.a(2)}},t,this)}))}},{key:"selectDropDownChange",value:function(e){this.onPsChange.emit(e)}}])}(p.a);return e.\u0275fac=function(t){return new(t||e)(d.Rb(f.a),d.Rb(l.a),d.Rb(r.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[d.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(d.Xb(0,"ps-select-dropdown",0),d.fc("onPsChange",function(e){return t.selectDropDownChange(e)}),d.Wb()),2&e&&d.pc("id",t.id)("options",t.defaultDropDownLovOptions)},directives:[p.a],styles:[""]}),e}()},"89p+":function(e,t,n){"use strict";n.d(t,"a",function(){return S});var i=n("ZyuK"),o=n("k3/b"),s=n("UWqY"),r=n("DFXC"),p=n("zngb"),l=n("Q0Ba"),f=n("fXoL"),d=n("D2x8"),h=n("ofXK"),O=n("hUjg"),b=n("NZVR"),v=n("5oTP"),y=["fileUpload"];function g(e,t){if(1&e){var n=f.Yb();f.Xb(0,"ps-action-button",4),f.fc("click",function(){return f.Fc(n),f.ic().cancelClicked()}),f.Wb()}if(2&e){var i=f.ic();f.pc("options",i.backButton)}}function _(e,t){if(1&e){var n=f.Yb();f.Vb(0),f.Xb(1,"ps-file-upload",5,6),f.fc("click",function(){return f.Fc(n),f.ic().showPadSignature(1)})("onPsChange",function(e){return f.Fc(n),f.ic().uploadScanChanged(e)})("onPsFileDelete",function(e){return f.Fc(n),f.ic().onFileDelete(e)}),f.Wb(),f.Ub()}if(2&e){var i=f.ic();f.Fb(1),f.pc("options",i.specimenScanUploadOptions)}}function w(e,t){if(1&e){var n=f.Yb();f.Vb(0),f.Xb(1,"ps-action-button",7),f.fc("click",function(){return f.Fc(n),f.ic().showPadSignature(2)}),f.Wb(),f.Ub()}if(2&e){var i=f.ic();f.Fb(1),f.pc("options",i.padSignatureButton)}}function P(e,t){if(1&e){var n=f.Yb();f.Vb(0),f.Xb(1,"ps-field-signature-pad",8),f.fc("onPsChange",function(e){return f.Fc(n),f.ic().signaturePageChanged(e)}),f.Wb(),f.Ub()}if(2&e){var i=f.ic();f.Fb(1),f.pc("options",i.defaultPadSignatureOptions)}}function N(e,t){if(1&e&&f.Sb(0,"ps-label-input",12),2&e){var n=f.ic(2);f.pc("id","lbl_"+n.id)("options",n.previewLblOptions)}}function D(e,t){if(1&e&&(f.Vb(0),f.Xb(1,"div",9),f.Pc(2,N,1,2,"ps-label-input",10),f.Sb(3,"img",11),f.Wb(),f.Ub()),2&e){var n=t.$implicit,i=f.ic();f.Fb(2),f.pc("ngIf",i.previewLblOptions.labelKey),f.Fb(1),f.pc("src",n.imageUrl,f.Ic)("id","lbl_"+i.id)}}var S=function(){var e=function(e){function t(e,n,i){var o;return a(this,t),(o=u(this,t,[e,i])).commonProv=e,o.omniPull=n,o.logger=i,o.backButton={labelKey:"choose_another_option_key",type:"button",group:null},o.defaultPadSignatureOptions={},o.handWriting=0,o.itemOptions={psClass:"complex-specimen",iconOptions:{iconName:"complex-specimen-icon"},hideImageAndIconIfNotPresent:!0},o}return m(t,e),c(t,[{key:"previewValOptions",get:function(){return{labelKey:this.fcValue,psClass:"ps-value-preview",previewMode:!0}}},{key:"showPadSignature",value:function(e){this.handWriting=e}},{key:"cancelClicked",value:function(){this.handWriting=0;var e=this.specimenScanUploadOptions.fcName;this.defaultPadSignatureOptions.group.controls[this.defaultPadSignatureOptions.fcName]&&this.setFromSavedData(this.defaultPadSignatureOptions,!(!this.savedData[this.options.fcName]||0===this.savedData[this.options.fcName].length||this.savedData[this.options.fcName][0].fileSize)),this.specimenScanUploadOptions.group.controls[e]&&(this.fileRef&&(this.fileRef.dataFiles=[],this.fileRef.uploadedFiles=[]),this.setFromSavedData(this.specimenScanUploadOptions,!(!this.savedData[this.options.fcName]||0===this.savedData[this.options.fcName].length||!this.savedData[this.options.fcName][0].fileSize)))}},{key:"ngOnInit",value:function(){this.options.childComponent=t,this.options.fcName=this.options.fcName+"_"+p.a.DEFAULT_FILE_UPLOAD_CNAME,this.defaultPadSignatureOptions={group:this.entityFormGroup,fcName:"onb_signature_"+p.a.DEFAULT_FILE_UPLOAD_CNAME,labelKey:"pad_signature"},this.padSignatureButton={labelKey:"write_signature_key",type:"button",group:this.entityFormGroup},this.specimenScanUploadOptions={multiple:!1,fcName:"uploadedFiles",group:this.entityFormGroup,labelKey:"browse_scan_signature_key",allowedFilesTypeName:p.a.DEFAULT_ALLOWED_IMAGE_TYPE},this.setEntityFormGroup(),this.previewLblOptions={labelKey:this.options.labelKey,psClass:"ps-lbl-preview",previewMode:!0},this.initializeFromSavedData()}},{key:"setEntityFormGroup",value:function(){this.commonProv.setFormData(this.entityFormGroup,this.entityVO)}},{key:"signaturePageChanged",value:function(e){this.setEntityValue(e.newValue?e.newValue:e)}},{key:"uploadScanChanged",value:function(e){Array.isArray(e.newValue)&&0!==e.newValue.length&&(this.setEntityValue(e.newValue),this.setControlValue(this.specimenScanUploadOptions.fcName,e.newValue,this.entityVO))}},{key:"setFromSavedData",value:function(e,t){this.savedData[this.options.fcName]&&t?(e.group.controls[e.fcName].setValue(this.savedData[this.options.fcName]),this.commonProv.setValInsideNestedObj(e.fcName,this.savedData[this.options.fcName],this.entityVO)):(e.group.controls[e.fcName].setValue([]),this.commonProv.setValInsideNestedObj(e.fcName,[],this.entityVO))}},{key:"initializeFromSavedData",value:function(){var e=this;this.options.dataObservable&&this.options.dataObservable.subscribe(function(t){if(t){e.savedData=t;var n=e.options.group.controls[p.a.CONTROLLER_FORM_DATA].value[e.options.fcName];n&&(n[0].fileSize?(e.commonProv.setValInsideNestedObj(e.specimenScanUploadOptions.fcName,n,e.entityVO),e.showPadSignature(1)):(e.commonProv.setValInsideNestedObj(e.defaultPadSignatureOptions.fcName,n,e.entityVO),e.showPadSignature(2)))}})}},{key:"onFileDelete",value:function(e){this.deleteCurrentSign()}},{key:"deleteCurrentSign",value:function(){this.setEntityValue([]),this.setControlValue(this.specimenScanUploadOptions.fcName,[],this.entityVO)}},{key:"setControlValue",value:function(e,t,n){this.savedData[this.options.fcName]=t,this.commonProv.setValInsideNestedObj(e,t,n),this.specimenScanUploadOptions.group.controls[e].setValue(t),this.specimenScanUploadOptions.group.updateValueAndValidity()}}])}(o.a);return e.\u0275fac=function(t){return new(t||e)(f.Rb(l.a),f.Rb(i.a),f.Rb(r.a))},e.\u0275cmp=f.Lb({type:e,selectors:[["ps-complex-specimen"]],viewQuery:function(e,t){var n;(1&e&&f.Wc(y,1),2&e)&&(f.Bc(n=f.gc())&&(t.fileRef=n.first))},inputs:{options:"options"},features:[f.Cb],decls:7,vars:8,consts:[[3,"options"],["id","specimen-cancel-button",3,"options","click",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","specimen-cancel-button",3,"options","click"],[3,"options","click","onPsChange","onPsFileDelete"],["fileUpload",""],["id","pad-signature-button",3,"options","click"],[3,"options","onPsChange"],["psPreviewEngine","",1,"ps-custom-component-preview"],["class","ps-lbl-preview","psPreviewLabel","",3,"id","options",4,"ngIf"],["psPreviewHTML","",1,"ps-image","ps-verification-images",3,"src","id"],["psPreviewLabel","",1,"ps-lbl-preview",3,"id","options"]],template:function(e,t){1&e&&(f.Xb(0,"ps-field-entity",0),f.Xb(1,"ps-container-item",0),f.Pc(2,g,1,1,"ps-action-button",1),f.Pc(3,_,3,1,"ng-container",2),f.Pc(4,w,2,1,"ng-container",2),f.Pc(5,P,2,1,"ng-container",2),f.Wb(),f.Wb(),f.Pc(6,D,4,3,"ng-container",3)),2&e&&(f.pc("options",t.options),f.Fb(1),f.pc("options",t.itemOptions),f.Gb("psFcName",t.options.fcName),f.Fb(1),f.pc("ngIf",0!=t.handWriting),f.Fb(1),f.pc("ngIf",2!=t.handWriting),f.Fb(1),f.pc("ngIf",0==t.handWriting),f.Fb(1),f.pc("ngIf",2==t.handWriting),f.Fb(1),f.pc("ngForOf",t.previewValOptions.labelKey))},directives:[o.a,d.a,h.o,h.n,O.a,s.a,b.a,v.a],encapsulation:2}),e}()},"P7Z/":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n("BYmO"),o=n("DFXC"),s=n("Q0Ba"),r=n("fXoL"),p=function(){var e=function(e){function t(e,n){var i;return a(this,t),(i=u(this,t,[e,n])).mainOptions={},i}return m(t,e),c(t,[{key:"ngOnInit",value:function(){this.mainOptions=this.options,this.mainOptions.type="email",this.mainOptions.iconOptions={iconName:"input-mail"}}},{key:"onChangeEmail",value:function(e){this.onPsChange.emit(e)}}])}(i.a);return e.\u0275fac=function(t){return new(t||e)(r.Rb(s.a),r.Rb(o.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-input-email"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(r.Xb(0,"ps-keyin-input",0),r.fc("onPsChange",function(e){return t.onChangeEmail(e)}),r.Wb()),2&e&&r.pc("id",t.id)("options",t.mainOptions)},directives:[i.a],styles:[""]}),e}()},dUiw:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var o=n("mrSG"),r=n("V0Fi"),p=n("ZyuK"),l=n("iOQE"),f=n("DFXC"),d=n("Q0Ba"),h=n("fXoL"),O=function(){var e=function(e){function t(e,n,i){var o;return a(this,t),(o=u(this,t,[e,n])).commonProv=e,o.loggerP=n,o.omniPull=i,o.defaultSelectOptions={},o}return m(t,e),c(t,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.returnNationalities()}},{key:"returnNationalities",value:function(){return Object(o.b)(this,void 0,void 0,i().m(function e(){var t,n,o,a,p,c=this;return i().w(function(e){for(;;)switch(e.n){case 0:return t={operId:r.a.NATIONALITY_OPER_ID},e.n=1,this.omniPull.returnNationalities(t).catch(function(e){c.logger.error("Error! while fetching nationalities in PsDropdownNationalitiesComponent",e)});case 1:if(n=e.v,this.defaultSelectOptions.listOfOptions=[],n&&n.gridModel&&n.gridModel.length>0){o=s(n.gridModel);try{for(o.s();!(a=o.n()).done;)p=a.value,this.defaultSelectOptions.listOfOptions.push({itemValue:p.NATIONALITY_CODE,description:p.longDesc,selectedObj:p})}catch(i){o.e(i)}finally{o.f()}this.options.listOfOptions=[],this.commonProv.copyObject(this.options.listOfOptions,this.defaultSelectOptions.listOfOptions,!1)}case 2:return e.a(2)}},e,this)}))}},{key:"onChange",value:function(e){this.onPsChange.emit(e)}}])}(l.a);return e.\u0275fac=function(t){return new(t||e)(h.Rb(d.a),h.Rb(f.a),h.Rb(p.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["ps-dropdown-nationalities"]],inputs:{options:"options"},features:[h.Cb],decls:1,vars:1,consts:[[3,"options","onPsChange"]],template:function(e,t){1&e&&(h.Xb(0,"ps-select-dropdown",0),h.fc("onPsChange",function(e){return t.onChange(e)}),h.Wb()),2&e&&h.pc("options",t.options)},directives:[l.a],styles:[""]}),e}()},gKqT:function(e,t,n){"use strict";n.r(t),n.d(t,"OmniBasePage",function(){return d});var i=n("oS+F"),o=n("zngb"),s=n("QZhd"),r=n("woXy"),p=n("qEF5"),l=n("Q0Ba"),u=n("lE2x"),f=n("fXoL"),d=function(){var e=function(){return c(function e(){a(this,e),this.isPageDisabled=!1,this.commonProv=p.a.injectionHandler(l.a),this.navigationServices=p.a.injectionHandler(r.a)},[{key:"init",value:function(){this.currentOperID=s.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();var e=this.navigationServices.getAllParams(),t={};e&&!0===e.readOnlypage?(t.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(o.a.FORM_READONLY,t)):this.customizationMap&&(t.IS_READONLY=0,this.customizationMap.set(o.a.FORM_READONLY,t)),this.screenTranslationOperIds=u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}},{key:"ngOnInit",value:function(){this.init()}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter()}},{key:"ionViewWillLeave",value:function(){this.viewWillLeave()}},{key:"ionViewWillEnter",value:function(){this.viewWillEnter()}},{key:"viewWillEnter",value:function(){}},{key:"disableForm",value:function(e){var t=this;if(void 0!==e&&this.customizationMap){var n=this.customizationMap.get(o.a.FORM_READONLY);n&&1===n.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(function(e){t.commonProv.applyDynScreenDisplay(o.a.ACTION_TYPE_READONLY,[e],1)}))}}},{key:"viewDidEnter",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),i.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}},{key:"viewWillLeave",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:s.a.oper_ID,{value:!0,page:this,willLeave:!0})}},{key:"ngAfterViewChecked",value:function(){var e=this;this.isPageDisabled||setTimeout(function(){e.disableForm(e.baseFormGroup),e.isPageDisabled=!0},300)}},{key:"getScreenTranslations",value:function(e){var t=e||2222,n=s.a.activeLanguge?s.a.activeLanguge:"EN";t&&n&&this.commonProv.language.getOperTranslation(n,t)}}])}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,t){2&e&&f.Hb(t.psClass)},decls:0,vars:0,template:function(e,t){},styles:[""]}),e}()},payI:function(t,n,o){"use strict";o.r(n),o.d(n,"AddOwnerPage",function(){return $});var r,p,l=o("3Pt+"),f=o("y70R"),d=o("V0Fi"),h=o("r40+"),O=o("zngb"),b=o("QZhd"),v=o("woXy"),y=o("gKqT"),g=o("ZyuK"),_=o("fXoL"),w=o("kRg/"),P=o("uKCV"),N=o("sAFK"),D=o("+f2X"),S=o("41l2"),I=o("DFXC"),V=o("Q0Ba"),F=((r=function(e){function t(e,n){var i;return a(this,t),(i=u(this,t,[e,n])).defaultSelectOptions={lovTypeId:d.a.ENTITY_TYPE_LOV_TYPE_ID},i}return m(t,e),c(t,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate(this.options.labelKey?this.options.labelKey:"entity_type_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate(this.options.placeHolder?this.options.placeHolder:"select_entity_type_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(S.a)).\u0275fac=function(e){return new(e||r)(_.Rb(V.a),_.Rb(I.a))},r.\u0275cmp=_.Lb({type:r,selectors:[["ps-lov-entity-type"]],inputs:{options:"options"},features:[_.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(_.Xb(0,"ps-dropdown-lov",0),_.fc("onPsChange",function(e){return t.onChangeLov(e)}),_.Wb()),2&e&&_.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[S.a],styles:[""]}),r),k=o("KuXP"),C=o("WAnK"),E=o("BYmO"),L=o("P7Z/"),T=o("7Cko"),A=o("dUiw"),R=o("mrSG"),j=o("iOQE"),x=((p=function(e){function t(e,n,i){var o;return a(this,t),(o=u(this,t,[e,n])).commonProv=e,o.loggerP=n,o.omniPull=i,o.defaultSelectOptions={},o}return m(t,e),c(t,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.returnDesignations()}},{key:"returnDesignations",value:function(){return Object(R.b)(this,void 0,void 0,i().m(function e(){var t,n,o,r,a=this;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.omniPull.returnDesignations().catch(function(e){a.logger.error("Error! while fetching designations in PsDropdownDesignationsComponent",e)});case 1:if(t=e.v,this.defaultSelectOptions.listOfOptions=[],t&&t.gridModel&&t.gridModel.length>0){n=s(t.gridModel);try{for(n.s();!(o=n.n()).done;)r=o.value,this.defaultSelectOptions.listOfOptions.push({itemValue:r.positionCode,description:r.longDescription,selectedObj:r})}catch(i){n.e(i)}finally{n.f()}this.options.listOfOptions=[],this.commonProv.copyObject(this.options.listOfOptions,this.defaultSelectOptions.listOfOptions,!1)}case 2:return e.a(2)}},e,this)}))}},{key:"onChange",value:function(e){this.onPsChange.emit(e)}}])}(j.a)).\u0275fac=function(e){return new(e||p)(_.Rb(V.a),_.Rb(I.a),_.Rb(g.a))},p.\u0275cmp=_.Lb({type:p,selectors:[["ps-dropdown-designations"]],inputs:{options:"options"},features:[_.Cb],decls:1,vars:1,consts:[[3,"options","onPsChange"]],template:function(e,t){1&e&&(_.Xb(0,"ps-select-dropdown",0),_.fc("onPsChange",function(e){return t.onChange(e)}),_.Wb()),2&e&&_.pc("options",t.options)},directives:[j.a],styles:[""]}),p),G=o("+BRL"),K=o("ofXK"),U=o("89p+"),W=o("KVmc"),X=o("b23T"),Y=["idDetailsComp"];function B(e,t){if(1&e&&(_.Xb(0,"ps-container-panel",20),_.Sb(1,"ps-select-toggle",21),_.Wb()),2&e){var n=_.ic(2);_.pc("options",n.ownerOnlineUserPanelOptions),_.Fb(1),_.pc("options",n.corpUserToggleOptions)}}function M(e,t){if(1&e){var n=_.Yb();_.Xb(0,"ps-form-step",7),_.Xb(1,"ps-container-panel",8),_.Xb(2,"ps-lov-entity-type",9),_.fc("onPsChange",function(e){return _.Fc(n),_.ic().getIdTypes(e)}),_.Wb(),_.Xb(3,"ps-select-toggle",10),_.fc("onPsChange",function(e){return _.Fc(n),_.ic().onExistingCustomerToggleChange(e)}),_.Wb(),_.Sb(4,"ps-input-numeric",11),_.Sb(5,"ps-keyin-input",12),_.Sb(6,"ps-input-email",13),_.Sb(7,"ps-entity-phone-number",14),_.Sb(8,"ps-complex-id-details",15,16),_.Sb(10,"ps-dropdown-nationalities",15),_.Sb(11,"ps-dropdown-designations",15),_.Sb(12,"ps-input-numeric",17),_.Sb(13,"ps-select-toggle",18),_.Sb(14,"ps-select-toggle",18),_.Sb(15,"ps-input-free-text",15),_.Wb(),_.Pc(16,B,2,2,"ps-container-panel",19),_.Wb()}if(2&e){var i=_.ic();_.pc("id",i.stepperOptions.namesofSteps[0]),_.Fb(1),_.pc("options",i.ownershipDetailsPanelOptions),_.Fb(1),_.pc("options",i.entityTypeLovOptiops),_.Fb(1),_.pc("id","existingCustomer")("options",i.existingCustomerOptions),_.Fb(1),_.pc("options",i.cifNumberOptions),_.Fb(1),_.pc("options",i.fullNameOptions),_.Fb(1),_.pc("options",i.emailOptions),_.Fb(1),_.pc("options",i.phoneNumberOptions),_.Fb(1),_.pc("options",i.complexIdDetailsOptions),_.Fb(2),_.pc("options",i.nationalityOptions),_.Fb(1),_.pc("options",i.designationOptions),_.Fb(1),_.pc("options",i.ownershipPercentageOptions),_.Fb(1),_.pc("id","AuthSigner")("options",i.AuthSignerOptions),_.Fb(1),_.pc("id","authPowerofAttorney")("options",i.authPowerofAttorneyOptions),_.Fb(1),_.pc("options",i.username),_.Fb(1),_.pc("ngIf",i.isOwnershipVerification)}}function H(e,t){if(1&e&&_.Sb(0,"ps-form-step",22),2&e){var n=_.ic();_.pc("id",n.stepperOptions.namesofSteps[1])}}function z(e,t){if(1&e&&_.Sb(0,"ps-form-step",23),2&e){var n=_.ic();_.pc("id",n.stepperOptions.namesofSteps[2])}}function Q(e,t){if(1&e&&(_.Xb(0,"ps-form-step",24),_.Sb(1,"ps-complex-specimen",15),_.Wb()),2&e){var n=_.ic();_.pc("id",n.stepperOptions.namesofSteps[3]),_.Fb(1),_.pc("options",n.specimenOptions)}}function Z(e,t){if(1&e&&_.Sb(0,"ps-form-step",25),2&e){var n=_.ic();_.pc("id",n.stepperOptions.namesofSteps[4])}}function q(e,t){if(1&e&&(_.Xb(0,"ps-form-step",26),_.Xb(1,"ps-container-panel",27),_.Sb(2,"ps-label",28),_.Sb(3,"ps-file-upload-bs",29),_.Wb(),_.Wb()),2&e){var n=_.ic();_.pc("id",n.stepperOptions.namesofSteps[5]),_.Fb(1),_.pc("options",n.panelAttachmentOptions),_.Fb(1),_.pc("options",n.fileUploadLabelDescription),_.Fb(1),_.pc("options",n.corpFileUploadOptions)}}var J,$=((J=function(t){function n(e,t,i){var o;return a(this,n),(o=u(this,n)).navService=e,o.omniPull=t,o.events=i,o.formGroup=new l.f({}),o.addOwnerVO={},o.isOwnershipVerification=o.commonProv.activePage.value.operID===d.a.OWNERSHIP_VERIFICATION_OPER_ID,o.stepperOptions={widgetStepper:o.isOwnershipVerification,isHorizontalStepper:!0,stepperName:"owner_stepper",numberOfSteps:o.isOwnershipVerification?6:1,namesofSteps:o.isOwnershipVerification?["owner_details_step","owner_ekyc_step","identity_verification_step","signature_specimen_step","liveness_detection_step","atttachment_step"]:["owner_details_step"],group:o.formGroup,submitOptions:{group:o.formGroup,submitServiceUrl:b.a.serviceUrl.commonSubmitAction},requestObject:o.addOwnerVO,showReport:!1},o.ownershipDetailsPanelOptions={isExpandable:!0,labelKey:"ownership_details_key",iconName:"document",expanded:!0},o.entityTypeLovOptiops={group:o.formGroup,fcName:"entityType"},o.existingCustomerOptions={labelKey:"existing_customer_key",placeHolder:"existing_customer_key",group:o.formGroup,fcName:"existingCustomer",psClass:"toggleColor"},o.cifNumberOptions={placeHolder:"enter_cif_number_key",labelKey:"cif_number_key",group:o.formGroup,fcName:"cifNumber",forceTriggerChange:!0},o.ownershipPercentageOptions={fcName:"ownershipPercentage",group:o.formGroup,labelKey:"ownership_percentage_key",placeHolder:"enter_ownership_percentage_key"},o.AuthSignerOptions={labelKey:"authorized_signer_key",placeHolder:"authorized_signer_key",group:o.formGroup,fcName:"authSigner",psClass:"toggleColor"},o.authPowerofAttorneyOptions={labelKey:"authorized_power_of_attorney_key",placeHolder:"authorized_power_of_attorney_key",group:o.formGroup,fcName:"authPowerofAttorney",psClass:"toggleColor"},o.fullNameOptions={group:o.formGroup,fcName:"fullName",labelKey:"full_name_key",placeHolder:"enter_full_name_key",iconOptions:{iconName:"clipboard"}},o.emailOptions={group:o.formGroup,fcName:"email",labelKey:"email_key",placeHolder:"enter_email_key"},o.phoneNumberOptions={group:o.formGroup,labelKey:"mobile_number_key",placeHolder:"mobile_key",fcName:"mobileNumber"},o.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:o.formGroup,revertToOldValue:!1},idNumberOptions:{labelKey:"id_number_key",placeHolder:"add_id_number_key",fcName:"idNumber",group:o.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"idExpiryDate",group:o.formGroup},countriesOptions:{placeHolder:"country_of_issuance_key",labelKey:"country_of_issuance_key",fcName:"idCountry",group:o.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"idIssueDate",group:o.formGroup}},o.nationalityOptions={fcName:"nationality",group:o.formGroup,labelKey:"nationality_key",placeHolder:"enter_nationality_key",revertToOldValue:!1,iconOptions:{iconName:"clipboard"}},o.designationOptions={fcName:"designation",group:o.formGroup,labelKey:"designation_key",placeHolder:"enter_designation_key",revertToOldValue:!1,iconOptions:{iconName:"clipboard"}},o.username={group:o.formGroup,fcName:"ownerUserName",placeHolder:"user_name_key",labelKey:"name_key",iconOptions:{iconName:"user"}},o.ownerOnlineUserPanelOptions={isExpandable:!0,labelKey:"online_user_key",iconName:"document",expanded:!0},o.corpUserToggleOptions={labelKey:"do_you_want_to_become_a_corporate_user_for_the_company_key",group:o.formGroup,fcName:"corporateUser",psClass:"toggleColor"},o.panelAttachmentOptions={isExpandable:!0,labelKey:"attachment_details_key",expanded:!0},o.fileUploadLabelDescription={labelKey:"onboarding_label_upload_description_key"},o.corpFileUploadOptions={multiple:!0,fcName:"selectedFileData",group:o.formGroup,uploadIconName:"attach"},o.specimenOptions={group:o.formGroup,fcName:"signatureSpecimen",labelKey:"signature_key"},o.isOwner=!1,o}return m(n,t),c(n,[{key:"ngOnInit",value:function(){e(n,"init",this,3)([]),this.baseFormGroup=this.formGroup,this.commonProv.copyObject(this.addOwnerVO,this.navService.getAllParams()?this.navService.getAllParams().ScreenVO?this.navService.getAllParams().ScreenVO:this.navService.getAllParams():{}),this.userInformation=this.commonProv.session.getValueOf(O.a.USERINFO),this.isOwner="Y"==this.userInformation.omniUserVO.IS_OWNER_YN,this.isOwnershipVerification=b.a.oper_ID==d.a.OWNERSHIP_VERIFICATION_OPER_ID}},{key:"ionViewDidEnter",value:function(){if(e(n,"ionViewDidEnter",this,3)([]),this.isOwnershipVerification)this.getOwnersPredefinedData(),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_READONLY,[this.entityTypeLovOptiops.fcName,this.existingCustomerOptions.fcName,this.cifNumberOptions.fcName,this.fullNameOptions.fcName,this.emailOptions.fcName,this.phoneNumberOptions.fcName,this.phoneNumberOptions.fcName,this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,this.complexIdDetailsOptions.idNumberOptions.fcName,this.complexIdDetailsOptions.issueDateOptions.fcName,this.complexIdDetailsOptions.dateExpiryOptions.fcName,this.complexIdDetailsOptions.countriesOptions.fcName,this.nationalityOptions.fcName,this.designationOptions.fcName,this.ownershipPercentageOptions.fcName,this.AuthSignerOptions.fcName,this.authPowerofAttorneyOptions.fcName],1);else if(this.isOwner&&this.addOwnerVO&&this.userInformation.userName===this.addOwnerVO[this.username.fcName]&&(this.commonProv.setValInsideNestedObj(this.entityTypeLovOptiops.fcName,"V",this.addOwnerVO),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_READONLY,[this.entityTypeLovOptiops.fcName],1),this.addOwnerVO.name)){var t=this.commonProv.getElementValidations(this.username.fcName);this.commonProv.setValInsideNestedObj(this.username.fcName,null==t?void 0:t.DEFAULT_VALUE,this.addOwnerVO)}}},{key:"getIdTypes",value:function(e){this.idDetailsComp.idTypeComp.loadIdTypes(e.itemValue)}},{key:"onExistingCustomerToggleChange",value:function(e){e&&null!=e.newValue&&("string"==typeof e.newValue&&(e.newValue="true"==e.newValue),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_VISIBLE,[this.cifNumberOptions.fcName],e.newValue),this.commonProv.applyDynScreenDisplay(O.a.ACTION_TYPE_VISIBLE,[this.fullNameOptions.fcName,this.complexIdDetailsOptions.idNumberOptions.fcName,this.complexIdDetailsOptions.dateExpiryOptions.fcName,this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,this.nationalityOptions.fcName,this.designationOptions.fcName],!e.newValue),0==e.newValue?this.commonProv.setValInsideNestedObj(this.cifNumberOptions.fcName,null,this.addOwnerVO):(this.commonProv.setValInsideNestedObj(this.fullNameOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.complexIdDetailsOptions.idNumberOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.complexIdDetailsOptions.dateExpiryOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.nationalityOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.designationOptions.fcName,null,this.addOwnerVO)))}},{key:"designationChanged",value:function(e){}},{key:"getOwnersPredefinedData",value:function(){var e=this;this.omniPull.returnOwnerDetails({}).then(function(t){var n=t.gridModel;if(e.commonProv.dismissLoading(),n.length>0){var i=n[0];i.submitFieldValueMap.actionType="save",i.submitFieldValueMap.dataSaveId=Number(i.dataSaveId),e.events.publish("draft:navigation",i.submitFieldValueMap),e.commonProv.dismissLoading()}}).catch(function(t){e.commonProv.dismissLoading()})}}])}(y.OmniBasePage)).\u0275fac=function(e){return new(e||J)(_.Rb(v.a),_.Rb(g.a),_.Rb(h.a))},J.\u0275cmp=_.Lb({type:J,selectors:[["add-owner"]],viewQuery:function(e,t){var n;1&e&&_.Wc(Y,1),2&e&&_.Bc(n=_.gc())&&(t.idDetailsComp=n.first)},features:[_.Cb],decls:7,vars:8,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step3","",3,"id",4,"psStep"],["step4","",3,"id",4,"psStep"],["step5","",3,"id",4,"psStep"],["step6","",3,"id",4,"psStep"],["step1","",3,"id"],["id","ownership_details_panel",3,"options"],["id","entity_type",3,"options","onPsChange"],[1,"onboarding_toggles",3,"id","options","onPsChange"],["id","cifNumber",3,"options"],["id","full_name",3,"options"],["id","email",3,"options"],["id","phone_number",3,"options"],[3,"options"],["idDetailsComp",""],["id","ownershipPercentage",3,"options"],[1,"onboarding_toggles",3,"id","options"],["id","owner_online_user_panel",3,"options",4,"ngIf"],["id","owner_online_user_panel",3,"options"],["id","corp_user_toggle",1,"onboarding_toggles",3,"options"],["step2","",3,"id"],["step3","",3,"id"],["step4","",3,"id"],["step5","",3,"id"],["step6","",3,"id"],["id","corp_attachment_details_panel",3,"options"],["id","file_upload_label_desc",1,"upload-title",3,"options"],["id","ps-corp-file-upload",3,"options"]],template:function(e,t){1&e&&(_.Xb(0,"ps-template-stepper",0),_.Pc(1,M,17,19,"ps-form-step",1),_.Pc(2,H,1,1,"ps-form-step",2),_.Pc(3,z,1,1,"ps-form-step",3),_.Pc(4,Q,2,2,"ps-form-step",4),_.Pc(5,Z,1,1,"ps-form-step",5),_.Pc(6,q,4,4,"ps-form-step",6),_.Wb()),2&e&&(_.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),_.Fb(1),_.pc("psStep","step1"),_.Fb(1),_.pc("psStep","step2"),_.Fb(1),_.pc("psStep","step3"),_.Fb(1),_.pc("psStep","step4"),_.Fb(1),_.pc("psStep","step5"),_.Fb(1),_.pc("psStep","step6"))},directives:[w.a,P.a,N.a,D.a,F,k.a,C.a,E.a,L.a,T.a,f.a,A.a,x,G.a,K.o,U.a,W.a,X.a],styles:[""]}),J)}}])}();