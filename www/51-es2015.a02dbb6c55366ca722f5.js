(window.webpackJsonp=window.webpackJsonp||[]).push([[51,339,340,341,342,343,344,345,346,347,348,349],{BVQX:function(e,t,s){"use strict";s.r(t),s.d(t,"ForgotCredentialsPage",function(){return k});var o=s("mrSG"),n=s("3Pt+"),i=s("V0Fi"),r=s("fOh1"),a=s("DFXC"),p=s("QZhd"),c=s("Q0Ba"),m=s("gKqT"),u=s("ZyuK"),l=s("zngb"),d=s("woXy"),h=s("fXoL"),f=s("kRg/"),O=s("uKCV"),g=s("sAFK"),b=s("+f2X"),_=s("PaM2"),C=s("1kNi"),N=s("y70R"),y=s("7Cko"),v=s("ngfJ"),S=s("+c6a"),P=s("CKXk"),w=s("AsVL"),D=s("+0sH");function I(e,t){if(1&e&&(h.Xb(0,"ps-form-step",3),h.Xb(1,"ps-container-panel",4),h.Sb(2,"ps-complex-bank-authentication",5),h.Wb(),h.Xb(3,"ps-container-panel",6),h.Sb(4,"ps-input-password",7),h.Sb(5,"ps-complex-id-details",5),h.Sb(6,"ps-entity-phone-number",5),h.Sb(7,"ps-date-day-month-year-past",8),h.Wb(),h.Wb()),2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[0]),h.Fb(1),h.pc("options",e.panelOptions1Step2),h.Fb(1),h.pc("options",e.grpOptions),h.Fb(1),h.pc("options",e.panelOptions2Step2),h.Fb(1),h.pc("options",e.cardPinOptions),h.Fb(1),h.pc("options",e.complexIdDetailsOptions),h.Fb(1),h.pc("options",e.complexPhoneOptions),h.Fb(1),h.pc("options",e.psDateDayMonthYearPastOptions)}}function E(e,t){if(1&e){const e=h.Yb();h.Xb(0,"ps-form-step",9),h.Xb(1,"ps-container-panel",10),h.Xb(2,"ps-complex-segment",11),h.fc("complexSegmentButtonClicked",function(t){return h.Fc(e),h.ic().onClickSegment(t)}),h.Xb(3,"ps-content-segment",12),h.Sb(4,"ps-complex-user-credentials",13),h.Wb(),h.Xb(5,"ps-content-segment",14),h.Xb(6,"ps-select-checkbox",15),h.fc("onPsChange",function(t){return h.Fc(e),h.ic().onforgotUsernameChanged(t)}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb()}if(2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[1]),h.Fb(1),h.pc("options",e.forgotPasswordPanelOptions),h.Fb(1),h.pc("options",e.complexSegmentOptions),h.Fb(1),h.pc("id",e.complexSegmentOptions.segmentContainerOptions.namesofSegments[0]),h.Fb(1),h.pc("options",e.userCredentialsOptions1),h.Fb(1),h.pc("id",e.complexSegmentOptions.segmentContainerOptions.namesofSegments[1]),h.Fb(1),h.pc("options",e.forgotUsernameOptions)}}let k=(()=>{class e extends m.OmniBasePage{constructor(e,t,s,o){super(),this.commonProv=e,this.loggerP=t,this.omniPull=s,this.NavService=o,this.formGroup=new n.f({}),this.forgotCredentialsVO={},this.stepperOptions={stepperName:"forgot_cred_step",isHorizontalStepper:!0,numberOfSteps:2,namesofSteps:["forgot_cred_step1","forgot_cred_step2"],group:this.formGroup,submitOptions:{submitServiceUrl:r.a.serviceUrl.forgotCredentials,group:this.formGroup,preCallFunction:{func(){return new Promise((e,t)=>{e(this.executionClass.validateInputtedData())})},executionClass:this,params:[]}},requestObject:this.forgotCredentialsVO},this.panelOptions1Step2={isExpandable:!0,labelKey:"IDENTIFICATION_DETAILS_KEY",iconName:"finger-print",expanded:!0},this.panelOptions2Step2={isExpandable:!0,labelKey:"AUTHENTICATION_DETAILS_KEY",iconName:"contact"},this.forgotUsernameOptions={labelKey:"send_me_my_username_key",group:this.formGroup,fcName:"forgotUsername"},this.complexPhoneOptions={labelKey:"phone_number_key",placeHolder:"country_key",fcName:"omniUserCO.omniUserVO.MOBILE_NUMBER",group:this.formGroup},this.userCredentialsOptions1={fcName:"complexUserCredentials",group:this.formGroup,userNameOption:{fcName:"userName",group:this.formGroup},passwordConfirmOptions:{group:this.formGroup,password:{labelKey:"password_key",placeHolder:"enter_new_password_key",fcName:"omniUserCO.omniUserVO.PASSWORD",group:this.formGroup},confirmPassword:{labelKey:"confirm_password_key",placeHolder:"enter_confirm_password_key",fcName:"confirmPassword",group:this.formGroup}}},this.forgotPasswordPanelOptions={labelKey:"forgot_password_key",iconName:"lock",expanded:!0},this.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:this.formGroup},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber",group:this.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate",group:this.formGroup},countriesOptions:{placeHolder:"country_of_issuance_key",labelKey:"country_of_issuance_key",fcName:"country",group:this.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate",group:this.formGroup}},this.cardPinOptions={fcName:"omniUserCO.omniUserVO.PIN_PASSWORD",labelKey:"card_pin_key",placeHolder:"enter_card_pin_key",group:this.formGroup},this.grpOptions={acNumOptions:{fcName:"omniUserCO.omniUserVO.ACCOUNT_NUMBER",group:this.formGroup},varcharOptions:{fcName:"userCifNo",group:this.formGroup,iconOptions:{iconName:"user-cif"}},cardNumberOptions:{fcName:"cardNumber",group:this.formGroup,iconOptions:{iconName:"card-input"}}},this.complexSegmentOptions={group:this.formGroup,segmentOptions:{segmentList:[]},segmentContainerOptions:{numberOfSegments:2,namesofSegments:["forgot_password_segment","forgot_username_segment"]}},this.psDateDayMonthYearPastOptions={fcName:"dateOfBirthday",group:this.formGroup,labelKey:"date_of_birth_key",placeHolder:"enter_your_date_of_birth_key"},this.orLabelOptions={labelKey:"OR_KEY"}}ngOnInit(){super.init(),this.baseFormGroup=this.formGroup,p.a.oper_ID=i.a.FORGOT_CREDENTIALS_OPER,p.a.pageName=i.a.FORGOT_CREDENTIALS_TITLE,this.commonProv.setValInsideNestedObj(this.forgotUsernameOptions.fcName,!1,this.forgotCredentialsVO),this.complexSegmentOptions.segmentOptions={fcName:"forgotCredentialsSegment",segmentList:[{selected:!0,itemValue:i.a.PASSWORD,description:this.commonProv.translate("forgot_password_key")},{selected:!0,itemValue:i.a.USER_NAME,description:this.commonProv.translate("forgot_username_key")}],defaultSegment:{itemValue:i.a.PASSWORD,description:this.commonProv.translate("forgot_password_key")}}}ionViewDidEnter(){super.ionViewDidEnter(),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.forgotUsernameOptions.fcName],0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_VISIBLE,[this.userCredentialsOptions1.userNameOption.fcName],1)}onforgotUsernameChanged(e){let t=0;e&&e.newValue?(this.userCredentialsOptions1.passwordConfirmOptions.password.group.controls[this.userCredentialsOptions1.passwordConfirmOptions.password.fcName].reset(),this.userCredentialsOptions1.passwordConfirmOptions.confirmPassword.group.controls[this.userCredentialsOptions1.passwordConfirmOptions.confirmPassword.fcName].reset(),this.userCredentialsOptions1.userNameOption.group.controls[this.userCredentialsOptions1.userNameOption.fcName].reset(),t=1,!0===e.newValue&&this.commonProv.setValInsideNestedObj(this.forgotUsernameOptions.fcName,!0,this.forgotCredentialsVO)):t=0,this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.userCredentialsOptions1.userNameOption.fcName,this.userCredentialsOptions1.passwordConfirmOptions.password.fcName,this.userCredentialsOptions1.passwordConfirmOptions.confirmPassword.fcName],!t)}validateInputtedData(){return new Promise((e,t)=>Object(o.b)(this,void 0,void 0,function*(){const s=yield this.omniPull.validateForgotCredentials(this.forgotCredentialsVO).catch(e=>{this.loggerP.error(e),t(e)});s&&s.success&&("S"===s.data.outputType?(this.forgotCredentialsVO&&!this.forgotCredentialsVO[this.userCredentialsOptions1.userNameOption.fcName]&&(this.forgotCredentialsVO[this.userCredentialsOptions1.userNameOption.fcName]=l.a.NO_VALUE),e(s)):this.NavService.navigateBackward())}))}onClickSegment(e){e===i.a.PASSWORD?(this.commonProv.setValInsideNestedObj(this.forgotUsernameOptions.fcName,!1,this.forgotCredentialsVO),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.forgotUsernameOptions.fcName],0)):e===i.a.USER_NAME&&(this.userCredentialsOptions1.userNameOption.group.controls[this.userCredentialsOptions1.userNameOption.fcName].setValue(""),this.commonProv.setValInsideNestedObj(this.userCredentialsOptions1.passwordConfirmOptions.password.fcName,null,this.forgotCredentialsVO),this.commonProv.setValInsideNestedObj(this.userCredentialsOptions1.passwordConfirmOptions.confirmPassword.fcName,null,this.forgotCredentialsVO),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.forgotUsernameOptions.fcName],1))}}return e.\u0275fac=function(t){return new(t||e)(h.Rb(c.a),h.Rb(a.a),h.Rb(u.a),h.Rb(d.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["forgot-credentials"]],features:[h.Cb],decls:3,vars:4,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step1","",3,"id"],["id","forgot_cred_panel1",3,"options"],[3,"options"],["id","forgot_cred_panel2",3,"options"],["id","card_pin",3,"options"],["id","date_day_month_year_past",3,"options"],["step2","",3,"id"],["id","forgot_cred_panel3",3,"options"],["id","forgetCredentialsSegment",3,"options","complexSegmentButtonClicked"],["segment1","",3,"id"],["id","forgot_password",3,"options"],["segment2","",3,"id"],["id","forgot_username",1,"forget-username-checkbox",3,"options","onPsChange"]],template:function(e,t){1&e&&(h.Xb(0,"ps-template-stepper",0),h.Pc(1,I,8,8,"ps-form-step",1),h.Pc(2,E,7,7,"ps-form-step",2),h.Wb()),2&e&&(h.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),h.Fb(1),h.pc("psStep","step1"),h.Fb(1),h.pc("psStep","step2"))},directives:[f.a,O.a,g.a,b.a,_.a,C.a,N.a,y.a,v.a,S.a,P.a,w.a,D.a],styles:[""]}),e})()},PaM2:function(e,t,s){"use strict";s.d(t,"a",function(){return u});var o=s("Q0Ba"),n=s("DFXC"),i=s("ZF3V"),r=s("fXoL"),a=s("Isd1"),p=s("WAnK"),c=s("UTjL"),m=s("x3b/");let u=(()=>{class e extends i.a{constructor(e,t){super(e,t),this.defaultOptions={acNumOptions:{labelKey:"account_number_key",placeHolder:"enter_account_number_key",iconOptions:{iconName:"accounts"}},varcharOptions:{labelKey:"cif_no_key",placeHolder:"enter_cif_no_key"}}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options),super.init()}onCardNumberChange(e){this.commonProv.logger.log("CardNumber:"+e.newValue)}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(o.a),r.Rb(n.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-complex-bank-authentication"]],inputs:{options:"options"},features:[r.Cb],decls:4,vars:5,consts:[[3,"options"],["id","'userCifNo' + id",3,"options"],["id","'input_account_number_' + id",3,"options"],[3,"id","options"]],template:function(e,t){1&e&&(r.Xb(0,"ps-container-complex",0),r.Sb(1,"ps-input-numeric",1),r.Sb(2,"ps-input-account-number",2),r.Sb(3,"ps-input-card-number",3),r.Wb()),2&e&&(r.pc("options",t.defaultOptions),r.Fb(1),r.pc("options",t.defaultOptions.varcharOptions),r.Fb(1),r.pc("options",t.defaultOptions.acNumOptions),r.Fb(1),r.pc("id","card_number_"+t.id)("options",null==t.options?null:t.options.cardNumberOptions))},directives:[a.a,p.a,c.a,m.a],styles:[""]}),e})()},UTjL:function(e,t,s){"use strict";s.d(t,"a",function(){return O});var o=s("fXoL"),n=s("ZyuK"),i=s("BYmO"),r=s("DFXC"),a=s("qEF5"),p=s("Q0Ba"),c=s("woXy"),m=s("zngb"),u=s("ofXK"),l=s("ilDp");const d=function(e){return{disableContent:e}};function h(e,t){if(1&e){const e=o.Yb();o.Xb(0,"ps-action-icon",3),o.fc("onClick",function(){return o.Fc(e),o.ic().getScannedData(!0)}),o.Wb()}if(2&e){const e=o.ic();o.pc("id","QrScannerIcon")("ngClass",o.sc(3,d,e.isInReadOnlyScreen))("options",e.actionOption)}}const f=function(e){return{colAcc:e}};let O=(()=>{class e extends i.a{constructor(e,t,s,n){super(e,t),this.omniPull=s,this.nav=n,this.getScannedQr=new o.o,this.actionOption={},this.custMode&&(this.options.showScannerIcon=!0)}ngOnInit(){var e;let t=this.common.returnOperCustomization();this.isInReadOnlyScreen=1==(null===(e=t.get(m.a.FORM_READONLY))||void 0===e?void 0:e.IS_READONLY),a.a.isNotNull(this.options)&&(this.options.hideValueOnError=!0),this.actionOption={iconName:"qr_code_scanner",allowCust:!0,group:this.options.group}}onChangeEvent(e){this.onPsChange.emit(e)}getScannedData(e){this.custMode||(0==this.options.forceTriggerChange&&(this.options.forceTriggerChange=!0),this.commonProv.scanQRCode().then(t=>{var s,o;if(t){t=JSON.parse(t),this.commonProv.setValInsideNestedObj(this.options.fcName,null===(s=t.AccountRef)||void 0===s?void 0:s.split("-")[1],this.options.requestObject?this.options.requestObject:{});const n=Object.assign(Object.assign({},t),{accountNumber:null===(o=t.AccountRef)||void 0===o?void 0:o.split("-")[1]});this.getScannedQr.emit([n,e])}}).catch(e=>{this.logger.error("something went wrong",e),this.nav.navigateBackward()}))}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(p.a),o.Rb(r.a),o.Rb(n.a),o.Rb(c.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["ps-input-account-number"]],inputs:{options:"options"},outputs:{getScannedQr:"getScannedQr"},features:[o.Cb],decls:3,vars:6,consts:[[3,"ngClass"],[3,"id","options","onPsChange","onPsEmpty"],["class","scanQrIcon",3,"id","ngClass","options","onClick",4,"ngIf"],[1,"scanQrIcon",3,"id","ngClass","options","onClick"]],template:function(e,t){1&e&&(o.Xb(0,"div",0),o.Xb(1,"ps-keyin-input",1),o.fc("onPsChange",function(e){return t.onChangeEvent(e)})("onPsEmpty",function(e){return t.onEmpty(e)}),o.Wb(),o.Pc(2,h,1,5,"ps-action-icon",2),o.Wb()),2&e&&(o.pc("ngClass",o.sc(4,f,t.options.showScannerIcon||t.custMode)),o.Fb(1),o.pc("id",t.id)("options",t.options),o.Fb(1),o.pc("ngIf",t.options.showScannerIcon||t.custMode))},directives:[u.m,i.a,u.o,l.a],styles:[""]}),e})()},gKqT:function(e,t,s){"use strict";s.r(t),s.d(t,"OmniBasePage",function(){return u});var o=s("oS+F"),n=s("zngb"),i=s("QZhd"),r=s("woXy"),a=s("qEF5"),p=s("Q0Ba"),c=s("lE2x"),m=s("fXoL");let u=(()=>{class e{constructor(){this.isPageDisabled=!1,this.commonProv=a.a.injectionHandler(p.a),this.navigationServices=a.a.injectionHandler(r.a)}init(){this.currentOperID=i.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const e=this.navigationServices.getAllParams(),t={};e&&!0===e.readOnlypage?(t.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(n.a.FORM_READONLY,t)):this.customizationMap&&(t.IS_READONLY=0,this.customizationMap.set(n.a.FORM_READONLY,t)),this.screenTranslationOperIds=c.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?c.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(e){if(void 0!==e&&this.customizationMap){const t=this.customizationMap.get(n.a.FORM_READONLY);t&&1===t.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(e=>{this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_READONLY,[e],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(e){const t=e||2222,s=i.a.activeLanguge?i.a.activeLanguge:"EN";t&&s&&this.commonProv.language.getOperTranslation(s,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Hb(t.psClass)},decls:0,vars:0,template:function(e,t){},styles:[""]}),e})()},"x3b/":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var o=s("DFXC"),n=s("Q0Ba"),i=s("BYmO"),r=s("fXoL");let a=(()=>{class e extends i.a{constructor(e,t){super(e,t),this.options={},this.defaultOptions={mask:{mask:"9999 9999 9999 9999"},labelKey:"card_number_key",placeHolder:"enter_your_card_number_key",type:"tel",imageOptions:{imageName:"",psClass:"card-action-image"}}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options,!1)}changeCardIcon(e){const t=e.target.value;this.defaultOptions.imageOptions.imageName=t.startsWith("4")?"Visa-Curved.png":this.checkCard(52,55,t)||this.checkCard(2221,2720,t)?"Mastercard-Curved.png":t.startsWith("34")||t.startsWith("37")?"American-Express-Curved.png":t.startsWith("6011")||t.startsWith("65")?"Discover-Straight.png":t.startsWith("36")||t.startsWith("38")||this.checkCard(300,305,t)?"DinerClub.png":t.startsWith("35")||t.startsWith("2131")||t.startsWith("1800")?"jbc-card.jpg":""}checkCard(e,t,s){let o=!1;if(s&&e&&t)for(let n=e;n<=t;n++)if(s.startsWith(n.toString())){o=!0;break}return o}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(n.a),r.Rb(o.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-input-card-number"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:2,consts:[[1,"ps-input-card-number",3,"id","options","keyup"]],template:function(e,t){1&e&&(r.Xb(0,"ps-keyin-input",0),r.fc("keyup",function(e){return t.changeCardIcon(e)}),r.Wb()),2&e&&r.pc("id",t.id)("options",t.defaultOptions)},directives:[i.a],styles:[""]}),e})()}}]);