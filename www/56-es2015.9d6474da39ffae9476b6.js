(window.webpackJsonp=window.webpackJsonp||[]).push([[56,339,340,341,342,343,344,345,346,347,348,349],{UTjL:function(e,s,t){"use strict";t.d(s,"a",function(){return b});var o=t("fXoL"),n=t("ZyuK"),i=t("BYmO"),r=t("DFXC"),a=t("qEF5"),c=t("Q0Ba"),p=t("woXy"),u=t("zngb"),l=t("ofXK"),d=t("ilDp");const m=function(e){return{disableContent:e}};function h(e,s){if(1&e){const e=o.Yb();o.Xb(0,"ps-action-icon",3),o.fc("onClick",function(){return o.Fc(e),o.ic().getScannedData(!0)}),o.Wb()}if(2&e){const e=o.ic();o.pc("id","QrScannerIcon")("ngClass",o.sc(3,m,e.isInReadOnlyScreen))("options",e.actionOption)}}const f=function(e){return{colAcc:e}};let b=(()=>{class e extends i.a{constructor(e,s,t,n){super(e,s),this.omniPull=t,this.nav=n,this.getScannedQr=new o.o,this.actionOption={},this.custMode&&(this.options.showScannerIcon=!0)}ngOnInit(){var e;let s=this.common.returnOperCustomization();this.isInReadOnlyScreen=1==(null===(e=s.get(u.a.FORM_READONLY))||void 0===e?void 0:e.IS_READONLY),a.a.isNotNull(this.options)&&(this.options.hideValueOnError=!0),this.actionOption={iconName:"qr_code_scanner",allowCust:!0,group:this.options.group}}onChangeEvent(e){this.onPsChange.emit(e)}getScannedData(e){this.custMode||(0==this.options.forceTriggerChange&&(this.options.forceTriggerChange=!0),this.commonProv.scanQRCode().then(s=>{var t,o;if(s){s=JSON.parse(s),this.commonProv.setValInsideNestedObj(this.options.fcName,null===(t=s.AccountRef)||void 0===t?void 0:t.split("-")[1],this.options.requestObject?this.options.requestObject:{});const n=Object.assign(Object.assign({},s),{accountNumber:null===(o=s.AccountRef)||void 0===o?void 0:o.split("-")[1]});this.getScannedQr.emit([n,e])}}).catch(e=>{this.logger.error("something went wrong",e),this.nav.navigateBackward()}))}}return e.\u0275fac=function(s){return new(s||e)(o.Rb(c.a),o.Rb(r.a),o.Rb(n.a),o.Rb(p.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["ps-input-account-number"]],inputs:{options:"options"},outputs:{getScannedQr:"getScannedQr"},features:[o.Cb],decls:3,vars:6,consts:[[3,"ngClass"],[3,"id","options","onPsChange","onPsEmpty"],["class","scanQrIcon",3,"id","ngClass","options","onClick",4,"ngIf"],[1,"scanQrIcon",3,"id","ngClass","options","onClick"]],template:function(e,s){1&e&&(o.Xb(0,"div",0),o.Xb(1,"ps-keyin-input",1),o.fc("onPsChange",function(e){return s.onChangeEvent(e)})("onPsEmpty",function(e){return s.onEmpty(e)}),o.Wb(),o.Pc(2,h,1,5,"ps-action-icon",2),o.Wb()),2&e&&(o.pc("ngClass",o.sc(4,f,s.options.showScannerIcon||s.custMode)),o.Fb(1),o.pc("id",s.id)("options",s.options),o.Fb(1),o.pc("ngIf",s.options.showScannerIcon||s.custMode))},directives:[l.m,i.a,l.o,d.a],styles:[""]}),e})()},gKqT:function(e,s,t){"use strict";t.r(s),t.d(s,"OmniBasePage",function(){return l});var o=t("oS+F"),n=t("zngb"),i=t("QZhd"),r=t("woXy"),a=t("qEF5"),c=t("Q0Ba"),p=t("lE2x"),u=t("fXoL");let l=(()=>{class e{constructor(){this.isPageDisabled=!1,this.commonProv=a.a.injectionHandler(c.a),this.navigationServices=a.a.injectionHandler(r.a)}init(){this.currentOperID=i.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const e=this.navigationServices.getAllParams(),s={};e&&!0===e.readOnlypage?(s.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(n.a.FORM_READONLY,s)):this.customizationMap&&(s.IS_READONLY=0,this.customizationMap.set(n.a.FORM_READONLY,s)),this.screenTranslationOperIds=p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(e){if(void 0!==e&&this.customizationMap){const s=this.customizationMap.get(n.a.FORM_READONLY);s&&1===s.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(e=>{this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_READONLY,[e],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:i.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(e){const s=e||2222,t=i.a.activeLanguge?i.a.activeLanguge:"EN";s&&t&&this.commonProv.language.getOperTranslation(t,s)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=u.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,s){2&e&&u.Hb(s.psClass)},decls:0,vars:0,template:function(e,s){},styles:[""]}),e})()},jedr:function(e,s,t){"use strict";t.d(s,"a",function(){return _});var o=t("fXoL"),n=t("ZF3V"),i=t("1kNi"),r=t("DFXC"),a=t("zngb"),c=t("Q0Ba"),p=t("Isd1"),u=t("ofXK"),l=t("KVmc");const d=["passwordRef"],m=["confirmPasswordRef"];function h(e,s){if(1&e&&o.Sb(0,"ps-label",8),2&e){const e=o.ic();o.pc("options",e.passNote)}}const f=function(e){return{labelKey:e}};function b(e,s){if(1&e&&(o.Xb(0,"p",9),o.Sb(1,"ps-label",8),o.Wb()),2&e){const e=o.ic();o.Fb(1),o.pc("options",o.sc(1,f,e.errorMsg))}}let _=(()=>{class e extends n.a{constructor(e,s){super(e,s),this.commonProv=e,this.loggerP=s,this.onPasswordChange=new o.o,this.onConfirmPasswordChange=new o.o,this.newPassword=null,this.confirmedNewPassword=null,this.passNote={}}ngOnInit(){null==this.options.showPasswordHint&&(this.options.showPasswordHint=!0),this.passNote.labelKey=this.options.hintMessage?this.options.hintMessage:"pass_note_key"}onChangePassword(e){this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.confirmPassword.fcName],1),this.newPassword=e.newValue,this.options.allowUserSimilarToPassword&&(this.options.username&&this.newPassword===this.options.username?(this.options.group.controls[this.options.password.fcName].setErrors({warning:this.commonProv.translate("YOU_CANNOT_SET_A_PASSWORD_SIMILAR_TO_THE_USERNAME_KEY")}),super.checkValidationErrors(),this.passwordRef.superWriteValue("")):this.commonProv.session.getStoredValueOf(a.a.USER_NAME).then(s=>{s&&s===e.newValue&&(this.options.group.controls[this.options.password.fcName].setErrors({warning:this.commonProv.translate("YOU_CANNOT_SET_A_PASSWORD_SIMILAR_TO_THE_USERNAME_KEY")}),super.checkValidationErrors(),this.passwordRef.superWriteValue(""))})),this.confirmPasswordRef.superWriteValue(""),this.confirmedNewPassword=null,this.onPasswordChange.emit(e)}onChangeConfirmPassword(e){this.errorMsg="",this.confirmedNewPassword=e.newValue,null!==this.newPassword&&null!==this.confirmedNewPassword&&this.newPassword!==this.confirmedNewPassword&&(this.options.confirmPassword.group.controls[this.options.confirmPassword.fcName].setErrors({customErrorKey:this.commonProv.translate(this.options.password.labelKey)+" "+this.commonProv.translate("do_not_match_key")}),this.errorMsg=this.commonProv.translate(this.options.password.labelKey)+" "+this.commonProv.translate("do_not_match_key"),super.checkValidationErrors(),this.commonProv.setValInsideNestedObj(this.options.confirmPassword.fcName,null,this.options.requestObject)),this.onConfirmPasswordChange.emit(e)}onfieldEmpty(e){"pass"===e?this.newPassword=null:this.confirmedNewPassword=null,this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.options.confirmPassword.fcName],0)}}return e.\u0275fac=function(s){return new(s||e)(o.Rb(c.a),o.Rb(r.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["ps-complex-password-confirm"]],viewQuery:function(e,s){if(1&e&&(o.Wc(d,1),o.Wc(m,1)),2&e){let e;o.Bc(e=o.gc())&&(s.passwordRef=e.first),o.Bc(e=o.gc())&&(s.confirmPasswordRef=e.first)}},inputs:{options:"options"},outputs:{onPasswordChange:"onPasswordChange",onConfirmPasswordChange:"onConfirmPasswordChange"},features:[o.Cb],decls:9,vars:7,consts:[[3,"id"],[1,"main-password","pc-input-label","ps-input-text-font-color",3,"id","options","onPsEmpty","onPsChange"],["passwordRef",""],[1,"col-12","pass-note"],[3,"options",4,"ngIf"],[1,"confirm-password","pc-input-label","ps-input-text-font-color",3,"id","options","onPsEmpty","onPsChange"],["confirmPasswordRef",""],["class","validation-message",4,"ngIf"],[3,"options"],[1,"validation-message"]],template:function(e,s){1&e&&(o.Xb(0,"ps-container-complex",0),o.Xb(1,"ps-input-password",1,2),o.fc("onPsEmpty",function(){return s.onfieldEmpty("pass")})("onPsChange",function(e){return s.onChangePassword(e)}),o.Wb(),o.Xb(3,"div",3),o.Pc(4,h,1,1,"ps-label",4),o.Wb(),o.Xb(5,"ps-input-password",5,6),o.fc("onPsEmpty",function(){return s.onfieldEmpty("conf")})("onPsChange",function(e){return s.onChangeConfirmPassword(e)}),o.Wb(),o.Vb(7),o.Pc(8,b,2,3,"p",7),o.Ub(),o.Wb()),2&e&&(o.pc("id","password_confirm"+s.id),o.Fb(1),o.pc("id","password_"+s.id)("options",s.options.password),o.Fb(3),o.pc("ngIf",s.options.showPasswordHint),o.Fb(1),o.pc("id","confirmPassword_"+s.id)("options",s.options.confirmPassword),o.Fb(3),o.pc("ngIf",s.errorMsg))},directives:[p.a,i.a,u.o,l.a],styles:[""]}),e})()},l1uR:function(e,s,t){"use strict";t.r(s),t.d(s,"ReactivateMyAccountPage",function(){return D});var o=t("mrSG"),n=t("3Pt+"),i=t("V0Fi"),r=t("fOh1"),a=t("0CJq"),c=t("6pjd"),p=t("DFXC"),u=t("Q0Ba"),l=t("qEF5"),d=t("gKqT"),m=t("fXoL"),h=t("kRg/"),f=t("uKCV"),b=t("sAFK"),_=t("+f2X"),g=t("WAnK"),O=t("UTjL"),w=t("x3b/"),y=t("1kNi"),v=t("y70R"),P=t("7Cko"),N=t("ngfJ"),C=t("ofXK"),k=t("jedr");const E=["usernameRef"];function I(e,s){if(1&e&&(m.Xb(0,"ps-container-panel",15),m.Sb(1,"ps-complex-password-confirm",16),m.Wb()),2&e){const e=m.ic(2);m.pc("options",e.panelOption2Step2),m.Fb(1),m.pc("options",e.confirmPasswordOptions)}}function S(e,s){if(1&e){const e=m.Yb();m.Xb(0,"ps-form-step",2),m.Xb(1,"ps-container-panel",3),m.Sb(2,"ps-input-numeric",4),m.Xb(3,"ps-input-username",5,6),m.fc("onPsChange",function(s){return m.Fc(e),m.ic().validateUsername(s)}),m.Wb(),m.Sb(5,"ps-input-account-number",7),m.Sb(6,"ps-input-card-number",8),m.Wb(),m.Xb(7,"ps-container-panel",9),m.Sb(8,"ps-input-password",10),m.Sb(9,"ps-complex-id-details",11),m.Sb(10,"ps-entity-phone-number",12),m.Sb(11,"ps-date-day-month-year-past",13),m.Wb(),m.Pc(12,I,2,2,"ps-container-panel",14),m.Wb()}if(2&e){const e=m.ic();m.pc("id",e.stepperOptions.namesofSteps[0]),m.Fb(1),m.pc("options",e.panelOptions1Step1),m.Fb(1),m.pc("options",e.cifNumOptions),m.Fb(1),m.pc("options",e.userNameOptions),m.Fb(2),m.pc("options",e.accountNumberOptions),m.Fb(1),m.pc("options",e.cardNumberOptions),m.Fb(1),m.pc("options",e.panelOptions2Step1),m.Fb(1),m.pc("options",e.cardPinOptions),m.Fb(1),m.pc("options",e.complexIdDetailsOptions),m.Fb(1),m.pc("options",e.mobileNumberOptions),m.Fb(1),m.pc("options",e.psDateDayMonthYearPastOptions),m.Fb(1),m.pc("ngIf",e.isInvalidLoginBlock)}}let D=(()=>{class e extends d.OmniBasePage{constructor(e,s,t){super(),this.common=e,this.logger=s,this.omniCommon=t,this.formGroup=new n.f({}),this.reactivateMyAccountVO={},this.stepperOptions={stepperName:"reactivate_my_account_key",isHorizontalStepper:!0,numberOfSteps:1,namesofSteps:["reactivate_account_step1"],group:this.formGroup,submitOptions:{submitServiceUrl:r.a.serviceUrl.reactivateMyAccountEndPoint,group:this.formGroup},requestObject:this.reactivateMyAccountVO},this.panelOptions1Step1={isExpandable:!0,labelKey:"identification_details_key",iconName:"reactivate_myAccount_panel1",expanded:!0},this.panelOptions2Step1={isExpandable:!0,labelKey:"authentication_details_key",iconName:"reactivate_myAccount_panel2",expanded:!0},this.panelOption2Step2={isExpandable:!0,labelKey:"change_password_key",iconName:"document",expanded:!1},this.cifNumOptions={labelKey:"cif_no_key",group:this.formGroup,placeHolder:"enter_cif_no_key",fcName:"userCifNo"},this.userNameOptions={labelKey:"username_key",group:this.formGroup,placeHolder:"enter_username_key",fcName:"userName"},this.accountNumberOptions={labelKey:"account_number_key",group:this.formGroup,placeHolder:"enter_account_number_key",fcName:"accountNumber",requestObject:this.reactivateMyAccountVO},this.cardNumberOptions={labelKey:"card_number_key",group:this.formGroup,placeHolder:"enter_card_number_key",fcName:"cardNumber"},this.cardPinOptions={fcName:"cardPin",labelKey:"card_pin_key",placeHolder:"enter_card_pin_key",group:this.formGroup},this.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:this.formGroup},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber",group:this.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate",group:this.formGroup},countriesOptions:{labelKey:"country_key",placeHolder:"enter_country_key",fcName:"country",group:this.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate",group:this.formGroup}},this.mobileNumberOptions={labelKey:"mobile_key",fcName:"omniUserCO.omniUserVO.MOBILE_NUMBER",group:this.formGroup},this.psDateDayMonthYearPastOptions={fcName:"dateOfBirthday",group:this.formGroup,labelKey:"date_of_birth_key",placeHolder:"enter_your_date_of_birth_key"},this.confirmPasswordOptions={group:this.formGroup,password:{labelKey:"new_password_key",placeHolder:"enter_new_password_key",fcName:"newPassword",group:this.formGroup},confirmPassword:{labelKey:"confirm_password_key",placeHolder:"confirm_new_password_key",fcName:"confirmPassword",group:this.formGroup},requestObject:this.reactivateMyAccountVO}}ngOnInit(){}validateUsername(e){return Object(o.b)(this,void 0,void 0,function*(){if(e&&e.newValue){const s={userName:e.newValue};l.a.presentLoading(),this.common.http.commonRequestAjax(r.a.serviceUrl.omniUserInfoEndPoint,s).then(e=>Object(o.b)(this,void 0,void 0,function*(){var s,t,o;const n=e.data.gridModel;if(n&&n.length>0)if(n[0].status&&n[0].status==i.a.STATUS_BLOCKED)if(n[0].blockReason&&i.a.REACTIVATE_ACCOUNT_VALID_BLOCK_REASONS.includes(n[0].blockReason))this.isInvalidLoginBlock=!(!n[0].blockReason||n[0].blockReason!=i.a.BLOCK_REASON_INVALID_LOGIN);else{const e=yield this.omniCommon.checkLabelTrans("invalid_block_reason_key");l.a.presentFailureAlert(e),this.commonProv.setValInsideNestedObj(this.userNameOptions.fcName,"",null===(s=this.stepperOptions.group.controls.formData)||void 0===s?void 0:s.value)}else{const e=yield this.omniCommon.checkLabelTrans("invalid_user_status_key");l.a.presentFailureAlert(e),this.commonProv.setValInsideNestedObj(this.userNameOptions.fcName,"",null===(t=this.stepperOptions.group.controls.formData)||void 0===t?void 0:t.value)}else{const e=yield this.omniCommon.checkLabelTrans("invalid_username_key");l.a.presentFailureAlert(e),this.commonProv.setValInsideNestedObj(this.userNameOptions.fcName,"",null===(o=this.stepperOptions.group.controls.formData)||void 0===o?void 0:o.value)}l.a.dismissLoading()})).catch(e=>{var s;l.a.dismissLoading(),this.logger.log(e),this.commonProv.setValInsideNestedObj(this.userNameOptions.fcName,"",null===(s=this.stepperOptions.group.controls.formData)||void 0===s?void 0:s.value)})}})}}return e.\u0275fac=function(s){return new(s||e)(m.Rb(u.a),m.Rb(p.a),m.Rb(a.a))},e.\u0275cmp=m.Lb({type:e,selectors:[["app-reactivate-my-account"]],viewQuery:function(e,s){if(1&e&&m.Wc(E,1),2&e){let e;m.Bc(e=m.gc())&&(s.usernameRef=e.first)}},features:[m.Cb],decls:2,vars:3,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],["id","account_reactivation_panel_1",3,"options"],["id","user_cif_number",3,"options"],["id","username",3,"options","onPsChange"],["userName",""],["id","account_number",3,"options"],["id","card_number",3,"options"],["id","account_reactivation_panel_2",3,"options"],["id","card_pin",3,"options"],["id","id_details",3,"options"],["id","mobile_number",3,"options"],["id","date_of_birth",3,"options"],["id","password_details_panel2",3,"options",4,"ngIf"],["id","password_details_panel2",3,"options"],["id","complex_password_confirm",3,"options"]],template:function(e,s){1&e&&(m.Xb(0,"ps-template-stepper",0),m.Pc(1,S,13,12,"ps-form-step",1),m.Wb()),2&e&&(m.pc("options",s.stepperOptions)("id",s.stepperOptions.stepperName),m.Fb(1),m.pc("psStep","step1"))},directives:[h.a,f.a,b.a,_.a,g.a,c.a,O.a,w.a,y.a,v.a,P.a,N.a,C.o,k.a],styles:[""]}),e})()},"x3b/":function(e,s,t){"use strict";t.d(s,"a",function(){return a});var o=t("DFXC"),n=t("Q0Ba"),i=t("BYmO"),r=t("fXoL");let a=(()=>{class e extends i.a{constructor(e,s){super(e,s),this.options={},this.defaultOptions={mask:{mask:"9999 9999 9999 9999"},labelKey:"card_number_key",placeHolder:"enter_your_card_number_key",type:"tel",imageOptions:{imageName:"",psClass:"card-action-image"}}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options,!1)}changeCardIcon(e){const s=e.target.value;this.defaultOptions.imageOptions.imageName=s.startsWith("4")?"Visa-Curved.png":this.checkCard(52,55,s)||this.checkCard(2221,2720,s)?"Mastercard-Curved.png":s.startsWith("34")||s.startsWith("37")?"American-Express-Curved.png":s.startsWith("6011")||s.startsWith("65")?"Discover-Straight.png":s.startsWith("36")||s.startsWith("38")||this.checkCard(300,305,s)?"DinerClub.png":s.startsWith("35")||s.startsWith("2131")||s.startsWith("1800")?"jbc-card.jpg":""}checkCard(e,s,t){let o=!1;if(t&&e&&s)for(let n=e;n<=s;n++)if(t.startsWith(n.toString())){o=!0;break}return o}}return e.\u0275fac=function(s){return new(s||e)(r.Rb(n.a),r.Rb(o.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-input-card-number"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:2,consts:[[1,"ps-input-card-number",3,"id","options","keyup"]],template:function(e,s){1&e&&(r.Xb(0,"ps-keyin-input",0),r.fc("keyup",function(e){return s.changeCardIcon(e)}),r.Wb()),2&e&&r.pc("id",s.id)("options",s.defaultOptions)},directives:[i.a],styles:[""]}),e})()}}]);