{"version":3,"sources":["webpack:///src/app/pages/dashboard/dashboard.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/pages/omni-base/omni-base.page.scss","webpack:///src/app/pages/dashboard/dashboard.page.html"],"names":["DashboardPage","commonService","omniPull","logger","viewportRuler","formGroup","templateViewOptions","group","disableLoading","spinner","unAddedUserWidgets","userWidgets","currentLayout","dropListOrientation","cdkDropListConnectedTo","cdkDragLockAxis","showAvailableWidgets","unusedWidgetsPanelOpts","isExpandable","labelKey","iconName","collapseIconName","expanded","dropHereLabel","addWidgetIconOptions","labelOptions","allowCust","actionImageOptions","imageName","getCssVariableValue","layoutIconOptions","handler","onLayoutChange","dragWidgetIcon","dropListEnterPredicate","drag","drop","placeholder","data","widgetIndex","findIndex","widget","widgetCode","ngOnInit","isMobile","commonProv","userInfo","session","getValueOf","USERINFO","dashboardLayout","omniUserVO","DASHBOARD_LAYOUT","changeCurrentLayout","returnWidgetDetails","fetchedWidgets","error","result","widgets","length","populateDashbordWidgets","categorizeWidgets","unusedWidgets","sortWidgetsByOrder","generateCdkDropListConnectedTo","requestData","iterator","widgetId","widgetHeaderName","headerName","widgetTitle","label","widgetReportId","idReport","widgetReportType","type","linkedOperation","linkedOper","widgetIconName","getWidgetIconName","widgetOrder","push","reduce","undefined","sort","a","b","removeWidgetConfirmationPopup","buttonsObject","dismissAllModals","removeWidget","presentInfoAlert","translate","buttonsArray","removedWidget","splice","saveDashboardPersonalization","layout","Promise","resolve","reject","presentLoading","widgetsArray","assignWidgetsOrder","params","isDashboardEmpty","then","presentFatalAlert","dismissLoading","map","index","setTimeout","chartResizeSubject","next","updateLayoutFromSession","resizeWidgetChart","removePlaceHolder","_","append","showHideWidgetsPanel","event","reportType","previousContainer","container","previousIndex","currentIndex","ngAfterViewInit","dragMoved","e","point","getPointerPositionOnPage","autoScroll","x","y","listGroup","_items","forEach","dropList","__isInsideDropListClientRect","source","dropContainer","activeContainer","dropListEntered","pointX","pointY","nativeElement","rect","getBoundingClientRect","scrollSpeed","clearInterval","autoScrollInterval","top","setInterval","scrollBy","bottom","left","right","sourceElement","dropElement","console","warn","phElement","element","sourceNativeElement","dropNativeElement","parentChildren","Array","from","parentElement","children","dragIndex","indexOf","dropIndex","sourceIndex","style","width","clientWidth","height","clientHeight","removeChild","targetIndex","display","insertBefore","nextSibling","_dropListRef","_dragRef","enter","offsetLeft","offsetTop","dropListDropped","parent","appendChild","resetState","__isTouchEvent","touches","changedTouches","scrollPosition","getViewportScrollPosition","pageX","pageY","read","selector","template","startsWith","OmniBasePage","isPageDisabled","injectionHandler","navigationServices","init","currentOperID","oper_ID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","set","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","includes","getScreenTranslations","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","get","status","disable","Object","keys","controls","key","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","value","page","didEnter","setCheckViewByOper","emitCheckViewByOper","baseFormGroup","getAllSessionFcVars","setFormGroupByOper","willLeave","ngAfterViewChecked","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation"],"mappings":"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","file":"66-es5.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IOptionsAlertButton, IOptionsPsActionIcon, IOptionsPsActionImage, IOptionsPsContainerPanel, IoptionsPsContainerWidgetCard, IOptionsPsLabel, IOptionsPsTemplateView } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from '../../commonSRC/psServices/ps-common/ps-common.service';\nimport { CdkDrag, CdkDragDrop, CdkDragMove, CdkDropList, CdkDropListGroup, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { IDashboardWidgets } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { ViewportRuler } from '@angular/cdk/overlay';\n@Component({\n  selector: 'dashboard-page',\n  templateUrl: 'dashboard.page.html',\n})\nexport class DashboardPage extends OmniBasePage implements OnInit {\n  formGroup: FormGroup = new FormGroup({});\n  @ViewChild(CdkDropListGroup) listGroup: CdkDropListGroup<CdkDropList>;\n  @ViewChild('placeholder', { static: false, read: CdkDropList }) placeholder!: CdkDropList;\n  @ViewChild('container') container!: ElementRef;\n  autoScrollInterval: any;\n  constructor(\n    public commonService: PsCommonService, public omniPull: OmniPullService,private logger:LoggerService,private viewportRuler: ViewportRuler) {\n    super();\n\n  }\n  public templateViewOptions: IOptionsPsTemplateView = {\n    group: this.formGroup,\n    disableLoading:true\n  };  \n  spinner = false;\n\n  unAddedUserWidgets:IoptionsPsContainerWidgetCard[] = []; // will contain the unadded available widgets within the dashboard\n  userWidgets:IoptionsPsContainerWidgetCard[] = []; // will contain the already added widgets within the dashboard\n  currentLayout: 'columns' | 'rows' | 'grid' = 'rows'\n  dropListOrientation:'horizontal' | 'vertical' = 'vertical'\n  cdkDropListConnectedTo = ['userWidgets']\n  cdkDragLockAxis: 'x' | 'y' = 'y'\n  source: CdkDropList;\n  activeContainer: CdkDropList<any>;\n  targetIndex: number;\n  sourceIndex: number;\n  isMobile: boolean;\n  showAvailableWidgets = false;\n\n  unusedWidgetsPanelOpts: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'choose_your_widget_key',\n    iconName: 'document',\n    collapseIconName:'close',\n    expanded: true\n  };\n  dropHereLabel:IOptionsPsLabel = {\n    labelKey:'drop_widget_here_key',\n  }\n  addWidgetIconOptions: IOptionsPsActionIcon = {\n    iconName: 'add',\n    labelOptions:{\n      labelKey:'Click_here_to_add_widgets_key'\n    },\n    allowCust: true\n  };\n  actionImageOptions: IOptionsPsActionImage = {\n    imageName: CommonUtils.getCssVariableValue('--ps-loader-image-name')\n  };\n  layoutIconOptions:IOptionsPsActionIcon[] = [{\n    iconName: 'rows-layout-icon',\n    allowCust: true,\n    handler:()=>{this.onLayoutChange('rows')}\n  },\n  {\n    iconName: 'columns-layout-icon',\n    allowCust: true,\n    handler:()=>{this.onLayoutChange('columns')}\n  },{\n    iconName: 'grid-layout-icon',\n    allowCust: true,\n    handler:()=>{this.onLayoutChange('grid')}\n  }]\n\n  dragWidgetIcon: IOptionsPsActionIcon = {\n    iconName: 'drag-icon',\n    allowCust: true  \n  };\n\n \n  ngOnInit() {\n    super.init();\n    this.isMobile = this.commonProv.isMobile();\n    let userInfo = this.commonProv.session.getValueOf(ConstantCommon.USERINFO);\n    if(!this.isMobile){\n     const dashboardLayout = userInfo?.omniUserVO && userInfo.omniUserVO.DASHBOARD_LAYOUT ? userInfo.omniUserVO.DASHBOARD_LAYOUT : this.currentLayout\n     if(dashboardLayout !== this.currentLayout){\n      this.changeCurrentLayout(dashboardLayout);\n     }\n    }\n    this.returnWidgetDetails()\n  }\n\n  async returnWidgetDetails(){\n    let fetchedWidgets = []\n    this.spinner = true;\n    const result = await this.omniPull.returnWidgetDetails().catch(error => {\n      this.spinner = false;\n      this.logger.error('Error: While fetching dashboard widgets in DashboardPage :', error);\n    });  \n    this.spinner = false \n    if (result && result.widgets && result.widgets.length > 0) {\n      fetchedWidgets = this.populateDashbordWidgets(result.widgets);\n    }\n    const { userWidgets, unusedWidgets } = this.categorizeWidgets(fetchedWidgets);\n    this.unAddedUserWidgets = unusedWidgets;\n    this.userWidgets = this.sortWidgetsByOrder(userWidgets);\n    if(this.currentLayout == 'grid'){\n      this.cdkDropListConnectedTo = this.generateCdkDropListConnectedTo();\n    }\n  }\n\n  populateDashbordWidgets(requestData:IDashboardWidgets[]){\n    let fetchedWidgets:IoptionsPsContainerWidgetCard[] = [];\n    for (const iterator of requestData) {\n      const widget:IoptionsPsContainerWidgetCard = {\n      widgetCode:iterator.widgetCode,\n      widgetId:iterator.widgetId,\n      widgetHeaderName:iterator.headerName,\n      widgetTitle:iterator.label,\n      widgetReportId:iterator.idReport,\n      widgetReportType:iterator.type,\n      linkedOperation:iterator.linkedOper,\n      widgetIconName:this.getWidgetIconName(iterator.type),\n      widgetOrder:iterator.widgetOrder,\n    }\n    fetchedWidgets.push(widget);\n    } \n    return fetchedWidgets   \n  }\n \n  categorizeWidgets(widgets: IoptionsPsContainerWidgetCard[]) {\n    return widgets.reduce(\n      (result, widget) => {\n        if (widget.widgetOrder !== undefined && widget.widgetOrder !== null) {\n          result.userWidgets.push(widget);\n        } else {\n          result.unusedWidgets.push(widget);\n        }\n        return result;\n      },\n      { userWidgets: [], unusedWidgets: [] }\n    );\n  }\n\n  sortWidgetsByOrder(userWidgets: IoptionsPsContainerWidgetCard[]): any[] {\n    return userWidgets.sort((a, b) => a.widgetOrder - b.widgetOrder); \n  }\n\n  removeWidgetConfirmationPopup(widgetCode: number) {\n    let buttonsObject: Array<IOptionsAlertButton> = [\n      {\n       type: 'reset',\n       group:this.formGroup,\n       labelKey: 'cancel_key',\n       handler: () => {\n         CommonUtils.dismissAllModals();\n       }\n      },\n      { \n       group:this.formGroup,\n       labelKey: 'ok_key',\n       type: 'submit',\n       handler: () => {\n         this.removeWidget(widgetCode);\n         CommonUtils.dismissAllModals();\n       }\n      }\n     ];\n    CommonUtils.presentInfoAlert(this.commonProv.translate('are_you_sure_?_key'), { buttonsArray: buttonsObject });\n  }\n  removeWidget(widgetCode: number){\n   if(widgetCode){\n    let removedWidget = {}\n    const widgetIndex = this.userWidgets.findIndex(widget => widget.widgetCode === widgetCode);\n    if (widgetIndex !== -1) {\n     removedWidget = this.userWidgets.splice(widgetIndex, 1);\n    } \n    this.unAddedUserWidgets.push(removedWidget[0]);\n    this.saveDashboardPersonalization();\n   }\n  }\n async saveDashboardPersonalization(layout?: string){\n    return new Promise<any>((resolve, reject) => { \n    this.commonProv.presentLoading();\n    const widgetsArray = this.assignWidgetsOrder(this.userWidgets); \n    let params = {\n      widgetsArray,\n      ...(widgetsArray.length === 0 && !layout && { isDashboardEmpty: 'Y' }),\n      ...(layout && { dashboardLayout: layout, widgetsArray:[] }),\n    };\n    this.omniPull.saveDashboardPersonalization(params).then((result)=>{\n     resolve(true)\n  }).catch(error => {\n     CommonUtils.presentFatalAlert(this.commonProv.translate('dashboard_saving_personalization_error'))\n     this.logger.error('Error: While saving dashboard widgets personalization:', error);\n     reject(false)\n   }).finally(()=>{\n     this.commonProv.dismissLoading();\n   })\n  })\n  }\n\n  assignWidgetsOrder(widgets: any[]): { widgetCode: number; widgetId: number; widgetOrder: number }[] {\n    return widgets.map((widget, index) => ({\n      widgetCode: widget.widgetCode,\n      widgetId: widget.widgetId,\n      widgetOrder: index,\n    }));\n  }\n\n  onLayoutChange(layout: string){\n    this.changeCurrentLayout(layout);\n    setTimeout(() => {\n      this.commonProv.chartResizeSubject.next(true)\n    }, 0);\n    this.saveDashboardPersonalization(layout).then((result)=>{\n     if(result){\n      this.updateLayoutFromSession(layout);\n     }\n    })\n  }\n\n  resizeWidgetChart(){\n    setTimeout(() => {\n      this.commonProv.chartResizeSubject.next(true)\n    }, 0);\n  }\n  changeCurrentLayout(layout:string){\n    switch(layout){\n      case 'columns':\n        this.cdkDragLockAxis = 'x';\n        this.dropListOrientation ='horizontal';\n        this.currentLayout = 'columns'  ;\n        this.cdkDropListConnectedTo = ['userWidgets']\n        break;\n      case 'rows':\n        this.cdkDragLockAxis = 'y';\n        this.dropListOrientation ='vertical';\n        this.currentLayout = 'rows';\n        this.cdkDropListConnectedTo = ['userWidgets']\n        break;\n      case 'grid':\n        this.currentLayout = 'grid';\n        setTimeout(() => {\n          this.removePlaceHolder();     \n        }, 0);\n        this.cdkDropListConnectedTo = this.generateCdkDropListConnectedTo();\n        break;\n      default:\n        break;\n    }\n  }\n  \n  generateCdkDropListConnectedTo(): string[] {\n    return this.userWidgets.length > 0 \n      ? this.userWidgets.map((_, index) => `userWidgets-${index}`) \n      : ['userWidgets-0'];\n  }\n\n  updateLayoutFromSession(layout: string): void {\n    const userInfo = this.commonProv.session.getValueOf(ConstantCommon.USERINFO);\n    if (userInfo?.omniUserVO) {\n      userInfo.omniUserVO.DASHBOARD_LAYOUT = layout;\n      this.commonProv.session.append(ConstantCommon.USERINFO, userInfo);\n    }\n  }\n \n  showHideWidgetsPanel(event){\n    this.showAvailableWidgets = event;\n    if(event){\n      this.unusedWidgetsPanelOpts.expanded = true\n    }\n  }\n  \n  getWidgetIconName(reportType: string): string{\n    switch(reportType){\n      case 'DR':\n        return 'bookmark';\n      case 'PA':\n        return 'document';\n      case 'P':\n        return 'document';\n      case 'PC':\n        return 'pie-chart';\n      case 'DC':\n        return 'doughnut-chart';\n      case 'LC':\n        return 'line-chart';\n      case 'BC':\n        return 'bar-chart';\n      case 'AC':\n        return 'area-chart';\n      case 'L':\n        return 'list';        \n      default:\n        return '';\n    }\n  }\n  drop(event: CdkDragDrop<IoptionsPsContainerWidgetCard[]>) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(this.userWidgets, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n    }\n    this.resizeWidgetChart()\n    this.saveDashboardPersonalization();\n  }  \n \n  ngAfterViewInit() {\n   if(this.currentLayout === 'grid'){\n     this.removePlaceHolder();\n   }\n  }\n\n  dropListEnterPredicate = (drag: CdkDrag, drop: CdkDropList) => {\n    if (drop == this.placeholder) return true;\n    if(drag.data){\n     const widgetIndex = this.unAddedUserWidgets.findIndex(widget => widget.widgetCode === drag.data.widgetCode);\n     return widgetIndex != -1 ? true : false\n    }\n  }\n  \n  dragMoved(e: CdkDragMove) {\n    let point = this.getPointerPositionOnPage(e.event);\n    this.autoScroll(point.x,point.y)\n    this.listGroup._items.forEach((dropList) => {\n    if (__isInsideDropListClientRect(dropList, point.x, point.y) && e.source.dropContainer != dropList) {\n     if(this.activeContainer != dropList){\n      this.dropListEntered(e.source,dropList)\n     }\n     return;\n    }\n    });\n  }\n\n  autoScroll(pointX,pointY){\n    const container = this.container.nativeElement;\n    const rect = container.getBoundingClientRect();\n    const scrollSpeed = 10;\n\n    clearInterval(this.autoScrollInterval);\n\n    if (pointY < rect.top + 20) {\n      this.autoScrollInterval = setInterval(() => {\n        container.scrollBy(0, -scrollSpeed);\n      }, 16);\n    } else if (pointY > rect.bottom - 20) {\n      this.autoScrollInterval = setInterval(() => {\n        container.scrollBy(0, scrollSpeed);\n      }, 16);\n    }\n    else if (pointX < rect.left + 20) {\n      this.autoScrollInterval = setInterval(() => {\n        container.scrollBy(-scrollSpeed, 0);\n      }, 16);\n    } else if (pointX > rect.right - 20) {\n      this.autoScrollInterval = setInterval(() => {\n        container.scrollBy(scrollSpeed, 0);\n      }, 16);\n    }\n  }\n  dropListEntered(drag: CdkDrag, dropList: CdkDropList) {\n    const sourceElement: CdkDropList = drag.dropContainer;\n    const dropElement: CdkDropList = dropList;  \n    this.activeContainer = dropList\n\n    if (!sourceElement || !dropElement) {\n      console.warn('Source or Drop element is not defined.');\n      return;\n    }\n    if (dropElement === this.placeholder) {\n      return; // Exit if the placeholder is the drop container\n    }\n    const phElement = this.placeholder?.element?.nativeElement;\n    const sourceNativeElement = sourceElement.element.nativeElement;\n    const dropNativeElement = dropElement.element.nativeElement;\n  \n    if (!phElement || !sourceNativeElement || !dropNativeElement) {\n      console.warn('One of the required elements (placeholder, source, or drop) is missing.');\n      return;\n    }\n  \n    const parentChildren = Array.from(dropNativeElement.parentElement?.children || []);\n    const dragIndex = parentChildren.indexOf(this.source ? phElement :sourceNativeElement);\n    const dropIndex = parentChildren.indexOf(dropNativeElement);\n  \n    if (!this.source) {\n      // Initialize the source element and set placeholder dimensions\n      this.sourceIndex = dragIndex;\n      this.source = sourceElement;\n  \n      phElement.style.width = `${sourceNativeElement.clientWidth}px`;\n      phElement.style.height = `${sourceNativeElement.clientHeight}px`;\n  \n      // Safely remove the source element\n      sourceNativeElement.parentElement?.removeChild(sourceNativeElement);\n    }\n  \n    // Update target index for drop\n    this.targetIndex = dropIndex !== -1 ? dropIndex : null;\n    phElement.style.display = ''\n    // Insert placeholder into the correct position\n    dropNativeElement.parentElement?.insertBefore(\n      phElement,\n      dropIndex > dragIndex ? dropNativeElement.nextSibling : dropNativeElement\n    ); \n    // Allow placeholder to accept drag reference\n    if (this.placeholder._dropListRef && drag._dragRef) {\n      this.placeholder._dropListRef.enter(\n        drag._dragRef,\n        sourceNativeElement.offsetLeft,\n        sourceNativeElement.offsetTop\n      );\n    } else {\n      console.warn('Placeholder DropListRef or DragRef is not initialized.');\n    }\n  }\n \n  dropListDropped(event: CdkDragDrop<number[]>) {\n   if(this.activeContainer){\n    let phElement = this.placeholder.element.nativeElement;\n    let parent = phElement.parentElement;\n    phElement.style.display = 'none';\n    parent.removeChild(phElement);\n    parent.appendChild(phElement);\n    parent.insertBefore(this.source.element.nativeElement,parent.children[this.sourceIndex]);\n   }\n   if (this.sourceIndex !== null && this.targetIndex !== null && this.sourceIndex !== this.targetIndex) {\n      moveItemInArray(this.userWidgets, this.sourceIndex, this.targetIndex);\n   }\n   else if (event.previousContainer !== event.container) {\n    const parentChildren = Array.from(event.container.element.nativeElement.parentElement?.children || []);\n    const dropIndex = parentChildren.indexOf(event.container.element.nativeElement);\n    transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, dropIndex);\n    this.cdkDropListConnectedTo = this.generateCdkDropListConnectedTo()\n   }\n   this.resizeWidgetChart();\n   this.resetState();\n  this.saveDashboardPersonalization();\n  }\n\n  private resetState() {\n    this.sourceIndex = null;\n    this.targetIndex = null;\n    this.source = null;\n    this.activeContainer = null;\n    clearInterval(this.autoScrollInterval);\n  }\n   \n  removePlaceHolder(){\n    let phElement = this.placeholder.element.nativeElement;\n    phElement.style.display = 'none';\n    phElement.parentElement.removeChild(phElement);\n  }\n\n  getPointerPositionOnPage(event: MouseEvent | TouchEvent) {\n    const point = __isTouchEvent(event)? event.touches[0] || event.changedTouches[0] : event;\n    const scrollPosition = this.viewportRuler.getViewportScrollPosition();\n\n    return {\n      x: point.pageX - scrollPosition.left,\n      y: point.pageY - scrollPosition.top,\n    };\n  }\n}\n\n\nfunction __isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\n  return event.type.startsWith('touch');\n}\n\nfunction __isInsideDropListClientRect(dropList: CdkDropList, x: number, y: number) {\n  const { top, bottom, left, right } =\n    dropList.element.nativeElement.getBoundingClientRect();\n  return y >= top && y <= bottom && x >= left && x <= right;\n}\n\n\n","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","export default \"\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";","export default \"<ps-template-view [options]=\\\"templateViewOptions\\\" id=\\\"main1\\\">\\n\\t<ps-action-image class=\\\"inline-loading-image\\\" *ngIf=\\\"spinner\\\" [options]=\\\"actionImageOptions\\\">\\n\\t</ps-action-image>\\n\\t<div class=\\\"dashboard-action-buttons\\\">\\n\\t\\t<ps-action-icon [options]=\\\"addWidgetIconOptions\\\" (onClick)=\\\"showHideWidgetsPanel('true')\\\"\\n\\t\\t\\t*ngIf=\\\"!showAvailableWidgets && unAddedUserWidgets.length\\\" class=\\\"material-icons add-widegt-btn\\\">\\n\\t\\t</ps-action-icon>\\n\\t\\t<div *ngIf='!isMobile' class=\\\"dashboard-layout-container\\\">\\n\\t\\t\\t<ps-label class=\\\"choose_web_layout_label\\\" [options]=\\\"{labelKey:'choose_web_layout_key'}\\\"></ps-label>\\n\\t\\t\\t<div class=\\\"dashboard-layout-buttons\\\">\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let layoutIcon of layoutIconOptions; let i = index\\\">\\n\\t\\t\\t\\t\\t<ps-action-icon [options]=\\\"layoutIcon\\\" (onClick)=\\\"layoutIcon.handler()\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"material-icons dashboard-layout-icon\\\"\\n\\t\\t\\t\\t\\t\\t[class]=\\\"layoutIcon.iconName + '-btn'\\\"></ps-action-icon>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"dashboard-unused-widgets-container\\\" *ngIf=\\\"showAvailableWidgets && unAddedUserWidgets.length\\\">\\n\\t\\t<ps-container-panel id=\\\"available-widgets-panel\\\" [options]=\\\"unusedWidgetsPanelOpts\\\"\\n\\t\\t\\t(panelToggleEvent)=\\\"showHideWidgetsPanel($event)\\\">\\n\\t\\t\\t<ng-container *ngIf=\\\"unAddedUserWidgets?.length > 0\\\">\\n\\t\\t\\t\\t<div class=\\\"dashboard-available-widgets-container\\\" cdkDropList\\n\\t\\t\\t\\t\\t[cdkDropListConnectedTo]=\\\"cdkDropListConnectedTo\\\" [cdkDropListData]=\\\"unAddedUserWidgets\\\">\\n\\t\\t\\t\\t\\t<ng-container *ngFor=\\\"let widget of unAddedUserWidgets; let i = index\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"widget-item-wrapper\\\" cdkDrag [cdkDragData]=\\\"widget\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-item class=\\\"ps-pointer widget-item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"widget-item-actions_wrapper\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div cdkDragHandle class=\\\"widget-item-label-wrapper\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ps-action-icon [id]=\\\"'dashboard-widget-' + i\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[options]=\\\"{iconName: widget.widgetIconName}\\\" class=\\\"material-icons\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ps-action-icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ps-label class=\\\"widget-item-label-desc\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t[options]=\\\"{labelKey:widget.widgetHeaderName}\\\"></ps-label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ng-container>\\n\\t\\t</ps-container-panel>\\n\\t</div>\\n\\n\\t<div *ngIf=\\\"currentLayout != 'grid'\\\" id='userWidgets' class=\\\"dashboard-user-widgets-container\\\" [ngClass]=\\\"{\\n   'user-widgets-column-layout': currentLayout === 'columns',\\n   'user-widgets-row-layout': currentLayout === 'rows'}\\\" cdkDropList (cdkDropListDropped)=\\\"drop($event)\\\"\\n\\t\\t[cdkDropListData]=\\\"userWidgets\\\" [cdkDropListOrientation]=\\\"dropListOrientation\\\">\\n\\t\\t<ng-container *ngFor=\\\"let itemOption of userWidgets\\\">\\n\\t\\t\\t<div cdkDrag [cdkDragLockAxis]=\\\"cdkDragLockAxis\\\" class=\\\"widget-container-box\\\"\\n\\t\\t\\t\\t[class]=\\\"currentLayout + '-widget-card-container'\\\"\\n\\t\\t\\t\\t[ngClass]=\\\"'widget-card-type-' + itemOption?.widgetReportType\\\">\\n\\t\\t\\t\\t<ps-container-widget-card [options]=\\\"itemOption\\\"\\n\\t\\t\\t\\t\\t(onRemoveWidget)=\\\"removeWidgetConfirmationPopup($event)\\\">\\n\\t\\t\\t\\t\\t<ps-action-icon dragIcon cdkDragHandle [id]=\\\"'drag-widget-handle-icon'\\\" [options]=\\\"dragWidgetIcon\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"material-icons drag-widget-handle-btn\\\">\\n\\t\\t\\t\\t\\t</ps-action-icon>\\n\\t\\t\\t\\t</ps-container-widget-card>\\n\\t\\t\\t</div>\\n\\t\\t</ng-container>\\n\\t\\t<ps-label *ngIf=\\\"userWidgets.length == 0\\\" [options]=\\\"dropHereLabel\\\" class=\\\"empty-widgets-label\\\"></ps-label>\\n\\t</div>\\n\\t<div cdkDropListGroup #container *ngIf=\\\"currentLayout === 'grid'\\\" class=\\\"user-widgets-grid-layout\\\"\\n\\t\\t[ngClass]=\\\"{'empty-user-widgets-list': !userWidgets.length}\\\">\\n\\t\\t<div #placeholder cdkDropList [cdkDropListData]=\\\"userWidgets\\\"\\n\\t\\t\\t[cdkDropListEnterPredicate]=\\\"dropListEnterPredicate\\\" (cdkDropListDropped)=\\\"dropListDropped($event)\\\"></div>\\n\\t\\t<div cdkDropList [cdkDropListEnterPredicate]=\\\"dropListEnterPredicate\\\"\\n\\t\\t\\t(cdkDropListDropped)=\\\"dropListDropped($event)\\\" class=\\\"drop-list-widget\\\"\\n\\t\\t\\t*ngFor=\\\"let itemOption of userWidgets; index as i\\\" [cdkDropListData]=\\\"userWidgets\\\"\\n\\t\\t\\t[id]=\\\"'userWidgets-' + i\\\">\\n\\t\\t\\t<div cdkDrag (cdkDragMoved)=\\\"dragMoved($event);\\\" class=\\\"widget-container-box\\\"\\n\\t\\t\\t\\t[class]=\\\"currentLayout + '-widget-card-container'\\\"\\n\\t\\t\\t\\t[ngClass]=\\\"'widget-card-type-' + itemOption?.widgetReportType\\\">\\n\\t\\t\\t\\t<ps-container-widget-card [id]=\\\"'ps-widget-container-lookup_' + i\\\" [options]=\\\"itemOption\\\"\\n\\t\\t\\t\\t\\t(onRemoveWidget)=\\\"removeWidgetConfirmationPopup($event)\\\">\\n\\t\\t\\t\\t\\t<ps-action-icon dragIcon cdkDragHandle [id]=\\\"'drag-widget-handle-icon'\\\" [options]=\\\"dragWidgetIcon\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"material-icons drag-widget-handle-btn\\\"></ps-action-icon>\\n\\t\\t\\t\\t</ps-container-widget-card>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div id=\\\"userWidgets-0\\\" *ngIf=\\\"userWidgets.length == 0\\\" class=\\\"grid-placeholder-droplist\\\"\\n\\t\\t\\t[cdkDropListData]=\\\"userWidgets\\\" cdkDropList (cdkDropListDropped)=\\\"dropListDropped($event)\\\">\\n\\t\\t\\t<ps-label [options]=\\\"dropHereLabel\\\" class=\\\"empty-widgets-label\\\"></ps-label>\\n\\t\\t</div>\\n\\t</div>\\n</ps-template-view>\";"]}