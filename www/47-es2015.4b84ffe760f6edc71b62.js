(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{BcCD:function(e,t,o){"use strict";o.d(t,"a",function(){return h});var n=o("zngb"),i=o("JpVU"),s=o("DFXC"),a=o("qEF5"),p=o("Q0Ba"),c=o("ZyuK"),r=o("r40+"),u=o("fXoL");let h=(()=>{class e extends i.a{constructor(e,t,o){super(e,t,o),this.commonProv=e,this.dateOptions={},this.omniPull=a.a.injectionHandler(c.a)}ngOnInit(){this.commonProv.copyObject(this.dateOptions,this.options,!1);const e=this.omniPull.omniCommon.session.getValueOf(n.a.preLoginResponse).parameters;this.dateOptions.displayFormat=e.DefaultDateFormat?e.DefaultDateFormat.parameterVal:"DD/MM/YYYY",this.dateOptions.pickerFormat=this.dateOptions.displayFormat}ngOnChanges(){this.options&&this.options.min&&(this.dateOptions.min=this.options.min),this.options&&this.options.max&&(this.dateOptions.max=this.options.max)}dateChanged(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(p.a),u.Rb(s.a),u.Rb(r.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["ps-date-day-month-year"]],inputs:{options:"options"},features:[u.Cb,u.Db],decls:1,vars:2,consts:[[1,"ps-day-month-year",3,"options","id","onPsChange","onPsInit"]],template:function(e,t){1&e&&(u.Xb(0,"ps-keyin-date",0),u.fc("onPsChange",function(e){return t.dateChanged(e)})("onPsInit",function(e){return t.onInit(e)}),u.Wb()),2&e&&u.pc("options",t.dateOptions)("id",t.id)},directives:[i.a],styles:[""]}),e})()},Eued:function(e,t,o){"use strict";o.r(t),o.d(t,"ChequeConfirmationPage",function(){return _});var n=o("3Pt+"),i=o("a/9d"),s=o("DFXC"),a=o("zngb"),p=o("QZhd"),c=o("Q0Ba"),r=o("gKqT"),u=o("fXoL"),h=o("kRg/"),l=o("uKCV"),m=o("sAFK"),b=o("+f2X"),d=o("HKxJ"),f=o("UTjL"),O=o("WAnK"),g=o("/QlS"),y=o("G/Qj"),k=o("ngfJ"),C=o("b23T");function q(e,t){if(1&e){const e=u.Yb();u.Xb(0,"ps-form-step",2),u.Xb(1,"ps-container-panel",3),u.Xb(2,"ps-lookup-chequebooks",4),u.fc("onChequeBookChange",function(t){return u.Fc(e),u.ic().onChequeChanged(t)}),u.Wb(),u.Sb(3,"ps-input-account-number",5),u.Sb(4,"ps-input-numeric",6),u.Sb(5,"ps-input-account-number",5),u.Sb(6,"ps-input-varchar",7),u.Sb(7,"ps-complex-amount",8),u.Sb(8,"ps-date-day-month-year-past",9),u.Wb(),u.Xb(9,"ps-container-panel",10),u.Sb(10,"ps-file-upload-bs",11),u.Sb(11,"ps-file-upload-bs",11),u.Sb(12,"ps-input-varchar",5),u.Wb(),u.Wb()}if(2&e){const e=u.ic();u.pc("id",e.stepperOptions.namesofSteps[0]),u.Fb(1),u.pc("options",e.chequeConfirmationDetailsPanelOptions),u.Fb(1),u.pc("options",e.chequeBookLookupOptions),u.Fb(1),u.pc("options",e.accountNumberOptions),u.Fb(1),u.pc("options",e.chequesNumberOptions),u.Fb(1),u.pc("options",e.securityNumberOptions),u.Fb(1),u.pc("options",e.beneficiaryNameOptions),u.Fb(1),u.pc("options",e.chequeAmountOptions),u.Fb(1),u.pc("options",e.chequeDateOptions),u.Fb(1),u.pc("options",e.attachmentPanelOptions),u.Fb(1),u.pc("options",e.versoImageUploadOptions),u.Fb(1),u.pc("options",e.rectoImageUploadOptions),u.Fb(1),u.pc("options",e.commentOptions)}}let _=(()=>{class e extends r.OmniBasePage{constructor(e,t,o){super(),this.commonService=e,this.logger=t,this.camera=o,this.formGroup=new n.f({}),this.chequeConfirmationVO={},this.stepperOptions={stepperName:"cheque_confirmation_stepper",isHorizontalStepper:!0,numberOfSteps:1,namesofSteps:["cheque_confirmation_step1"],group:this.formGroup,submitOptions:{group:this.formGroup,submitServiceUrl:p.a.serviceUrl.commonSubmitAction},requestObject:this.chequeConfirmationVO},this.chequeConfirmationDetailsPanelOptions={isExpandable:!0,labelKey:"cheque_confirmation_details_key",expanded:!0},this.attachmentPanelOptions={isExpandable:!0,labelKey:"attachment_key",iconName:"",expanded:!1},this.chequeBookLookupOptions={labelKey:"chequebook_key",placeHolder:"select_chequebook_key",group:this.formGroup,fcName:"chequebook",requestObject:this.chequeConfirmationVO},this.accountNumberOptions={fcName:"accountNumber",labelKey:"account_number_key",placeHolder:"enter_account_number_key",group:this.formGroup},this.chequesNumberOptions={fcName:"chequeNumber",group:this.formGroup,labelKey:"cheque_number_key",placeHolder:"enter_cheque_number_key"},this.securityNumberOptions={fcName:"securityNumber",labelKey:"security_number_key",placeHolder:"enter_security_number_key",group:this.formGroup},this.chequeAmountOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",group:this.formGroup,fcName:"chequeCurrency"},amountOptions:{labelKey:"amount_key",placeHolder:"enter_amount_key",fcName:"amount",group:this.formGroup,decimalPoints:3},showLimitLabel:!1},this.chequeDateOptions={labelKey:"cheque_date_key",placeHolder:"cheque_date_key",fcName:"chequeDate",group:this.formGroup},this.beneficiaryNameOptions={labelKey:"beneficiary_key",placeHolder:"enter_beneficiary_name_key",group:this.formGroup,fcName:"beneficiary"},this.versoImageUploadOptions={multiple:!1,labelKey:"cheque_verso_image_key",fcName:"selectedFileData_veroImg",group:this.formGroup,hasOpenCameraBtn:!0,takePhotoLabelKey:"cheque_verso_image_key",maxImgWidth:18,maxImgHeight:8.5},this.rectoImageUploadOptions={multiple:!1,labelKey:"cheque_recto_image_key",fcName:"selectedFileData_rectImg",group:this.formGroup,hasOpenCameraBtn:!0,takePhotoLabelKey:"cheque_recto_image_key",maxImgWidth:18,maxImgHeight:8.5},this.commentOptions={group:this.formGroup,fcName:"comment",labelKey:"file_comment_key",placeHolder:"enter_file_comment_key"}}ngOnInit(){super.init(),this.cifInfo=this.commonProv.session.getValueOf(a.a.USERINFO)}ionViewDidEnter(){super.ionViewDidEnter(),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_READONLY,[this.accountNumberOptions.fcName],1),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_READONLY,[this.chequeAmountOptions.currenciesOptions.fcName],1),this.commonProv.applyDynScreenDisplay(a.a.ACTION_TYPE_MANDATORY,[this.commentOptions.fcName],0)}onChequeChanged(e){this.commonProv.setValInsideNestedObj(this.accountNumberOptions.fcName,e.additionalRef,this.chequeConfirmationVO),this.commonProv.setValInsideNestedObj(this.chequeAmountOptions.currenciesOptions.fcName,e.currency,this.chequeConfirmationVO)}}return e.\u0275fac=function(t){return new(t||e)(u.Rb(c.a),u.Rb(s.a),u.Rb(i.a))},e.\u0275cmp=u.Lb({type:e,selectors:[["cheque-confirmation"]],features:[u.Cb],decls:2,vars:3,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],["id","cheque_confirmation_details_panel",3,"options"],[3,"options","onChequeBookChange"],[3,"options"],["id","ChequesNumber",3,"options"],["id","beneficiaryName",3,"options"],["id","charges",3,"options"],["id","chequeDate",3,"options"],["id","attachment_panel",3,"options"],["id","ps-complex-file-upload",3,"options"]],template:function(e,t){1&e&&(u.Xb(0,"ps-template-stepper",0),u.Pc(1,q,13,13,"ps-form-step",1),u.Wb()),2&e&&(u.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),u.Fb(1),u.pc("psStep","step1"))},directives:[h.a,l.a,m.a,b.a,d.a,f.a,O.a,g.a,y.a,k.a,C.a],styles:[""]}),e})()},Ft9U:function(e,t,o){"use strict";o.d(t,"a",function(){return h});var n=o("fXoL"),i=o("ZF3V"),s=o("Q0Ba"),a=o("V0Fi"),p=o("ofXK"),c=o("BygU");function r(e,t){if(1&e){const e=n.Yb();n.Xb(0,"ps-container-lookup-option",2),n.fc("clickedCard",function(t){return n.Fc(e),n.ic(2).updateCard(t)}),n.Wb()}if(2&e){const e=t.$implicit,o=n.ic(2);n.pc("id","ps-container-lookup-option_"+o.id)("options",o.containerLookUpOptions)("itemCard",e)}}function u(e,t){if(1&e&&(n.Xb(0,"div"),n.Pc(1,r,1,3,"ps-container-lookup-option",1),n.Wb()),2&e){const e=n.ic();n.Fb(1),n.pc("ngForOf",e.options.itemList)}}let h=(()=>{class e extends i.a{constructor(e,t){super(e,e.logger),this.cdRef=t,this.containerLookUpOptions={},this.termsLabelValuesMap=new Map,this.termsHeaderMap=new Map,this.showSingleAccount=!1,this.onClickCard=new n.o,this.populateHeaderValueMap()}ngOnInit(){super.init(),null==this.options.showOnlyList&&(this.options.showOnlyList=!1),this.containerLookUpOptions.currencyFlag="currencyDesc",this.containerLookUpOptions.labelsValueMap=this.termsLabelValuesMap,this.containerLookUpOptions.headerMap=this.termsHeaderMap,this.containerLookUpOptions.formGroup=this.options.group,this.containerLookUpOptions.balanceMapping=this.balanceMapping(),this.containerLookUpOptions.isEditable=this.options.isEditable,this.containerLookUpOptions.pageData={operID:a.a.CHEQUEBOOK_REPORT_OPER,title:"chequebook_report_key"},this.options&&this.options.listOfOptions&&(this.options.listOfOptions.map((e,t)=>e.rowIndex=t),this.options.itemList=this.options.listOfOptions),this.containerLookUpOptions.statementOptions={buttonIcon:"list-box",redirectUrl:"chequebook-statement-report"},this.options&&null==this.options.itemList?(this.options.itemList=this.options.listOfOptions,this.showSingleAccount=!1):(this.options&&this.options.itemList&&1===this.options.itemList.length&&!1===this.showSingleAccount||this.options&&void 0===this.options.showItemPopUp)&&(this.options.itemList=this.options.listOfOptions),this.containerLookUpOptions.itemList=this.options.itemList,this.containerLookUpOptions.formGroup=this.options.group}updateCard(e){e&&this.options.listOfOptions&&(this.options.itemList=this.options.listOfOptions.filter(t=>t===e),this.options.item=this.options.itemList[0],this.showSingleAccount=!this.showSingleAccount,this.options.showItemPopUp=!this.options.showItemPopUp),this.onClickCard.emit(this.options)}populateHeaderValueMap(){let e={},t={},o={},n={},i={},s={};e={key:"formattedAccount",value:""},t={key:"chequebookCode",value:"1"},o={key:"fromNumber",value:"0"},n={key:"toNumber",value:"10"},i={key:"title",value:"chequeTypeName",isEdit:!1,formGroupMap:{placeHolder:"cheque_type_name_key",fcName:"chequeTypeName"}},s={key:"subTitle",value:"formattedAccount",isEdit:!1},this.termsLabelValuesMap.set("chequebook_no_key",t),this.termsLabelValuesMap.set("from_key",o),this.termsLabelValuesMap.set("to_key",n),this.termsHeaderMap.set("title",i),this.termsHeaderMap.set("subTitle",s)}balanceMapping(){return[]}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(s.a),n.Rb(n.i))},e.\u0275cmp=n.Lb({type:e,selectors:[["ps-option-chequebook"]],inputs:{options:"options"},outputs:{onClickCard:"onClickCard"},features:[n.Cb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"id","options","itemCard","clickedCard",4,"ngFor","ngForOf"],[3,"id","options","itemCard","clickedCard"]],template:function(e,t){1&e&&n.Pc(0,u,2,1,"div",0),2&e&&n.pc("ngIf",(null==t.options||null==t.options.itemList?null:t.options.itemList.length)>0)},directives:[p.o,p.n,c.a],styles:[""]}),e})()},HKxJ:function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n=o("mrSG"),i=o("fXoL"),s=o("3Pt+"),a=o("ZyuK"),p=o("ZF3V"),c=o("DFXC"),r=o("woXy"),u=o("Q0Ba"),h=o("Ft9U"),l=o("Isd1"),m=o("L0og");let b=(()=>{class e extends p.a{constructor(e,t,o,n){super(e,t),this.commonService=e,this.omniPull=o,this.navService=n,this.formGroup=new s.f({}),this.options={requestObject:null},this.complexLookupOptions={requestObject:null,notFoundMessage:"no_chequebook_found_key"},this.onChequeBookChange=new i.o,this.labelValuesMap=new Map,this.chequebooksListRequest={},this.chequebookOptions=[],this.showList=!1}ngOnInit(){this.loadChequeBooks(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:h.a}loadChequeBooks(){this.chequebooksListRequest={},this.returnChequeBookList(this.chequebooksListRequest)}returnChequeBookList(e){return Object(n.b)(this,void 0,void 0,function*(){const t=yield this.omniPull.returnChequebooksList(e).catch(e=>{this.complexLookupOptions.listOfOptions=[],this.logger.error("Error: While chequebook list in PsLookupChequebooksComponent :",e)});this.complexLookupOptions.listOfOptions=t&&t.gridModel.length>0?this.populateChequebooks(t.gridModel):[]})}populateChequebooks(e){const t=[];for(const o of e)t.push({fromNumber:o.fromNumber,printingLocation:o.printingLocation,chequebookCode:o.chequebookCode,chequebookStatus:o.chequebookStatus,toNumber:o.toNumber,cif:o.cif,additionalRef:o.additionalRef,accGl:o.accGl,currency:o.currency,branch:o.branch,serialNo:o.serialNo,chequeCode:o.chequeCode,lookupKey:o.chequebookCode,chequebookStatusDesc:o.chequebookStatusDesc,previewProperty:"chequeCode",status:o.chequebookStatus,statusCode:o.chequebookStatusCode});return t}onChangeItem(e){this.logger.log("cheq #####",e),this.onChequeBookChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(u.a),i.Rb(c.a),i.Rb(a.a),i.Rb(r.a))},e.\u0275cmp=i.Lb({type:e,selectors:[["ps-lookup-chequebooks"]],inputs:{options:"options"},outputs:{onChequeBookChange:"onChequeBookChange"},features:[i.Cb],decls:2,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"]],template:function(e,t){1&e&&(i.Xb(0,"ps-container-complex",0),i.Xb(1,"ps-complex-lookup",1),i.fc("changeItem",function(e){return t.onChangeItem(e)}),i.Wb(),i.Wb()),2&e&&(i.Fb(1),i.pc("id",t.id)("options",t.complexLookupOptions))},directives:[l.a,m.a],styles:[""]}),e})()},UTjL:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n=o("fXoL"),i=o("ZyuK"),s=o("BYmO"),a=o("DFXC"),p=o("qEF5"),c=o("Q0Ba"),r=o("woXy"),u=o("zngb"),h=o("ofXK"),l=o("ilDp");const m=function(e){return{disableContent:e}};function b(e,t){if(1&e){const e=n.Yb();n.Xb(0,"ps-action-icon",3),n.fc("onClick",function(){return n.Fc(e),n.ic().getScannedData(!0)}),n.Wb()}if(2&e){const e=n.ic();n.pc("id","QrScannerIcon")("ngClass",n.sc(3,m,e.isInReadOnlyScreen))("options",e.actionOption)}}const d=function(e){return{colAcc:e}};let f=(()=>{class e extends s.a{constructor(e,t,o,i){super(e,t),this.omniPull=o,this.nav=i,this.getScannedQr=new n.o,this.actionOption={},this.custMode&&(this.options.showScannerIcon=!0)}ngOnInit(){var e;let t=this.common.returnOperCustomization();this.isInReadOnlyScreen=1==(null===(e=t.get(u.a.FORM_READONLY))||void 0===e?void 0:e.IS_READONLY),p.a.isNotNull(this.options)&&(this.options.hideValueOnError=!0),this.actionOption={iconName:"qr_code_scanner",allowCust:!0,group:this.options.group}}onChangeEvent(e){this.onPsChange.emit(e)}getScannedData(e){this.custMode||(0==this.options.forceTriggerChange&&(this.options.forceTriggerChange=!0),this.commonProv.scanQRCode().then(t=>{var o,n;if(t){t=JSON.parse(t),this.commonProv.setValInsideNestedObj(this.options.fcName,null===(o=t.AccountRef)||void 0===o?void 0:o.split("-")[1],this.options.requestObject?this.options.requestObject:{});const i=Object.assign(Object.assign({},t),{accountNumber:null===(n=t.AccountRef)||void 0===n?void 0:n.split("-")[1]});this.getScannedQr.emit([i,e])}}).catch(e=>{this.logger.error("something went wrong",e),this.nav.navigateBackward()}))}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(c.a),n.Rb(a.a),n.Rb(i.a),n.Rb(r.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["ps-input-account-number"]],inputs:{options:"options"},outputs:{getScannedQr:"getScannedQr"},features:[n.Cb],decls:3,vars:6,consts:[[3,"ngClass"],[3,"id","options","onPsChange","onPsEmpty"],["class","scanQrIcon",3,"id","ngClass","options","onClick",4,"ngIf"],[1,"scanQrIcon",3,"id","ngClass","options","onClick"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"ps-keyin-input",1),n.fc("onPsChange",function(e){return t.onChangeEvent(e)})("onPsEmpty",function(e){return t.onEmpty(e)}),n.Wb(),n.Pc(2,b,1,5,"ps-action-icon",2),n.Wb()),2&e&&(n.pc("ngClass",n.sc(4,d,t.options.showScannerIcon||t.custMode)),n.Fb(1),n.pc("id",t.id)("options",t.options),n.Fb(1),n.pc("ngIf",t.options.showScannerIcon||t.custMode))},directives:[h.m,s.a,h.o,l.a],styles:[""]}),e})()},ngfJ:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("DFXC"),i=o("Q0Ba"),s=o("BcCD"),a=o("r40+"),p=o("fXoL");let c=(()=>{class e extends s.a{constructor(e,t,o){super(e,t,o),this.commonProv=e,this.dateDayMonthYearOptions={max:new Date}}ngOnInit(){this.commonProv.copyObject(this.dateDayMonthYearOptions,this.options,!1)}superWriteValue(e){super.writeValue(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Rb(i.a),p.Rb(n.a),p.Rb(a.a))},e.\u0275cmp=p.Lb({type:e,selectors:[["ps-date-day-month-year-past"]],inputs:{options:"options"},features:[p.Cb],decls:1,vars:2,consts:[[3,"options","id","onPsChange"]],template:function(e,t){1&e&&(p.Xb(0,"ps-date-day-month-year",0),p.fc("onPsChange",function(e){return t.onChange(e)}),p.Wb()),2&e&&p.pc("options",t.dateDayMonthYearOptions)("id",t.id)},directives:[s.a],styles:[""]}),e})()}}]);