!function(){function e(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t,n,i){var s=o(h(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof s?function(e){return s.apply(n,e)}:s}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,o){var i=n(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(arguments.length<3?e:o):s.value}}).apply(null,arguments)}function n(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",r=o.toStringTag||"@@toStringTag";function a(o,n,i,r){var a=n&&n.prototype instanceof p?n:p,l=Object.create(a.prototype);return s(l,"_invoke",function(o,n,i){var s,r,a,p=0,l=i||[],u=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,o){return s=t,r=0,a=e,d.n=o,c}};function f(o,n){for(r=o,a=n,t=0;!u&&p&&!i&&t<l.length;t++){var i,s=l[t],f=d.p,m=s[2];o>3?(i=m===n)&&(a=s[(r=s[4])?5:(r=3,3)],s[4]=s[5]=e):s[0]<=f&&((i=o<2&&f<s[1])?(r=0,d.v=n,d.n=s[1]):f<m&&(i=o<3||s[0]>n||n>m)&&(s[4]=o,s[5]=n,d.n=m,r=0))}if(i||o>1)return c;throw u=!0,n}return function(i,l,m){if(p>1)throw TypeError("Generator is already running");for(u&&1===l&&f(l,m),r=l,a=m;(t=r<2?e:a)||!u;){s||(r?r<3?(r>1&&(d.n=-1),f(r,a)):d.n=a:d.v=a);try{if(p=2,s){if(r||(i="next"),t=s[i]){if(!(t=t.call(s,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,r<2&&(r=0)}else 1===r&&(t=s.return)&&t.call(s),r<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),r=1);s=e}else if((t=(u=d.n<0)?a:o.call(n,d))!==c)break}catch(t){s=e,r=1,a=t}finally{p=1}}return{value:t,done:u}}}(o,i,r),!0),l}var c={};function p(){}function l(){}function u(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),f=u.prototype=p.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,s(f,"constructor",u),s(u,"constructor",l),l.displayName="GeneratorFunction",s(u,r,"GeneratorFunction"),s(f),s(f,r,"Generator"),s(f,n,function(){return this}),s(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:m}})()}function s(e,t,o,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(s=function(e,t,o,n){function r(t,o){s(e,t,function(e){return this._invoke(t,o,e)})}t?i?i(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o:(r("next",0),r("throw",1),r("return",2))})(e,t,o,n)}function r(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=a(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==o.return||o.return()}finally{if(c)throw s}}}}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function u(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t,o){return t=h(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,o||[],h(e).constructor):t.apply(e,o))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"7XXa":function(e,o,n){"use strict";n.d(o,"a",function(){return L});var s,a=n("mrSG"),c=n("fXoL"),l=n("3Pt+"),d=n("V0Fi"),m=n("ZyuK"),h=n("ZF3V"),O=n("DFXC"),b=n("zngb"),_=n("Q0Ba"),g=n("y70R"),v=n("Isd1"),N=n("ofXK"),C=n("iOQE"),T=n("QZhd"),I=((s=function(e){function t(e,o,n){var i;return p(this,t),(i=f(this,t,[e,o])).commonProv=e,i.loggerP=o,i.omniPull=n,i.defaultSelectOptions={labelKey:"cif_types_key",placeHolder:"cif_type_key"},i}return y(t,e),u(t,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options),this.returnCifTypes()}},{key:"onChange",value:function(e){this.onPsChange.emit(e)}},{key:"returnCifTypes",value:function(){return Object(a.b)(this,void 0,void 0,i().m(function e(){var t=this;return i().w(function(e){for(;;)switch(e.n){case 0:this.omniPull.returnCifTypes({language:T.a.activeLanguge}).then(function(e){if(t.defaultSelectOptions.listOfOptions=[],e&&e.gridModel&&e.gridModel.length>0){var o,n=r(e.gridModel);try{for(n.s();!(o=n.n()).done;){var i=o.value,s={itemValue:i.typeCode.toString(),description:i.briefDesc,selectedObj:i};t.defaultSelectOptions.listOfOptions.push(s)}}catch(a){n.e(a)}finally{n.f()}}},function(e){t.logger.error("Error: While fetching data : ",e)});case 1:return e.a(2)}},e,this)}))}}])}(C.a)).\u0275fac=function(e){return new(e||s)(c.Rb(_.a),c.Rb(O.a),c.Rb(m.a))},s.\u0275cmp=c.Lb({type:s,selectors:[["ps-dropdown-cif-types"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-select-dropdown",0),c.fc("onPsChange",function(e){return t.onChange(e)}),c.Wb()),2&e&&c.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[C.a],styles:[""]}),s),A=["idDetailsComp"];function k(e,t){if(1&e){var o=c.Yb();c.Xb(0,"ps-dropdown-cif-types",3),c.fc("onPsChange",function(e){return c.Fc(o),c.ic().onChange(e)}),c.Wb()}if(2&e){var n=c.ic();c.pc("options",n.defaultOptions.cifTypeOptions)}}function w(e,t){1&e&&c.Sb(0,"ps-complex-id-details",9,10),2&e&&c.pc("options",t.$implicit)}function P(e,t){if(1&e&&(c.Vb(0),c.Pc(1,w,2,1,"ps-complex-id-details",8),c.Ub()),2&e){var o=c.ic(2);c.Fb(1),c.pc("ngForOf",o.mandatoryIdTypes)}}function D(e,t){if(1&e){var o=c.Yb();c.Xb(0,"ps-complex-id-details",11,10),c.fc("onPsChange",function(e){return c.Fc(o),c.ic(2).onItemChange(e)}),c.Wb()}if(2&e){var n=c.ic(2);c.pc("options",n.defaultOptions.complexIdDetailsOptions1)}}function E(e,t){if(1&e){var o=c.Yb();c.Xb(0,"ps-complex-id-details",12,10),c.fc("onPsChange",function(e){return c.Fc(o),c.ic(2).onItemChange(e)}),c.Wb()}if(2&e){var n=c.ic(2);c.pc("options",n.defaultOptions.complexIdDetailsOptions)}}function S(e,t){if(1&e&&(c.Xb(0,"div",4),c.Pc(1,P,2,1,"ng-container",5),c.Pc(2,D,2,1,"ps-complex-id-details",6),c.Pc(3,E,2,1,"ps-complex-id-details",7),c.Wb()),2&e){var o=c.ic();c.Fb(1),c.pc("ngIf",o.mandatoryIdTypes&&o.mandatoryIdTypes.length>0&&!o.showIdDropDown),c.Fb(1),c.pc("ngIf",0==o.mandatoryIdTypes.length&&o.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions&&o.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions.length>0&&!o.showIdDropDown&&!o.mandatoryIdThere),c.Fb(1),c.pc("ngIf",0==o.mandatoryIdTypes.length&&0==o.optionalIdTypes.length&&o.showIdDropDown)}}var x,L=((x=function(e){function o(e,t,n){var i;return p(this,o),(i=f(this,o,[e,t])).omniPull=n,i.onIdTypesGetLoaded=new c.o,i.defaultOptions={cifTypeOptions:{labelKey:"cif_key",placeHolder:"select_cif_type_key",iconOptions:{iconName:"clipboard"}},complexIdDetailsOptions:{dropdownIdTypesOptions:{fcName:"idType1",labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key"},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber1"},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate1"},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",fcName:"issuanceCountry1",iconOptions:{iconName:"clipboard"}},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate1"}},complexIdDetailsOptions1:{dropdownIdTypesOptions:{fcName:"idType1",labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key"},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber1"},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate1"},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",fcName:"issuanceCountry1",iconOptions:{iconName:"clipboard"}},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate1"}},showCifType:!0},i.showBG=!1,i.mandatoryIdTypes=[],i.optionalIdTypes=[],i.showIdDropDown=!1,i.mandatoryIdThere=!1,i.gridModelItemLength=0,i}return y(o,e),u(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options),this.defaultOptions.requestObject=this.options.requestObject,t(o,"init",this,3)([]),0==this.defaultOptions.showCifType&&this.returnIDTypes(null)}},{key:"onChange",value:function(e){void 0!==this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName]&&(this.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_READONLY,[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],0),this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName].setValue(null)),void 0!==this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.fcName]&&(this.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_READONLY,[this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.fcName],0),this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.fcName].setValue(null)),e&&e.selectedObj&&(this.returnIDTypes(e.selectedObj),this.onPsChange.emit(e))}},{key:"returnIDTypes",value:function(e){var t;return Object(a.b)(this,void 0,void 0,i().m(function o(){var n,s=this;return i().w(function(o){for(;;)switch(o.n){case 0:n={cifType:{selectedObj:e},param:null===(t=this.options)||void 0===t?void 0:t.param},this.omniPull.returnIdTypesList(n).then(function(e){var t;if(s.mandatoryIdTypes=[],s.optionalIdTypes=[],e&&e.gridModel&&e.gridModel.length>0){s.removeIdDetailControls(),s.showIdDropDown=!1;var o=1,n=e.gridModel.filter(function(e){return!0===e.mandatory});s.gridModelItemLength=n.length,s.mandatoryIdThere=n.length>0;var i,a=r(e.gridModel);try{for(a.s();!(i=a.n()).done;){var c=i.value,p={group:s.options.group,dropdownIdTypesOptions:{labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key",group:s.options.group},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",group:s.options.group},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",group:s.options.group},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",iconOptions:{iconName:"clipboard"},group:s.options.group},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",group:s.options.group}};if(!0===c.mandatory){p.dropdownIdTypesOptions.fcName="idType"+o,p.idNumberOptions.fcName="idNumber"+o,p.dateExpiryOptions.fcName="expiryDate"+o,p.countriesOptions.fcName="issuanceCountry"+o,p.issueDateOptions.fcName="issueDate"+o,s.showBG=!0;var u=[{itemValue:c.CODE.toString(),description:c.briefDesc,selectedObj:c}];p.dropdownIdTypesOptions.listOfOptions=u,s.mandatoryIdTypes.push(p),s.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_READONLY,[p.dropdownIdTypesOptions.fcName],1),s.options.group.addControl(p.dropdownIdTypesOptions.fcName,new l.d),s.commonProv.setValInsideNestedObj(p.dropdownIdTypesOptions.fcName,c.CODE.toString(),s.options.requestObject),c.fromLen&&s.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_MINLENGTH,[p.idNumberOptions.fcName],c.fromLen),c.toLen&&s.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_MAXLENGTH,[p.idNumberOptions.fcName],c.toLen),c.DATA_TYPE&&s.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_PATTERN,[p.idNumberOptions.fcName],s.getDataType(c.DATA_TYPE)),o+=1}else if(!1===c.mandatory&&!s.mandatoryIdThere){s.showBG=!0;var d={itemValue:c.CODE.toString(),description:c.briefDesc,selectedObj:c};c.CODE.toString(),s.optionalIdTypes.push(d)}}}catch(f){a.e(f)}finally{a.f()}s.optionalIdTypes&&s.optionalIdTypes.length>0&&!s.mandatoryIdThere&&(s.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions=s.optionalIdTypes,null===(t=s.options.group.controls[s.defaultOptions.complexIdDetailsOptions1.idNumberOptions.fcName])||void 0===t||t.reset())}else s.showIdDropDown=!0,s.showBG=!0,s.mandatoryIdTypes=[],s.optionalIdTypes=[],s.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions=[],s.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_READONLY,[s.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],0),s.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_PATTERN,[s.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],s.getDataType(0)),s.defaultOptions.group.controls[s.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName]&&s.commonProv.setValInsideNestedObj(s.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,null,s.options.requestObject)},function(e){s.logger.error("Error: While fetching data : ",e)}).finally(function(){s.onIdTypesGetLoaded.emit(!0)});case 1:return o.a(2)}},o,this)}))}},{key:"getDataType",value:function(e){switch(e){case d.a.DEFAULT_DATA_TYPE:return{expression:b.a.numericRegex,errorMsg:"field_should_contain_numeric_characters_key"};case d.a.ALPHA_DATA_TYPE:return{expression:b.a.alphaRegex,errorMsg:"field_should_contain_alphabetic_characters_key"};case d.a.NUMERIC_DATA_TYPE:return{expression:b.a.numericRegex,errorMsg:"field_should_contain_numeric_characters_key"};case d.a.ALPHA_NUMERIC_DATA_TYPE:return{expression:b.a.alphaNumericRegex,errorMsg:"field_should_contain_alpha_numeric_characters_key"};default:return{expression:b.a.numericRegex,errorMsg:"field_should_contain_numeric_characters_key"}}}},{key:"removeIdDetailControls",value:function(){if(this.gridModelItemLength>0)for(var e=1;e<this.gridModelItemLength+1;e++)this.defaultOptions.group.removeControl("idType"+e),this.defaultOptions.group.removeControl("idNumber"+e),this.defaultOptions.group.removeControl("expiryDate"+e),this.defaultOptions.group.removeControl("issuanceCountry"+e),this.defaultOptions.group.removeControl("issueDate"+e)}},{key:"onItemChange",value:function(e){if(e&&e.selectedObj){var t=this.getDataType(e.selectedObj.DATA_TYPE);this.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_PATTERN,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],t),this.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_MINLENGTH,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],e.selectedObj.FROM_LEN),this.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_MAXLENGTH,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],e.selectedObj.TO_LEN)}}}])}(h.a)).\u0275fac=function(e){return new(e||x)(c.Rb(_.a),c.Rb(O.a),c.Rb(m.a))},x.\u0275cmp=c.Lb({type:x,selectors:[["ps-complex-cif-id-types"]],viewQuery:function(e,t){var o;1&e&&c.Wc(A,1),2&e&&c.Bc(o=c.gc())&&(t.idDetailsComp=o.first)},inputs:{options:"options"},outputs:{onIdTypesGetLoaded:"onIdTypesGetLoaded"},features:[c.Cb],decls:3,vars:3,consts:[[3,"options"],[3,"options","onPsChange",4,"ngIf"],["class","cifIdTypes",4,"ngIf"],[3,"options","onPsChange"],[1,"cifIdTypes"],[4,"ngIf"],["id","complex_id_details1",3,"options","onPsChange",4,"ngIf"],["id","complex_id_details2",3,"options","onPsChange",4,"ngIf"],["id","complex_id_details",3,"options",4,"ngFor","ngForOf"],["id","complex_id_details",3,"options"],["idDetailsComp",""],["id","complex_id_details1",3,"options","onPsChange"],["id","complex_id_details2",3,"options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-container-complex",0),c.Pc(1,k,1,1,"ps-dropdown-cif-types",1),c.Pc(2,S,4,3,"div",2),c.Wb()),2&e&&(c.pc("options",t.defaultOptions),c.Fb(1),c.pc("ngIf",t.defaultOptions.showCifType),c.Fb(1),c.pc("ngIf",t.showBG))},directives:[v.a,N.o,I,N.n,g.a],styles:[""]}),x)},Nnln:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return i});var n=function(e){return e.BENEFICIARY="B",e.OTHER="O",e}({}),i=function(e){return e.SINGLE="S",e.DAILY="D",e.WEEKLY="W",e.MONTHLY="M",e.YEARLY="Y",e.FORTNIGHTLY="F",e}({})},VEWP:function(t,o,n){"use strict";n.d(o,"a",function(){return C});var s=n("mrSG"),a=n("fXoL"),c=n("4lGw"),l=n("V0Fi"),d=n("ZyuK"),m=n("ZF3V"),h=n("EIUR"),O=n("DFXC"),b=n("zngb"),_=n("Q0Ba"),g=n("Isd1"),v=n("L0og"),N=["complexLookupComponentObj"],C=function(){var t=function(t){function o(e,t,n,i){var s;return p(this,o),(s=f(this,o,[e,t])).commonService=e,s.omniPull=n,s.accountsService=i,s.options={fromTo:"",requestObject:null},s.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!s.options.multiple&&s.options.multiple},s.onAccountChange=new a.o,s.onAccountDeleted=new a.o,s.labelValuesMap=new Map,s.psCurrency=new h.a,s.labelOptions={},s.allType=!1,s}return y(o,t),u(o,[{key:"ngOnInit",value:function(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}},{key:"ngOnChanges",value:function(e){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}},{key:"loadAccounts",value:function(e){return Object(s.b)(this,void 0,void 0,i().m(function t(){var o,n;return i().w(function(t){for(;;)switch(t.n){case 0:if(null!=e&&(this.options=e),this.options.listOfAccounts=[],void 0!==this.options.fromTo&&""!==this.options.fromTo){t.n=1;break}return t.a(2,void this.logger.error("lookup_from_to_missing_key"));case 1:o=this.commonService.session.getValueOf(b.a.USERINFO),n=this.prepareRequestData(o),this.returnAccountList(n);case 2:return t.a(2)}},t,this)}))}},{key:"returnAccountList",value:function(t){return Object(s.b)(this,void 0,void 0,i().m(function o(){var n,s,r,a,c=this;return i().w(function(o){for(;;)switch(o.n){case 0:return n=this.commonProv.session.getValueOf(l.a.PERSONALIZATION_CO),this.complexLookupOptions.listOfOptions=void 0,o.n=1,this.omniPull.returnAccounts(t).catch(function(e){c.complexLookupOptions.listOfOptions=[],c.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 1:if(!((s=o.v)&&s.gridModel.length>0)){o.n=4;break}if(!this.allType){o.n=3;break}return t.accountType="F",t.permittedGls="F",o.n=2,this.omniPull.returnAccounts(t).catch(function(e){c.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 2:(r=o.v)&&r.gridModel.length>0&&(s.gridModel=[].concat(e(s.gridModel),e(r.gridModel)));case 3:this.options.listOfAccounts=s.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==c.options.accountNumber})),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==c.options.accountNumber}))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map(function(e,t){return e.rowIndex=t}),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)&&(a="QR"===this.options.purpose?null==n?void 0:n.defaultQrPaymentAccKey:null==n?void 0:n.defaultTransferAccKey,this.complexLookupOptions.listOfOptions.map(function(e){e.personalizeKey&&e.personalizeKey===a&&(c.common.setValInsideNestedObj(c.options.fcName,e.lookupKey,c.options.requestObject),c.common.setValInsideNestedObj(c.options.fcName+"_lookupKey",e.lookupKey,c.options.requestObject))})),o.n=5;break;case 4:this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[];case 5:return o.a(2)}},o,this)}))}},{key:"populateCustomAccounts",value:function(e){var t,o=[],n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,s={briefNameEnglish:i.briefNameEnglish,cifShortNameEnglish:i.cifShortNameEnglish,accountNumber:i.accountNumber,balance:this.psCurrency.transform(null==i.balance?"0.0":i.balance,i.currencyDecimalPoints)+" "+(i.currencyBriefName||i.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==i.availableBalance?"0.0":i.availableBalance,i.currencyDecimalPoints)+" "+(i.currencyBriefName||i.currencyBriefNameEnglish),currencyBriefName:i.currencyBriefName||i.currencyBriefNameEnglish,currencyBriefNameEnglish:i.currencyBriefNameEnglish,currency:i.currency,accountTypeDesc:i.accountTypeDesc,additionalRef:i.additionalRef,ibanAccNo:i.ibanAccNo,accGl:i.accGl,serialNo:i.serialNo,branch:i.branch,cif:i.cif,formattedAccount:this.accountsService.returnFormattedAccount(i).formattedAccount,personalizeKey:i.personalizeKey,nickName:i.nickName,briefName:i.briefName,lookupKey:i.additionalRef,branchDescription:i.branchDescription?i.branchDescription:"",generalLedgerBriefNameEng:i.generalLedgerBriefNameEng?i.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:i.statusDescription,statusCode:i.status,accountFormat:this.accountsService.returnFormattedAccount(i).accountFormat};this.options.multiple&&(s.excludeType=i.excludeType),o.push(s)}}catch(a){n.e(a)}finally{n.f()}return o}},{key:"prepareRequestData",value:function(e){var t={};if(e&&e.omniUserVO&&(t={userCifNo:e.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(t={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(t.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(t.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(t.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(t.endUserId=this.options.endUserId),null!=this.options.fromCurrency?t.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(t.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)t.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{var o="";for(var n in this.options.accountAllowedCurrencies)o+=this.options.accountAllowedCurrencies[n]+",";o=o.slice(0,o.lastIndexOf(",")),t.accountAllowedCurrencies=o}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)t.accountAllowedTypes=this.options.accountAllowedTypes;else{var i="";for(var s in this.options.accountAllowedTypes)i+=this.options.accountAllowedTypes[s]+",";i=i.slice(0,i.lastIndexOf(",")),t.accountAllowedTypes=i}return t}},{key:"fetchAccountBasedOnCurrency",value:function(e){return this.options.listOfAccounts}},{key:"onChange",value:function(e){this.logger.log(e)}},{key:"populateOwnAccountMap",value:function(){var e,t,o;e={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},t={key:"currentBalance",value:"0.0",isEdit:!1},o={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",e),this.labelValuesMap.set("balance_key",t),this.labelValuesMap.set("available_balance_key",o)}},{key:"onChangeItem",value:function(e){this.onAccountChange.emit(e)}},{key:"onDeleteItem",value:function(e){e&&this.onAccountDeleted.emit(e)}},{key:"handleMultipleSelection",value:function(){var e=this,t=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(function(t){return e.options.requestObject[e.options.fcName].some(function(e){return e.accountNumber==t.accountNumber})}):[];this.complexLookupOptions.selectedItems=t.filter(function(t){return e.options.setAllAccountsAsSelecetd&&(!t.excludeType||!(t.excludeType.includes(l.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||t.excludeType.includes(l.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!e.options.setAllAccountsAsSelecetd}).map(function(e){return Object.assign(Object.assign({item:e[e.previewProperty]},e),{itemLookup:e.lookupKey})}),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}},{key:"removeAccount",value:function(e){e&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(function(t){return e.accountNumber!=t.accountNumber}):[])}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}},{key:"refreshAcounts",value:function(e){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(e)}}])}(m.a);return t.\u0275fac=function(e){return new(e||t)(a.Rb(_.a),a.Rb(O.a),a.Rb(d.a),a.Rb(c.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(e,t){var o;(1&e&&a.Wc(N,1),2&e)&&(a.Bc(o=a.gc())&&(t.complexLookupComponentObj=o.first))},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[a.Cb,a.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(e,t){1&e&&(a.Xb(0,"ps-container-complex",0),a.Xb(1,"ps-complex-lookup",1,2),a.fc("changeItem",function(e){return t.onChangeItem(e)})("onDeleteItem",function(e){return t.onDeleteItem(e)}),a.Wb(),a.Wb()),2&e&&(a.Fb(1),a.pc("id",t.id)("options",t.complexLookupOptions))},directives:[g.a,v.a],styles:[""]}),t}()},aAEG:function(e,t,o){"use strict";o.d(t,"a",function(){return m});var n=o("mrSG"),s=(o("Nnln"),o("ZyuK")),a=o("iOQE"),c=o("DFXC"),l=o("Q0Ba"),d=o("fXoL"),m=function(){var e=function(e){function t(e,o,n){var i;return p(this,t),(i=f(this,t,[e,o])).omniPull=n,i.defaultSelectOptions={},i}return y(t,e),u(t,[{key:"ngOnInit",value:function(){this.loggerP.log("loadcreditTypes---ngOnInit : "+this.options.cardType),this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.loadcreditTypes()}},{key:"loadcreditTypes",value:function(){return Object(n.b)(this,void 0,void 0,i().m(function e(){var t,o,n,s,a,c=this;return i().w(function(e){for(;;)switch(e.n){case 0:return t={cardType:this.options.cardType},this.loggerP.log("loadcreditTypes"+t),e.n=1,this.omniPull.returnCardTypes(t).catch(function(e){c.logger.error("Error: While fetching Card types in PsDropdownCardTypesComponent : ",e)});case 1:if(o=e.v,this.defaultSelectOptions.listOfOptions=[],o&&o.gridModel&&o.gridModel.length>0){n=r(o.gridModel);try{for(n.s();!(s=n.n()).done;)a=s.value,this.defaultSelectOptions.listOfOptions.push({itemValue:a.briefName,description:a.briefName,selectedObj:a})}catch(i){n.e(i)}finally{n.f()}}case 2:return e.a(2)}},e,this)}))}},{key:"onCardTypeChange",value:function(e){this.loggerP.log("onCardTypeChange@@@@"+e.newValue),this.onPsChange.emit(e)}}])}(a.a);return e.\u0275fac=function(t){return new(t||e)(d.Rb(l.a),d.Rb(c.a),d.Rb(s.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["ps-dropdown-card-types"]],inputs:{options:"options"},features:[d.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(d.Xb(0,"ps-select-dropdown",0),d.fc("onPsChange",function(e){return t.onCardTypeChange(e)}),d.Wb()),2&e&&d.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[a.a],styles:[""]}),e}()},gzy4:function(e,o,n){"use strict";n.r(o),n.d(o,"CreditCardRequestPage",function(){return F});var s=n("mrSG"),r=n("3Pt+"),a=n("OVQh"),c=n("V0Fi"),l=n("fOh1"),d=n("0CJq"),m=n("ZyuK"),h=n("f42Q"),O=n("DFXC"),b=n("zngb"),_=n("Q0Ba"),g=n("gKqT"),v=n("fXoL"),N=n("kRg/"),C=n("uKCV"),T=n("sAFK"),I=n("+f2X"),A=n("/QlS"),k=n("aAEG"),w=n("ggmK"),P=n("VEWP"),D=n("pvj/"),E=n("ULj9"),S=n("KuXP"),x=n("ofXK"),L=n("7XXa"),R=n("iTqn");function B(e,t){if(1&e&&v.Sb(0,"ps-input-varchar",19),2&e){var o=v.ic(2);v.pc("options",o.collectorNameOptions)}}function j(e,t){if(1&e&&v.Sb(0,"ps-complex-cif-id-types",20),2&e){var o=v.ic(2);v.pc("options",o.defaultCifIdTypesOptions)}}function q(e,t){if(1&e){var o=v.Yb();v.Xb(0,"ps-form-step",3),v.Xb(1,"ps-container-panel",4),v.Sb(2,"ps-input-varchar",5),v.Xb(3,"ps-dropdown-card-types",6),v.fc("onPsChange",function(e){return v.Fc(o),v.ic().onCardTypeChange(e)}),v.Wb(),v.Sb(4,"ps-input-display-only",7),v.Sb(5,"ps-input-display-only",8),v.Sb(6,"ps-input-display-only",9),v.Sb(7,"ps-lookup-own-accounts",10),v.Xb(8,"ps-complex-location",11),v.fc("parentFun",function(){return v.Fc(o),v.ic().hideMap()}),v.Wb(),v.Wb(),v.Xb(9,"ps-container-panel",12),v.Xb(10,"ps-complex-select-branch",13),v.fc("onPsChange",function(e){return v.Fc(o),v.ic().onSelectBranch(e)}),v.Wb(),v.Wb(),v.Xb(11,"ps-container-panel",14),v.Sb(12,"ps-input-display-only",15),v.Wb(),v.Xb(13,"ps-container-panel",16),v.Xb(14,"ps-select-toggle",13),v.fc("onPsChange",function(e){return v.Fc(o),v.ic().onPersonalToggleClicked(e)}),v.Wb(),v.Pc(15,B,1,1,"ps-input-varchar",17),v.Pc(16,j,1,1,"ps-complex-cif-id-types",18),v.Wb(),v.Wb()}if(2&e){var n=v.ic();v.pc("id",n.stepperOptions.namesofSteps[0]),v.Fb(1),v.pc("options",n.panelOptions1Step1),v.Fb(1),v.pc("options",n.cardHolderNameOptions),v.Fb(1),v.pc("options",n.cardTypeOptions),v.Fb(1),v.pc("options",n.withdrawalLimitOptions),v.Fb(1),v.pc("options",n.posLimitOptions),v.Fb(1),v.pc("options",n.billingCycleOptions),v.Fb(1),v.pc("options",n.settlementAccountOptions),v.Fb(1),v.pc("options",n.deliveryAddressDetails),v.Fb(1),v.pc("options",n.panelOptions2Step1),v.Fb(1),v.pc("options",n.selectBranchOptions),v.Fb(1),v.pc("options",n.panelOptions4Step1),v.Fb(1),v.pc("options",n.cifrequestBranchOptions),v.Fb(1),v.pc("options",n.panelOptions3Step1),v.Fb(1),v.pc("options",n.personalCollectToggleOptions),v.Fb(1),v.pc("ngIf",n.showCollectorPanel),v.Fb(1),v.pc("ngIf",n.showCollectorPanel)}}function V(e,t){if(1&e&&(v.Xb(0,"ps-form-step",21),v.Xb(1,"ps-container-panel",22),v.Xb(2,"div",23),v.Sb(3,"ps-map-atm-branches",24),v.Wb(),v.Wb(),v.Xb(4,"ps-container-panel",25),v.Xb(5,"div",23),v.Sb(6,"ps-map-atm-branches",24),v.Wb(),v.Wb(),v.Wb()),2&e){var o=v.ic();v.pc("id",o.stepperOptions.namesofSteps[1]),v.Fb(1),v.pc("options",o.atmBranchesPanelOptions),v.Fb(2),v.pc("options",o.mapAtmBranchesOptions),v.Fb(1),v.pc("options",o.panelOptionsStep2),v.Fb(2),v.pc("options",o.destinationBranchesOptions)}}var F=function(){var e=function(e){function o(e,t,n,i,s){var u;return p(this,o),(u=f(this,o)).omniPull=e,u.loggerP=t,u.commonService=n,u.omniCommon=i,u.eventEmitterService=s,u.formGroup=new r.f({}),u.creditCardRequestVO={},u.cifInfo={},u.showCollectorPanel=!0,u.stepperOptions={stepperName:"credit_card_stepper",isHorizontalStepper:!0,numberOfSteps:2,namesofSteps:["credit_card_req_step1","credit_card_req_step2"],group:u.formGroup,submitOptions:{extraParams:{},submitServiceUrl:l.a.serviceUrl.creditCardRequest,group:u.formGroup},requestObject:u.creditCardRequestVO},u.panelOptions1Step1={isExpandable:!0,labelKey:"card_details_key",iconName:"new-card-request",expanded:!0},u.panelOptions2Step1={isExpandable:!0,labelKey:"select_map_branch_key",iconName:"location-pin",expanded:!0},u.panelOptions3Step1={isExpandable:!0,labelKey:"collect_or_reveiver_details_key",iconName:"new-card-request",expanded:!0},u.panelOptions4Step1={isExpandable:!0,labelKey:"request_branch_key",iconName:"location-pin",expanded:!0},u.panelOptionsStep2={isExpandable:!0,labelKey:"choose_destination_Branch_key",iconName:"location-pin",expanded:!0},u.atmBranchesPanelOptions={isExpandable:!0,labelKey:"choose_request_branch_key",iconName:"location-pin",expanded:!0},u.cardHolderNameOptions={placeHolder:"card_holder_name_key",labelKey:"card_holder_name_key",group:u.formGroup,fcName:"cardHolderName"},u.cardTypeOptions={labelKey:"card_type_key",placeHolder:"select_card_type_key",group:u.formGroup,fcName:"cardType",cardType:b.a.CARDTYPE_C},u.mapAtmBranchesOptions={group:u.formGroup,fcName:"mapAtmBranches",labelKey:"map_atm_branch_key",mapOptions:{labelKey:"map"},showSegments:!1,mapTypesInclude:"'B'",branchIds:"1,3,5",parameterToCheck:c.a.CARDS_REQUEST_BRANCH,requestVO:u.creditCardRequestVO},u.destinationBranchesOptions={group:u.formGroup,fcName:"destinationBranches",labelKey:"destination_branch_key",mapOptions:{labelKey:"map"},showSegments:!1,mapTypesInclude:"'B'",branchIds:"1,3,5",requestVO:u.creditCardRequestVO},u.posLimitOptions={placeHolder:"",labelKey:"pos_Limit_key",fcName:"posLimit",group:u.formGroup},u.withdrawalLimitOptions={placeHolder:"",labelKey:"withdrawal_limit_key",fcName:"withdrawalLimit",group:u.formGroup},u.billingCycleOptions={labelKey:"bilind_cycle_key",fcName:"billingCycle",group:u.formGroup},u.selectBranchOptions={fcName:"mapAtmBranchesDropdown",group:u.formGroup},u.deliveryAddressDetails={collectionModeOptions:{group:u.formGroup,fcName:"deliveryLoc"},branchLocationOptions:{fcName:"destinationBranchesDropdown",group:u.formGroup,countryRegionCityOptions:{countriesOptions:{fcName:"destinationBranchCountry"},regionOptions:{fcName:"destinationBranchRegion"},cityOptions:{fcName:"destinationBranchCity"}},branchesOptions:{fcName:"destinationBranch"}},homeAddressOptions:{placeHolder:"home_address_key",labelKey:"home_address_key",group:u.formGroup,fcName:"homeAddress",requestVO:u.creditCardRequestVO},workAddressOptions:{placeHolder:"work_address_key",labelKey:"work_address_key",group:u.formGroup,fcName:"workAddress",requestVO:u.creditCardRequestVO},otherAddressOptions:{labelKey:"address_details_key",rows:"3",cols:"10",fcName:"otherAddressDetails",group:u.formGroup},branchCifOptions:{labelKey:"account_branch_key",group:u.formGroup,fcName:"branchName"},cifBranchChecking:!0},u.cifrequestBranchOptions={labelKey:"account_branch_key",group:u.formGroup,fcName:"branch"},u.settlementAccountOptions={labelKey:"settlement_account_key",placeHolder:"settlement_account_key",accountNumber:"",currency:"",group:u.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:b.a.GeneralType,fcName:"settlementAccount",component:a.a,fromTo:"from",accountType:b.a.GeneralType,requestObject:u.creditCardRequestVO},u.personalCollectToggleOptions={labelKey:"i_will_be_collecting_personally_my_credit_card_key",group:u.formGroup,fcName:"personalCollect",psClass:"toggleColor"},u.collectorNameOptions={placeHolder:"collector_or_receiver_name_key",labelKey:"collector_or_receiver_name_key",group:u.formGroup,fcName:"collectorName"},u.defaultCifIdTypesOptions={showCifType:!1,group:u.formGroup,cifTypeOptions:{group:u.formGroup,fcName:"idType"},complexIdDetailsOptions:{dropdownIdTypesOptions:{group:u.formGroup},idNumberOptions:{group:u.formGroup},dateExpiryOptions:{group:u.formGroup},countriesOptions:{group:u.formGroup},issueDateOptions:{group:u.formGroup}},complexIdDetailsOptions1:{dropdownIdTypesOptions:{group:u.formGroup},idNumberOptions:{group:u.formGroup},dateExpiryOptions:{group:u.formGroup},countriesOptions:{group:u.formGroup},issueDateOptions:{group:u.formGroup}},requestObject:u.creditCardRequestVO},u.enableCifBranch=!1,u}return y(o,e),u(o,[{key:"ngOnInit",value:function(){t(o,"init",this,3)([]),this.baseFormGroup=this.formGroup}},{key:"ionViewDidEnter",value:function(){t(o,"ionViewDidEnter",this,3)([]),this.fetchParameter()}},{key:"fetchParameter",value:function(){return Object(s.b)(this,void 0,void 0,i().m(function e(){var t,o=this;return i().w(function(e){for(;;)switch(e.n){case 0:return this.cifInfo=this.commonProv.session.getValueOf(b.a.USERINFO),e.n=1,this.omniPull.getParamValOf(c.a.CARDS_REQUEST_BRANCH).catch(function(e){o.loggerP.error(e)});case 1:-1!==(t=e.v)&&t.RequestBranch===c.a.END_USER_INPUT_ID?(this.enableCifBranch=!1,this.omniCommon.branchSelectionAndMapControl(0,[{fcName:"credit_card_req_panel3"}]),this.omniCommon.branchSelectionAndMapControl(1,[{fcName:"credit_card_req_pane2"}]),this.omniCommon.branchSelectionAndMapControl(1,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:"reqBranch"}],!0)):(t.RequestBranch===c.a.ACCOUNT_BRANCH_ID?(this.cifrequestBranchOptions.labelKey="account_branch_key",this.commonProv.setValInsideNestedObj(this.cifrequestBranchOptions.fcName,this.cifInfo.cifBranch?this.cifInfo.customerInfoCO.branchCode:"",this.creditCardRequestVO)):(this.cifrequestBranchOptions.labelKey="cif_branch_key",this.commonProv.setValInsideNestedObj(this.cifrequestBranchOptions.fcName,this.cifInfo.cifBranch?this.cifInfo.customerInfoCO.branchBriefDesc:"",this.creditCardRequestVO)),this.enableCifBranch=!0,this.omniCommon.branchSelectionAndMapControl(1,[{fcName:"credit_card_req_panel3"}]),this.omniCommon.branchSelectionAndMapControl(0,[{fcName:"credit_card_req_pane2"}]),this.omniCommon.branchSelectionAndMapControl(0,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:"reqBranch"}],!0)),this.omniCommon.branchSelectionAndMapControl(-1!==t&&t.CollectionDestinationBranch===c.a.END_USER_INPUT_ID?1:0,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:"destBranch"}],!0),this.omniCommon.branchSelectionAndMapControl(-1!==t&&t.RequestBranch!==c.a.END_USER_INPUT_ID&&-1!==t&&t.CollectionDestinationBranch!==c.a.END_USER_INPUT_ID?0:1,[{fcName:this.stepperOptions.namesofSteps[1]}],!0);case 2:return e.a(2)}},e,this)}))}},{key:"onCardTypeChange",value:function(e){if(e.selectedObj){switch(e.selectedObj.wdLimitBasedOn){case c.a.LIMIT:this.commonProv.setValInsideNestedObj(this.withdrawalLimitOptions.fcName,e.selectedObj.wdLimitAmount+this.getPeriodiCity(e.selectedObj.wdLimitCheckPeriod),this.creditCardRequestVO);break;case c.a.OPEN:this.commonProv.setValInsideNestedObj(this.withdrawalLimitOptions.fcName,"Unlimited",this.creditCardRequestVO);break;case c.a.BALANCE:this.commonProv.setValInsideNestedObj(this.withdrawalLimitOptions.fcName,e.selectedObj.accountBalance?e.selectedObj.accountBalance:"0",this.creditCardRequestVO)}switch(e.selectedObj.posLimitBasedOn){case c.a.LIMIT:this.commonProv.setValInsideNestedObj(this.posLimitOptions.fcName,e.selectedObj.posLimitAmount?e.selectedObj.posLimitAmount:"0",this.creditCardRequestVO);break;case c.a.OPEN:this.commonProv.setValInsideNestedObj(this.posLimitOptions.fcName,"Unlimited",this.creditCardRequestVO)}e.selectedObj.billingCycle&&(this.commonProv.applyDynScreenDisplay(b.a.ACTION_TYPE_VISIBLE,[this.billingCycleOptions.fcName],1),this.commonProv.setValInsideNestedObj(this.withdrawalLimitOptions.fcName,e.selectedObj.billingCycle,this.creditCardRequestVO))}}},{key:"onSelectBranch",value:function(e){void 0!==e.itemValue&&(this.formGroup.controls[this.selectBranchOptions.fcName].setValue(e),this.commonProv.setValInsideNestedObj(this.selectBranchOptions.fcName,e.selectedObj,this.creditCardRequestVO))}},{key:"getPeriodiCity",value:function(e){switch(e){case c.a.DAYS:return c.a.DY;case c.a.MONTHS:return c.a.MNTH;case c.a.WEEK_CODE:return c.a.WEEK;case c.a.QUATER_CODE:return c.a.QUATER;case c.a.YEAR:return c.a.YR;default:return c.a.DY}}},{key:"hideMap",value:function(){var e=this.creditCardRequestVO?this.creditCardRequestVO[this.deliveryAddressDetails.collectionModeOptions.fcName]:{};(null==e?void 0:e.itemValue)===c.a.SPECIFIC_BRANCH_VALUE||e===c.a.SPECIFIC_BRANCH_VALUE||(null==e?void 0:e.itemValue)===c.a.OTHER_ADDRESS_VALUE||e===c.a.OTHER_ADDRESS_VALUE?this.omniCommon.branchSelectionAndMapControl(1,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:"destBranch"}],!0):(this.omniCommon.branchSelectionAndMapControl(0,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:"destBranch"}],!0),this.omniCommon.branchSelectionAndMapControl(this.enableCifBranch?0:1,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:"reqBranch"}],!0))}},{key:"onPersonalToggleClicked",value:function(e){this.showCollectorPanel=!e.newValue}}])}(g.OmniBasePage);return e.\u0275fac=function(t){return new(t||e)(v.Rb(m.a),v.Rb(O.a),v.Rb(_.a),v.Rb(d.a),v.Rb(h.a))},e.\u0275cmp=v.Lb({type:e,selectors:[["credit-card-request-test"]],features:[v.Cb],decls:3,vars:4,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step1","",3,"id"],["id","credit_card_req_panel",3,"options"],["id","cardHolderName",3,"options"],["id","cardType",3,"options","onPsChange"],["id","withdrawal_limit",3,"options"],["id","posLimit",3,"options"],["id","billingCycle",3,"options"],["id","settlementAccountid",3,"options"],[3,"options","parentFun"],["id","credit_card_req_pane2",3,"options"],[3,"options","onPsChange"],["id","credit_card_req_panel3",3,"options"],["id","accountCifBranch",3,"options"],["id","persoal_collect_panel",3,"options"],["id"," collectorName",3,"options",4,"ngIf"],[3,"options",4,"ngIf"],["id"," collectorName",3,"options"],[3,"options"],["step2","",3,"id"],["id","reqBranch",3,"options"],[1,"dcMapLocator"],[1,"component-map-container",3,"options"],["id","destBranch",3,"options"]],template:function(e,t){1&e&&(v.Xb(0,"ps-template-stepper",0),v.Pc(1,q,17,17,"ps-form-step",1),v.Pc(2,V,7,5,"ps-form-step",2),v.Wb()),2&e&&(v.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),v.Fb(1),v.pc("psStep","step1"),v.Fb(1),v.pc("psStep","step2"))},directives:[N.a,C.a,T.a,I.a,A.a,k.a,w.a,P.a,D.a,E.a,S.a,x.o,L.a,R.a],styles:[""]}),e}()}}])}();