(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"41l2":function(e,o,t){"use strict";t.d(o,"a",function(){return r});var n=t("mrSG"),s=t("ZyuK"),i=t("iOQE"),c=t("DFXC"),p=t("Q0Ba"),a=t("fXoL");let r=(()=>{class e extends i.a{constructor(e,o,t){super(e,o),this.omniPull=t,this.showLovDropdown=!1,this.defaultDropDownLovOptions={isLOVDropdown:!0}}ngOnInit(){this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(e=>{if(e){const o=e.get(this.options.fcName);o&&o.LOV_TYPE_ID&&o.LOV_TYPE_ID!==this.options.lovTypeId&&this.loadLovDropDown()}})}loadLovDropDown(){var e;return Object(n.b)(this,void 0,void 0,function*(){if(!this.defaultDropDownLovOptions.listOfOptions||0==(null===(e=this.defaultDropDownLovOptions.listOfOptions)||void 0===e?void 0:e.length)){const e=this.commonProv.getElementValidations(this.options.fcName);if(e&&e.LOV_TYPE_ID&&(this.options.lovTypeId=e.LOV_TYPE_ID),null==this.options.lovTypeId||void 0===this.options.lovTypeId)return void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov");if(this.options.lovAdminFilterParamName){const e=yield this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);e&&(this.options.lovAdminFilterParamName=e[this.options.lovAdminFilterParamName])}const o={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},t=yield this.omniPull.returnLovTypesValues(o).catch(e=>{this.showLovDropdown=!1,this.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",e)});if(this.defaultDropDownLovOptions.listOfOptions=[],t&&t.length>0){for(const e of t){const o={itemValue:e.itemValue,description:e.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(e.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:e};o.selectedObj[this.options.fcName]=e.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(o)}this.showLovDropdown=!0}}})}selectDropDownChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(o){return new(o||e)(a.Rb(p.a),a.Rb(c.a),a.Rb(s.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[a.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(a.Xb(0,"ps-select-dropdown",0),a.fc("onPsChange",function(e){return o.selectDropDownChange(e)}),a.Wb()),2&e&&a.pc("id",o.id)("options",o.defaultDropDownLovOptions)},directives:[i.a],styles:[""]}),e})()},"L+qP":function(e,o,t){"use strict";t.d(o,"a",function(){return l});var n=t("ZyuK"),s=t("iOQE"),i=t("DFXC"),c=t("QZhd"),p=t("Q0Ba"),a=t("V0Fi"),r=t("fXoL");let l=(()=>{class e extends s.a{constructor(e,o,t){super(e,o),this.omniPull=t,this.defaultSelectOptions={labelKey:"chequebook_type_key",placeHolder:"select_chequebook_type_key"},this.chequeBookType=[]}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options),this.omniPull.getParamValOf(a.a.ALLOWEDCHEQUEBOOKTYPES).then(e=>{e.AllowedChequebookTypes&&(this.allowedChequebookTypeCode=e.AllowedChequebookTypes.toString().split(",")),this.getChequebookTypes()}).catch(e=>{})}onChequebookTypeChange(e){this.onPsChange.emit(e)}getChequebookTypes(){this.omniPull.returnChequebookTypes({chequeTypesCode:this.allowedChequebookTypeCode,language:c.a.activeLanguge}).then(e=>{if(this.defaultSelectOptions.listOfOptions=[],e&&null!=e.gridModel&&e.gridModel.length>0){for(let o=0;o<e.gridModel.length;o++)this.chequeBookType.push({itemValue:e.gridModel[o].chequeTypesCode,description:e.gridModel[o].briefName,selectedObj:e.gridModel[o]});this.defaultSelectOptions.listOfOptions=this.chequeBookType}else this.logger.warn(e,"empty response")}).catch(e=>{})}}return e.\u0275fac=function(o){return new(o||e)(r.Rb(p.a),r.Rb(i.a),r.Rb(n.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-dropdown-chequebook-types"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(r.Xb(0,"ps-select-dropdown",0),r.fc("onPsChange",function(e){return o.onChequebookTypeChange(e)}),r.Wb()),2&e&&r.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[s.a],styles:[""]}),e})()},ULj9:function(e,o,t){"use strict";t.d(o,"a",function(){return f});var n=t("mrSG"),s=t("ZyuK"),i=t("zngb"),c=t("ZF3V"),p=t("DFXC"),a=t("Q0Ba"),r=t("V0Fi"),l=t("fXoL"),u=t("Isd1"),h=t("+n0y"),m=t("iOQE");let d=(()=>{class e extends m.a{constructor(e,o,t){super(e,o),this.omniPull=t,this.defaultSelectOptions={labelKey:"label_branch_key",placeHolder:"branch_key"},this.branches=[]}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options)}ngOnChanges(){this.getBranches()}getBranches(){const e={countryId:this.options.selectedCountryCode?parseInt(this.options.selectedCountryCode):null,regionId:this.options.selectedRegionCode?parseInt(this.options.selectedRegionCode):null,cityId:this.options.selectedCityCode?parseInt(this.options.selectedCityCode):null,mapTypesInclude:"'B'"};this.branches=[],this.omniPull.returnMapAtmBranches(e).then(e=>{if(this.defaultSelectOptions.listOfOptions=[],e&&null!=e.gridModel&&e.gridModel.length>0){for(let t=0;t<e.gridModel.length;t++)this.branches.push({itemValue:e.gridModel[t].vsBranchCode,description:e.gridModel[t].briefDesc,selectedObj:e.gridModel[t]});this.defaultSelectOptions.listOfOptions=this.branches;const o=this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].value;o&&!this.defaultSelectOptions.listOfOptions.some(e=>e.itemValue===o)&&this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null)}else this.defaultSelectOptions.listOfOptions=[],this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null),this.logger.warn(e,"empty response")}).catch(e=>{})}onBranchChange(e){this.loggerP.log("onBranchChange"+e),this.onPsChange.emit(e)}}return e.\u0275fac=function(o){return new(o||e)(l.Rb(a.a),l.Rb(p.a),l.Rb(s.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["ps-dropdown-branches"]],inputs:{options:"options"},features:[l.Cb,l.Db],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(l.Xb(0,"ps-select-dropdown",0),l.fc("onPsChange",function(e){return o.onBranchChange(e)}),l.Wb()),2&e&&l.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[m.a],styles:[""]}),e})(),f=(()=>{class e extends c.a{constructor(e,o,t){super(e,o),this.omniPull=t,this.defaultOptions={}}ngOnInit(){var e,o;return Object(n.b)(this,void 0,void 0,function*(){this.defaultOptions={countryRegionCityOptions:{countriesOptions:{labelKey:"country__key",placeHolder:"select_country_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.countriesOptions.fcName:"branch_country",group:this.options.group,iconOptions:{iconName:"clipboard"}},regionOptions:{labelKey:"region_key",placeHolder:"region_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.regionOptions.fcName:"branch_region",group:this.options.group},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.cityOptions.fcName:"branch_city",group:this.options.group}}},this.defaultOptions.branchesOptions={group:this.options.group,fcName:this.options.branchesOptions?this.options.branchesOptions.fcName:"default_branch",placeHolder:(null===(e=this.options.branchesOptions)||void 0===e?void 0:e.placeHolder)?this.options.branchesOptions.placeHolder:"branch_key",labelKey:(null===(o=this.options.branchesOptions)||void 0===o?void 0:o.labelKey)?this.options.branchesOptions.labelKey:"label_branch_key"},this.commonProv.copyObject(this.defaultOptions,this.options);let t=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName);if(this.options.parameterToCheck){const e=yield this.omniPull.checkBranch(this.options.parameterToCheck);t=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName),this.commonProv.applyDynScreenDisplay(i.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],e.enableCifBranch||this.defaultOptions.branchesOptions.fcName&&!t.IS_VISIBLE?0:t.IS_MANDATORY)}else this.commonProv.applyDynScreenDisplay(i.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],t.IS_MANDATORY)})}onSelectBranch(e){this.onPsChange.emit(e)}onChildDropdownSelected(e){if(e[r.a.SELECTED_DROPDOWN]){const o=e[r.a.SELECTED_DROPDOWN];o===r.a.COUNTRY_DROPDOWN?(this.defaultOptions.branchesOptions.selectedCountryCode=void 0!==e.selectedObj?e.selectedObj.countriesID:null!=e.newValue?e.newValue:null,this.defaultOptions.branchesOptions.selectedRegionCode=null,this.defaultOptions.branchesOptions.selectedCityCode=null):o===r.a.REGION_DROPDOWN?(this.defaultOptions.branchesOptions.selectedRegionCode=void 0!==e.selectedObj?e.selectedObj.countriesRegionID:null!=e.newValue?e.newValue:null,this.defaultOptions.branchesOptions.selectedCityCode=null):o===r.a.CITY_DROPDOWN&&(this.defaultOptions.branchesOptions.selectedCityCode=void 0!==e.selectedObj?e.selectedObj.citiesId:null!=e.newValue?e.newValue:null)}this.defaultOptions.branchesOptions=Object.assign({},this.defaultOptions.branchesOptions)}}return e.\u0275fac=function(o){return new(o||e)(l.Rb(a.a),l.Rb(p.a),l.Rb(s.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["ps-complex-select-branch"]],inputs:{options:"options"},features:[l.Cb],decls:3,vars:4,consts:[[1,"ps-complex-swift-benef-creation"],[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(l.Xb(0,"ps-container-complex",0),l.Xb(1,"ps-complex-country-regions-cities",1),l.fc("onPsChange",function(e){return o.onChildDropdownSelected(e)}),l.Wb(),l.Xb(2,"ps-dropdown-branches",1),l.fc("onPsChange",function(e){return o.onSelectBranch(e)}),l.Wb(),l.Wb()),2&e&&(l.Fb(1),l.pc("id",o.id)("options",o.defaultOptions.countryRegionCityOptions),l.Fb(1),l.pc("id",o.id)("options",o.defaultOptions.branchesOptions))},directives:[u.a,h.a,d],styles:[""]}),e})()},VEWP:function(e,o,t){"use strict";t.d(o,"a",function(){return O});var n=t("mrSG"),s=t("fXoL"),i=t("4lGw"),c=t("V0Fi"),p=t("ZyuK"),a=t("ZF3V"),r=t("EIUR"),l=t("DFXC"),u=t("zngb"),h=t("Q0Ba"),m=t("Isd1"),d=t("L0og");const f=["complexLookupComponentObj"];let O=(()=>{class e extends a.a{constructor(e,o,t,n){super(e,o),this.commonService=e,this.omniPull=t,this.accountsService=n,this.options={fromTo:"",requestObject:null},this.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!this.options.multiple&&this.options.multiple},this.onAccountChange=new s.o,this.onAccountDeleted=new s.o,this.labelValuesMap=new Map,this.psCurrency=new r.a,this.labelOptions={},this.allType=!1}ngOnInit(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}ngOnChanges(e){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}loadAccounts(e){return Object(n.b)(this,void 0,void 0,function*(){if(null!=e&&(this.options=e),this.options.listOfAccounts=[],void 0===this.options.fromTo||""===this.options.fromTo)return void this.logger.error("lookup_from_to_missing_key");const o=this.commonService.session.getValueOf(u.a.USERINFO),t=this.prepareRequestData(o);this.returnAccountList(t)})}returnAccountList(e){return Object(n.b)(this,void 0,void 0,function*(){const o=this.commonProv.session.getValueOf(c.a.PERSONALIZATION_CO);this.complexLookupOptions.listOfOptions=void 0;const t=yield this.omniPull.returnAccounts(e).catch(e=>{this.complexLookupOptions.listOfOptions=[],this.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});if(t&&t.gridModel.length>0){if(this.allType){e.accountType="F",e.permittedGls="F";const o=yield this.omniPull.returnAccounts(e).catch(e=>{this.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});o&&o.gridModel.length>0&&(t.gridModel=[...t.gridModel,...o.gridModel])}if(this.options.listOfAccounts=t.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(e=>e.accountNumber!==this.options.accountNumber)),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(e=>e.accountNumber!==this.options.accountNumber))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map((e,o)=>e.rowIndex=o),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)){let e="QR"===this.options.purpose?null==o?void 0:o.defaultQrPaymentAccKey:null==o?void 0:o.defaultTransferAccKey;this.complexLookupOptions.listOfOptions.map(o=>{o.personalizeKey&&o.personalizeKey===e&&(this.common.setValInsideNestedObj(this.options.fcName,o.lookupKey,this.options.requestObject),this.common.setValInsideNestedObj(this.options.fcName+"_lookupKey",o.lookupKey,this.options.requestObject))})}}else this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[]})}populateCustomAccounts(e){const o=[];for(const t of e){const e={briefNameEnglish:t.briefNameEnglish,cifShortNameEnglish:t.cifShortNameEnglish,accountNumber:t.accountNumber,balance:this.psCurrency.transform(null==t.balance?"0.0":t.balance,t.currencyDecimalPoints)+" "+(t.currencyBriefName||t.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==t.availableBalance?"0.0":t.availableBalance,t.currencyDecimalPoints)+" "+(t.currencyBriefName||t.currencyBriefNameEnglish),currencyBriefName:t.currencyBriefName||t.currencyBriefNameEnglish,currencyBriefNameEnglish:t.currencyBriefNameEnglish,currency:t.currency,accountTypeDesc:t.accountTypeDesc,additionalRef:t.additionalRef,ibanAccNo:t.ibanAccNo,accGl:t.accGl,serialNo:t.serialNo,branch:t.branch,cif:t.cif,formattedAccount:this.accountsService.returnFormattedAccount(t).formattedAccount,personalizeKey:t.personalizeKey,nickName:t.nickName,briefName:t.briefName,lookupKey:t.additionalRef,branchDescription:t.branchDescription?t.branchDescription:"",generalLedgerBriefNameEng:t.generalLedgerBriefNameEng?t.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:t.statusDescription,statusCode:t.status,accountFormat:this.accountsService.returnFormattedAccount(t).accountFormat};this.options.multiple&&(e.excludeType=t.excludeType),o.push(e)}return o}prepareRequestData(e){let o={};if(e&&e.omniUserVO&&(o={userCifNo:e.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(o={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(o.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(o.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(o.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(o.endUserId=this.options.endUserId),null!=this.options.fromCurrency?o.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(o.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)o.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{let e="";for(const o in this.options.accountAllowedCurrencies)e+=this.options.accountAllowedCurrencies[o]+",";e=e.slice(0,e.lastIndexOf(",")),o.accountAllowedCurrencies=e}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)o.accountAllowedTypes=this.options.accountAllowedTypes;else{let e="";for(const o in this.options.accountAllowedTypes)e+=this.options.accountAllowedTypes[o]+",";e=e.slice(0,e.lastIndexOf(",")),o.accountAllowedTypes=e}return o}fetchAccountBasedOnCurrency(e){return this.options.listOfAccounts}onChange(e){this.logger.log(e)}populateOwnAccountMap(){let e={},o={},t={};e={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},o={key:"currentBalance",value:"0.0",isEdit:!1},t={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",e),this.labelValuesMap.set("balance_key",o),this.labelValuesMap.set("available_balance_key",t)}onChangeItem(e){this.onAccountChange.emit(e)}onDeleteItem(e){e&&this.onAccountDeleted.emit(e)}handleMultipleSelection(){const e=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(e=>this.options.requestObject[this.options.fcName].some(o=>o.accountNumber==e.accountNumber)):[];this.complexLookupOptions.selectedItems=e.filter(e=>this.options.setAllAccountsAsSelecetd&&(!e.excludeType||!(e.excludeType.includes(c.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||e.excludeType.includes(c.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!this.options.setAllAccountsAsSelecetd).map(e=>Object.assign(Object.assign({item:e[e.previewProperty]},e),{itemLookup:e.lookupKey})),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}removeAccount(e){e&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(o=>e.accountNumber!=o.accountNumber):[])}reset(){this.complexLookupComponentObj.resetLookUp()}refreshAcounts(e){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(e)}}return e.\u0275fac=function(o){return new(o||e)(s.Rb(h.a),s.Rb(l.a),s.Rb(p.a),s.Rb(i.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(e,o){if(1&e&&s.Wc(f,1),2&e){let e;s.Bc(e=s.gc())&&(o.complexLookupComponentObj=e.first)}},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[s.Cb,s.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(e,o){1&e&&(s.Xb(0,"ps-container-complex",0),s.Xb(1,"ps-complex-lookup",1,2),s.fc("changeItem",function(e){return o.onChangeItem(e)})("onDeleteItem",function(e){return o.onDeleteItem(e)}),s.Wb(),s.Wb()),2&e&&(s.Fb(1),s.pc("id",o.id)("options",o.complexLookupOptions))},directives:[m.a,d.a],styles:[""]}),e})()},y9pH:function(e,o,t){"use strict";t.r(o),t.d(o,"ChequebookRequestPage",function(){return R});var n=t("3Pt+"),s=t("OVQh"),i=t("V0Fi"),c=t("0CJq"),p=t("ZyuK"),a=t("f42Q"),r=t("DFXC"),l=t("zngb"),u=t("woXy"),h=t("Q0Ba"),m=t("fOh1"),d=t("gKqT"),f=t("fXoL"),O=t("kRg/"),b=t("uKCV"),y=t("sAFK"),g=t("+f2X"),_=t("ggmK"),C=t("VEWP"),N=t("L+qP"),v=t("ofXK"),k=t("wJnc"),A=t("WAnK"),P=t("ULj9"),T=t("/QlS"),D=t("y70R"),I=t("lE2x"),L=t("41l2");let S=(()=>{class e extends L.a{constructor(e,o){super(e,o),this.defaultSelectOptions={iconLocation:I.a.CLIENT_ASSETS_CONFIG.IMGS_FOLDER_URL,lovTypeId:i.a.DESTINATIONBRANCH_LOV_ID}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("delivery_location_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_delivery_location_key")}onChangeLov(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(o){return new(o||e)(f.Rb(h.a),f.Rb(r.a))},e.\u0275cmp=f.Lb({type:e,selectors:[["ps-lov-destination-branch"]],inputs:{options:"options"},features:[f.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(f.Xb(0,"ps-dropdown-lov",0),f.fc("onPsChange",function(e){return o.onChangeLov(e)}),f.Wb()),2&e&&f.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[L.a],styles:[""]}),e})();var w=t("iTqn");function q(e,o){if(1&e&&f.Sb(0,"ps-input-display-only",19),2&e){const e=f.ic(2);f.pc("options",e.branchOptions)}}function B(e,o){if(1&e){const e=f.Yb();f.Xb(0,"ps-lov-destination-branch",20),f.fc("onPsChange",function(o){return f.Fc(e),f.ic(2).onBranchChange(o)}),f.Wb()}if(2&e){const e=f.ic(2);f.pc("options",e.destinationBranchOptions)}}function E(e,o){if(1&e){const e=f.Yb();f.Xb(0,"ps-form-step",4),f.Xb(1,"ps-container-panel",5),f.Sb(2,"ps-input-display-only",6),f.Xb(3,"ps-lookup-own-accounts",7),f.fc("onAccountChange",function(o){return f.Fc(e),f.ic().onAccountChange(o)}),f.Wb(),f.Xb(4,"ps-dropdown-chequebook-types",8),f.fc("onPsChange",function(o){return f.Fc(e),f.ic().ontypesChange(o)}),f.Wb(),f.Pc(5,q,1,1,"ps-input-display-only",9),f.Pc(6,B,1,1,"ps-lov-destination-branch",10),f.Sb(7,"ps-input-display-only",11),f.Sb(8,"ps-dropdown-allowed-languages",12),f.Xb(9,"ps-input-numeric",13),f.fc("wheel",function(e){return e.preventDefault()}),f.Wb(),f.Wb(),f.Xb(10,"ps-container-panel",14),f.Xb(11,"ps-complex-select-branch",15),f.fc("onPsChange",function(o){return f.Fc(e),f.ic().onSelectBranch(o)}),f.Wb(),f.Wb(),f.Xb(12,"ps-container-panel",16),f.Sb(13,"ps-input-varchar",17),f.Xb(14,"ps-complex-id-details",18),f.fc("onPsChange",function(o){return f.Fc(e),f.ic().onItemChange(o)}),f.Wb(),f.Wb(),f.Wb()}if(2&e){const e=f.ic();f.pc("id",e.stepperOptions.namesofSteps[0]),f.Fb(1),f.pc("options",e.panelOptions1Step1),f.Fb(1),f.pc("options",e.nameOptions),f.Fb(1),f.pc("options",e.accountListOptions),f.Fb(1),f.pc("options",e.chequebookTypeOptions),f.Fb(1),f.pc("ngIf",e.enableCifBranch),f.Fb(1),f.pc("ngIf",!e.enableCifBranch),f.Fb(1),f.pc("options",e.noOfLeaves),f.Fb(1),f.pc("options",e.optionsPreferredLanguage),f.Fb(1),f.pc("options",e.noOfchequeBooks),f.Fb(1),f.pc("options",e.panelOptions2Step1),f.Fb(1),f.pc("options",e.selectBranchOptions),f.Fb(1),f.pc("options",e.panelOptions1Step2),f.Fb(1),f.pc("options",e.collecterNameOptions),f.Fb(1),f.pc("options",e.complexIdDetailsOptions)}}function x(e,o){if(1&e&&(f.Vb(0),f.Sb(1,"ps-map-atm-branches",21),f.Ub()),2&e){const e=f.ic();f.Fb(1),f.pc("options",e.mapAtmBranchesOptions)}}let R=(()=>{class e extends d.OmniBasePage{constructor(e,o,t,i,c,p){super(),this.commonProv=e,this.loggerP=o,this.omniPull=t,this.eventEmitterService=i,this.commonService=c,this.navService=p,this.formGroup=new n.f({}),this.chequebookVO={},this.stepperOptions={stepperName:"cheq_req_stepper",isHorizontalStepper:!0,numberOfSteps:2,namesofSteps:["cheque_req_step1","cheque_req_step2"],group:this.formGroup,submitOptions:{extraParams:{},submitServiceUrl:m.a.serviceUrl.chequeBookRequest,group:this.formGroup},requestObject:this.chequebookVO},this.inputAmountOptions={labelKey:"Amount_key",placeHolder:"enter_your_amount_key",fcName:"inputAmount",group:this.formGroup,type:"amount",decimalPoints:3},this.currencyOptions={labelKey:"currency_key",placeHolder:"currency_key",group:this.formGroup,fcName:"currency"},this.noOfLeaves={labelKey:"number_of_leaves_key",placeHolder:"number_of_leaves_key",group:this.formGroup,fcName:"noOfLeaves"},this.noOfchequeBooks={labelKey:"number_of_chequebooks_key",placeHolder:"number_of_chequebooks_key",group:this.formGroup,fcName:"noOfChequeBooks",allowDecimal:!1},this.collecterNameOptions={labelKey:"collector_name_key",placeHolder:"collector_name_key",group:this.formGroup,fcName:"collectorName"},this.accountListOptions={labelKey:"account_no_key",placeHolder:"select_account_no_key",component:s.a,currency:"USD",group:this.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"savingAccNo",accountType:"G",fromTo:"from",requestObject:this.chequebookVO},this.preferredLanguageOptions={fcName:"lang",group:this.formGroup,labelKey:"chequebook_language_key",placeHolder:"select_chequebook_lang_key"},this.idTypeOptions={fcName:"id_types",group:this.formGroup},this.panelOptions1Step1={isExpandable:!0,labelKey:"chequebook_details_key",iconName:"document",expanded:!0},this.panelOptions1Step2={isExpandable:!0,labelKey:"collector_details_key",iconName:"document",expanded:!1},this.panelOptions2Step1={isExpandable:!0,labelKey:"select_branch_key",iconName:"document",expanded:!0},this.nameOptions={placeHolder:"name_to_be_printed_key",labelKey:"name_to_be_printed_key",group:this.formGroup,fcName:"nameToBePrinted",disablePreview:!0},this.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:this.formGroup},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber",group:this.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate",group:this.formGroup},countriesOptions:{placeHolder:"country_of_issuance_key",labelKey:"country_of_issuance_key",fcName:"country",group:this.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate",group:this.formGroup}},this.chequebookTypeOptions={group:this.formGroup,fcName:"chequeBookTypes"},this.branchOptions={placeHolder:"get_cif_branch_frm_session_key",labelKey:"branch_key",group:this.formGroup,fcName:"branchName",disablePreview:!0},this.destinationBranchOptions={group:this.formGroup,fcName:"destinationBranch"},this.optionsPreferredLanguage={fcName:"lang",group:this.formGroup,labelKey:"chequebook_language_key",placeHolder:"select_chequebook_lang_key"},this.selectBranchOptions={fcName:"mapAtmBranchesDropdown",group:this.formGroup},this.enableCifBranch=!0,this.showDestinationBranch=!0}ngOnInit(){super.init(),this.cifInfo=this.commonProv.session.getValueOf(l.a.USERINFO),this.mapAtmBranchesOptions={group:this.formGroup,fcName:"mapAtmBranches",labelKey:"map_atm_branch_key",mapOptions:{labelKey:"map"},showSegments:!1,mapTypesInclude:"'B'",branchIds:"1,3,5",parameterToCheck:i.a.COLLECTIONBRANCH,requestVO:this.chequebookVO}}ionViewDidEnter(){super.ionViewDidEnter(),this.omniPull.getParamValOf(i.a.COLLECTIONBRANCH).then(e=>{-1!==e&&e.CollectionBranch===i.a.END_USER_INPUT_ID?(this.commonService.branchSelectionAndMapControl(1,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:this.mapAtmBranchesOptions.fcName},{fcName:"cheq_req_panel3"}],!0),this.enableCifBranch=!1,this.branchType=e.CollectionBranch):(this.branchType=e.CollectionBranch,this.enableCifBranch=!0,this.commonService.branchSelectionAndMapControl(0,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:this.mapAtmBranchesOptions.fcName},{fcName:"cheq_req_panel3"}],!0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.destinationBranchOptions.fcName],0),this.commonProv.setValInsideNestedObj(this.branchOptions.fcName,this.cifInfo.cifBranch?this.cifInfo.customerInfoCO.branchBriefDesc:"",this.chequebookVO),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[this.branchOptions.fcName],1))}).catch(e=>{}),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.mapAtmBranchesOptions.fcName],0);const e=new Map;e.set(this.noOfchequeBooks.fcName,this.commonProv.prepareValidation(!1,null,!1,1,null,null,2)),this.commonProv.setDefaultValidators(e,this.formGroup),this.commonProv.copyObject(this.stepperOptions.submitOptions.extraParams,{branch:this.cifInfo.customerInfoCO?this.cifInfo.customerInfoCO.branchCode:""},!1,!0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.branchOptions.fcName],0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,[this.noOfLeaves.fcName],0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[this.nameOptions.fcName],1),this.cifInfo.customerInfoCO.longName&&this.commonProv.setValInsideNestedObj(this.nameOptions.fcName,this.cifInfo.customerInfoCO.longName,this.chequebookVO),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MINLENGTH,[this.optionsPreferredLanguage.fcName],2),this.baseFormGroup=this.formGroup}onSelectBranch(e){void 0!==e.itemValue&&(this.formGroup.controls[this.selectBranchOptions.fcName].setValue(e),this.commonProv.setValInsideNestedObj(this.selectBranchOptions.fcName,e.selectedObj,this.chequebookVO))}onChange(e){}onItemChange(e){}onBranchChange(e){e&&e.description&&e.description.indexOf(i.a.DESTINATIONBRANCH_OPTION)>-1?(this.showDestinationBranch=!0,this.commonService.branchSelectionAndMapControl(1,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:this.mapAtmBranchesOptions.fcName},{fcName:"cheq_req_panel3"}],!0)):(this.showDestinationBranch=!1,this.commonService.branchSelectionAndMapControl(0,[{fcName:this.stepperOptions.namesofSteps[1]},{fcName:this.mapAtmBranchesOptions.fcName},{fcName:"cheq_req_panel3"}],!0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MANDATORY,["mapBranchInput"],0))}onAccountChange(e){this.branchType===i.a.ACCOUNT_BRANCH_ID&&e&&e.branchDescription&&(this.commonProv.setValInsideNestedObj(this.branchOptions.fcName,e.branchDescription?e.branchDescription:"",this.chequebookVO),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[this.branchOptions.fcName],1))}getBranchDesc(e){try{this.omniPull.returnBranchesList({branchesIdList:e}).then(e=>{e&&null!=e.gridModel&&e.gridModel.length>0||this.loggerP.warn(e,"empty response")}).catch(e=>{})}catch(o){}}ontypesChange(e){e&&e.selectedObj&&e.selectedObj.numberOfCheques&&this.commonProv.setValInsideNestedObj(this.noOfLeaves.fcName,e.selectedObj.numberOfCheques,this.chequebookVO)}}return e.\u0275fac=function(o){return new(o||e)(f.Rb(h.a),f.Rb(r.a),f.Rb(p.a),f.Rb(a.a),f.Rb(c.a),f.Rb(u.a))},e.\u0275cmp=f.Lb({type:e,selectors:[["app-chequebook-request"]],features:[f.Cb],decls:4,vars:5,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id"],[4,"psStep"],["step1","",3,"id"],["id","cheq_req_panel1",3,"options"],["id","name_to_be_printed",3,"options"],["id","cheq_req_transfer_from",3,"options","onAccountChange"],["id","'cheq_req_transfer_to",3,"options","onPsChange"],["id","account_cif_branch",3,"options",4,"ngIf"],["id","cheq_destination_branch",3,"options","onPsChange",4,"ngIf"],["id","no_of_leaves_cheq",3,"options"],[3,"options"],["id","number_of_cheqbooks",3,"options","wheel"],["id","cheq_req_panel3",3,"options"],[3,"options","onPsChange"],["id","cheq_req_panel2",3,"options"],["id","collector_name",3,"options"],["id","complex_id_details",3,"options","onPsChange"],["id","account_cif_branch",3,"options"],["id","cheq_destination_branch",3,"options","onPsChange"],[1,"component-map-container",3,"options"]],template:function(e,o){1&e&&(f.Xb(0,"ps-template-stepper",0),f.Pc(1,E,15,15,"ps-form-step",1),f.Xb(2,"ps-form-step",2),f.Pc(3,x,2,1,"ng-container",3),f.Wb(),f.Wb()),2&e&&(f.pc("options",o.stepperOptions)("id",o.stepperOptions.stepperName),f.Fb(1),f.pc("psStep","step1"),f.Fb(1),f.pc("id",o.stepperOptions.namesofSteps[1]),f.Fb(1),f.pc("psStep","step2"))},directives:[O.a,b.a,y.a,g.a,_.a,C.a,N.a,v.o,k.a,A.a,P.a,T.a,D.a,S,w.a],styles:[""]}),e})()}}]);