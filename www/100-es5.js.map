{"version":3,"sources":["webpack:///src/app/pages/sweeping-and-pooling/sweeping-and-pooling.page.scss","webpack:///src/app/pages/sweeping-and-pooling/sweeping-and-pooling.page.ts","webpack:///src/app/pages/sweeping-and-pooling/sweeping-and-pooling.page.html"],"names":["SweepingAndPoolingPage","commonService","logger","omniPull","navService","formGroup","sweepingAndPoolingVO","exchangeRate","amountInToAccountAmount","stepperOptions","stepperName","isHorizontalStepper","numberOfSteps","namesofSteps","group","submitOptions","submitServiceUrl","serviceUrl","sweepingAndPoolingRequestEndPoint","requestObject","panelSweepingOptions","isExpandable","labelKey","expanded","panelPeriodicityOptions","instructionMethodOptions","fcName","instructionTypeOptions","targetAccountListOptions","placeHolder","component","accountAllowedCurrencies","accountAllowedTypes","glTypes","accountType","fromTo","coveringAccountListOptions","receivingAccountListOptions","schedulerOptions","periodaicityInputCountOptions","complexExchangeOptions","editableMode","showToCurrencyOptions","fromAmountOptions","currency","currenciesOptions","amountOptions","decimalPoints","toAmountOptions","showIsMinimumOrMax","hideDates","defaultFormat","filterDate","fromDate","displayFormat","toDate","toAccountComponent","showDate","showMinimumtoAccount","showReceivingAccount","showCoveringAccount","showsheduler","ngOnInit","baseFormGroup","navParams","getAllParams","commonProv","copyObject","ScreenVO","applyDynScreenDisplay","ACTION_TYPE_VISIBLE","ngAfterViewInit","isEditScreen","setValInsideNestedObj","instructionMethodCode","instructionTypeCode","INSTRUCTION_TYPE_MIN","INSTRUCTION_TYPE_AUTO","toAccount","targetAccAdditonalRef","onFromAccountChange","fromAccount","currencyCode","setTimeout","ACTION_TYPE_READONLY","accountNumber","toAccountRef","refreshAcounts","fromAccountRef","callCurrencyCombinationValidateService","onToAccountChange","undefined","targetAccountRef","onChangeSchedule","value","stateDay","priodicityBy","SINGLE_FUTURE_DATE","RECURRING_MONTHLY","startDate","getDay","getDate","RECURRING_WEEKLY","onInstructionChange","event","reset","exchangeRateRef","itemValue","onInstructionMethodChange","INSTRUCTION_METHOD_OFFLINE_CODE","account","VALIDATE_COMBINATION","validationRequest","fromCurrency","listOfAffectedFields","screenVO","listOfAccounts","toCurrency","push","validateCurrencyCombination","fromDateCust","getElementValidations","toDateCust","ACTION_TYPE_MANDATORY","IS_MANDATORY","selector","template"],"mappings":"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","file":"100-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzd2VlcGluZy1hbmQtcG9vbGluZy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { PsAccountsListComponent } from 'src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component';\nimport { IOptionsPSComplexDateFilter } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-date-filter/ps-complex-date-filter.component.interfaces';\nimport { PsComplexExchangeComponent } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-exchange/ps-complex-exchange.component';\nimport { IOptionsPsComplexExchnageExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-exchange/ps-complex-exchange.component.interfaces';\nimport { IOptionsPSComplexRecurringSchedulerExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-recurring-scheduler/ps-complex-recurring-scheduler.component.interfaces';\nimport { IOptionsPsLookupOwnAccountsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-lookup/ps-lookup-own-accounts/ps-lookup-own-accounts.component.interfaces';\nimport { IOptionsPsLovInstructionMethodExposed } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-instruction-method/ps-lov-instruction-method.component.interfaces';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { IValidateCurrencyCombination } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IOptionsPsContainerPanel, IOptionsTemplateStepper } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\n\n\n@Component({\n  selector: 'app-sweeping-and-pooling',\n  templateUrl: './sweeping-and-pooling.page.html',\n  styleUrls: ['./sweeping-and-pooling.page.scss'],\n})\nexport class SweepingAndPoolingPage extends OmniBasePage implements OnInit {\n  public formGroup: FormGroup = new FormGroup({});\n  public sweepingAndPoolingVO: any = {};\n  public exchangeRate = '0.00';\n  public amountInToAccountAmount = '0.00';\n  @ViewChild(PsComplexExchangeComponent) exchangeChild: PsComplexExchangeComponent;\n  @ViewChild('toAccountRef') toAccountRef;\n  @ViewChild('fromAccountRef') fromAccountRef;\n  @ViewChild('targetAccountRef') targetAccountRef;\n  @ViewChild('exchangeRateRef') exchangeRateRef;\n\n  stepperOptions: IOptionsTemplateStepper = {\n    stepperName: 'sweeping_and_pooling_key',\n    isHorizontalStepper: true,\n    numberOfSteps: 2,\n    namesofSteps: [\n      'sweeping_and_pooling_step1_key',\n      'periodicity_step2_key',\n    ],\n    group: this.formGroup,\n    submitOptions: {\n      submitServiceUrl: PsCommonBusinessSettings.serviceUrl.sweepingAndPoolingRequestEndPoint,\n      group: this.formGroup,\n    },\n    requestObject: this.sweepingAndPoolingVO,\n  };\n  public panelSweepingOptions: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'sweeping_and_pooling_main_details_key',\n    expanded: true\n  };\n  public panelPeriodicityOptions: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'periodicity_details_key',\n    expanded: true\n  };\n  instructionMethodOptions: IOptionsPsLovInstructionMethodExposed = {\n    group: this.formGroup,\n    fcName: 'instructionMethod',\n  };\n  instructionTypeOptions: IOptionsPsLovInstructionMethodExposed = {\n    group: this.formGroup,\n    fcName: 'instructionType',\n  };\n  public targetAccountListOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'target_account_key',\n    placeHolder: 'target_account_key',\n    component: PsAccountsListComponent,\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: 'G',\n    fcName: 'fromAccount',\n    accountType: 'G',\n    fromTo: 'from',\n    requestObject: this.sweepingAndPoolingVO,\n  };\n  public coveringAccountListOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'covering_account_key',\n    placeHolder: 'covering_account_key',\n    component: PsAccountsListComponent,\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: 'G',\n    fcName: 'toAccount',\n    accountType: 'G',\n    fromTo: 'from',\n    requestObject: this.sweepingAndPoolingVO,\n  };\n\n  public receivingAccountListOptions: IOptionsPsLookupOwnAccountsExposed = {\n    labelKey: 'receiving_account_key',\n    placeHolder: 'receiving_account_key',\n    component: PsAccountsListComponent,\n    group: this.formGroup,\n    accountAllowedCurrencies: [],\n    accountAllowedTypes: [],\n    glTypes: 'G',\n    fcName: 'toAccount',\n    accountType: 'G',\n    fromTo: 'to',\n    requestObject: this.sweepingAndPoolingVO,\n  };\n\n  public schedulerOptions: IOptionsPSComplexRecurringSchedulerExposed = {\n    fcName: 'psScheduler',\n    group: this.formGroup,\n    periodaicityInputCountOptions: {\n      fcName: 'noOfPayments',\n    },\n    requestObject: this.sweepingAndPoolingVO,\n  };\n  public complexExchangeOptions: IOptionsPsComplexExchnageExposed = {\n    editableMode: false,\n    showToCurrencyOptions: true,\n    fromAmountOptions: {\n      currency: '',\n      currenciesOptions: {\n        placeHolder: 'currency_key',\n        labelKey: 'currency_key',\n        fcName: 'fromCurrency',\n        group: this.formGroup\n      },\n      amountOptions: {\n        labelKey: 'amount_key',\n        placeHolder: 'enter_amount_key',\n        fcName: 'transactionAmount',\n        group: this.formGroup,\n        decimalPoints: 2\n      }\n    },\n    toAmountOptions: {\n      currency: '',\n      currenciesOptions: {\n        placeHolder: 'currency_key',\n        labelKey: 'currency_key',\n        fcName: 'currency',\n        group: this.formGroup\n      },\n      amountOptions: {\n        labelKey: 'exchange_amount_key',\n        placeHolder: 'enter_amount_key',\n        fcName: 'toAmount',\n        group: this.formGroup,\n        decimalPoints: 2\n      }\n    },\n    requestObject: this.sweepingAndPoolingVO,\n    group: this.formGroup\n  };\n\n  instructionType: any;\n  showIsMinimumOrMax = false;\n  hideDates = true;\n\n  defaultFormat: any = 'MM/DD/YYYY';\n  filterDate: IOptionsPSComplexDateFilter = {\n    fromDate: {\n      group: this.formGroup,\n      fcName: 'filterFromDate',\n      displayFormat: this.defaultFormat,\n      placeHolder: 'from_date_key',\n    },\n    toDate: {\n      group: this.formGroup,\n      fcName: 'filterToDate',\n      displayFormat: this.defaultFormat,\n      placeHolder: 'to_date_key',\n    }\n  };\n\n  public toAccountComponent: any = {};\n  showDate = false;\n  showMinimumtoAccount = false;\n  showReceivingAccount = false;\n  showCoveringAccount = false;\n  showsheduler: boolean = false;\n\n  constructor(\n    public commonService: PsCommonService,\n    public logger: LoggerService,\n    public omniPull: OmniPullService,\n    private navService: PsNavigatorService) {\n    super();\n  }\n\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    const navParams = this.navService.getAllParams();\n    this.commonProv.copyObject(this.sweepingAndPoolingVO, navParams?.ScreenVO ? navParams.ScreenVO : navParams);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.stepperOptions.namesofSteps[1]], 0, true);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.stepperOptions.requestObject && this.stepperOptions.requestObject.isEditScreen === true) {\n      this.commonProv.setValInsideNestedObj(this.instructionMethodOptions.fcName, this.sweepingAndPoolingVO.instructionMethodCode, this.stepperOptions.requestObject);\n      this.commonProv.setValInsideNestedObj(this.instructionTypeOptions.fcName, this.sweepingAndPoolingVO.instructionTypeCode, this.stepperOptions.requestObject);\n      if (this.sweepingAndPoolingVO.instructionTypeCode === CommonBussinessConstant.INSTRUCTION_TYPE_MIN || this.sweepingAndPoolingVO.instructionTypeCode === CommonBussinessConstant.INSTRUCTION_TYPE_AUTO) {\n        this.commonProv.setValInsideNestedObj(this.coveringAccountListOptions.fcName, this.sweepingAndPoolingVO?.toAccount, this.stepperOptions.requestObject);\n      } else {\n        this.commonProv.setValInsideNestedObj(this.receivingAccountListOptions.fcName, this.sweepingAndPoolingVO?.toAccount, this.stepperOptions.requestObject);\n      }\n      this.commonProv.setValInsideNestedObj('toAccount_lookupKey', this.sweepingAndPoolingVO.toAccount, this.stepperOptions.requestObject);\n      this.commonProv.setValInsideNestedObj(this.targetAccountListOptions.fcName, this.sweepingAndPoolingVO?.targetAccAdditonalRef, this.stepperOptions.requestObject);\n      this.commonProv.setValInsideNestedObj('fromAccount_lookupKey', this.sweepingAndPoolingVO.targetAccAdditonalRef, this.stepperOptions.requestObject);\n\n    }\n  }\n\n  public onFromAccountChange(fromAccount) {\n    this.complexExchangeOptions.fromAmountOptions.currencyCode = fromAccount.currency;\n    setTimeout(() => {\n      this.stepperOptions.requestObject[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName] = fromAccount.currency;\n    }, 1);\n\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.toAmountOptions.amountOptions.fcName], 1);\n\n    if (this.showReceivingAccount) {\n      this.receivingAccountListOptions.accountNumber = fromAccount.accountNumber;\n      this.toAccountRef.refreshAcounts(this.receivingAccountListOptions);\n    } else if (this.showCoveringAccount) {\n      this.coveringAccountListOptions.accountNumber = fromAccount.accountNumber;\n      this.fromAccountRef.refreshAcounts(this.coveringAccountListOptions);\n    }\n    this.callCurrencyCombinationValidateService(fromAccount);\n  }\n\n  public onToAccountChange(toAccount) {\n    this.complexExchangeOptions.toAmountOptions.currencyCode = toAccount.currency;\n    setTimeout(() => {\n      this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName] = toAccount.currency;\n    }, 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.complexExchangeOptions.toAmountOptions.amountOptions.fcName], 1);\n\n    if (this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName] == null ||\n      this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName] == undefined)\n      this.targetAccountListOptions.accountNumber = toAccount.accountNumber;\n    this.targetAccountRef.refreshAcounts(this.targetAccountListOptions);\n    this.callCurrencyCombinationValidateService(toAccount);\n\n  }\n\n  onChangeSchedule(value) {\n    let stateDay;\n    if (this.navService.getAllParams().ScreenVO === undefined) {\n      if (value !== undefined) {\n        if (value.priodicityBy === CommonBussinessConstant.SINGLE_FUTURE_DATE || value.priodicityBy === CommonBussinessConstant.RECURRING_MONTHLY) {\n          stateDay = value.startDate.getDay() + 1;\n          if (value.priodicityBy === CommonBussinessConstant.SINGLE_FUTURE_DATE) {\n            this.sweepingAndPoolingVO['submitType'] = '4';\n          } else {\n            stateDay = value.startDate.getDate();\n            this.sweepingAndPoolingVO['submitType'] = '5';\n          }\n        }\n        if (value.priodicityBy === CommonBussinessConstant.RECURRING_WEEKLY) {\n          stateDay = value.startDate.getDay() + 1;\n          this.sweepingAndPoolingVO['submitType'] = '5';\n        }\n      }\n      this.sweepingAndPoolingVO['day'] = stateDay\n    }\n  }\n\n  onInstructionChange(event) {\n    if (event != null && event !== undefined) {\n      if (this.sweepingAndPoolingVO[this.coveringAccountListOptions.fcName] || this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName]) {\n        this.targetAccountRef?.reset();\n        this.toAccountRef?.reset();\n        this.fromAccountRef?.reset();\n        this.exchangeRateRef?.reset();\n        this.targetAccountListOptions.accountNumber = null;\n        this.coveringAccountListOptions.accountNumber = null;\n        this.receivingAccountListOptions.accountNumber = null;\n      }\n\n      if (event.itemValue === CommonBussinessConstant.INSTRUCTION_TYPE_MIN || event.itemValue === CommonBussinessConstant.INSTRUCTION_TYPE_AUTO) {\n        this.commonProv.copyObject(this.targetAccountListOptions, {\n          fromTo: 'to',\n        }, false);\n        if (this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName] !== undefined && this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName] != null) {\n          this.coveringAccountListOptions.accountNumber = this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName].accountNumber;\n        }\n        this.showCoveringAccount = true;\n        this.showReceivingAccount = false;\n        this.showIsMinimumOrMax = event.itemValue === CommonBussinessConstant.INSTRUCTION_TYPE_MIN;\n      } else {\n        this.commonProv.copyObject(this.targetAccountListOptions, {\n          fromTo: 'from',\n        }, false);\n        if (this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName] !== undefined\n          && this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName] != null) {\n          this.receivingAccountListOptions.accountNumber = this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName].accountNumber;\n        }\n        this.showReceivingAccount = true;\n        this.showCoveringAccount = false;\n        this.showIsMinimumOrMax = true;\n      }\n    }\n  }\n\n\n  onInstructionMethodChange(event) {\n    if (event.itemValue === CommonBussinessConstant.INSTRUCTION_METHOD_OFFLINE_CODE) {\n      this.stepperOptions.numberOfSteps = 2;\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.stepperOptions.namesofSteps[1]], 1, true);\n      this.showDate = false;\n      this.showsheduler = true;\n\n      this.schedulerOptions.requestObject = this.sweepingAndPoolingVO;\n    } else {\n      this.showDate = true;\n      this.stepperOptions.numberOfSteps = 1;\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.stepperOptions.namesofSteps[1]], 0, true);\n      this.showsheduler = false;\n    }\n\n  }\n\n  //added by Marina-Jira-AZDB-252; to check currency combination validation\n  callCurrencyCombinationValidateService(account) {\n    if (account[ConstantCommon.VALIDATE_COMBINATION]) {\n      //check if both from account and to account are defined to avoid unnecessary service calls\n      if (this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName]\n        && (this.sweepingAndPoolingVO[this.receivingAccountListOptions.fcName] || this.sweepingAndPoolingVO[this.coveringAccountListOptions.fcName])) {\n        let validationRequest: IValidateCurrencyCombination = {\n          fromCurrency: this.sweepingAndPoolingVO[this.targetAccountListOptions.fcName].currency,\n          listOfAffectedFields: [this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName, this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName],\n          screenVO: this.sweepingAndPoolingVO,\n          listOfAccounts: [this.targetAccountRef]\n        };\n        //in case of receiving account, add receiving account data to request\n        if (this.showReceivingAccount) {\n          validationRequest.toCurrency = this.sweepingAndPoolingVO[this.receivingAccountListOptions.fcName].currency;\n          validationRequest.listOfAffectedFields.push(this.receivingAccountListOptions.fcName);\n          validationRequest.listOfAccounts.push(this.toAccountRef);\n        }\n        //else, add covering account data to request\n        else {\n          validationRequest.toCurrency = this.sweepingAndPoolingVO[this.coveringAccountListOptions.fcName].currency;\n          validationRequest.listOfAffectedFields.push(this.coveringAccountListOptions.fcName);\n          validationRequest.listOfAccounts.push(this.fromAccountRef);\n        }\n        //check that both from and to currencies are defined before calling validation service\n        if (validationRequest.fromCurrency && validationRequest.toCurrency) {\n          if (this.exchangeRateRef) {\n            validationRequest.listOfAccounts.push(this.exchangeRateRef);\n          }\n          this.omniPull.validateCurrencyCombination(validationRequest);\n        }\n      }\n      //Added by ghada, AZDB-1666 for fixing the issue of having from date and to date controls being invalid on submit although they 're not exist on the screen\n      const fromDateCust = this.commonProv.getElementValidations(this.filterDate.fromDate.fcName)\n      const toDateCust = this.commonProv.getElementValidations(this.filterDate.toDate.fcName)\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.filterDate.fromDate.fcName], this.showDate && fromDateCust.IS_MANDATORY)\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.filterDate.toDate.fcName], this.showDate && toDateCust.IS_MANDATORY)\n\n    }\n  }\n}","export default \"<ps-template-stepper [options]=\\\"stepperOptions\\\" [id]=\\\"stepperOptions.stepperName\\\">\\n  <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"stepperOptions.namesofSteps[0]\\\">\\n    <ps-container-panel [options]=\\\"panelSweepingOptions\\\" id=\\\"sweeping_panel\\\">\\n      <ps-lov-instruction-method [options]=\\\"instructionMethodOptions\\\" (onPsChange)=\\\"onInstructionMethodChange($event)\\\">\\n      </ps-lov-instruction-method>\\n\\n      <ps-lov-instruction-type [options]=\\\"instructionTypeOptions\\\" (onPsChange)=\\\"onInstructionChange($event)\\\">\\n      </ps-lov-instruction-type>\\n\\n        <ng-container *ngIf=\\\"showCoveringAccount\\\">\\n          <ps-lookup-own-accounts  #targetAccountRef id=\\\"'transferFrom'+ id\\\" [options]=\\\"targetAccountListOptions\\\"\\n          (onAccountChange)=\\\"onFromAccountChange($event)\\\"></ps-lookup-own-accounts>\\n          <ps-lookup-own-accounts  id=\\\"'transferTo'+ id\\\" #fromAccountRef\\n          [options]=\\\"coveringAccountListOptions\\\" (onAccountChange)=\\\"onToAccountChange($event)\\\">\\n        </ps-lookup-own-accounts>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"showReceivingAccount\\\">\\n          <ps-lookup-own-accounts  #targetAccountRef id=\\\"'transferFrom'+ id\\\" [options]=\\\"targetAccountListOptions\\\"\\n          (onAccountChange)=\\\"onFromAccountChange($event)\\\"></ps-lookup-own-accounts>\\n          <ps-lookup-own-accounts id=\\\"'transferTo'+ id\\\" #toAccountRef\\n          [options]=\\\"receivingAccountListOptions\\\" (onAccountChange)=\\\"onToAccountChange($event)\\\">\\n        </ps-lookup-own-accounts>\\n\\n        </ng-container>\\n\\n    <ps-complex-exchange *ngIf=\\\"showIsMinimumOrMax\\\" #exchangeRateRef [options]=\\\"complexExchangeOptions\\\"></ps-complex-exchange>\\n\\n      <ps-complex-date-filter id=\\\"filterDate\\\" [options]=\\\"filterDate\\\" *ngIf=\\\"showDate\\\"></ps-complex-date-filter>\\n\\n    </ps-container-panel>\\n  </ps-form-step>\\n  <ps-form-step *psStep=\\\"'step2'\\\" step2 [id]=\\\"stepperOptions.namesofSteps[1]\\\">\\n    <ps-container-panel [options]=\\\"panelPeriodicityOptions\\\" id=\\\"periodicity_panel\\\">\\n      <ps-complex-recurring-scheduler *ngIf=\\\"showsheduler\\\" [options]=\\\"schedulerOptions\\\"\\n        (onPsChange)=\\\"onChangeSchedule($event)\\\">\\n      </ps-complex-recurring-scheduler>\\n    </ps-container-panel>\\n  </ps-form-step>\\n</ps-template-stepper>\";"]}