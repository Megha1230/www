!function(){function e(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function s(o,n,i,c){var s=n&&n.prototype instanceof a?n:a,p=Object.create(s.prototype);return r(p,"_invoke",function(o,n,r){var i,c,s,a=0,p=r||[],l=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,o){return i=t,c=0,s=e,f.n=o,u}};function m(o,n){for(c=o,s=n,t=0;!l&&a&&!r&&t<p.length;t++){var r,i=p[t],m=f.p,h=i[2];o>3?(r=h===n)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=m&&((r=o<2&&m<i[1])?(c=0,f.v=n,f.n=i[1]):m<h&&(r=o<3||i[0]>n||n>h)&&(i[4]=o,i[5]=n,f.n=h,c=0))}if(r||o>1)return u;throw l=!0,n}return function(r,p,h){if(a>1)throw TypeError("Generator is already running");for(l&&1===p&&m(p,h),c=p,s=h;(t=c<2?e:s)||!l;){i||(c?c<3?(c>1&&(f.n=-1),m(c,s)):f.n=s:f.v=s);try{if(a=2,i){if(c||(r="next"),t=i[r]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),c=1);i=e}else if((t=(l=f.n<0)?s:o.call(n,f))!==u)break}catch(t){i=e,c=1,s=t}finally{a=1}}return{value:t,done:l}}}(o,i,c),!0),p}var u={};function a(){}function p(){}function l(){}t=Object.getPrototypeOf;var f=[][i]?t(t([][i]())):(r(t={},i,function(){return this}),t),m=l.prototype=a.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,r(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e}return p.prototype=l,r(m,"constructor",l),r(l,"constructor",p),p.displayName="GeneratorFunction",r(l,c,"GeneratorFunction"),r(m),r(m,c,"Generator"),r(m,i,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(n=function(){return{w:s,m:h}})()}function r(e,t,o,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(r=function(e,t,o,n){function c(t,o){r(e,t,function(e){return this._invoke(t,o,e)})}t?i?i(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o:(c("next",0),c("throw",1),c("return",2))})(e,t,o,n)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function s(e,t,o){return t&&c(e.prototype,t),o&&c(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function a(e,t,o){return t=y(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(e,l()?Reflect.construct(t,o||[],y(e).constructor):t.apply(e,o))}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function f(e,t,o,n){var r=m(y(1&n?e.prototype:e),t,o);return 2&n&&"function"==typeof r?function(e){return r.apply(o,e)}:r}function m(){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,o){var n=h(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:o):r.value}}).apply(null,arguments)}function h(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{"Evj/":function(e,t,o){"use strict";o.r(t),o.d(t,"RequestQrPaymentPage",function(){return E});var n=o("3Pt+"),r=o("OVQh"),c=o("V0Fi"),u=o("ZyuK"),l=o("DFXC"),m=o("zngb"),h=o("QZhd"),y=o("Q0Ba"),d=o("gKqT"),b=o("fXoL"),g=o("kRg/"),v=o("uKCV"),A=o("sAFK"),N=o("+f2X"),k=o("VEWP"),_=o("G/Qj"),C=o("/QlS"),x=o("/M2N");function T(e,t){if(1&e){var o=b.Yb();b.Xb(0,"ps-form-step",2),b.Xb(1,"ps-container-panel",3),b.Sb(2,"ps-lookup-own-accounts",4),b.Sb(3,"ps-complex-amount",5),b.Sb(4,"ps-input-varchar",6),b.Wb(),b.Xb(5,"ps-container-panel",7),b.Sb(6,"ps-complex-exchange",8),b.Xb(7,"ps-lookup-own-accounts",9),b.fc("onAccountChange",function(e){return b.Fc(o),b.ic().onChargesAccountChange(e)}),b.Wb(),b.Wb(),b.Wb()}if(2&e){var n=b.ic();b.pc("id",n.stepperOptions.namesofSteps[0]),b.Fb(1),b.pc("options",n.qrCodeDetailsPanelOptions),b.Fb(1),b.pc("options",n.accountNoOptions),b.Fb(1),b.pc("options",n.qrComplexAmountOption),b.Fb(1),b.pc("options",n.purposeOptions),b.Fb(1),b.pc("options",n.qrCodeChargesPanelOptions),b.Fb(1),b.pc("options",n.complexExchangeOptions),b.Fb(1),b.pc("options",n.chargesAccountListOptions)}}var E=function(){var e=function(e){function t(e,o,c){var s;return i(this,t),(s=a(this,t)).commonService=e,s.logger=o,s.omniPull=c,s.formGroup=new n.f({}),s.qrCodeVO={},s.stepperOptions={stepperName:"request_qr_stepper",isHorizontalStepper:!0,numberOfSteps:1,namesofSteps:["request_qr_code_step1"],group:s.formGroup,submitOptions:{group:s.formGroup,submitServiceUrl:"",preCallFunction:{func:function(e){var t=this;return new Promise(function(o,n){o(t.executionClass.generateQRCode(e))})},executionClass:p(s),params:[p(s)]},extraParams:{actionType:"save"}},requestObject:s.qrCodeVO},s.qrCodeDetailsPanelOptions={isExpandable:!0,labelKey:"qr_code_details_key",expanded:!0},s.qrCodeChargesPanelOptions={isExpandable:!0,labelKey:"qr_code_charges_key",expanded:!0},s.accountNoOptions={labelKey:"account_no_key",placeHolder:"select_account_key",component:r.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"fromAccount",accountType:"G",fromTo:"from",purpose:"QR",requestObject:s.qrCodeVO},s.qrComplexAmountOption={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",group:s.formGroup,fcName:"qrCurrency"},amountOptions:{labelKey:"amount_key",placeHolder:"enter_amount_key",fcName:"transactionAmount",group:s.formGroup,decimalPoints:3}},s.purposeOptions={labelKey:"purpose_key",placeHolder:"enter_purpose_key",group:s.formGroup,fcName:"purpose"},s.chargesAccountListOptions={labelKey:"charges_account_key",placeHolder:"select_charges_account_key",component:r.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"chargesAccount",accountType:"G",fromTo:null,requestObject:s.qrCodeVO,currency:""},s.complexExchangeOptions={editableMode:!1,showToCurrencyOptions:!0,fromAmountOptions:{currency:"",currenciesOptions:{placeHolder:"currency_key",labelKey:"currency_key",fcName:"fromCurrency",group:s.formGroup},amountOptions:{labelKey:"charges_amount_key",placeHolder:"enter_charges_amount_key",fcName:"chargesAmount",group:s.formGroup,decimalPoints:2}},toAmountOptions:{currency:"",currenciesOptions:{placeHolder:"currency_key",labelKey:"exchange_currency_key",fcName:"currency",group:s.formGroup},amountOptions:{labelKey:"exchange_amount_key",placeHolder:"enter_amount_key",fcName:"toAmount",group:s.formGroup,decimalPoints:2}},requestObject:s.qrCodeVO,group:s.formGroup},s}return O(t,e),s(t,[{key:"ngOnInit",value:function(){var e=this;f(t,"init",this,3)([]),this.cifInfo=this.commonProv.session.getValueOf(m.a.USERINFO),this.commonProv.cancelClicked.next(!1),this.omniPull.getParamValOf(c.a.QR_CHARGES_AMOUNT).then(function(t){t&&t[c.a.QR_CHARGES_AMOUNT]&&(e.commonProv.setValInsideNestedObj(e.complexExchangeOptions.fromAmountOptions.amountOptions.fcName,t[c.a.QR_CHARGES_AMOUNT],e.qrCodeVO),e.stepperOptions.requestObject[e.complexExchangeOptions.fromAmountOptions.amountOptions.fcName]=t[c.a.QR_CHARGES_AMOUNT])}),this.commonProv.setValInsideNestedObj(this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName,this.cifInfo.companySettingsCO.baseCurrency,this.qrCodeVO),setTimeout(function(){e.stepperOptions.requestObject[e.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]=e.cifInfo.companySettingsCO.baseCurrency},1),this.commonProv.cancelClicked.subscribe(function(t){t&&e.navigationServices.navigateBackward()})}},{key:"ionViewDidEnter",value:function(){f(t,"ionViewDidEnter",this,3)([]),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_MANDATORY,[this.purposeOptions.fcName],0),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_READONLY,[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName],1),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_READONLY,[this.complexExchangeOptions.fromAmountOptions.amountOptions.fcName],1),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_MANDATORY,[this.complexExchangeOptions.fromAmountOptions.amountOptions.fcName],0),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_READONLY,[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName],1),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_READONLY,[this.complexExchangeOptions.toAmountOptions.amountOptions.fcName],1)}},{key:"onChargesAccountChange",value:function(e){var t=this;this.complexExchangeOptions.toAmountOptions.currency=e.currencyBriefNameEnglish,this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,setTimeout(function(){t.stepperOptions.requestObject[t.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency},1)}},{key:"generateQRCode",value:function(e){var t={AccountRef:this.formGroup.controls[this.accountNoOptions.fcName].value.accountFormat+"-"+this.formGroup.controls[this.accountNoOptions.fcName].value.formattedAccount,AddtionalRef:"AddRef-"+this.formGroup.controls[this.accountNoOptions.fcName].value.additionalRef,purposeTxtDesc:this.formGroup.controls[this.purposeOptions.fcName].value,transactionAmount:this.formGroup.controls[this.qrComplexAmountOption.amountOptions.fcName].value,currency:this.formGroup.controls[this.qrComplexAmountOption.currenciesOptions.fcName].value,showToOtherDetails:!0,toAccountType:"companyAccountTransfer",changeScannedDataToRO:!0};this.logger.log("this.stepperOptions.requestObject",this.stepperOptions.requestObject),this.commonService.generateQRCode(t,c.a.QR_CODE_GENERATION_OPER_ID)}},{key:"updateVO",value:function(e){h.a.oper_ID=c.a.QR_CODE_GENERATION_OPER_ID}}])}(d.OmniBasePage);return e.\u0275fac=function(t){return new(t||e)(b.Rb(y.a),b.Rb(l.a),b.Rb(u.a))},e.\u0275cmp=b.Lb({type:e,selectors:[["app-request-qr-payment"]],features:[b.Cb],decls:2,vars:3,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],["id","qrCode_details_panel",3,"options"],["id","'transferFrom'+ id",3,"options"],["id","charges",3,"options"],["id","'purpose' + id",3,"options"],["id","qrCode_charges_panel",3,"options"],["id","exchange",3,"options"],["id","chargesAccount",3,"options","onAccountChange"]],template:function(e,t){1&e&&(b.Xb(0,"ps-template-stepper",0),b.Pc(1,T,8,8,"ps-form-step",1),b.Wb()),2&e&&(b.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),b.Fb(1),b.pc("psStep","step1"))},directives:[g.a,v.a,A.a,N.a,k.a,_.a,C.a,x.a],styles:[""]}),e}()},VEWP:function(o,r,c){"use strict";c.d(r,"a",function(){return k});var u=c("mrSG"),p=c("fXoL"),l=c("4lGw"),f=c("V0Fi"),m=c("ZyuK"),h=c("ZF3V"),y=c("EIUR"),d=c("DFXC"),b=c("zngb"),g=c("Q0Ba"),v=c("Isd1"),A=c("L0og"),N=["complexLookupComponentObj"],k=function(){var o=function(o){function r(e,t,o,n){var c;return i(this,r),(c=a(this,r,[e,t])).commonService=e,c.omniPull=o,c.accountsService=n,c.options={fromTo:"",requestObject:null},c.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!c.options.multiple&&c.options.multiple},c.onAccountChange=new p.o,c.onAccountDeleted=new p.o,c.labelValuesMap=new Map,c.psCurrency=new y.a,c.labelOptions={},c.allType=!1,c}return O(r,o),s(r,[{key:"ngOnInit",value:function(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}},{key:"ngOnChanges",value:function(e){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}},{key:"loadAccounts",value:function(e){return Object(u.b)(this,void 0,void 0,n().m(function t(){var o,r;return n().w(function(t){for(;;)switch(t.n){case 0:if(null!=e&&(this.options=e),this.options.listOfAccounts=[],void 0!==this.options.fromTo&&""!==this.options.fromTo){t.n=1;break}return t.a(2,void this.logger.error("lookup_from_to_missing_key"));case 1:o=this.commonService.session.getValueOf(b.a.USERINFO),r=this.prepareRequestData(o),this.returnAccountList(r);case 2:return t.a(2)}},t,this)}))}},{key:"returnAccountList",value:function(t){return Object(u.b)(this,void 0,void 0,n().m(function o(){var r,i,c,s,u=this;return n().w(function(o){for(;;)switch(o.n){case 0:return r=this.commonProv.session.getValueOf(f.a.PERSONALIZATION_CO),this.complexLookupOptions.listOfOptions=void 0,o.n=1,this.omniPull.returnAccounts(t).catch(function(e){u.complexLookupOptions.listOfOptions=[],u.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 1:if(!((i=o.v)&&i.gridModel.length>0)){o.n=4;break}if(!this.allType){o.n=3;break}return t.accountType="F",t.permittedGls="F",o.n=2,this.omniPull.returnAccounts(t).catch(function(e){u.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 2:(c=o.v)&&c.gridModel.length>0&&(i.gridModel=[].concat(e(i.gridModel),e(c.gridModel)));case 3:this.options.listOfAccounts=i.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==u.options.accountNumber})),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==u.options.accountNumber}))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map(function(e,t){return e.rowIndex=t}),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)&&(s="QR"===this.options.purpose?null==r?void 0:r.defaultQrPaymentAccKey:null==r?void 0:r.defaultTransferAccKey,this.complexLookupOptions.listOfOptions.map(function(e){e.personalizeKey&&e.personalizeKey===s&&(u.common.setValInsideNestedObj(u.options.fcName,e.lookupKey,u.options.requestObject),u.common.setValInsideNestedObj(u.options.fcName+"_lookupKey",e.lookupKey,u.options.requestObject))})),o.n=5;break;case 4:this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[];case 5:return o.a(2)}},o,this)}))}},{key:"populateCustomAccounts",value:function(e){var o,n=[],r=function(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,c=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw c}}}}(e);try{for(r.s();!(o=r.n()).done;){var i=o.value,c={briefNameEnglish:i.briefNameEnglish,cifShortNameEnglish:i.cifShortNameEnglish,accountNumber:i.accountNumber,balance:this.psCurrency.transform(null==i.balance?"0.0":i.balance,i.currencyDecimalPoints)+" "+(i.currencyBriefName||i.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==i.availableBalance?"0.0":i.availableBalance,i.currencyDecimalPoints)+" "+(i.currencyBriefName||i.currencyBriefNameEnglish),currencyBriefName:i.currencyBriefName||i.currencyBriefNameEnglish,currencyBriefNameEnglish:i.currencyBriefNameEnglish,currency:i.currency,accountTypeDesc:i.accountTypeDesc,additionalRef:i.additionalRef,ibanAccNo:i.ibanAccNo,accGl:i.accGl,serialNo:i.serialNo,branch:i.branch,cif:i.cif,formattedAccount:this.accountsService.returnFormattedAccount(i).formattedAccount,personalizeKey:i.personalizeKey,nickName:i.nickName,briefName:i.briefName,lookupKey:i.additionalRef,branchDescription:i.branchDescription?i.branchDescription:"",generalLedgerBriefNameEng:i.generalLedgerBriefNameEng?i.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:i.statusDescription,statusCode:i.status,accountFormat:this.accountsService.returnFormattedAccount(i).accountFormat};this.options.multiple&&(c.excludeType=i.excludeType),n.push(c)}}catch(s){r.e(s)}finally{r.f()}return n}},{key:"prepareRequestData",value:function(e){var t={};if(e&&e.omniUserVO&&(t={userCifNo:e.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(t={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(t.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(t.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(t.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(t.endUserId=this.options.endUserId),null!=this.options.fromCurrency?t.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(t.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)t.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{var o="";for(var n in this.options.accountAllowedCurrencies)o+=this.options.accountAllowedCurrencies[n]+",";o=o.slice(0,o.lastIndexOf(",")),t.accountAllowedCurrencies=o}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)t.accountAllowedTypes=this.options.accountAllowedTypes;else{var r="";for(var i in this.options.accountAllowedTypes)r+=this.options.accountAllowedTypes[i]+",";r=r.slice(0,r.lastIndexOf(",")),t.accountAllowedTypes=r}return t}},{key:"fetchAccountBasedOnCurrency",value:function(e){return this.options.listOfAccounts}},{key:"onChange",value:function(e){this.logger.log(e)}},{key:"populateOwnAccountMap",value:function(){var e,t,o;e={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},t={key:"currentBalance",value:"0.0",isEdit:!1},o={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",e),this.labelValuesMap.set("balance_key",t),this.labelValuesMap.set("available_balance_key",o)}},{key:"onChangeItem",value:function(e){this.onAccountChange.emit(e)}},{key:"onDeleteItem",value:function(e){e&&this.onAccountDeleted.emit(e)}},{key:"handleMultipleSelection",value:function(){var e=this,t=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(function(t){return e.options.requestObject[e.options.fcName].some(function(e){return e.accountNumber==t.accountNumber})}):[];this.complexLookupOptions.selectedItems=t.filter(function(t){return e.options.setAllAccountsAsSelecetd&&(!t.excludeType||!(t.excludeType.includes(f.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||t.excludeType.includes(f.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!e.options.setAllAccountsAsSelecetd}).map(function(e){return Object.assign(Object.assign({item:e[e.previewProperty]},e),{itemLookup:e.lookupKey})}),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}},{key:"removeAccount",value:function(e){e&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(function(t){return e.accountNumber!=t.accountNumber}):[])}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}},{key:"refreshAcounts",value:function(e){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(e)}}])}(h.a);return o.\u0275fac=function(e){return new(e||o)(p.Rb(g.a),p.Rb(d.a),p.Rb(m.a),p.Rb(l.a))},o.\u0275cmp=p.Lb({type:o,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(e,t){var o;(1&e&&p.Wc(N,1),2&e)&&(p.Bc(o=p.gc())&&(t.complexLookupComponentObj=o.first))},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[p.Cb,p.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(e,t){1&e&&(p.Xb(0,"ps-container-complex",0),p.Xb(1,"ps-complex-lookup",1,2),p.fc("changeItem",function(e){return t.onChangeItem(e)})("onDeleteItem",function(e){return t.onDeleteItem(e)}),p.Wb(),p.Wb()),2&e&&(p.Fb(1),p.pc("id",t.id)("options",t.complexLookupOptions))},directives:[v.a,A.a],styles:[""]}),o}()}}])}();