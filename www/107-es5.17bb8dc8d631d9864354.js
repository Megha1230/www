!function(){function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,o,n){var c=t(e,o);if(c){var r=Object.getOwnPropertyDescriptor(c,o);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(null,arguments)}function t(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function o(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=c(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==o.return||o.return()}finally{if(u)throw i}}}}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return r(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function r(o,n,c,r){var i=n&&n.prototype instanceof l?n:l,a=Object.create(i.prototype);return s(a,"_invoke",function(o,n,c){var r,i,s,l=0,a=c||[],p=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,o){return r=t,i=0,s=e,f.n=o,u}};function m(o,n){for(i=o,s=n,t=0;!p&&l&&!c&&t<a.length;t++){var c,r=a[t],m=f.p,d=r[2];o>3?(c=d===n)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=e):r[0]<=m&&((c=o<2&&m<r[1])?(i=0,f.v=n,f.n=r[1]):m<d&&(c=o<3||r[0]>n||n>d)&&(r[4]=o,r[5]=n,f.n=d,i=0))}if(c||o>1)return u;throw p=!0,n}return function(c,a,d){if(l>1)throw TypeError("Generator is already running");for(p&&1===a&&m(a,d),i=a,s=d;(t=i<2?e:s)||!p;){r||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(l=2,r){if(i||(c="next"),t=r[c]){if(!(t=t.call(r,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=r.return)&&t.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+c+"' method"),i=1);r=e}else if((t=(p=f.n<0)?s:o.call(n,f))!==u)break}catch(t){r=e,i=1,s=t}finally{l=1}}return{value:t,done:p}}}(o,c,r),!0),a}var u={};function l(){}function a(){}function p(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),m=p.prototype=l.prototype=Object.create(f);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(m),e}return a.prototype=p,s(m,"constructor",p),s(p,"constructor",a),a.displayName="GeneratorFunction",s(p,c,"GeneratorFunction"),s(m),s(m,c,"Generator"),s(m,n,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),(i=function(){return{w:r,m:d}})()}function s(e,t,o,n){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}(s=function(e,t,o,n){function r(t,o){s(e,t,function(e){return this._invoke(t,o,e)})}t?c?c(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o:(r("next",0),r("throw",1),r("return",2))})(e,t,o,n)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function a(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function f(e,t,o){return t=h(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(e,d()?Reflect.construct(t,o||[],h(e).constructor):t.apply(e,o))}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{VEWP:function(e,t,c){"use strict";c.d(t,"a",function(){return _});var r=c("mrSG"),s=c("fXoL"),l=c("4lGw"),p=c("V0Fi"),m=c("ZyuK"),d=c("ZF3V"),h=c("EIUR"),O=c("DFXC"),b=c("zngb"),A=c("Q0Ba"),v=c("Isd1"),g=c("L0og"),k=["complexLookupComponentObj"],_=function(){var e=function(e){function t(e,o,n,c){var r;return u(this,t),(r=f(this,t,[e,o])).commonService=e,r.omniPull=n,r.accountsService=c,r.options={fromTo:"",requestObject:null},r.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!r.options.multiple&&r.options.multiple},r.onAccountChange=new s.o,r.onAccountDeleted=new s.o,r.labelValuesMap=new Map,r.psCurrency=new h.a,r.labelOptions={},r.allType=!1,r}return y(t,e),a(t,[{key:"ngOnInit",value:function(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}},{key:"ngOnChanges",value:function(e){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}},{key:"loadAccounts",value:function(e){return Object(r.b)(this,void 0,void 0,i().m(function t(){var o,n;return i().w(function(t){for(;;)switch(t.n){case 0:if(null!=e&&(this.options=e),this.options.listOfAccounts=[],void 0!==this.options.fromTo&&""!==this.options.fromTo){t.n=1;break}return t.a(2,void this.logger.error("lookup_from_to_missing_key"));case 1:o=this.commonService.session.getValueOf(b.a.USERINFO),n=this.prepareRequestData(o),this.returnAccountList(n);case 2:return t.a(2)}},t,this)}))}},{key:"returnAccountList",value:function(e){return Object(r.b)(this,void 0,void 0,i().m(function t(){var o,c,r,s,u=this;return i().w(function(t){for(;;)switch(t.n){case 0:return o=this.commonProv.session.getValueOf(p.a.PERSONALIZATION_CO),this.complexLookupOptions.listOfOptions=void 0,t.n=1,this.omniPull.returnAccounts(e).catch(function(e){u.complexLookupOptions.listOfOptions=[],u.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 1:if(!((c=t.v)&&c.gridModel.length>0)){t.n=4;break}if(!this.allType){t.n=3;break}return e.accountType="F",e.permittedGls="F",t.n=2,this.omniPull.returnAccounts(e).catch(function(e){u.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 2:(r=t.v)&&r.gridModel.length>0&&(c.gridModel=[].concat(n(c.gridModel),n(r.gridModel)));case 3:this.options.listOfAccounts=c.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==u.options.accountNumber})),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==u.options.accountNumber}))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map(function(e,t){return e.rowIndex=t}),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)&&(s="QR"===this.options.purpose?null==o?void 0:o.defaultQrPaymentAccKey:null==o?void 0:o.defaultTransferAccKey,this.complexLookupOptions.listOfOptions.map(function(e){e.personalizeKey&&e.personalizeKey===s&&(u.common.setValInsideNestedObj(u.options.fcName,e.lookupKey,u.options.requestObject),u.common.setValInsideNestedObj(u.options.fcName+"_lookupKey",e.lookupKey,u.options.requestObject))})),t.n=5;break;case 4:this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[];case 5:return t.a(2)}},t,this)}))}},{key:"populateCustomAccounts",value:function(e){var t,n=[],c=o(e);try{for(c.s();!(t=c.n()).done;){var r=t.value,i={briefNameEnglish:r.briefNameEnglish,cifShortNameEnglish:r.cifShortNameEnglish,accountNumber:r.accountNumber,balance:this.psCurrency.transform(null==r.balance?"0.0":r.balance,r.currencyDecimalPoints)+" "+(r.currencyBriefName||r.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==r.availableBalance?"0.0":r.availableBalance,r.currencyDecimalPoints)+" "+(r.currencyBriefName||r.currencyBriefNameEnglish),currencyBriefName:r.currencyBriefName||r.currencyBriefNameEnglish,currencyBriefNameEnglish:r.currencyBriefNameEnglish,currency:r.currency,accountTypeDesc:r.accountTypeDesc,additionalRef:r.additionalRef,ibanAccNo:r.ibanAccNo,accGl:r.accGl,serialNo:r.serialNo,branch:r.branch,cif:r.cif,formattedAccount:this.accountsService.returnFormattedAccount(r).formattedAccount,personalizeKey:r.personalizeKey,nickName:r.nickName,briefName:r.briefName,lookupKey:r.additionalRef,branchDescription:r.branchDescription?r.branchDescription:"",generalLedgerBriefNameEng:r.generalLedgerBriefNameEng?r.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:r.statusDescription,statusCode:r.status,accountFormat:this.accountsService.returnFormattedAccount(r).accountFormat};this.options.multiple&&(i.excludeType=r.excludeType),n.push(i)}}catch(s){c.e(s)}finally{c.f()}return n}},{key:"prepareRequestData",value:function(e){var t={};if(e&&e.omniUserVO&&(t={userCifNo:e.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(t={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(t.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(t.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(t.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(t.endUserId=this.options.endUserId),null!=this.options.fromCurrency?t.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(t.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)t.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{var o="";for(var n in this.options.accountAllowedCurrencies)o+=this.options.accountAllowedCurrencies[n]+",";o=o.slice(0,o.lastIndexOf(",")),t.accountAllowedCurrencies=o}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)t.accountAllowedTypes=this.options.accountAllowedTypes;else{var c="";for(var r in this.options.accountAllowedTypes)c+=this.options.accountAllowedTypes[r]+",";c=c.slice(0,c.lastIndexOf(",")),t.accountAllowedTypes=c}return t}},{key:"fetchAccountBasedOnCurrency",value:function(e){return this.options.listOfAccounts}},{key:"onChange",value:function(e){this.logger.log(e)}},{key:"populateOwnAccountMap",value:function(){var e,t,o;e={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},t={key:"currentBalance",value:"0.0",isEdit:!1},o={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",e),this.labelValuesMap.set("balance_key",t),this.labelValuesMap.set("available_balance_key",o)}},{key:"onChangeItem",value:function(e){this.onAccountChange.emit(e)}},{key:"onDeleteItem",value:function(e){e&&this.onAccountDeleted.emit(e)}},{key:"handleMultipleSelection",value:function(){var e=this,t=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(function(t){return e.options.requestObject[e.options.fcName].some(function(e){return e.accountNumber==t.accountNumber})}):[];this.complexLookupOptions.selectedItems=t.filter(function(t){return e.options.setAllAccountsAsSelecetd&&(!t.excludeType||!(t.excludeType.includes(p.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||t.excludeType.includes(p.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!e.options.setAllAccountsAsSelecetd}).map(function(e){return Object.assign(Object.assign({item:e[e.previewProperty]},e),{itemLookup:e.lookupKey})}),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}},{key:"removeAccount",value:function(e){e&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(function(t){return e.accountNumber!=t.accountNumber}):[])}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}},{key:"refreshAcounts",value:function(e){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(e)}}])}(d.a);return e.\u0275fac=function(t){return new(t||e)(s.Rb(A.a),s.Rb(O.a),s.Rb(m.a),s.Rb(l.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(e,t){var o;(1&e&&s.Wc(k,1),2&e)&&(s.Bc(o=s.gc())&&(t.complexLookupComponentObj=o.first))},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[s.Cb,s.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(e,t){1&e&&(s.Xb(0,"ps-container-complex",0),s.Xb(1,"ps-complex-lookup",1,2),s.fc("changeItem",function(e){return t.onChangeItem(e)})("onDeleteItem",function(e){return t.onDeleteItem(e)}),s.Wb(),s.Wb()),2&e&&(s.Fb(1),s.pc("id",t.id)("options",t.complexLookupOptions))},directives:[v.a,g.a],styles:[""]}),e}()},cCdF:function(t,n,c){"use strict";c.r(n),c.d(n,"PersonalizeAccountsPage",function(){return L});var r=c("3Pt+"),i=c("OVQh"),s=c("V0Fi"),l=c("fOh1"),p=c("ZyuK"),d=c("DFXC"),O=c("Q0Ba"),b=c("gKqT"),A=c("fXoL"),v=c("tyNb"),g=c("kRg/"),k=c("uKCV"),_=c("sAFK"),T=c("+f2X"),w=c("VEWP"),x=["generalAccountsRef"],N=["termAccountsRef"];function C(e,t){if(1&e){var o=A.Yb();A.Xb(0,"ps-form-step",2),A.Xb(1,"ps-container-panel",3),A.Xb(2,"ps-lookup-own-accounts",4,5),A.fc("onAccountDeleted",function(e){return A.Fc(o),A.ic().deleteAccount(e,"G")})("onAccountChange",function(e){return A.Fc(o),A.ic().onAccountsChanged(e,"G")}),A.Wb(),A.Xb(4,"ps-lookup-own-accounts",6,7),A.fc("onAccountDeleted",function(e){return A.Fc(o),A.ic().deleteAccount(e,"T")})("onAccountChange",function(e){return A.Fc(o),A.ic().onAccountsChanged(e,"T")}),A.Wb(),A.Sb(6,"ps-lookup-own-accounts",8),A.Sb(7,"ps-lookup-own-accounts",9),A.Wb(),A.Wb()}if(2&e){var n=A.ic();A.pc("id",n.stepperOptions.namesofSteps[0]),A.Fb(1),A.pc("options",n.panelOptionStep1),A.Fb(1),A.pc("options",n.generalAccountOptions),A.Fb(2),A.pc("options",n.termAccountOptions),A.Fb(2),A.pc("options",n.transferAccountOptions),A.Fb(1),A.pc("options",n.paymentAccountOptions)}}var L=function(){var t=function(t){function n(e,t,o,c){var s;return u(this,n),(s=f(this,n)).commonService=e,s.logger=t,s.router=o,s.omniPull=c,s.formGroup=new r.f({}),s.personalizeVO={},s.stepperOptions={stepperName:"cash_and_cheque_stepper",isHorizontalStepper:!0,numberOfSteps:1,namesofSteps:["cash_cheq_collection_step1"],group:s.formGroup,submitOptions:{extraParams:{},submitServiceUrl:l.a.serviceUrl.updateUserInfoProfile,group:s.formGroup,preCallFunction:{func:function(e){var t=this;return new Promise(function(o,n){o(t.executionClass.updateScreenVO(e))})},executionClass:m(s),params:[m(s)]}},requestObject:s.personalizeVO},s.panelOptionStep1={isExpandable:!0,labelKey:"my_accounts_key",iconName:"document",expanded:!0},s.generalAccountOptions={labelKey:"general_accounts_key",placeHolder:"select_general_accounts_key",component:i.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"generalAccounts",accountType:"G",fromTo:"to",multiple:!0,requestObject:s.personalizeVO,setAllAccountsAsSelecetd:!0},s.termAccountOptions={labelKey:"term_deposit_accounts_key",placeHolder:"select_term_deposit_accounts_key",component:i.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"termAccounts",accountType:"F",fromTo:"to",multiple:!0,requestObject:s.personalizeVO,setAllAccountsAsSelecetd:!0},s.excludedTermAccounts=[],s.excludedTermAccounts_lookupKey=[],s.excludedGeneralAccounts=[],s.excludedGeneralAccounts_lookupKey=[],s.selectedAccountList=[],s.selectedTermAccountList=[],s.transferAccountOptions={labelKey:"my_default_transfer_account_key",placeHolder:"select_my_default_transfer_account_key",component:i.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"defaultAccount",accountType:"G",fromTo:"from",requestObject:s.personalizeVO},s.paymentAccountOptions={labelKey:"my_default_qr_code_payment_account_key",placeHolder:"select_my_default_qr_code_payment_account_key",component:i.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"defaultQrAccount",accountType:"G",fromTo:"from",purpose:"QR",requestObject:s.personalizeVO},s}return y(n,t),a(n,[{key:"ngOnInit",value:function(){var t,o,c,r,i;(t=n,o="init",c=this,i=e(h(1&(r=3)?t.prototype:t),o,c),2&r&&"function"==typeof i?function(e){return i.apply(c,e)}:i)([])}},{key:"deleteAccount",value:function(e,t){}},{key:"updateScreenVO",value:function(e){this.filterExcludedAccounts(),this.updateSession(),this.personalizeVO.type="A"}},{key:"filterExcludedAccounts",value:function(){var e=this;this.excludedGeneralAccounts=this.generalAccountsRef.complexLookupOptions.listOfOptions.filter(function(t){var o;return!(null===(o=e.personalizeVO[e.generalAccountOptions.fcName])||void 0===o?void 0:o.includes(t))}),this.excludedGeneralAccounts_lookupKey=this.excludedGeneralAccounts.map(function(e){return e.lookupKey}),this.excludedTermAccounts=this.termAccountsRef.complexLookupOptions.listOfOptions.filter(function(t){var o;return!(null===(o=e.personalizeVO[e.termAccountOptions.fcName])||void 0===o?void 0:o.includes(t))}),this.excludedTermAccounts_lookupKey=this.excludedTermAccounts.map(function(e){return e.lookupKey}),this.deleteFromScreenVO([this.generalAccountOptions.fcName,this.generalAccountOptions.fcName+"_lookupKey",this.termAccountOptions.fcName,this.termAccountOptions.fcName+"_lookupKey"]),this.personalizeVO.excludedGeneralAccounts=this.excludedGeneralAccounts.map(function(e){return delete e.excludeType,e}),this.personalizeVO.excludedGeneralAccounts_lookupKey=this.excludedGeneralAccounts_lookupKey,this.personalizeVO.excludedTermAccounts=this.excludedTermAccounts.map(function(e){return delete e.excludeType,e}),this.personalizeVO.excludedTermAccounts_lookupKey=this.excludedTermAccounts_lookupKey}},{key:"onAccountsChanged",value:function(e,t){}},{key:"updateSession",value:function(){var e=this.commonService.session.getValueOf(s.a.PERSONALIZATION_CO)||{};e.defaultTransferAccKey=this.formGroup.controls[this.transferAccountOptions.fcName].value.personalizeKey,e.defaultQrPaymentAccKey=this.formGroup.controls[this.paymentAccountOptions.fcName].value.personalizeKey,this.commonService.session.remove(s.a.PERSONALIZATION_CO),this.commonService.session.append(s.a.PERSONALIZATION_CO,e)}},{key:"deleteFromScreenVO",value:function(e){var t,n=o(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;delete this.personalizeVO[c]}}catch(r){n.e(r)}finally{n.f()}}}])}(b.OmniBasePage);return t.\u0275fac=function(e){return new(e||t)(A.Rb(O.a),A.Rb(d.a),A.Rb(v.f),A.Rb(p.a))},t.\u0275cmp=A.Lb({type:t,selectors:[["app-personalize-accounts"]],viewQuery:function(e,t){var o;(1&e&&(A.Wc(x,1),A.Wc(N,1)),2&e)&&(A.Bc(o=A.gc())&&(t.generalAccountsRef=o.first),A.Bc(o=A.gc())&&(t.termAccountsRef=o.first))},features:[A.Cb],decls:2,vars:3,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],["id","personalization_panel1",3,"options"],["id","'transferFrom'+ id",3,"options","onAccountDeleted","onAccountChange"],["generalAccountsRef",""],["id","'payment'+ id",3,"options","onAccountDeleted","onAccountChange"],["termAccountsRef",""],["id","'transferFrom'+ id",3,"options"],["id","'payment'+ id",3,"options"]],template:function(e,t){1&e&&(A.Xb(0,"ps-template-stepper",0),A.Pc(1,C,8,6,"ps-form-step",1),A.Wb()),2&e&&(A.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),A.Fb(1),A.pc("psStep","step1"))},directives:[g.a,k.a,_.a,T.a,w.a],styles:[""]}),t}()}}])}();