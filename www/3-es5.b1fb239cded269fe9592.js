!function(){function e(e,n,i){return n=o(n),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,t()?Reflect.construct(n,i||[],o(e).constructor):n.apply(e,i))}function t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t=function(){return!!e})()}function n(e,t,n,a){var s=i(o(1&a?e.prototype:e),t,n);return 2&a&&"function"==typeof s?function(e){return s.apply(n,e)}:s}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=a(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(null,arguments)}function a(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p(i.key),i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"4lGw":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("DFXC"),a=n("ZyuK"),o=n("fXoL"),s=function(){var e=function(){return l(function e(t,n){c(this,e),this.omniPull=t,this.logger=n,this.getAccountAsIBAN()},[{key:"getAccountAsIBAN",value:function(){var e=this;void 0===this.accountAsIBAN&&this.omniPull.getParamValOf("AccountsAsIBAN").then(function(t){e.accountAsIBAN=t.AccountsAsIBAN}).catch(function(t){return e.logger.log(t)})}},{key:"returnFormattedAccount",value:function(e){var t,n;return null!=this.accountAsIBAN&&1===this.accountAsIBAN?(t=null==e.ibanAccNo?"":e.ibanAccNo,n="IBAN"):null!=this.accountAsIBAN&&2===this.accountAsIBAN?(t=null==e.additionalRef?"":e.additionalRef,n="AddRef"):null!=this.accountAsIBAN&&3===this.accountAsIBAN?(t=e.branch+"-"+e.currency+"-"+e.accGl+"-"+e.cif+"-"+e.serialNo,n="iMAL"):(t=null==e.additionalRef?"":e.accountNumber,n="ACCNO"),{formattedAccount:t,accountFormat:n}}}])}();return e.\u0275fac=function(t){return new(t||e)(o.bc(a.a),o.bc(i.a))},e.\u0275prov=o.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},EZLY:function(t,i,a){"use strict";a.d(i,"a",function(){return m});var o=a("fXoL"),r=a("uqA0"),u=a("xV2m"),p=a("KVmc"),f=["templateList"],d=function(){return{labelKey:"no_matching_found_key",translate:!0}},h=["*"],m=function(){var t=function(t){function i(){var t;return c(this,i),(t=e(this,i)).searchOptions={contentReference:"container-lookup-option",selectors:"ion-label,span:not(:has(ps-label,ion-label),.highlight)",actionType:"filter"},t}return s(i,t),l(i,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){n(i,"init",this,3)([])}},{key:"ngAfterViewInit",value:function(){this.searchOptions.templateRef=this.templateList}}])}(r.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Lb({type:t,selectors:[["ps-template-list"]],viewQuery:function(e,t){var n;(1&e&&o.Wc(f,1,o.m),2&e)&&(o.Bc(n=o.gc())&&(t.templateList=n.first))},features:[o.Cb],ngContentSelectors:h,decls:7,vars:3,consts:[[1,"ps-template-list-searchbar-wrapper"],["id","search_in_template_list",3,"options"],[1,"ps-template-list-container"],["templateList",""],[1,"no-matching-found",3,"options"],["id","ps-template-list-main-content"]],template:function(e,t){1&e&&(o.oc(),o.Xb(0,"div",0),o.Sb(1,"ps-input-search-html",1),o.Wb(),o.Xb(2,"div",2,3),o.Sb(4,"ps-label",4),o.Xb(5,"div",5),o.nc(6),o.Wb(),o.Wb()),2&e&&(o.Fb(1),o.pc("options",t.searchOptions),o.Fb(3),o.pc("options",o.rc(2,d)))},directives:[u.a,p.a],encapsulation:2}),t}()},OVQh:function(t,i,a){"use strict";a.d(i,"a",function(){return O});var o=a("fXoL"),r=a("V0Fi"),u=a("MfpM"),p=a("r40+"),f=a("EZLY"),d=a("fOh1"),h=a("ZyuK"),m=a("zngb"),y=a("QZhd"),b=a("Q0Ba"),_=a("ofXK"),v=a("BygU");function k(e,t){if(1&e){var n=o.Yb();o.Xb(0,"div"),o.Xb(1,"ps-container-lookup-option",3),o.fc("clickedCard",function(e){return o.Fc(n),o.ic(2).updateCard(e)}),o.Wb(),o.Wb()}if(2&e){var i=t.$implicit,a=o.ic(2);o.Fb(1),o.pc("id",a.id+"_opt")("options",a.getContainerLookUpOptions(i))("itemCard",i)}}function g(e,t){if(1&e&&(o.Xb(0,"div",1),o.Pc(1,k,2,3,"div",2),o.Wb()),2&e){var n=o.ic();o.Fb(1),o.pc("ngForOf",n.options.itemList)}}var O=function(){var t=function(t){function i(t,n,a,s){var r;return c(this,i),(r=e(this,i)).commonServices=t,r.cdRef=n,r.event=a,r.omniPull=s,r.options={},r.onClickCard=new o.o,r.labelValuesMap=new Map,r.headerMap=new Map,r.showSingleAccount=!1,r.requestMap=new Map,r.editRequestMap=new Map,r.businessProfileMap=[],r.lookUpOptions=[],r.lookUpDetailsOptionsDict={},r.lookUpDetailsOptions=null,r.eventSub=r.event.subscribe("refreshList",function(e){}),r}return s(i,t),l(i,[{key:"ngOnDestroy",value:function(){n(i,"ngOnDestroy",this,3)([]),this.eventSub&&this.eventSub.unsubscribe()}},{key:"ngOnInit",value:function(){n(i,"init",this,3)([]),this.businessProfileMap=this.commonProv.session.getValueOf(m.a.BUSINESS_PROFILE_MAP),this.businessProfileMap&&this.businessProfileMap.filter(function(e){return e.OPER_ID===y.a.oper_ID}).shift(),this.options.enableListPagination||(this.options.itemList=this.options.listOfOptions),this.populateAccountsMap()}},{key:"getContainerLookUpOptions",value:function(e){return void 0!==this.lookUpDetailsOptionsDict[e.rowIndex]||(this.lookUpDetailsOptionsDict[e.rowIndex]=this.prepareLookUp(e)),this.lookUpDetailsOptionsDict[e.rowIndex]}},{key:"prepareLookUp",value:function(e){var t={translateSubTitle:!1};return t.labelKey=this.options.labelKey,t.fcName=this.options.fcName,t.currencyDescription="currencyBriefName",t.currencyFlag="currencyBriefNameEnglish",t.labelsValueMap=this.labelValuesMap,t.headerMap=this.headerMap,t.formGroup=this.options.group,t.group=this.options.group,t.balanceMapping=this.balanceMapping(),t.balanceFcNames=this.options.balanceFcNames?this.options.balanceFcNames:[],t.isEditable=this.options.isEditable,t.editActionUrl=d.a.serviceUrl.personalizationNicknameEndPoint,t.requestMap=this.requestMap,t.editRequestMap=this.editRequestMap,t.showInitialCardValues=r.a.VISIBLE_FIELD,this.options.refreshTermDepositList&&(t.detailServiceUrl=[{url:d.a.serviceUrl.maturityAccountDetailsRestEndPoint,paramsKeyLabels:[{key:"accountNumber",value:"accountNumber"},{key:"accountType",staticValue:"F"}],responseKeyLabel:[{key:"investmentCapital",value:"investmentCapital"},{key:"tenor",value:"tenor"},{key:"maturityDateStr",value:"maturityDateStr"},{key:"profitRate",value:"profitRate"},{key:"accruedDividends",value:"accruedDividends"},{key:"dividendsPaid",value:"dividendsPaid"},{key:"renew",value:"renew"},{key:"renewWithSame",value:"renewWithSame"}]}]),t.actionDetailsOptions=[this.options.type==r.a.GENERAL_ACCOUNT_TYPE?{id:"pending_transfers",label:"pending_transfers_key",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"pending-transfers",labelOptions:{labelKey:"pending_transfers_key"}},route:"pending-transfers-report",pageOptions:{operId:r.a.PENDING_TRANSFERS_REPORT_OPER_ID,iconName:"pending-transfers",title:"pending_transfers_key"},psClass:"pending-transfers-action"}}:{},this.commonProv.hasAccessOnOperation(r.a.REQUEST_HARD_COPY_STATEMENT_OPER_ID)?{id:"request_hard",label:"request_hard_copy_key",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"hard-copy-statement-request-icon",labelOptions:{labelKey:"request_hard_copy_key"}},route:"hard-copy-statement-request",pageOptions:{operId:r.a.REQUEST_HARD_COPY_STATEMENT_OPER_ID,iconName:"hard-copy-statement-request-icon",title:"request_hard_copy_key"},psClass:"hard-copy-statement-request"}}:{},this.commonProv.isNativeMobile()||y.a.custMode?{id:"share",labelOptions:{labelKey:"share_key"},component:u.a,componentOptions:{message:null==e?void 0:e.sharedMessage}}:{}],this.options.refreshTermDepositList&&this.commonProv.hasAccessOnOperation(r.a.CHANGE_MATURITY_ACCOUNT_OPER_ID)&&(t.actionDetailsOptions.push({id:"change_maturity",label:"change_maturity_instructions_key",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"document",labelOptions:{labelKey:"change_maturity_instructions_key"}},route:"change-maturity-instructions",pageOptions:{operId:r.a.CHANGE_MATURITY_ACCOUNT_OPER_ID,iconName:"document",title:"change_maturity_instructions_key"},preCallFunction:{func:function(){var e=this;return new Promise(function(n,i){n(e.executionClass.prepareMaturityAccountInfo(t.actionDetailsOptions[3].actionHyperlink))})},executionClass:this,params:[]},psClass:"change-maturity-instructions"}}),t.actionDetailsOptions.push({fcName:"break",label:"break_key",id:"break",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"pending-transfers",labelOptions:{labelKey:"break_key"}},route:"break-term-deposit-account",pageOptions:{operId:r.a.BREAK_TERM_DEPOSIT_ACCOUNT_OPER_ID,iconName:"pending-transfers",title:"break_key"},psClass:"break-term-deposit-account"}})),e&&e.statusCode===r.a.ACCOUNTS_STATE_ACTIVE&&this.commonProv.hasAccessOnOperation(r.a.E_STATEMENT_REQUEST_OPER_ID)&&t.actionDetailsOptions.push({id:"statement_request",label:"e_statement_request_key",actionHyperlink:{group:this.options.group,iconOptions:{iconName:"paper-plane",labelOptions:{labelKey:"e_statement_request_key"}},route:"e-statement-request",pageOptions:{operId:r.a.E_STATEMENT_REQUEST_OPER_ID,iconName:"paper-plane",title:"e_statement_request_key"},psClass:"e-statement-request"}}),t.listOfStatementOptions=[{buttonIcon:"account-statement",redirectUrl:"account-statement-report",operId:m.a.VIEW_STATEMENT_OF_TRANSACTIONS,title:"accounts_report_key"}],this.options.generatedToQR&&(null==t.actionDetailsOptions&&(t.actionDetailsOptions=[]),t.actionDetailsOptions.push({id:"qr_code",buttonIcon:"qr_code_2",actionUrl:y.a.serviceUrl.commonSubmitAction,cssClass:"qr-code-account-list fab-edit-button",iconName:"qr_code_2",labelOptions:{labelKey:"qr_code_key"},actionType:"QR",label:"qr_code_key",alertType:"QR",qrData:{AdditionalRef:"AddRef-"+e.additionalRef,IBAN:"IBAN-"+e.ibanAccNo,AccountRef:e.accountFormat+"-"+e.formattedAccount,briefName:e.briefName}})),t}},{key:"prepareMaturityAccountInfo",value:function(e){var t=this;return new Promise(function(n,i){t.omniPull.returnMaturityAccountInformation({accountNumber:e.navigationOptions.queryParams.accountNumber,accountType:"F"}).then(function(i){i&&(t.commonProv.copyObject(e.navigationOptions.queryParams,{MaturityInfo:{renew:"yes"===i.renew,renewWithSame:"yes"===i.renewWithSame,maturityAccount:"yes"===i.renew?null:i.transferAccount.additionalRef,maturityAccount_lookupKey:"yes"===i.renew?null:i.transferAccount.additionalRef,profitAccount:"yes"===i.renewWithSame?null:i.profitAccount.additionalRef,profitAccount_lookupKey:"yes"===i.renewWithSame?null:i.profitAccount.additionalRef}},!1),e.navigationOptions.queryParams=Object.assign({},e.navigationOptions.queryParams),n(e.navigationOptions.queryParams))}).catch(function(e){t.commonProv.logger.error("Error: While fetching returnMaturityAccountInformation in change maturity page:",e)})})}},{key:"generateSharedMessage",value:function(e){var t="";return null!=e.cifShortNameEnglish&&null!=e.cifShortNameEnglish&&(t=this.commonServices.translate("account_holder_name_key")+": "+e.cifShortNameEnglish),null!=e.briefName&&null!=e.briefName&&(t=(""!=t?t+" - ":"")+this.commonServices.translate("account_name_key")+": "+e.briefName),null!=e.accountNumber&&null!=e.accountNumber&&(t=(""!=t?t+" - ":"")+this.commonServices.translate("account_number_key")+": "+e.accountNumber),null!=e.additionalRef&&null!=e.additionalRef&&(t=(""!=t?t+" - ":"")+this.commonServices.translate("account_ref_key")+": "+e.additionalRef),null!=e.ibanAccNo&&null!=e.ibanAccNo&&(t=(""!=t?t+" - ":"")+this.commonServices.translate("iban_key")+": "+e.ibanAccNo),t=(""!=t?t+" - ":"")+this.commonServices.translate("bank_name_key")+": "+this.commonProv.session.getValueOf(m.a.USERINFO).companySettingsCO.briefDesc,null!=e.branchDescription&&null!=e.branchDescription&&(t=(""!=t?t+" - ":"")+this.commonServices.translate("branch_name_key")+": "+e.branchDescription),t}},{key:"ngAfterViewChecked",value:function(){this.cdRef.detectChanges()}},{key:"updateCard",value:function(e){e&&this.options.listOfOptions&&(this.options.itemList=this.options.listOfOptions.filter(function(t){return t===e}),this.options.item=this.options.itemList[0],this.showSingleAccount=!this.showSingleAccount,this.options.showItemPopUp=!this.options.showItemPopUp),this.onClickCard.emit(this.options)}},{key:"populateAccountsMap",value:function(){var e,t,n,i,a,o,s,c,u,l,p,f,d,h;e={key:"formattedAccount",value:"--- --- --- ---",isEdit:!1},t={key:"investmentCapital",value:"0",isEdit:!1},n={key:"profitRate",value:"0",isEdit:!1},i={key:"tenor",value:"0",isEdit:!1},a={key:"maturityDateStr",value:"0",isEdit:!1},o={key:"dividendsPaid",value:"0",isEdit:!1},s={key:"accruedDividends",value:"0",isEdit:!1},c={key:"renew",value:"0",isEdit:!1},u={key:"renewWithSame",value:"0",isEdit:!1},l={key:"actualAmount",value:"0",isEdit:!1,showMappingOnNoValue:!0},p={key:"outstandingAmount",value:"0",isEdit:!1,showMappingOnNoValue:!0},f={key:"accumulatedAmount",value:"0",isEdit:!1,showMappingOnNoValue:!0},d={key:"title",value:"accountTypeDesc",isEdit:!1},h={key:"subTitle",value:"briefName",isEdit:!0,formGroupMap:{placeHolder:"enter_account_nick",fcName:"briefName"}},this.labelValuesMap.set("account_key",e),this.options.refreshTermDepositList&&(this.labelValuesMap.set("investment_capital_key",t),this.labelValuesMap.set("profit_rate_key",n),this.labelValuesMap.set("tenor_key",i),this.labelValuesMap.set("maturity_date_key",a),this.labelValuesMap.set("dividends_paid_key",o),this.labelValuesMap.set("accrued_dividends_key",s),this.labelValuesMap.set("renew_key",c),this.labelValuesMap.set("renew_new_balance_within_same_account_key",u)),this.options.type===r.a.GENERAL_ACCOUNT_TYPE&&(this.labelValuesMap.set("overdraft_actual_key",l),this.labelValuesMap.set("overdraft_outstand_key",p),this.labelValuesMap.set("overdraft_accumulated_key",f)),this.headerMap.set("title",d),this.headerMap.set("subTitle",h),this.requestMap.set("nickNameNumber","personalizeKey"),this.requestMap.set("oldNickName","briefName"),this.editRequestMap.set("newNickName","briefName"),this.editRequestMap.set("type","A")}},{key:"balanceMapping",value:function(){return[{key:"current_balance_key",value:"balance"},{key:"available_balance_key",value:"availableBalance"},{key:"currency_iso_key",value:"currencyBriefName"}]}}])}(f.a);return t.\u0275fac=function(e){return new(e||t)(o.Rb(b.a),o.Rb(o.i),o.Rb(p.a),o.Rb(h.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["ps-accounts-list"]],inputs:{options:"options"},outputs:{onClickCard:"onClickCard"},features:[o.Cb],decls:2,vars:1,consts:[["class","account-list",4,"ngIf"],[1,"account-list"],[4,"ngFor","ngForOf"],[3,"id","options","itemCard","clickedCard"]],template:function(e,t){1&e&&(o.Xb(0,"ps-template-list"),o.Pc(1,g,2,1,"div",0),o.Wb()),2&e&&(o.Fb(1),o.pc("ngIf",(null==t.options||null==t.options.itemList?null:t.options.itemList.length)>0))},directives:[f.a,_.o,_.n,v.a],styles:[""],changeDetection:0}),t}()}}])}();