{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-beneficiary/ps-local-beneficiary/ps-local-beneficiary.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-beneficiary/ps-local-beneficiary/ps-local-beneficiary.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-beneficiary/ps-local-beneficiary/ps-local-beneficiary.component.scss"],"names":["PsLocalBeneficiaryComponent","reloadFct","options","onClickCard","labelValuesMap","Map","requestMap","editRequestMap","headerMap","showSingleAccount","addBeneficiaryOptions","bRefresh","ngOnInit","hyperLink","populateLocalBeneficiariesMap","showOnlyList","undefined","listOfOptions","map","element","index","itemList","getContainerLookUpOptions","prepareLookUp","lookupDetails","labelKey","fcName","currencyFlag","labelsValueMap","formGroup","group","showInitialCardValues","editActionUrl","serviceUrl","personalizationNicknameEndPoint","detailServiceUrl","url","returnCategorySubcategory","paramsKeyLabels","key","value","staticValue","responseKeyLabel","actionDetailsOptions","id","buttonIcon","labelOptions","actionUrl","deleteBeneficiaryEndPoint","cssClass","label","iconName","actionType","alertType","alertStyle","reloadList","actionHyperlink","iconOptions","route","type","LOCAL_BENEFICIARY_TYPE","navigationOptions","queryParams","readOnlypage","pageOptions","operId","LOCAL_BENEFICIARY_OPER_ID","LOCAL_CARD_BENEFICIARY_OPER_ID","title","LOCAL_BENEFICIARY_TRANSFER","LOCAL_CREDIT_CARD_SETTLEMENT","preCallFunction","func","Promise","resolve","reject","executionClass","prepareTransaction","params","statementOptions","isEditable","reloadFunction","emit","updateCard","account","filter","acct","item","showItemPopUp","beneficiaryAccountNumberMap","beneficiaryCardNumberMap","beneficiaryNameMap","beneficiaryBankMap","benefBankBranchMap","beneficiaryBvnMap","headerTitleMap","headerSubtitleMap","isEdit","showMappingOnNoValue","isDetailOption","set","actionCard","ScreenVO","toAccountType","toBeneficiary","accountNumber","toBeneficiary_lookupKey","bank","benefBankId","currency","cardNumber","selector","template"],"mappings":"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","file":"11-es5.js","sourcesContent":["export default \"<ps-template-list>\\n  <div>\\n    <ps-action-hyperlink [id]=\\\"this.options.type == 'LOCAL'? 'addLocalBenef': 'addLocalCardBenef'\\\"\\n      [options]=\\\"addBeneficiaryOptions\\\" class=\\\"add-beneficiary-button\\\" *ngIf=\\\"options.isEditable\\\">\\n    </ps-action-hyperlink>\\n  </div>\\n  <div *ngIf=\\\"options?.itemList?.length > 0\\\" class=\\\"benef-list\\\">\\n    <div *ngFor=\\\"let itemOption of options.itemList\\\">\\n      <ps-container-lookup-option [id]=\\\"'local-benef-list-' + id\\\" [options]=\\\"getContainerLookUpOptions()\\\"\\n        [itemCard]=\\\"itemOption\\\" (clickedCard)=\\\"updateCard($event)\\\"></ps-container-lookup-option>\\n    </div>\\n  </div>\\n</ps-template-list>\";","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { IMapKeyValue, IOptionsPsActionHyperlink, IOptionsPsContainerLookupOptionComponentExposed } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsTemplateListPage } from 'src/app/commonSRC/psTemplates/ps-template-list/ps-template-list.template';\nimport { IOptionsPsLocalBeneficiaryExposed } from './ps-local-beneficiary.component.interfaces';\n\n\n/**\n * @author Aftab.Ali\n * @since 04/02/2020\n *\n * <p> PsLocalBeneficiaryComponent is business component contains mapping for for container-lookup component to load local beneficiaries</p>\n */\n@Component({\n  selector: 'ps-local-beneficiary',\n  templateUrl: './ps-local-beneficiary.component.html',\n  styleUrls: ['./ps-local-beneficiary.component.scss'],\n})\nexport class PsLocalBeneficiaryComponent extends PsTemplateListPage implements OnInit {\n  @Output() reloadFct = new EventEmitter<string>();\n  @Input() options: IOptionsPsLocalBeneficiaryExposed = {};\n  // tslint:disable-next-line: no-output-on-prefix\n  @Output() public onClickCard = new EventEmitter<any>();\n  public labelValuesMap = new Map<string, IMapKeyValue>();\n  public requestMap = new Map<string, string>();\n  public editRequestMap = new Map<string, string>();\n  public headerMap = new Map<string, IMapKeyValue>();\n  private showSingleAccount = false;\n  public addBeneficiaryOptions: IOptionsPsActionHyperlink = {}\n  public updateList: any[];\n  public bRefresh = false;\n\n  constructor(\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    super.init();\n    if (this.options.hyperLink) {\n      this.addBeneficiaryOptions = this.options.hyperLink;\n    }\n\n    this.populateLocalBeneficiariesMap();\n    if (this.options.showOnlyList === null || this.options.showOnlyList === undefined) {\n      this.options.showOnlyList = false;\n    }\n    // this.containerLookUpOptions.balanceMapping = this.balanceMapping();\n    if (this.options.listOfOptions) {\n      this.options.listOfOptions.map((element, index) => element['rowIndex'] = index);\n      this.options.itemList = this.options.listOfOptions;\n    }\n\n  }\n\n\n  getContainerLookUpOptions() {\n    return this.prepareLookUp();\n  }\n\n  private prepareLookUp(): any {\n    let lookupDetails: IOptionsPsContainerLookupOptionComponentExposed = {};\n    lookupDetails.labelKey = this.options.labelKey;\n    lookupDetails.fcName = this.options.fcName;\n    lookupDetails.currencyFlag = 'currencyDesc';\n    lookupDetails.labelsValueMap = this.labelValuesMap;\n    lookupDetails.headerMap = this.headerMap;\n    lookupDetails.formGroup = this.options.group;\n    lookupDetails.itemList = this.options.itemList;\n    lookupDetails.showInitialCardValues = 2;\n    lookupDetails.editActionUrl = PsCommonBusinessSettings.serviceUrl.personalizationNicknameEndPoint;\n    lookupDetails.requestMap = this.requestMap;\n    lookupDetails.editRequestMap = this.editRequestMap;\n    lookupDetails.group = this.options.group;\n\n    // The detailServiceUrl will load the detail of any service in which\n    // paramsKeyLabels is the request parameter\n    // responseKeyLabel is the property to be displayed on itemCard key from the response.\n    lookupDetails.detailServiceUrl = [\n      { url: PsCommonBusinessSettings.serviceUrl.returnCategorySubcategory, paramsKeyLabels: [{ key: 'includeIds', value: 'bank' }, { key: 'type', staticValue: 'Bank' }], responseKeyLabel: [{ key: 'categoriesDescription', value: 'bank' }] }];\n    lookupDetails.actionDetailsOptions = [\n      {\n        id: 'delete',\n        buttonIcon: 'delete',\n        labelOptions: {\n          labelKey: 'delete_key'\n        },\n        actionUrl: PsCommonBusinessSettings.serviceUrl.deleteBeneficiaryEndPoint,\n        cssClass: 'delete-benef fab-edit-button',\n        label: 'delete_key',\n        iconName: 'trash',\n        actionType: 'delete',\n        alertType: 'prompt',\n        alertStyle: 'info',\n        reloadList: true\n      },\n      {\n        id: 'details',\n        label: 'details_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'document',\n            labelOptions: {\n              labelKey: 'details_key'\n            }\n          },\n          route: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'local-beneficiary' : 'local-card-beneficiary',\n          navigationOptions: {\n            queryParams: { readOnlypage: true },\n          },\n          pageOptions: {\n            operId: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ?\n              CommonBussinessConstant.LOCAL_BENEFICIARY_OPER_ID : CommonBussinessConstant.LOCAL_CARD_BENEFICIARY_OPER_ID,\n            iconName: 'document',\n            title: 'additional_details_key'\n          }\n        },\n        cssClass: 'details-benef local-trasnfer-actions',\n      },\n      {\n        id: 'edit',\n        label: 'edit_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'edit1',\n            labelOptions: {\n              labelKey: 'edit_key'\n            }\n          },\n          route: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'local-beneficiary' : 'local-card-beneficiary',\n          navigationOptions: {\n            queryParams: { readOnlypage: false },\n          },\n          pageOptions: {\n            operId: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ?\n              CommonBussinessConstant.LOCAL_BENEFICIARY_OPER_ID : CommonBussinessConstant.LOCAL_CARD_BENEFICIARY_OPER_ID,\n            iconName: 'edit1',\n            title: 'edit_key'\n          }\n        },\n        cssClass: 'edit-benef local-trasnfer-actions',\n      },\n      {\n        id: 'pay',\n        label: 'pay_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'create',\n            labelOptions: {\n              labelKey: 'pay_key'\n            }\n          },\n          route: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'payment' : 'local_credit_card_settlement',\n          navigationOptions: {\n            queryParams: { readOnlypage: false },\n          },\n          pageOptions: {\n            operId: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? CommonBussinessConstant.LOCAL_BENEFICIARY_TRANSFER : CommonBussinessConstant.LOCAL_CREDIT_CARD_SETTLEMENT,\n            iconName: 'create',\n            title: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'payment_details_key' : 'local_credit_card_settlement_key'\n          },\n          preCallFunction: {\n            func() {\n              return new Promise<any>((resolve, reject) => {\n                resolve(this.executionClass.prepareTransaction(lookupDetails.actionDetailsOptions[3].actionHyperlink));\n              });\n            },\n            executionClass: this,\n            params: []\n          },\n        },\n        cssClass: 'pay-benef local-trasnfer-actions'\n      }\n    ];\n    lookupDetails.statementOptions = {};\n    lookupDetails.isEditable = this.options.isEditable;\n    lookupDetails.reloadFunction = {\n      func() {\n        return new Promise<any>((resolve, reject) => {\n          resolve(this.executionClass.reloadList());\n        });\n      },\n      executionClass: this,\n      params: []\n    }\n    return lookupDetails;\n  }\n\n  reloadList() {\n    this.reloadFct.emit();\n  }\n\n  public updateCard(account: any) {\n    if (account && this.options.listOfOptions) {\n      this.options.itemList = this.options.listOfOptions.filter(acct => acct === account);\n      this.options.item = this.options.itemList[0];\n      this.showSingleAccount = !this.showSingleAccount;\n      this.options.showItemPopUp = !this.options.showItemPopUp;\n      // this.options.showSelectedCard = false;\n    }\n    this.onClickCard.emit(this.options);\n  }\n\n\n\n  /**\n   * populating the map for internal beneficiaries\n   */\n  private populateLocalBeneficiariesMap() {\n    let beneficiaryAccountNumberMap: IMapKeyValue = {};\n    let beneficiaryCardNumberMap: IMapKeyValue = {};\n    let beneficiaryNameMap: IMapKeyValue = {};\n    let beneficiaryBankMap: IMapKeyValue = {};\n    let benefBankBranchMap: IMapKeyValue = {};\n    let beneficiaryBvnMap: IMapKeyValue = {};\n    let headerTitleMap: IMapKeyValue = {};\n    let headerSubtitleMap: IMapKeyValue = {};\n\n    beneficiaryAccountNumberMap = {\n      key: 'localAccountNumberKey',\n      value: '--- --- ---',\n      isEdit: false,\n      showMappingOnNoValue: true\n    };\n\n    beneficiaryCardNumberMap = {\n      key: 'localCardNumberKey',\n      value: '--- --- ---',\n      isEdit: false,\n      showMappingOnNoValue: true\n    };\n\n\n    beneficiaryNameMap = {\n      key: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'localBenefNameKey' : 'localCardBenefNameKey',\n      value: '------',\n      isEdit: false\n    };\n\n    // load value on card expend\n    beneficiaryBankMap = {\n      key: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'localBenefBankNameKey' : 'localCardBenefBankNameKey',\n      value: '--- --- ---',\n      isEdit: false,\n      isDetailOption: true,\n    };\n\n    benefBankBranchMap = {\n      key: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'benefBranchTxtKey' : 'localCardBenefBranchTxtKey',\n      value: '--- --- ---',\n      isEdit: false,\n      isDetailOption: true,\n    };\n\n    beneficiaryBvnMap = {\n      key: 'benefBvnKey',\n      value: '---',\n      isEdit: false,\n      isDetailOption: true,\n      showMappingOnNoValue: true\n    };\n\n    headerTitleMap = {\n      key: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'localTitleKey' : 'localCardTitleKey',\n      value: this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE ? 'localTitleKey' : 'localCardTitleKey',\n      isEdit: false\n    };\n\n    headerSubtitleMap = {\n      key: 'subTitle',\n      value: 'nickName',\n      isEdit: true\n    };\n\n\n    // key here will be used as label in look up details component\n\n    this.labelValuesMap.set('benef_name_key', beneficiaryNameMap);\n    this.labelValuesMap.set('account_number_key', beneficiaryAccountNumberMap);\n    this.labelValuesMap.set('card_number_key', beneficiaryCardNumberMap);\n    // load on card expend\n    this.labelValuesMap.set('bank_key', beneficiaryBankMap);\n    this.labelValuesMap.set('branch_key', benefBankBranchMap);\n    this.labelValuesMap.set('beneficiary_bvn_key', beneficiaryBvnMap);\n\n    // will be used as header to template card in look up details component\n    this.headerMap.set('title', headerTitleMap);\n    this.headerMap.set('subTitle', headerSubtitleMap);\n    this.requestMap.set('nickNameNumber', 'nickNameNumber');\n    this.requestMap.set('oldNickName', 'benefName');\n    this.editRequestMap.set('newNickName', 'benefName');\n    this.editRequestMap.set('type', 'A');\n  }\n\n  //edited by Marina TP:#1544088 to open the payment screen with correct data depending on beneficiary type\n  prepareTransaction(actionCard: IOptionsPsActionHyperlink) {\n    if (this.options.type === CommonBussinessConstant.LOCAL_BENEFICIARY_TYPE) {\n      actionCard.navigationOptions.queryParams.ScreenVO = {\n        toAccountType: 'bankLocalTransfer',\n        toBeneficiary: actionCard.navigationOptions.queryParams.accountNumber,\n        toBeneficiary_lookupKey: actionCard.navigationOptions.queryParams.accountNumber,\n        bank: actionCard.navigationOptions.queryParams.benefBankId,\n        currency: actionCard.navigationOptions.queryParams.currency\n      };\n    }\n    else {\n      actionCard.navigationOptions.queryParams.ScreenVO = {\n        toAccountType: 'localCardSettlement',\n        toBeneficiary: actionCard.navigationOptions.queryParams.cardNumber,\n        toBeneficiary_lookupKey: actionCard.navigationOptions.queryParams.cardNumber,\n      }\n    }\n  }\n\n}\n\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1sb2NhbC1iZW5lZmljaWFyeS5jb21wb25lbnQuc2NzcyJ9 */\";"]}