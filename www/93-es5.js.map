{"version":3,"sources":["webpack:///src/app/pages/online-registration/online-registration.page.scss","webpack:///src/app/pages/online-registration/online-registration.page.html","webpack:///src/app/pages/online-registration/online-registration.page.ts"],"names":["OnlineRegistrationPage","commonProv","loggerP","omniPull","formGroup","termsAndConditionsOptions","checkBoxOptions","group","fcName","labelKey","htmlViewerOptions","fileName","onlineRegistrationTermsAndConditionsFileName","stepperOptions","stepperName","isHorizontalStepper","numberOfSteps","namesofSteps","submitOptions","submitServiceUrl","serviceUrl","onlineRegistration","preCallFunction","func","response","Promise","resolve","reject","executionClass","updateScreenVO","params","requestObject","panelOptions1Step2","isExpandable","iconName","expanded","panelOptions2Step2","panelOptions1Step1","panelOptions1Step3","panelOptions2Step3","panelOptions3Step3","panelOptions4Step3","complexPhoneOptions","complexIdDetailsOptions","dropdownIdTypesOptions","idNumberOptions","placeHolder","dateExpiryOptions","countriesOptions","issueDateOptions","emailOptions","cardPinOptions","userCredentialsOptions1","userNameOption","validateUserName","passwordConfirmOptions","showPasswordHint","password","confirmPassword","pinConfirmOptions","securityQuestionOptions","securityAnswerOptions","verificationImageOptions","userNameOptions","passwordOptions","grpOptions","acNumOptions","varcharOptions","iconOptions","cardNumberOptions","psDateDayMonthYearPastAsStringOptions","registrationLabelOptions","usrDetailsHintOPtions","usrNameHintOPtions","usrPasswordHintOPtions","registrationChargesOptions","ngOnInit","baseFormGroup","oper_ID","ONLINE_REGISTRATION_OPER","pageName","ONLINE_REGISTRATION_TITLE","getParamValOf","then","res","EnableSecurityQuestion","RequireTransactionPassword","err","log","preLoginResponse","session","getValueOf","registrationCharges","businessProfilesCO","businessProfileVO","REGISTRATION_CHARGES","chargesCurrency","companySettingsCO","briefDesc","String","omniUserCO","omniUserVO","userName","NAME","setValInsideNestedObj","controls","value","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC6BFA,sBAAsB;AAuOjC,wCAAmBC,UAAnB,EAAuDC,OAAvD,EAAuFC,QAAvF,EAAkH;AAAA;;AAAA;;AAChH;AADiB,gBAAAF,UAAA,GAAAA,UAAA;AAAoC,gBAAAC,OAAA,GAAAA,OAAA;AAAgC,gBAAAC,QAAA,GAAAA,QAAA;AAnOvF,gBAAAC,SAAA,GAAuB,IAAI,wDAAJ,CAAc,EAAd,CAAvB;AACA,gBAAAC,yBAAA,GAAwE;AACtEC,2BAAe,EAAE;AACfC,mBAAK,EAAE,MAAKH,SADG;AAEfI,oBAAM,EAAE,iBAFO;AAGfC,sBAAQ,EAAE;AAHK,aADqD;AAMtEC,6BAAiB,EAAE;AACjBC,sBAAQ,EAAE,iIAAyBC;AADlB;AANmD,WAAxE;AAUA,gBAAAC,cAAA,GAA0C;AACxCC,uBAAW,EAAE,gBAD2B;AAExCC,+BAAmB,EAAE,IAFmB;AAGxCC,yBAAa,EAAE,CAHyB;AAIxCC,wBAAY,EAAE,CAAC,kBAAD,EAAqB,kBAArB,CAJ0B;AAKxCV,iBAAK,EAAE,MAAKH,SAL4B;AAMxCc,yBAAa,EAAE;AACbX,mBAAK,EAAE,MAAKH,SADC;AAEbe,8BAAgB,EAAE,iIAAyBC,UAAzB,CAAoCC,kBAFzC;AAGbC,6BAAe,EAAE;AACfC,oBADe,WACfA,IADe,CACVC,QADU,EACA;AAAA;;AACb,yBAAO,IAAIC,OAAJ,CAAiB,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC3CD,2BAAO,CAAC,MAAI,CAACE,cAAL,CAAoBC,cAApB,EAAD,CAAP;AACD,mBAFM,CAAP;AAGD,iBALc;AAMfD,8BAAc,OANC;AAOfE,sBAAM,EAAE;AAPO;AAHJ,aANyB;AAmBxCC,yBAAa,EAAE;AAnByB,WAA1C;AAqBA,gBAAAC,kBAAA,GAA+C;AAC7CC,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,4BAFmC;AAG7CyB,oBAAQ,EAAE,cAHmC;AAI7CC,oBAAQ,EAAE;AAJmC,WAA/C;AAMA,gBAAAC,kBAAA,GAA+C;AAC7CH,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,wCAFmC;AAG7CyB,oBAAQ,EAAE;AAHmC,WAA/C;AAKA,gBAAAG,kBAAA,GAA+C;AAC7CJ,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,kBAFmC;AAG7CyB,oBAAQ,EAAE;AAHmC,WAA/C;AAKA,gBAAAI,kBAAA,GAA+C;AAC7CL,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,iBAFmC;AAG7CyB,oBAAQ,EAAE,WAHmC;AAI7CC,oBAAQ,EAAE;AAJmC,WAA/C;AAMA,gBAAAI,kBAAA,GAA+C;AAC7CN,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,SAFmC;AAG7CyB,oBAAQ,EAAE;AAHmC,WAA/C;AAKA,gBAAAM,kBAAA,GAA+C;AAC7CP,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,uBAFmC;AAG7CyB,oBAAQ,EAAE;AAHmC,WAA/C;AAKA,gBAAAO,kBAAA,GAA+C;AAC7CR,wBAAY,EAAE,IAD+B;AAE7CxB,oBAAQ,EAAE,wBAFmC;AAG7CyB,oBAAQ,EAAE;AAHmC,WAA/C;AAKA,gBAAAQ,mBAAA,GAA0D;AACxDlC,kBAAM,EAAE,qCADgD;AAExDD,iBAAK,EAAE,MAAKH;AAF4C,WAA1D;AAIA,gBAAAuC,uBAAA,GAA6D;AAC3DC,kCAAsB,EAAE;AACtBpC,oBAAM,EAAE,QADc;AAEtBD,mBAAK,EAAE,MAAKH;AAFU,aADmC;AAK3DyC,2BAAe,EAAE;AACfpC,sBAAQ,EAAE,eADK;AAEfqC,yBAAW,EAAE,qBAFE;AAGftC,oBAAM,EAAE,UAHO;AAIfD,mBAAK,EAAE,MAAKH;AAJG,aAL0C;AAW3D2C,6BAAiB,EAAE;AACjBtC,sBAAQ,EAAE,iBADO;AAEjBqC,yBAAW,EAAE,uBAFI;AAGjBtC,oBAAM,EAAE,YAHS;AAIjBD,mBAAK,EAAE,MAAKH;AAJK,aAXwC;AAiB3D4C,4BAAgB,EAAE;AAChBvC,sBAAQ,EAAE,aADM;AAEhBqC,yBAAW,EAAE,mBAFG;AAGhBtC,oBAAM,EAAE,SAHQ;AAIhBD,mBAAK,EAAE,MAAKH;AAJI,aAjByC;AAuB3D6C,4BAAgB,EAAE;AAChBxC,sBAAQ,EAAE,gBADM;AAEhBqC,yBAAW,EAAE,gBAFG;AAGhBtC,oBAAM,EAAE,WAHQ;AAIhBD,mBAAK,EAAE,MAAKH;AAJI;AAvByC,WAA7D;AA8BA,gBAAA8C,YAAA,GAA4C;AAC1C3C,iBAAK,EAAE,MAAKH,SAD8B;AAE1CI,kBAAM,EAAE,6BAFkC;AAG1CC,oBAAQ,EAAE,WAHgC;AAI1CqC,uBAAW,EAAE;AAJ6B,WAA5C;AAMA,gBAAAK,cAAA,GAA0C;AACxC3C,kBAAM,EAAE,SADgC;AAExCC,oBAAQ,EAAE,cAF8B;AAGxCqC,uBAAW,EAAE,oBAH2B;AAIxCvC,iBAAK,EAAE,MAAKH;AAJ4B,WAA1C;AAMA,gBAAAgD,uBAAA,GAAkE;AAChErB,yBAAa,EAAE,MAAKlB,cAAL,CAAoBkB,aAD6B;AAEhEvB,kBAAM,EAAE,wBAFwD;AAGhED,iBAAK,EAAE,MAAKH,SAHoD;AAIhEiD,0BAAc,EAAE;AACd7C,oBAAM,EAAE,4BADM;AAEdD,mBAAK,EAAE,MAAKH,SAFE;AAGdkD,8BAAgB,EAAE;AAHJ,aAJgD;AAShEC,kCAAsB,EAAE;AACtBC,8BAAgB,EAAE,KADI;AAEtBjD,mBAAK,EAAE,MAAKH,SAFU;AAGtBqD,sBAAQ,EAAE;AACRhD,wBAAQ,EAAE,cADF;AAERqC,2BAAW,EAAE,oBAFL;AAGRtC,sBAAM,EAAE,gCAHA;AAIRD,qBAAK,EAAE,MAAKH;AAJJ,eAHY;AAStBsD,6BAAe,EAAE;AACfjD,wBAAQ,EAAE,sBADK;AAEfqC,2BAAW,EAAE,4BAFE;AAGftC,sBAAM,EAAE,iBAHO;AAIfD,qBAAK,EAAE,MAAKH;AAJG;AATK;AATwC,WAAlE;AA0BA,gBAAAuD,iBAAA,GAA+C;AAC7CpD,iBAAK,EAAE,MAAKH,SADiC;AAE7CqD,oBAAQ,EAAE;AACRjD,oBAAM,EAAE,oCADA;AAERD,mBAAK,EAAE,MAAKH;AAFJ,aAFmC;AAM7CsD,2BAAe,EAAE;AACflD,oBAAM,EAAE,YADO;AAEfD,mBAAK,EAAE,MAAKH;AAFG;AAN4B,WAA/C;AAWA,gBAAAwD,uBAAA,GAAoE;AAClErD,iBAAK,EAAE,MAAKH,SADsD;AAElEwD,mCAAuB,EAAE;AACvBpD,oBAAM,EAAE,kBADe;AAEvBD,mBAAK,EAAE,MAAKH;AAFW,aAFyC;AAMlEyD,iCAAqB,EAAE;AACrBpD,sBAAQ,EAAE,qBADW;AAErBqC,yBAAW,EAAE,gCAFQ;AAGrBtC,oBAAM,EAAE,kCAHa;AAIrBD,mBAAK,EAAE,MAAKH;AAJS;AAN2C,WAApE;AAaA,gBAAA0D,wBAAA,GAAuE;AACrEtD,kBAAM,EAAE,cAD6D;AAErED,iBAAK,EAAE,MAAKH;AAFyD,WAAvE;AAIA,gBAAA2D,eAAA,GAAkD;AAChDxD,iBAAK,EAAE,MAAKH,SADoC;AAEhDI,kBAAM,EAAE;AAFwC,WAAlD;AAIA,gBAAAwD,eAAA,GAAkD;AAChDzD,iBAAK,EAAE,MAAKH,SADoC;AAEhDI,kBAAM,EAAE;AAFwC,WAAlD;AAIA,gBAAAyD,UAAA,GAAyD;AACvDC,wBAAY,EAAE;AACZ1D,oBAAM,EAAE,sCADI;AAEZD,mBAAK,EAAE,MAAKH;AAFA,aADyC;AAKvD+D,0BAAc,EAAE;AACd3D,oBAAM,EAAE,oBADM;AAEdD,mBAAK,EAAE,MAAKH,SAFE;AAGdgE,yBAAW,EAAE;AACXlC,wBAAQ,EAAE;AADC;AAHC,aALuC;AAYvDmC,6BAAiB,EAAE;AACjB7D,oBAAM,EAAE,YADS;AAEjBD,mBAAK,EAAE,MAAKH,SAFK;AAGjBgE,yBAAW,EAAE;AACXlC,wBAAQ,EAAE;AADC;AAHI;AAZoC,WAAzD;AAqBA;;;;AAGA,gBAAAoC,qCAAA,GAA+E;AAC7E9D,kBAAM,EAAE,aADqE;AAE7ED,iBAAK,EAAE,MAAKH,SAFiE;AAG7EK,oBAAQ,EAAE,mBAHmE;AAI7EqC,uBAAW,EAAE;AAJgE,WAA/E;AAMA,gBAAAyB,wBAAA,GAA4C;AAC1C9D,oBAAQ,EAAE;AADgC,WAA5C,CAoBkH,CAhBlH;;AACA,gBAAA+D,qBAAA,GAAyC;AACvC/D,oBAAQ,EAAE;AAD6B,WAAzC;AAIA,gBAAAgE,kBAAA,GAAsC;AACpChE,oBAAQ,EAAE;AAD0B,WAAtC;AAIA,gBAAAiE,sBAAA,GAA0C;AACxCjE,oBAAQ,EAAE;AAD8B,WAA1C;AAIA,gBAAAkE,0BAAA,GAA8C,EAA9C;AAGkH;AAEjH;;AAzOgC;;AAAA;AAAA;AAAA,iBA4OjC,SAAAC,QAAQ,GAAG;AAAA;;AACT;;AACA,iBAAKC,aAAL,GAAqB,KAAKzE,SAA1B;AACA,qHAAiB0E,OAAjB,GAA2B,kIAAwBC,wBAAnD;AACA,qHAAiBC,QAAjB,GAA4B,kIAAwBC,yBAApD;AACA,iBAAK9E,QAAL,CAAc+E,aAAd,CAA4B,wBAA5B,EAAsD,4BAAtD,EAAoFC,IAApF,CAAyF,UAAAC,GAAG,EAAI;AAC9F,oBAAI,CAACC,sBAAL,GAA8BD,GAAG,CAACC,sBAAlC;AACA,oBAAI,CAACC,0BAAL,GAAkCF,GAAG,CAACE,0BAAtC;AACD,aAHD,WAGS,UAAAC,GAAG;AAAA,qBAAI,MAAI,CAACrF,OAAL,CAAasF,GAAb,CAAiBD,GAAjB,CAAJ;AAAA,aAHZ;AAIA,gBAAME,gBAAgB,GAAG,KAAKxF,UAAL,CAAgByF,OAAhB,CAAwBC,UAAxB,CAAmC,mGAAeF,gBAAlD,CAAzB;AACA,iBAAKG,mBAAL,GAA2BH,gBAAgB,CAACI,kBAAjB,GAAsCJ,gBAAgB,CAACI,kBAAjB,CAAoCC,iBAApC,GAAwDL,gBAAgB,CAACI,kBAAjB,CAAoCC,iBAApC,CAAsDC,oBAAtD,GAA6EN,gBAAgB,CAACI,kBAAjB,CAAoCC,iBAApC,CAAsDC,oBAAnI,GAA0J,IAAlN,GAAyN,IAA/P,GAAsQ,IAAjS;;AACA,gBAAI,KAAKH,mBAAT,EAA8B;AAC5B,kBAAMI,eAAe,GAAGP,gBAAgB,CAACQ,iBAAjB,CAAmCC,SAA3D;AACA,mBAAKvB,0BAAL,CAAgClE,QAAhC,GAA2C0F,MAAM,CAAC,KAAKP,mBAAN,CAAN,GAAmC,GAAnC,GAAyCI,eAApF;AACD;AACF;AA3PgC;AAAA;AAAA,iBA6PjC,SAAAnE,cAAc,GAAG;AACf,gBAAI,KAAKhB,cAAL,CAAoBkB,aAApB,CAAkCqE,UAAlC,IAAgD,KAAKvF,cAAL,CAAoBkB,aAApB,CAAkCqE,UAAlC,CAA6CC,UAAjG,EAA6G;AAC3G,mBAAKxF,cAAL,CAAoBkB,aAApB,CAAkCuE,QAAlC,GAA6C,KAAKzF,cAAL,CAAoBkB,aAApB,CAAkCqE,UAAlC,CAA6CC,UAA7C,CAAwDE,IAArG;AACD,aAHc,CAIf;;;AACA,iBAAKtG,UAAL,CAAgBuG,qBAAhB,CACE,UADF,EACc,KAAKpG,SAAL,CAAeqG,QAAf,CAAwB,KAAK/D,mBAAL,CAAyBlC,MAAjD,EAAyDkG,KADvE,EAC8E,KAAK7F,cAAL,CAAoBkB,aADlG;AAGD;AArQgC;AAAA,QAAS,uEAAT,C;;;;gBAZ1B;;gBAJA;;gBADA;;;;AAiBI/B,4BAAsB,6DALlC,gEAAU;AACT2G,gBAAQ,EAAE,qBADD;AAETC,gBAAQ,EAAR,iFAFS;;AAAA,OAAV,CAKkC,E,+EAuOF,yG,EAAiC,gG,EAAiC,mH,EAvOhE,GAAtB5G,sBAAsB,CAAtB","file":"93-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbmxpbmUtcmVnaXN0cmF0aW9uLnBhZ2Uuc2NzcyJ9 */\";","export default \"<ps-template-stepper [options]=\\\"stepperOptions\\\" [id]=\\\"stepperOptions.stepperName\\\">\\n  <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"stepperOptions.namesofSteps[0]\\\">\\n    <ps-container-panel [options]=\\\"panelOptions1Step2\\\" id=\\\"online_reg_panel1\\\">\\n      <ps-label class=\\\"online_reg_hints\\\" [options]=\\\"usrDetailsHintOPtions\\\"></ps-label>\\n      <ps-complex-bank-authentication [options]=\\\"grpOptions\\\"></ps-complex-bank-authentication>\\n\\n    </ps-container-panel>\\n    <ps-container-panel [options]=\\\"panelOptions2Step2\\\" id=\\\"online_reg_panel2\\\">\\n\\n      <ps-input-password id=\\\"online_reg_card_pin\\\" [options]=\\\"cardPinOptions\\\"></ps-input-password>\\n\\n\\n      <ps-complex-id-details [options]=\\\"complexIdDetailsOptions\\\"></ps-complex-id-details>\\n\\n\\n      <ps-entity-phone-number [options]=\\\"complexPhoneOptions\\\"></ps-entity-phone-number>\\n\\n\\n      <ps-date-day-month-year-past id=\\\"date_day_month_year_past\\\" [options]=\\\"psDateDayMonthYearPastAsStringOptions\\\">\\n      </ps-date-day-month-year-past>\\n\\n      <ps-input-email [options]=\\\"emailOptions\\\"></ps-input-email>\\n\\n    </ps-container-panel>\\n  </ps-form-step>\\n  <ps-form-step *psStep=\\\"'step2'\\\" step2 [id]=\\\"stepperOptions.namesofSteps[1]\\\">\\n    <ps-container-panel [options]=\\\"panelOptions1Step3\\\" id=\\\"online_reg_panel3\\\">\\n      <ps-label class=\\\"online_reg_hints\\\" [options]=\\\"usrNameHintOPtions\\\"></ps-label>\\n\\n      <ps-label class=\\\"online_reg_hints\\\" [options]=\\\"usrPasswordHintOPtions\\\"></ps-label>\\n\\n      <ps-complex-user-credentials [options]=\\\"userCredentialsOptions1\\\"></ps-complex-user-credentials>\\n    </ps-container-panel>\\n    <ps-container-panel [options]=\\\"panelOptions2Step3\\\" id=\\\"online_reg_panel4\\\" *ngIf=\\\"RequireTransactionPassword\\\">\\n      <ps-confirm-pin id=\\\"complex_pin_confirm\\\" [options]=\\\"pinConfirmOptions\\\"></ps-confirm-pin>\\n    </ps-container-panel>\\n    <ps-container-panel [options]=\\\"panelOptions3Step3\\\" id=\\\"online_reg_panel5\\\" *ngIf=\\\"EnableSecurityQuestion\\\">\\n      <ps-complex-security-questions id=\\\"complex_security_question\\\" [options]=\\\"securityQuestionOptions\\\">\\n      </ps-complex-security-questions>\\n    </ps-container-panel>\\n    <div class=\\\"registration-charges-block\\\" *ngIf=\\\"registrationCharges\\\">\\n      <ps-label class=\\\"registration-charges_label\\\" [options]=\\\"registrationLabelOptions\\\"></ps-label>\\n      <ps-label class=\\\"registration-charges_value\\\" [options]=\\\"registrationChargesOptions\\\"></ps-label>\\n    </div>\\n    <!-- \\n        <ps-container-panel [options]=\\\"panelOptions4Step3\\\">\\n          <ps-gallery-verification-images id=\\\"verification_images\\\" [options]=\\\"verificationImageOptions\\\"></ps-gallery-verification-images>\\n        </ps-container-panel>\\n       -->\\n  </ps-form-step>\\n  <!-- <ps-form-step step3>\\n        <ps-complex-terms-and-conditions [options]=\\\"termsAndConditionsOptions\\\" id=\\\"terms_and_conditions\\\"></ps-complex-terms-and-conditions>\\n    </ps-form-step> -->\\n</ps-template-stepper>\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { IOptionsPsGalleryVerificationImagesExposed } from 'src/app/commonBussinessSRC/psComponents/ps-action-gallery/ps-gallery-verification-images/ps-gallery-verification-images.interfaces';\nimport { IOptionsPsComplexBankAuthenticationExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-bank-authentication/ps-complex-bank-authentication.component.interface';\nimport { IOptionsPsComplexIdDetailsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-id-details/ps-complex-id-details.interface';\nimport { IOptionsPinConfirmExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-password-confirm/ps-confirm-pin/ps-confirm-pin.component.interfaces';\nimport { IOptionsPsComplexSecurityQuestionExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-security-questions/ps-complex-security-questions.component.interfaces';\nimport { IOptionsPsComplexTermsAndConditionsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-terms-and-conditions/ps-complex-terms-and-conditions.component.interfaces';\nimport { IOptionsPsEntityPhoneNumberExposed } from 'src/app/commonBussinessSRC/psComponents/ps-field-entity/ps-entity-phone-number/ps-entity-phone-number.component.interfaces';\nimport { IOptionsPsInputEmailExposed } from 'src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-email/ps-input.email.component.interface';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IOptionsPsContainerPanel, IOptionsPsLabel, IOptionsTemplateStepper } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsComplexUserCredentialExposed } from '../../commonBussinessSRC/psComponents/ps-complex-components/ps-complex-user-credentials/ps-complex-user-credentials.component.interfaces';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\nimport { IOptionsPsDateDayMonthYearPastExposed } from './../../commonBussinessSRC/psComponents/ps-keyin-input/ps-day-month-year/ps-date-day-month-year-past/ps-date-day-month-year-past.component.interfaces';\nimport { IOptionsPsInputPassword, IOptionsPsInputPasswordExposed, IOptionsPsInputUserNameExposed } from './../../commonSRC/psServices/models/ps-common-interface';\n\n\n@Component({\n  selector: 'online-registration',\n  templateUrl: './online-registration.page.html',\n  styleUrls: ['./online-registration.page.scss'],\n})\nexport class OnlineRegistrationPage extends OmniBasePage implements OnInit {\n\n  EnableSecurityQuestion: boolean;\n  RequireTransactionPassword: boolean\n  formGroup: FormGroup = new FormGroup({});\n  termsAndConditionsOptions: IOptionsPsComplexTermsAndConditionsExposed = {\n    checkBoxOptions: {\n      group: this.formGroup,\n      fcName: 'checkboxConfirm',\n      labelKey: 'agree_terms_and_conditions_key'\n    },\n    htmlViewerOptions: {\n      fileName: PsCommonBusinessSettings.onlineRegistrationTermsAndConditionsFileName\n    }\n  };\n  stepperOptions: IOptionsTemplateStepper = {\n    stepperName: 'on_reg_stepper',\n    isHorizontalStepper: true,\n    numberOfSteps: 2,\n    namesofSteps: ['online_reg_step1', 'online_reg_step2'],\n    group: this.formGroup,\n    submitOptions: {\n      group: this.formGroup,\n      submitServiceUrl: PsCommonBusinessSettings.serviceUrl.onlineRegistration,\n      preCallFunction: {\n        func(response) {\n          return new Promise<any>((resolve, reject) => {\n            resolve(this.executionClass.updateScreenVO());\n          });\n        },\n        executionClass: this,\n        params: [this]\n      },\n    },\n    requestObject: {},\n  };\n  panelOptions1Step2: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'identification_details_key',\n    iconName: 'finger-print',\n    expanded: true\n  };\n  panelOptions2Step2: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'authentication_and_contact_details_key',\n    iconName: 'contact'\n  };\n  panelOptions1Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'user-profile_key',\n    iconName: 'person'\n  };\n  panelOptions1Step3: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'credentials_key',\n    iconName: 'clipboard',\n    expanded: true\n  };\n  panelOptions2Step3: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'pin_key',\n    iconName: 'contact'\n  };\n  panelOptions3Step3: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'security_question_key',\n    iconName: 'lock'\n  };\n  panelOptions4Step3: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'verification_image_key',\n    iconName: 'images'\n  };\n  complexPhoneOptions: IOptionsPsEntityPhoneNumberExposed = {\n    fcName: 'omniUserCO.omniUserVO.MOBILE_NUMBER',\n    group: this.formGroup,\n  };\n  complexIdDetailsOptions: IOptionsPsComplexIdDetailsExposed = {\n    dropdownIdTypesOptions: {\n      fcName: 'idType',\n      group: this.formGroup,\n    },\n    idNumberOptions: {\n      labelKey: 'id_number_key',\n      placeHolder: 'enter_id_number_key',\n      fcName: 'idNumber',\n      group: this.formGroup\n    },\n    dateExpiryOptions: {\n      labelKey: 'expiry_date_key',\n      placeHolder: 'enter_expiry_date_key',\n      fcName: 'expiryDate',\n      group: this.formGroup,\n    },\n    countriesOptions: {\n      labelKey: 'country_key',\n      placeHolder: 'enter_country_key',\n      fcName: 'country',\n      group: this.formGroup,\n    },\n    issueDateOptions: {\n      labelKey: 'issue_date_key',\n      placeHolder: 'issue_date_key',\n      fcName: 'issueDate',\n      group: this.formGroup,\n    }\n  };\n  emailOptions: IOptionsPsInputEmailExposed = {\n    group: this.formGroup,\n    fcName: 'omniUserCO.omniUserVO.EMAIL',\n    labelKey: 'email_key',\n    placeHolder: 'enter_email_key'\n  }\n  cardPinOptions: IOptionsPsInputPassword = {\n    fcName: 'cardPin',\n    labelKey: 'card_pin_key',\n    placeHolder: 'enter_card_pin_key',\n    group: this.formGroup\n  };\n  userCredentialsOptions1: IOptionsPsComplexUserCredentialExposed = {\n    requestObject: this.stepperOptions.requestObject,\n    fcName: 'complexUserCredentials',\n    group: this.formGroup,\n    userNameOption: {\n      fcName: 'omniUserCO.omniUserVO.NAME',\n      group: this.formGroup,\n      validateUserName: true\n    },\n    passwordConfirmOptions: {\n      showPasswordHint: false, //Added by ghada US#1261163 for hidding password hints and only showing the new ons\n      group: this.formGroup,\n      password: {\n        labelKey: 'password_key',\n        placeHolder: 'enter_password_key',\n        fcName: 'omniUserCO.omniUserVO.PASSWORD',\n        group: this.formGroup,\n      },\n      confirmPassword: {\n        labelKey: 'confirm_password_key',\n        placeHolder: 'enter_confirm_password_key',\n        fcName: 'confirmPassword',\n        group: this.formGroup,\n      }\n    }\n  };\n  pinConfirmOptions: IOptionsPinConfirmExposed = {\n    group: this.formGroup,\n    password: {\n      fcName: 'omniUserCO.omniUserVO.PIN_PASSWORD',\n      group: this.formGroup,\n    },\n    confirmPassword: {\n      fcName: 'confirmPin',\n      group: this.formGroup,\n    }\n  };\n  securityQuestionOptions: IOptionsPsComplexSecurityQuestionExposed = {\n    group: this.formGroup,\n    securityQuestionOptions: {\n      fcName: 'securityQuestion',\n      group: this.formGroup,\n    },\n    securityAnswerOptions: {\n      labelKey: 'security_answer_key',\n      placeHolder: 'enter_your_security_answer_key',\n      fcName: 'omniUserCO.omniUserVO.SEC_ANSWER',\n      group: this.formGroup,\n    }\n  };\n  verificationImageOptions: IOptionsPsGalleryVerificationImagesExposed = {\n    fcName: 'verification',\n    group: this.formGroup,\n  };\n  userNameOptions: IOptionsPsInputUserNameExposed = {\n    group: this.formGroup,\n    fcName: 'username'\n  };\n  passwordOptions: IOptionsPsInputPasswordExposed = {\n    group: this.formGroup,\n    fcName: 'password'\n  };\n  grpOptions: IOptionsPsComplexBankAuthenticationExposed = {\n    acNumOptions: {\n      fcName: 'omniUserCO.omniUserVO.ACCOUNT_NUMBER',\n      group: this.formGroup\n    },\n    varcharOptions: {\n      fcName: 'onlineRegUserCifNo',//Marina 26-07-2023 TP #1586666 change the param name to not conflict with the name of the common param userCifNo\n      group: this.formGroup,\n      iconOptions: {\n        iconName: 'user-cif'\n      }\n    },\n    cardNumberOptions: {\n      fcName: 'cardNumber',\n      group: this.formGroup,\n      iconOptions: {\n        iconName: 'card-input'\n      }\n    }\n  };\n\n  /** Updated by Hisham.Omar TP#1136182 \n  *  Change the interface to be fit with the updated component 'ps-date-day-month-year-past-asString'\n  */\n  psDateDayMonthYearPastAsStringOptions: IOptionsPsDateDayMonthYearPastExposed = {\n    fcName: 'dateOfBirth',\n    group: this.formGroup,\n    labelKey: 'date_of_birth_key',\n    placeHolder: 'enter_date_of_birth_key'\n  };\n  registrationLabelOptions: IOptionsPsLabel = {\n    labelKey: 'registration_charges_key'\n  };\n\n  //Added by ghada US#1261163 for adding new hints\n  usrDetailsHintOPtions: IOptionsPsLabel = {\n    labelKey: 'usr_details_hint_key'\n  };\n\n  usrNameHintOPtions: IOptionsPsLabel = {\n    labelKey: 'usr_name_hint_key'\n  };\n\n  usrPasswordHintOPtions: IOptionsPsLabel = {\n    labelKey: 'pass_note_key'\n  };\n\n  registrationChargesOptions: IOptionsPsLabel = {};\n  registrationCharges: number;\n\n  constructor(public commonProv: PsCommonService, public loggerP: LoggerService, private omniPull: OmniPullService) {\n    super();\n  }\n\n\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    PsCommonSettings.oper_ID = CommonBussinessConstant.ONLINE_REGISTRATION_OPER;\n    PsCommonSettings.pageName = CommonBussinessConstant.ONLINE_REGISTRATION_TITLE;\n    this.omniPull.getParamValOf('EnableSecurityQuestion', 'RequireTransactionPassword').then(res => {\n      this.EnableSecurityQuestion = res.EnableSecurityQuestion;\n      this.RequireTransactionPassword = res.RequireTransactionPassword;\n    }).catch(err => this.loggerP.log(err));\n    const preLoginResponse = this.commonProv.session.getValueOf(ConstantCommon.preLoginResponse);\n    this.registrationCharges = preLoginResponse.businessProfilesCO ? preLoginResponse.businessProfilesCO.businessProfileVO ? preLoginResponse.businessProfilesCO.businessProfileVO.REGISTRATION_CHARGES ? preLoginResponse.businessProfilesCO.businessProfileVO.REGISTRATION_CHARGES : null : null : null;\n    if (this.registrationCharges) {\n      const chargesCurrency = preLoginResponse.companySettingsCO.briefDesc;\n      this.registrationChargesOptions.labelKey = String(this.registrationCharges) + ' ' + chargesCurrency;\n    }\n  }\n\n  updateScreenVO() {\n    if (this.stepperOptions.requestObject.omniUserCO && this.stepperOptions.requestObject.omniUserCO.omniUserVO) {\n      this.stepperOptions.requestObject.userName = this.stepperOptions.requestObject.omniUserCO.omniUserVO.NAME;\n    }\n    //added by Marina TP:#1486207 add mobileNo property to VO in order to be able to read it in authentication-matrix component\n    this.commonProv.setValInsideNestedObj(\n      'mobileNo', this.formGroup.controls[this.complexPhoneOptions.fcName].value, this.stepperOptions.requestObject);\n\n  }\n\n}\n"]}