(window.webpackJsonp=window.webpackJsonp||[]).push([[85,339,340,341,342,343,344,345,346,347,348,349],{GIS6:function(e,i,t){"use strict";t.d(i,"a",function(){return a});var s=t("V0Fi"),o=t("ZyuK"),n=t("fXoL");let a=(()=>{class e{constructor(e){this.OmniPull=e}populateCards(i,t){let s=[];for(const o of i)o.cardNo&&s.push({cardNumber:o.cardNo,cardName:o.cardName,oldCardName:o.oldCardName,cardType:o.cardType,cardTypeName:t,posLimitAmount:o.posLimitAmount,withdrawalLimit:o.cardWdLimitAmount,status:o.status,statusCode:o.statusCode,limitCheckingBy:o.limitCheckingBy,currencyBriefName:o.currencyBriefName||o.currencyBriefNameEnglish,currencyBriefNameEnglish:o.currencyBriefNameEnglish,expiryDate:o.expiryDate,currencyCountryFlag:o.currencyCountryFlag,cardNumberMask:o.cardNumberMask,primaryAccount:o.primaryAccount,cardLimit:o.cardLimit,remainingBalance:o.remainingBalance,settlementRate:o.settlementRate,debitOrCredit:t==e.CREDIT_CARD_TYPE_NAME||t==e.DEBIT_CARD_TYPE_NAME?o.debitOrCredit:void 0,outstandingBalance:o.outstandingBalance,ownerName:o.cardHolderName,loyaltyPoint:o.loyaltyPoint,lookupKey:o.cardNo,applicationId:o.applicationId,additionalRef:o.additionalRef,accGl:o.accGl,branch:o.branch,cif:o.cif,currency:o.currency,serialNo:o.serialNo,previewProperty:"cardName",primarySupplementary:o.primarySupplementary,title:o.cardName+" - "+((t==e.CREDIT_CARD_TYPE_NAME||e.DEBIT_CARD_TYPE_NAME)&&o.cardNumberMask||o.cardNo),referenceCard:t==e.PREPAID_CARD_TYPE_NAME?o.referenceCard:void 0,issueDate:t==e.PREPAID_CARD_TYPE_NAME?o.issueDate:void 0,defaultAcc:o.defaultAcc,accnumbs:o.accnumbs,cardCode:o.cardCode,cardRefnum:o.cardRefnum});return s}returnCardList(i){return i.apiCode=-1,new Promise((t,o)=>{this.OmniPull.commonRequestAjax(i.cardType===s.a.CARD_SEGMENT_NAME_PREPAID?e.prepaidCardListEndPoint:e.cardListEndPoint,i).then(e=>{t({gridModel:e.data.gridModel,totalNbRec:e.data.totalNbRec})}).catch(e=>{o(e)})})}}return e.cardListEndPoint="rest/omniCorePull/cardList",e.prepaidCardListEndPoint="rest/omniCorePull/returnPrePaidCardsList",e.CREDIT_CARD_TYPE_NAME="CREDIT",e.DEBIT_CARD_TYPE_NAME="DEBIT",e.PREPAID_CARD_TYPE_NAME="PREPAID",e.\u0275fac=function(i){return new(i||e)(n.bc(o.a))},e.\u0275prov=n.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},eXmm:function(e,i,t){"use strict";t.r(i),t.d(i,"CardManagementPage",function(){return K});var s=t("mrSG"),o=t("3Pt+"),n=t("wd/R"),a=t.n(n),r=t("GIS6"),c=t("V0Fi"),p=t("fOh1"),d=t("ZyuK"),l=t("DFXC"),m=t("zngb"),u=t("qEF5"),h=t("woXy"),O=t("gKqT"),_=t("fXoL"),f=t("kRg/"),b=t("uKCV"),y=t("sAFK"),g=t("+f2X"),P=t("BygU"),C=t("ofXK"),N=t("iOQE"),L=t("Q0Ba");let E=(()=>{class e extends N.a{constructor(e,i,t){super(e,i),this.omniPull=t,this.defaultSelectOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.loadCoreReasons()}loadCoreReasons(){return Object(s.b)(this,void 0,void 0,function*(){const e={reasonType:this.options.reasonType},i=yield this.omniPull.returnCardReasons(e).catch(e=>{});if(this.defaultSelectOptions.listOfOptions=[],i&&i.gridModel&&i.gridModel.length>0)for(const t of i.gridModel)this.defaultSelectOptions.listOfOptions.push({itemValue:t.reasonId,description:t.briefDesc,selectedObj:t})})}onChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(i){return new(i||e)(_.Rb(L.a),_.Rb(l.a),_.Rb(d.a))},e.\u0275cmp=_.Lb({type:e,selectors:[["ps-dropdown-card-core-reasons"]],inputs:{options:"options"},features:[_.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,i){1&e&&(_.Xb(0,"ps-select-dropdown",0),_.fc("onPsChange",function(e){return i.onChange(e)}),_.Wb()),2&e&&_.pc("id",i.id)("options",i.defaultSelectOptions)},directives:[N.a],styles:[""]}),e})();var D=t("KuXP"),A=t("pvj/"),k=t("G/Qj"),v=t("/ZU/"),I=t("vjTl");function R(e,i){if(1&e&&(_.Xb(0,"ps-container-panel",11),_.Sb(1,"ps-dropdown-card-core-reasons",12),_.Sb(2,"ps-select-toggle",13),_.Wb()),2&e){const e=_.ic(2);_.pc("options",e.panelOptions2),_.Fb(1),_.pc("options",e.cardBlockReason),_.Fb(1),_.pc("options",e.cardBlockToggleOptions)}}function w(e,i){if(1&e){const e=_.Yb();_.Xb(0,"ps-container-panel",14),_.Xb(1,"ps-complex-location",15),_.fc("parentFun",function(){return _.Fc(e),_.ic(2).hideDestinationMap()}),_.Wb(),_.Wb()}if(2&e){const e=_.ic(2);_.pc("options",e.panelOptions3),_.Fb(1),_.pc("options",e.deliveryAddressDetails)}}function T(e,i){if(1&e&&(_.Vb(0),_.Sb(1,"ps-lov-periodicity",20),_.Sb(2,"ps-complex-amount",21),_.Sb(3,"ps-complex-amount",22),_.Ub()),2&e){const e=_.ic(3);_.Fb(1),_.pc("id","POSpriodicity")("options",e.POSpriodicityOptions),_.Fb(1),_.pc("options",e.utilizedPosLimitOptions),_.Fb(1),_.pc("options",e.remainingPosLimitOptions)}}function S(e,i){if(1&e&&(_.Xb(0,"ps-container-panel",16),_.Sb(1,"ps-complex-amount",17),_.Pc(2,T,4,4,"ng-container",18),_.Sb(3,"ps-input-amount",19),_.Wb()),2&e){const e=_.ic(2);_.pc("options",e.panelOptions6),_.Fb(1),_.pc("options",e.currentPosLimitOptions),_.Fb(1),_.pc("ngIf",!e.isCredit),_.Fb(1),_.pc("options",e.limitRequestPosOptions)}}function M(e,i){if(1&e&&(_.Vb(0),_.Sb(1,"ps-lov-periodicity",20),_.Sb(2,"ps-complex-amount",26),_.Sb(3,"ps-complex-amount",27),_.Ub()),2&e){const e=_.ic(3);_.Fb(1),_.pc("id","WDpriodicity")("options",e.WDpriodicityOptions),_.Fb(1),_.pc("options",e.utilizedWdLimitOptions),_.Fb(1),_.pc("options",e.remainingWdLimitOptions)}}function V(e,i){if(1&e&&(_.Xb(0,"ps-container-panel",23),_.Sb(1,"ps-complex-amount",24),_.Pc(2,M,4,4,"ng-container",18),_.Sb(3,"ps-input-amount",25),_.Wb()),2&e){const e=_.ic(2);_.pc("options",e.panelOptions7),_.Fb(1),_.pc("options",e.currentWdLimitOptions),_.Fb(1),_.pc("ngIf",!e.isCredit),_.Fb(1),_.pc("options",e.limitRequestWdOptions)}}function W(e,i){if(1&e&&(_.Xb(0,"ps-container-panel",0),_.Sb(1,"ps-dropdown-card-core-reasons",28),_.Wb()),2&e){const e=_.ic(2);_.pc("options",e.panelOptions8),_.Fb(1),_.pc("options",e.cardUnblockReason)}}function F(e,i){if(1&e&&(_.Xb(0,"ps-container-panel",29),_.Sb(1,"ps-dropdown-card-core-reasons",0),_.Wb()),2&e){const e=_.ic(2);_.pc("options",e.replacementPanelOptions),_.Fb(1),_.pc("options",e.cardReplaceReason)}}function B(e,i){if(1&e&&(_.Xb(0,"ps-form-step",2),_.Xb(1,"ps-container-panel",3),_.Sb(2,"ps-container-lookup-option",4),_.Wb(),_.Pc(3,R,3,3,"ps-container-panel",5),_.Pc(4,w,2,2,"ps-container-panel",6),_.Pc(5,S,4,4,"ps-container-panel",7),_.Pc(6,V,4,4,"ps-container-panel",8),_.Pc(7,W,2,2,"ps-container-panel",9),_.Pc(8,F,2,2,"ps-container-panel",10),_.Wb()),2&e){const e=_.ic();_.pc("id",e.options.namesofSteps[0]),_.Fb(1),_.pc("options",e.panelOptions1),_.Fb(1),_.pc("options",e.cardOptions)("itemCard",e.itemCard),_.Fb(1),_.pc("ngIf",e.blockCard),_.Fb(1),_.pc("ngIf",e.renewCard),_.Fb(1),_.pc("ngIf",e.limitUpdate&&e.showPos),_.Fb(1),_.pc("ngIf",e.limitUpdate&&e.showWd),_.Fb(1),_.pc("ngIf",e.unblockCard),_.Fb(1),_.pc("ngIf",e.cardReplace)}}let K=(()=>{class e extends O.OmniBasePage{constructor(e,i,t,s){super(),this.logger=e,this.omniPull=i,this.navService=t,this.crdsSrvce=s,this.CardManagementVO={},this.formGroup=new o.f({}),this.options={stepperName:"card_management_stepper",numberOfSteps:1,group:this.formGroup,submitOptions:{submitServiceUrl:p.a.serviceUrl.cardActionRequestEndPoint,group:this.formGroup,preCallFunction:{func(e){return new Promise((i,t)=>{i(this.executionClass.updateScreenVO(e))})},executionClass:this,params:[this]}},requestObject:this.CardManagementVO,isHorizontalStepper:!0,namesofSteps:["cardManagement"]},this.blockCard=!1,this.renewCard=!1,this.limitUpdate=!1,this.unblockCard=!1,this.showAddress=!1,this.showManualAddress=!1,this.showDestinationBranchMap=!1,this.enableCifBranch=!1,this.enableDeliveryLoc=!1,this.showHomeWorkAddress=!1,this.showHomeAddress=!1,this.cardReplace=!1,this.isCredit=!1,this.itemCard={},this.cardOptions={},this.showPos=!1,this.showWd=!1,this.panelOptions1={isExpandable:!0,labelKey:"card_information_key",iconName:"document",expanded:!0},this.panelOptions2={isExpandable:!0,labelKey:"card_block_options_key",iconName:"document",expanded:!0},this.panelOptions3={isExpandable:!0,labelKey:"card_renew_key",iconName:"document",expanded:!0},this.panelOptions6={isExpandable:!0,labelKey:"pos_limit_update_key",iconName:"document",expanded:!0},this.panelOptions7={isExpandable:!0,labelKey:"widthrawal_limit_update_key",iconName:"document",expanded:!0},this.panelOptions8={isExpandable:!0,labelKey:"card_unblocking_key",iconName:"document",expanded:!0},this.replacementPanelOptions={isExpandable:!0,labelKey:"card_replace_key",iconName:"document",expanded:!0},this.cardReplaceReason={fcName:"cardReplaceReason",group:this.formGroup,labelKey:"card_replace_reason_key",placeHolder:"select_card_replace_reason_key",iconOptions:{iconName:"clipboard"},reasonType:c.a.REPLACE_REASON_TYPE},this.deliveryAddressDetails={collectionModeOptions:{group:this.formGroup,fcName:"deliveryLoc"},branchLocationOptions:{fcName:"mapAtmBranchesDropdown",group:this.formGroup},homeAddressOptions:{placeHolder:"address_details_key",labelKey:"address_details_key",group:this.formGroup,fcName:"addressDetails",requestVO:this.CardManagementVO},workAddressOptions:{placeHolder:"address_details_key",labelKey:"address_details_key",group:this.formGroup,fcName:"addressDetails",requestVO:this.CardManagementVO},otherAddressOptions:{labelKey:"address_details_key",rows:"3",cols:"10",fcName:"otherAddressDetails",group:this.formGroup},branchCifOptions:{placeHolder:"request_branch_key",labelKey:"request_branch_key",group:this.formGroup,fcName:"branchName"},cifBranchChecking:!0},this.cardBlockToggleOptions={labelKey:"re_issue_card_key",placeHolder:"re_issue_card_key",group:this.formGroup,fcName:"reIssueCard",psClass:"toggleColor"},this.cardBlockReason={fcName:"cardBlockReason",group:this.formGroup,labelKey:"card_block_reason_key",placeHolder:"please_select_card_block_reason_key",iconOptions:{iconName:"clipboard"},reasonType:c.a.BlOCK_REASON_TYPE},this.cardUnblockReason={fcName:"cardUnblockReason",group:this.formGroup,labelKey:"card_unblock_reason_key",placeHolder:"select_card_unblock_reason_key",iconOptions:{iconName:"clipboard"},reasonType:c.a.UNBLOCK_REASON_TYPE},this.limitRequestPosOptions={fcName:"requestPosLimit",group:this.formGroup,labelKey:"requested_pos_limit_key",placeHolder:"pls_enter_requested_pos_limit_key"},this.currentPosLimitOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",fcName:"currencyPosCode",group:this.formGroup},amountOptions:{labelKey:"current_pos_limit_key",placeHolder:"current_pos_limit_key",fcName:"currentPosLimit",group:this.formGroup}},this.utilizedPosLimitOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",fcName:"UtilizedCurrencyPos",group:this.formGroup},amountOptions:{labelKey:"utilized_pos_limit_key",placeHolder:"utilized_pos_limit_key",fcName:"utilizedPosLimit",group:this.formGroup}},this.remainingPosLimitOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",fcName:"remainingCurrencyPos",group:this.formGroup},amountOptions:{labelKey:"remaining_pos_limit_key",placeHolder:"remaining_pos_limit_key",fcName:"remainingPosLimit",group:this.formGroup}},this.currentWdLimitOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",fcName:"currencyWdCode",group:this.formGroup},amountOptions:{labelKey:"current_widthrawal_limit_key",placeHolder:"current_widthrawal_limit_key",fcName:"currentWdLimit",group:this.formGroup}},this.utilizedWdLimitOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",fcName:"UtilizedCurrencyWd",group:this.formGroup},amountOptions:{labelKey:"utilized_wd_limit_key",placeHolder:"utilized_wd_limit_key",fcName:"utilizedWdLimit",group:this.formGroup}},this.remainingWdLimitOptions={currenciesOptions:{labelKey:"currency_key",placeHolder:"currency_key",fcName:"remainingCurrencyWd",group:this.formGroup},amountOptions:{labelKey:"remaining_wd_limit_key",placeHolder:"remaining_wd_limit_key",fcName:"remainingWdLimit",group:this.formGroup}},this.limitRequestWdOptions={fcName:"requestWdLimit",group:this.formGroup,labelKey:"requested_widthrawal_limit_key",placeHolder:"pls_enter_requested_widthrawal_limit_key"},this.POSpriodicityOptions={labelKey:"pos_periodicity_key",placeHolder:"pos_periodicity_key",fcName:"posPeriodicity",group:this.formGroup},this.WDpriodicityOptions={labelKey:"wd_periodicity_key",placeHolder:"wd_periodicity_key",fcName:"wdPeriodicity",group:this.formGroup},this.TrxLimitTypes={POS:0,WITHDRAWAL:1}}ngOnInit(){switch(super.init(),this.baseFormGroup=this.formGroup,this.commonProv.copyObject(this.CardManagementVO,this.navService.getAllParams()?this.navService.getAllParams().ScreenVO?this.navService.getAllParams().ScreenVO:this.navService.getAllParams():{}),delete this.options.requestObject.key,this.isCredit=this.CardManagementVO.cardType===r.a.CREDIT_CARD_TYPE_NAME,this.logger.log("this.CardManagementVO",this.CardManagementVO),this.itemCard=this.CardManagementVO,this.cardOptions.formGroup=this.formGroup,this.cardOptions.labelsValueMap=this.navigationServices.getParamKey("labelsValueMap"),this.cardOptions.headerMap=this.navigationServices.getParamKey("headerMap"),this.cardOptions.showInitialCardValues=this.navigationServices.getParamKey("showInitialCardValues"),this.CardManagementVO.action){case c.a.CARD_ACTION_TYPE_BLOCK:this.blockCard=!0;break;case c.a.CARD_ACTION_TYPE_LIMIT_UPDATE:this.limitUpdate=!0;break;case c.a.CARD_ACTION_TYPE_RENEW:this.renewCard=!0;break;case c.a.CARD_ACTION_TYPE_UNBLOCK:this.unblockCard=!0;break;case c.a.CARD_ACTION_TYPE_REPLACE:this.cardReplace=!0}}ionViewDidEnter(){var e,i,t;super.ionViewDidEnter(),this.fetchParameter(),this.blockCard?"0"==(null===(e=this.CardManagementVO)||void 0===e?void 0:e.allowRenew)&&this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_VISIBLE,[this.cardBlockToggleOptions.fcName],0):this.limitUpdate&&(this.showPos="1"===(null===(i=this.CardManagementVO)||void 0===i?void 0:i.posLimitOverride)&&null!=this.CardManagementVO.posLimitBasedOn,this.showWd="1"===(null===(t=this.CardManagementVO)||void 0===t?void 0:t.wdLimitOverride),this.commonProv.applyDynScreenDisplay(m.a.ACTION_TYPE_READONLY,[this.currentPosLimitOptions.amountOptions.fcName,this.currentPosLimitOptions.currenciesOptions.fcName,this.utilizedPosLimitOptions.amountOptions.fcName,this.utilizedPosLimitOptions.currenciesOptions.fcName,this.remainingPosLimitOptions.amountOptions.fcName,this.remainingPosLimitOptions.currenciesOptions.fcName,this.POSpriodicityOptions.fcName,this.currentWdLimitOptions.amountOptions.fcName,this.currentWdLimitOptions.currenciesOptions.fcName,this.utilizedWdLimitOptions.amountOptions.fcName,this.utilizedWdLimitOptions.currenciesOptions.fcName,this.remainingWdLimitOptions.amountOptions.fcName,this.remainingWdLimitOptions.currenciesOptions.fcName,this.WDpriodicityOptions.fcName],1),this.setLimitsDetails())}setLimitsDetails(){this.showPos&&this.setLimitsCurrency([this.currentPosLimitOptions.currenciesOptions.fcName,this.utilizedPosLimitOptions.currenciesOptions.fcName,this.remainingPosLimitOptions.currenciesOptions.fcName]),this.showWd&&this.setLimitsCurrency([this.currentWdLimitOptions.currenciesOptions.fcName,this.utilizedWdLimitOptions.currenciesOptions.fcName,this.remainingWdLimitOptions.currenciesOptions.fcName]),this.isCredit||(this.returnTransUtilizedAmount(this.CardManagementVO[this.POSpriodicityOptions.fcName],this.TrxLimitTypes.POS),this.returnTransUtilizedAmount(this.CardManagementVO[this.WDpriodicityOptions.fcName],this.TrxLimitTypes.WITHDRAWAL))}onLocChange(e){e&&e.selectedObj&&(e.selectedObj.itemValue===c.a.SPECIFIC_BRANCH_VALUE?(this.showAddress=!1,this.showManualAddress=!1,this.enableCifBranch=!0):(this.enableCifBranch=!1,e.selectedObj.itemValue===c.a.HOME_ADDRESS_VALUE||e.selectedObj.itemValue===c.a.WORK_ADDRESS_VALUE?(this.showAddress=!0,this.showManualAddress=!1,this.showHomeWorkAddress=e.selectedObj.itemValue===c.a.HOME_ADDRESS_VALUE):e.selectedObj.itemValue===c.a.OTHER_ADDRESS_VALUE&&(this.showManualAddress=!0,this.showAddress=!1)))}fetchParameter(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.omniPull.getParamValOf(c.a.COLLECTION_DESTINATION_BRANCH).catch(e=>{this.logger.error("Error ! while fetching admin param in card management page ",e)});this.enableDeliveryLoc=-1!==e&&e.CollectionDestinationBranch===c.a.END_USER_INPUT_ID})}hideDestinationMap(){}updateScreenVO(){delete this.CardManagementVO.key,delete this.formGroup.controls.formData.value.key}returnTransUtilizedAmount(e,i){let t={commonParametersList:{accountNumber:this.CardManagementVO.primaryAccount,fromDate:this.setTranactionsDate(e).from,toDate:this.setTranactionsDate(e).to,TransactionType:i==this.TrxLimitTypes.POS?c.a.POS_TRANSACTION_TYPE:c.a.WD_TRANSACTION_TYPE}};this.commonProv.presentLoading(),this.omniPull.returnTransUtilizedAmount(t).then(e=>{if(e&&0==e.outputCode)if(i==this.TrxLimitTypes.POS){this.commonProv.setValInsideNestedObj(this.utilizedPosLimitOptions.amountOptions.fcName,e.totalUtilizedAmount,this.CardManagementVO);let i=Number(this.CardManagementVO[this.currentPosLimitOptions.amountOptions.fcName])-Number(this.CardManagementVO[this.utilizedPosLimitOptions.amountOptions.fcName]);this.commonProv.setValInsideNestedObj(this.remainingPosLimitOptions.amountOptions.fcName,i||0,this.CardManagementVO)}else{this.commonProv.setValInsideNestedObj(this.utilizedWdLimitOptions.amountOptions.fcName,e.totalUtilizedAmount,this.CardManagementVO);let i=Number(this.CardManagementVO[this.currentWdLimitOptions.amountOptions.fcName])-Number(this.CardManagementVO[this.utilizedWdLimitOptions.amountOptions.fcName]);this.commonProv.setValInsideNestedObj(this.remainingWdLimitOptions.amountOptions.fcName,i||0,this.CardManagementVO)}}).catch(e=>{this.logger.error("Error: While fetching scheduled transfers  :",e)}).finally(()=>{this.commonProv.dismissLoading()})}setTranactionsDate(e){let i,t;switch(t=u.a.toIsoString(a()().endOf("day").toDate()),e){case"D":i=u.a.toIsoString(a()().startOf("day").toDate());break;case"W":i=u.a.toIsoString(a()().subtract(6,"days").startOf("day").toDate());break;case"M":i=u.a.toIsoString(a()().subtract(1,"month").startOf("day").toDate());break;case"Y":i=u.a.toIsoString(a()().subtract(1,"year").startOf("day").toDate());break;case"Q":i=u.a.toIsoString(a()().subtract(3,"months").startOf("day").toDate())}return{from:i,to:t}}setLimitsCurrency(e){for(const i of e)this.commonProv.setValInsideNestedObj(i,this.CardManagementVO.currencyCode,this.CardManagementVO)}}return e.\u0275fac=function(i){return new(i||e)(_.Rb(l.a),_.Rb(d.a),_.Rb(h.a),_.Rb(r.a))},e.\u0275cmp=_.Lb({type:e,selectors:[["card-management"]],features:[_.Cb],decls:2,vars:2,consts:[[3,"options"],["step1","",3,"id",4,"psStep"],["step1","",3,"id"],["id","card_management_information",3,"options"],[3,"options","itemCard"],["id","card_block_options",3,"options",4,"ngIf"],["id","card_renew_options",3,"options",4,"ngIf"],["id","card_pos_limit_update",3,"options",4,"ngIf"],["id","card_widthrawal_limit_update",3,"options",4,"ngIf"],[3,"options",4,"ngIf"],["id","replacement_reason",3,"options",4,"ngIf"],["id","card_block_options",3,"options"],["id","card-block-reason",3,"options"],[1,"onboarding_toggles",3,"options"],["id","card_renew_options",3,"options"],[3,"options","parentFun"],["id","card_pos_limit_update",3,"options"],["id","displayPosCurrentLimit",3,"options"],[4,"ngIf"],["id","requestPosLimitUpdate",3,"options"],[3,"id","options"],["id","utilizedPosLimit",3,"options"],["id","remainingPostLimit",3,"options"],["id","card_widthrawal_limit_update",3,"options"],["id","currentWdtLimit",3,"options"],["id","requestWdLimitUpdate",3,"options"],["id","utilizedWdLimit",3,"options"],["id","remainingWdLimit",3,"options"],["id","card-unblock-reason",3,"options"],["id","replacement_reason",3,"options"]],template:function(e,i){1&e&&(_.Xb(0,"ps-template-stepper",0),_.Pc(1,B,9,10,"ps-form-step",1),_.Wb()),2&e&&(_.pc("options",i.options),_.Fb(1),_.pc("psStep","step1"))},directives:[f.a,b.a,y.a,g.a,P.a,C.o,E,D.a,A.a,k.a,v.a,I.a],styles:[""]}),e})()},gKqT:function(e,i,t){"use strict";t.r(i),t.d(i,"OmniBasePage",function(){return l});var s=t("oS+F"),o=t("zngb"),n=t("QZhd"),a=t("woXy"),r=t("qEF5"),c=t("Q0Ba"),p=t("lE2x"),d=t("fXoL");let l=(()=>{class e{constructor(){this.isPageDisabled=!1,this.commonProv=r.a.injectionHandler(c.a),this.navigationServices=r.a.injectionHandler(a.a)}init(){this.currentOperID=n.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const e=this.navigationServices.getAllParams(),i={};e&&!0===e.readOnlypage?(i.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(o.a.FORM_READONLY,i)):this.customizationMap&&(i.IS_READONLY=0,this.customizationMap.set(o.a.FORM_READONLY,i)),this.screenTranslationOperIds=p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(e){if(void 0!==e&&this.customizationMap){const i=this.customizationMap.get(o.a.FORM_READONLY);i&&1===i.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(e=>{this.commonProv.applyDynScreenDisplay(o.a.ACTION_TYPE_READONLY,[e],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),s.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(e){const i=e||2222,t=n.a.activeLanguge?n.a.activeLanguge:"EN";i&&t&&this.commonProv.language.getOperTranslation(t,i)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,i){2&e&&d.Hb(i.psClass)},decls:0,vars:0,template:function(e,i){},styles:[""]}),e})()},vjTl:function(e,i,t){"use strict";t.d(i,"a",function(){return c});var s=t("DFXC"),o=t("Q0Ba"),n=t("V0Fi"),a=t("41l2"),r=t("fXoL");let c=(()=>{class e extends a.a{constructor(e,i){super(e,i),this.defaultOptions={lovTypeId:n.a.LOV_TYPE_ID_PRIODICITY}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.defaultOptions.labelKey=this.commonProv.translate("periodicity_key"),this.defaultOptions.placeHolder=this.commonProv.translate("select_periodicity_key")}onChangePriodicityLov(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(i){return new(i||e)(r.Rb(o.a),r.Rb(s.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-lov-periodicity"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,i){1&e&&(r.Xb(0,"ps-dropdown-lov",0),r.fc("onPsChange",function(e){return i.onChangePriodicityLov(e)}),r.Wb()),2&e&&r.pc("id",i.id)("options",i.defaultOptions)},directives:[a.a],styles:[""]}),e})()}}]);