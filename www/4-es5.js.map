{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-lookup/ps-complex-lookup.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-lookup/ps-complex-lookup.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-lookup/ps-complex-lookup.component.scss","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-lookup/ps-complex-lookup.component.module.ts"],"names":["PsComplexLookupComponent","commonService","logger","elementRef","navigationServices","options","requestObject","notFoundMessage","selectLookUpOptions","changeItem","onDeleteItem","clickElsewhere","bAccountsFound","lookupOptions","tempLookupDropDownOptions","toggleCardList","noValidAccountsLabelOptions","tempItemList","lookupDropDownMultipleOptions","previewList","labelValueMap","itemLookupKeyArray","listOfOptions","length","firstOption","prefixName","fcName","extraOptionDetails","extractPropertyNames","group","controls","CONTROLLER_EXTRA_OPTION_DETAILS","labelKey","placeHolder","allowCust","complexLookupOptions","commonProv","getElementValidations","val","value","Object","keys","IS_READONLY","IS_VISIBLE","showDropdownIcon","ngOnInit","addComponentValidator","common","prepareValidation","custOnlyObjectAllowed","disablePreview","type","multiple","undefined","forceTriggerChange","custIconOptions","component","componentOptions","availableCustomization","IS_MANDATORY","PLACEHOLDER_LABEL_ID","custMode","translate","loadOptions","applyDynScreenDisplay","ACTION_TYPE_MANDATORY","fcValueDesc","psClass","previewMode","popListUp","disableLookup","map","element","index","setValInsideNestedObj","lookupDropDownOptions","showDefaultTemplate","enableListPagination","resetPagination","itemList","showSelectedCard","selectLookUpRef","showSelectedDiv","toggleSearchElement","onItemChange","selectLookUpElRef","nativeElement","searchElement","querySelector","searchElInput","classList","add","remove","numberOfItrations","tempNumberOfItrations","applyPagination","fillPaginationList","list","presentLoader","presentLoading","setTimeout","checkOnListOfOptions","dismissLoading","onDocumentClick","event","targetElement","target","contains","id","showDefaultTemplateOption","emitItemDetails","confirmMultiple","setSelectedItems","item","lookupKey","changedItem","filter","shift","VALIDATE_COMBINATION","OLD_VALUE","emit","lookupArray","forEach","push","itemLookup","onChangeItem","newValue","previewProperty","onClickCard","previewBuilder","showWarning","multiSelectObject","arrayList","deletedItem","resetLookUp","selectedItems","reset","hidePlaceholder","Array","isArray","read","selector","template","PsComplexLookupComponentModule","declarations","imports","exports","entryComponents","schemas"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACef;;;;;;;UAWaA,wBAAwB;AAiEnC,0CACEC,aADF,EAEEC,MAFF,EAGUC,UAHV,EAISC,kBAJT,EAI+C;AAAA;;AAAA;;AAE7C,8DAAMH,aAAN,EAAqBC,MAArB;AAHQ,gBAAAC,UAAA,GAAAA,UAAA;AACD,gBAAAC,kBAAA,GAAAA,kBAAA;AAnEA,gBAAAC,OAAA,GAAmD;AAC1DC,yBAAa,EAAE,IAD2C;AAE1DC,2BAAe,EAAE;AAFyC,WAAnD;AAIF,gBAAAC,mBAAA,GAAwE,EAAxE;AACU,gBAAAC,UAAA,GAAgC,IAAI,0DAAJ,EAAhC;AACA,gBAAAC,YAAA,GAAkC,IAAI,0DAAJ,EAAlC;AACP,gBAAAC,cAAA,GAAiB,IAAI,0DAAJ,EAAjB;AAGH,gBAAAC,cAAA,GAAiB,IAAjB;AACA,gBAAAC,aAAA,GAAsC,EAAtC;AACA,gBAAAC,yBAAA,GAAkD,EAAlD;AACA,gBAAAC,cAAA,GAAiB,KAAjB;AAEP,gBAAAC,2BAAA,GAA+C,EAA/C;AAEA,gBAAAC,YAAA,GAAoB,EAApB;AACA,gBAAAC,6BAAA,GAAsD,EAAtD;AACA,gBAAAC,WAAA,GAAmB,EAAnB;AACA,gBAAAC,aAAA,GAAwB,EAAxB;AACA,gBAAAC,kBAAA,GAAqB,EAArB;AA8C+C;AAG9C,SAxEkC,CAwBnC;;;AAxBmC;;AAAA;AAAA;AAAA,eAyBnC,eAA4B;AAC1B,gBAAI,KAAKhB,OAAL,IAAgB,KAAKA,OAAL,CAAaiB,aAA7B,IAA8C,KAAKjB,OAAL,CAAaiB,aAAb,CAA2BC,MAA3B,GAAoC,CAAtF,EAAyF;AACvF,kBAAMC,WAAW,GAAG,KAAKnB,OAAL,CAAaiB,aAAb,CAA2B,CAA3B,CAApB;;AACA,kBAAIE,WAAJ,EAAiB;AACf,oBAAMC,UAAU,GAAG,KAAKpB,OAAL,CAAaqB,MAAb,GAAsB,GAAzC;AACA,oBAAMC,kBAAkB,GAAG,6FAAYC,oBAAZ,CAAiCJ,WAAjC,EAA8CC,UAA9C,CAA3B;;AACA,oBAAIE,kBAAkB,IAAIA,kBAAkB,CAACJ,MAAnB,GAA4B,CAAtD,EAAyD;AACvD,uBAAKlB,OAAL,CAAawB,KAAb,CAAmBC,QAAnB,CAA4B,KAAKzB,OAAL,CAAaqB,MAAzC,EAAiD,mGAAeK,+BAAhE,IAAmGJ,kBAAnG;AACD;AACF;AACF;;AACD,mBAAO,KAAKb,yBAAZ;AACD,WArCkC,CAsCnC;;AAtCmC;AAAA;AAAA,eAuCnC,eAAoB;AAClB,iBAAKD,aAAL,CAAmBmB,QAAnB,GAA8B,KAAK3B,OAAL,CAAa2B,QAA3C;AACA,iBAAKnB,aAAL,CAAmBoB,WAAnB,GAAiC,KAAK5B,OAAL,CAAa4B,WAA9C;AACA,iBAAKpB,aAAL,CAAmBqB,SAAnB,GAA+B,KAA/B;AACA,gBAAMC,oBAAoB,GAAG,KAAKC,UAAL,CAAgBC,qBAAhB,CAAsC,KAAKxB,aAAL,CAAmBa,MAAzD,CAA7B,CAJkB,CAKlB;;AACA,gBAAMY,GAAG,GAAG,KAAKzB,aAAL,CAAmBgB,KAAnB,CAAyBC,QAAzB,CAAkC,KAAKzB,OAAL,CAAaqB,MAA/C,EAAuDa,KAAnE;;AACA,gBAAID,GAAG,IAAIE,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBf,MAAjB,GAA0B,CAArC,EAAwC,CACtC;AACD;;AACD,gBAAIY,oBAAoB,IAAIA,oBAAoB,CAACO,WAArB,KAAqC,CAAjE,EAAoE;AAClE,qBAAO,IAAP;AACD,aAFD,MAEO;AACL,qBAAO,KAAP;AACD;AACF;AAtDkC;AAAA;AAAA,eAwDnC,eAAuB;AACrB,gBAAMP,oBAAoB,GAAG,KAAKC,UAAL,CAAgBC,qBAAhB,CAAsC,KAAKxB,aAAL,CAAmBa,MAAzD,CAA7B;;AACA,gBAAIS,oBAAoB,IAAIA,oBAAoB,CAACQ,UAArB,KAAoC,CAAhE,EAAmE;AACjE,qBAAO,KAAP;AACD,aAFD,MAEO;AACL,qBAAO,wGAAiBC,gBAAxB;AACD;AACF;AA/DkC;AAAA;AAAA,iBA0EnC,SAAAC,QAAQ,GAAG;AACT,iBAAKT,UAAL,CAAgBU,qBAAhB,CAAsC,KAAKzC,OAAL,CAAawB,KAAnD,EAA0D,KAAKxB,OAAL,CAAaqB,MAAvE,EAA+E,KAAKqB,MAAL,CAAYC,iBAAZ,CAA8B,KAA9B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,IAA7D,EAAmE,IAAnE,EAAyE,IAAzE,EAA+E,CAAC,KAAKZ,UAAL,CAAgBa,qBAAhB,EAAD,CAA/E,CAA/E;;AACA;;AACA,iBAAKpC,aAAL,GAAqB;AACnBmB,sBAAQ,EAAE,KAAK3B,OAAL,CAAa2B,QADJ;AAEnBC,yBAAW,EAAE,KAAK5B,OAAL,CAAa4B,WAFP;AAGnBP,oBAAM,EAAE,KAAKrB,OAAL,CAAaqB,MAHF;AAInBG,mBAAK,EAAE,KAAKxB,OAAL,CAAawB,KAJD;AAKnBqB,4BAAc,EAAE;AALG,aAArB;AAOA,iBAAKpC,yBAAL,GAAiC;AAC/BkB,sBAAQ,EAAE,KAAK3B,OAAL,CAAa2B,QADQ;AAE/BC,yBAAW,EAAE,KAAK5B,OAAL,CAAa4B,WAFK;AAG/BP,oBAAM,EAAE,KAAKrB,OAAL,CAAaqB,MAAb,GAAsB,YAHC;AAI/BG,mBAAK,EAAE,KAAKxB,OAAL,CAAawB,KAJW;AAK/BsB,kBAAI,EAAE,KAAK9C,OAAL,CAAa+C,QAAb,GAAwBC,SAAxB,GAAoC,MALX;AAM/BH,4BAAc,EAAE,IANe;AAO/BI,gCAAkB,EAAE;AAPW,aAAjC;AASA,iBAAKC,eAAL,CAAqBC,SAArB,GAAiC,0BAAjC;AACA,iBAAKD,eAAL,CAAqBE,gBAArB,GAAwC,KAAKpD,OAA7C;AACA,iBAAKkD,eAAL,CAAqBrB,SAArB,GAAiC,KAAjC;AACA,iBAAKqB,eAAL,CAAqBG,sBAArB,CAA4CC,YAA5C,GAA2D,IAA3D;AACA,iBAAKJ,eAAL,CAAqBG,sBAArB,CAA4CE,oBAA5C,GAAmE,IAAnE;;AACA,gBAAI,KAAKC,QAAT,EAAmB;AACjB,mBAAKhD,aAAL,CAAmBqB,SAAnB,GAA+B,KAA/B;AACD,aAFD,MAEO;AACL,mBAAKrB,aAAL,CAAmBqB,SAAnB,GAA+B,IAA/B;AACD;;AACD,iBAAKlB,2BAAL,GAAmC;AACjCgB,sBAAQ,EAAE,KAAK3B,OAAL,CAAaE,eAAb,KAAiC,EAAjC,GAAsC,KAAKF,OAAL,CAAaE,eAAnD,GAAqE,mBAD9C;AAEjCuD,uBAAS,EAAE;AAFsB,aAAnC;AAIA,iBAAKC,WAAL;AACA,iBAAK3B,UAAL,CAAgB4B,qBAAhB,CAAsC,mGAAeC,qBAArD,EAA4E,CAAC,KAAKnD,yBAAL,CAA+BY,MAAhC,CAA5E,EAAqH,CAArH;AAED;AA9GkC;AAAA;AAAA,eAiHnC,eAAqB;AACnB,mBAAO;AACLM,sBAAQ,EAAE,KAAKkC,WADV;AAELC,qBAAO,EAAE,kBAFJ;AAGLC,yBAAW,EAAE;AAHR,aAAP;AAKD;AAvHkC;AAAA;AAAA,eAyHnC,eAAe;AACb,gBAAI7B,KAAK,GAAQ,KAAKnB,aAAtB;AACA,mBAAOmB,KAAP;AACD;AAGD;;;;;AA/HmC;AAAA;AAAA,iBAmI5B,SAAA8B,SAAS,GAAG;AACjB,gBAAI,CAAC,KAAKC,aAAV,EAAyB;AACvB,kBAAI,KAAKjE,OAAL,IAAgB,KAAKA,OAAL,CAAaiB,aAA7B,IAA8C,KAAKjB,OAAL,CAAaiB,aAAb,CAA2BC,MAA3B,GAAoC,CAAlF,IAAuF,KAAKR,cAAhG,EAAgH;AAC9G,qBAAKV,OAAL,CAAaiB,aAAb,CAA2BiD,GAA3B,CAA+B,UAACC,OAAD,EAAUC,KAAV;AAAA,yBAAoBD,OAAO,CAAC,UAAD,CAAP,GAAsBC,KAA1C;AAAA,iBAA/B;AACA,qBAAKrC,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK7D,aAAL,CAAmBa,MAAzD,EAAiE,IAAjE,EAAuE,KAAKrB,OAAL,CAAaC,aAApF;AACA,qBAAK8B,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAKC,qBAAL,CAA2BjD,MAAjE,EAAyE,IAAzE,EAA+E,KAAKrB,OAAL,CAAaC,aAA5F;AACA,qBAAKM,cAAL,GAAsB,IAAtB;AACA,qBAAKJ,mBAAL,GAA2B,EAA3B;AACA,qBAAKH,OAAL,CAAauE,mBAAb,GAAmC,KAAnC;AACA,qBAAKpE,mBAAL,GAA2B,KAAKH,OAAhC;;AACA,oBAAI,KAAKA,OAAL,CAAawE,oBAAjB,EAAuC;AACrC,uBAAKC,eAAL;AACD,iBAFD,MAEO;AACL,uBAAKtE,mBAAL,CAAyBuE,QAAzB,GAAoC,KAAK1E,OAAL,CAAaiB,aAAjD;AACD;;AACD,qBAAKd,mBAAL,CAAyBwE,gBAAzB,GAA4C,IAA5C;AACA,qBAAKxE,mBAAL,CAAyB4C,QAAzB,GAAoC,KAAK/C,OAAL,CAAa+C,QAAb,GAAwB,KAAK/C,OAAL,CAAa+C,QAArC,GAAgD,KAApF;AACA,qBAAK6B,eAAL,CAAqBC,eAArB,CAAqC,IAArC,EAf8G,CAgB9G;;AACA,qBAAKC,mBAAL;AACD,eAlBD,MAkBO,IAAI,KAAK9E,OAAL,IAAgB,KAAKA,OAAL,CAAa0E,QAAb,KAA0B1B,SAA1C,IAAuD,KAAKhD,OAAL,CAAa0E,QAAb,CAAsBxD,MAAtB,IAAgC,CAA3F,EAA8F;AACnG,qBAAKa,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK7D,aAAL,CAAmBa,MAAzD,EAAiE,IAAjE,EAAuE,KAAKrB,OAAL,CAAaC,aAApF;AACA,qBAAK8B,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAKC,qBAAL,CAA2BjD,MAAjE,EAAyE,IAAzE,EAA+E,KAAKrB,OAAL,CAAaC,aAA5F;AACA,qBAAKS,cAAL,GAAsB,CAAC,KAAKA,cAA5B;;AACA,oBAAI,KAAKV,OAAL,CAAawE,oBAAjB,EAAuC;AACrC,uBAAKC,eAAL;AACD,iBAFD,MAEO;AACL,uBAAKtE,mBAAL,CAAyBuE,QAAzB,GAAoC,KAAK1E,OAAL,CAAaiB,aAAjD;AACD;AACF,eATM,MASA,IAAI,KAAKP,cAAL,IAAuB,KAAKV,OAAL,CAAaiB,aAApC,IAAqD,KAAKjB,OAAL,CAAaiB,aAAb,CAA2BC,MAA3B,KAAsC,CAA/F,EAAkG;AACvG,qBAAKX,cAAL,GAAsB,KAAtB;AACD;;AACD,mBAAKG,cAAL,GAAsB,CAAC,KAAKA,cAA5B;AACD;AACF;AArKkC;AAAA;AAAA,iBAuKnC,SAAAoE,mBAAmB,CAACC,YAAD,EAAsB;AACvC,gBAAG,KAAKC,iBAAL,CAAuBC,aAA1B,EAAwC;AACtC,kBAAMC,aAAa,GAAG,KAAKF,iBAAL,CAAuBC,aAAvB,CAAqCE,aAArC,CAAmD,sBAAnD,CAAtB;;AACA,kBAAGJ,YAAY,IAAIG,aAAnB,EAAiC;AAC/B,oBAAIE,aAAa,GAAOF,aAAa,CAACC,aAAd,CAA4B,aAA5B,CAAxB;AACAC,6BAAa,CAAClD,KAAd,GAAsB,EAAtB;AACAgD,6BAAa,CAACG,SAAd,CAAwBC,GAAxB,CAA4B,qBAA5B;AACD,eAJD,MAKK,IAAGJ,aAAH,EAAiB;AACpBA,6BAAa,CAACG,SAAd,CAAwBE,MAAxB,CAA+B,qBAA/B;AACD;AACF;AACF;AAnLkC;AAAA;AAAA,iBAqL5B,SAAAd,eAAe,GAAG;AACvB,iBAAKG,eAAL,CAAqBY,iBAArB,GAAyC,CAAzC;AACA,iBAAKZ,eAAL,CAAqBa,qBAArB,GAA6C,CAA7C;AACA,iBAAKb,eAAL,CAAqBhE,YAArB,GAAoC,EAApC;AACA,iBAAKT,mBAAL,CAAyBuE,QAAzB,GAAoC,EAApC;;AACA,gBAAI,CAAC,KAAKE,eAAL,CAAqB5E,OAArB,CAA6B0E,QAA9B,IAA0C,KAAKE,eAAL,CAAqB5E,OAArB,CAA6B0E,QAA7B,CAAsCxD,MAAtC,KAAiD,CAA/F,EAAkG;AAChG,mBAAK0D,eAAL,CAAqBc,eAArB,CAAqC,IAArC;AACD;AACF;AA7LkC;AAAA;AAAA,iBA+LnC,SAAAC,kBAAkB,CAACC,IAAD,EAAO;AACvB,iBAAKzF,mBAAL,CAAyBuE,QAAzB,GAAoCkB,IAApC;AACD,WAjMkC,CAmMnC;AACA;;AApMmC;AAAA;AAAA,iBAqM5B,SAAAC,aAAa,GAAG;AAAA;;AACrB,iBAAK9D,UAAL,CAAgB+D,cAAhB;AACAC,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACC,oBAAL;AACD,aAFS,EAER,GAFQ,CAAV;AAGD;AA1MkC;AAAA;AAAA,iBA4MnC,SAAAA,oBAAoB,GAAG;AAAA;;AACrB,gBAAI,KAAKhG,OAAL,IAAgB,KAAKA,OAAL,CAAaiB,aAAb,KAA+B+B,SAAnD,EAA8D;AAC5D,mBAAKtC,cAAL,GAAsB,IAAtB;AACA,mBAAKqB,UAAL,CAAgBkE,cAAhB;AACA,mBAAKjC,SAAL;AACA;AACD;;AACD+B,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACC,oBAAL,GADe,CACa;;AAC7B,aAFS,EAEP,IAFO,CAAV;AAGD;AAtNkC;AAAA;AAAA,iBAyN5B,SAAAE,eAAe,CAACC,KAAD,EAAkB;AACtC,gBAAMC,aAAa,GAAGD,KAAK,CAACE,MAA5B,CADsC,CAEtC;;AACA,gBAAID,aAAa,IAAI,CAAC,KAAKtG,UAAL,CAAgBmF,aAAhB,CAA8BqB,QAA9B,CAAuCF,aAAvC,CAAlB,IAA2EA,aAAa,CAACG,EAAd,KAAqB,UAAhG,IAA8GH,aAAa,CAACG,EAAd,KAAqB,UAAnI,IAAiJ,CAAC,KAAKvG,OAAL,CAAa+C,QAAnK,EAA6K;AAC3K,kBAAI,KAAK/C,OAAL,IAAgB,KAAKG,mBAArB,IAA4C,KAAKA,mBAAL,CAAyBuE,QAArE,KAAkF,KAAKvE,mBAAL,CAAyBuE,QAAzB,CAAkCxD,MAAlC,KAA6C,CAA7C,IAAkD,KAAKlB,OAAL,CAAa+C,QAAjJ,CAAJ,EAAgK;AAC9J,qBAAK5C,mBAAL,CAAyBwE,gBAAzB,GAA4C,IAA5C;AACA,qBAAKxE,mBAAL,CAAyBoE,mBAAzB,GAA+C,wGAAiBiC,yBAAhE;AACD,eAHD,MAGO;AACL,qBAAKrG,mBAAL,CAAyBwE,gBAAzB,GAA4C,KAA5C;AACA,qBAAKxE,mBAAL,CAAyBoE,mBAAzB,GAA+C,wGAAiBiC,yBAAhE;AACD;AACF;AACF;AAED;;;;;AAvOmC;AAAA;AAAA,iBA2O5B,SAAAC,eAAe,CAACN,KAAD,EAAQ;AAC5B;AACA,iBAAKrB,mBAAL,CAAyB,IAAzB;;AACA,gBAAI,KAAK9E,OAAL,CAAa+C,QAAjB,EAA2B;AACzB,kBAAIoD,KAAK,IAAIA,KAAK,CAACO,eAAnB,EAAoC;AAClC,qBAAKC,gBAAL,CAAsBR,KAAK,CAACzB,QAA5B;AACD;AACF,aAJD,MAIO;AACL,kBAAIyB,KAAK,IAAIA,KAAK,CAACS,IAAN,KAAe5D,SAA5B,EAAuC;AACrC,qBAAKjB,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK5D,yBAAL,CAA+BY,MAArE,EAA6E8E,KAAK,CAACS,IAAN,CAAWC,SAAxF,EAAmG,KAAK7G,OAAL,CAAaC,aAAhH;AACA,oBAAM6G,WAAW,GAAG,KAAK9G,OAAL,CAAaiB,aAAb,CAA2B8F,MAA3B,CAAkC,UAAAH,IAAI;AAAA,yBAAIA,IAAI,CAACC,SAAL,KAAmBV,KAAK,CAACS,IAAN,CAAWC,SAAlC;AAAA,iBAAtC,EAAmFG,KAAnF,EAApB;AACA,qBAAKjF,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK7D,aAAL,CAAmBa,MAAzD,EAAiEyF,WAAjE,EAA8E,KAAK9G,OAAL,CAAaC,aAA3F;AACA6G,2BAAW,CAAC,mGAAeG,oBAAhB,CAAX,GAAmD,KAAnD,CAJqC,CAKrC;;AACA,oBAAI,CAAC,KAAKjH,OAAL,CAAawB,KAAb,CAAmBC,QAAnB,CAA4B,KAAKhB,yBAAL,CAA+BY,MAA3D,EAAmEa,KAApE,IAA6E,KAAKlC,OAAL,CAAawB,KAAb,CAAmBC,QAAnB,CAA4B,KAAKhB,yBAAL,CAA+BY,MAA3D,EAAmE,mGAAe6F,SAAlF,KAAgGf,KAAK,CAACS,IAAN,CAAWC,SAA5L,EAAuM;AACrMC,6BAAW,CAAC,mGAAeG,oBAAhB,CAAX,GAAmD,IAAnD,CADqM,CAC7I;;AACxD,uBAAK7G,UAAL,CAAgB+G,IAAhB,CAAqBL,WAArB;AACD;AACF;AACF;AACF;AA/PkC;AAAA;AAAA,iBAgQ3B,SAAAH,gBAAgB,CAACjC,QAAD,EAAW;AACjC,gBAAI0C,WAAW,GAAG,EAAlB;AACA1C,oBAAQ,CAAC2C,OAAT,CAAiB,UAAAlD,OAAO,EAAI;AAC1BiD,yBAAW,CAACE,IAAZ,CAAiBnD,OAAO,CAAC0C,SAAR,IAAqB1C,OAAO,CAACoD,UAA9C;AACD,aAFD;AAGA,iBAAKxF,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK5D,yBAAL,CAA+BY,MAArE,EAA6E+F,WAA7E,EAA0F,KAAKpH,OAAL,CAAaC,aAAvG;AACD;AAtQkC;AAAA;AAAA,iBAwQ3B,SAAAyD,WAAW,GAAG;AACpB,iBAAK1D,OAAL,CAAauE,mBAAb,GAAmC,wGAAiBiC,yBAApD;AACA,iBAAKrG,mBAAL,GAA2B,KAAKH,OAAhC;AACA,iBAAKG,mBAAL,CAAyB4C,QAAzB,GAAoC,KAAK/C,OAAL,CAAa+C,QAAb,GAAwB,KAAK/C,OAAL,CAAa+C,QAArC,GAAgD,KAApF;AACD;AA5QkC;AAAA;AAAA,iBA+Q5B,SAAAyE,YAAY,CAACrB,KAAD,EAAQ;AACzB,iBAAKzF,cAAL,GAAsB,KAAtB;;AACA,gBAAIyF,KAAK,KAAKnD,SAAV,IAAuB,KAAKhD,OAAL,CAAaiB,aAAb,KAA+B+B,SAA1D,EAAqE;AACnE,kBAAI,CAAC,KAAK7C,mBAAL,CAAyB4C,QAA9B,EAAwC;AACtC,oBAAM+D,WAAW,GAAG,KAAK9G,OAAL,CAAaiB,aAAb,CAA2B8F,MAA3B,CAAkC,UAAAH,IAAI;AAAA,yBAAIA,IAAI,CAACC,SAAL,IAAkBV,KAAK,CAACsB,QAA5B;AAAA,iBAAtC,EAA4ET,KAA5E,EAApB;;AACA,oBAAIF,WAAJ,EAAiB;AACf,uBAAK/E,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK7D,aAAL,CAAmBa,MAAzD,EAAiEyF,WAAjE,EAA8E,KAAK9G,OAAL,CAAaC,aAA3F;AACA,uBAAKD,OAAL,CAAa0E,QAAb,GAAwB,EAAxB;AACA,uBAAK5D,WAAL,GAAmB,EAAnB;AACA,uBAAKX,mBAAL,CAAyBuE,QAAzB,CAAkC,CAAlC,IAAuCoC,WAAvC;AACA,uBAAKhG,WAAL,CAAiBwG,IAAjB,CAAsBR,WAAW,CAACA,WAAW,CAACY,eAAb,CAAjC;AACA,uBAAK9C,eAAL,CAAqB+C,WAArB,CAAiC,KAAKxH,mBAAtC,EANe,CAM+C;AAC9D;;AACA2G,6BAAW,CAAC,mGAAeG,oBAAhB,CAAX,GAAmD,IAAnD;AACA,uBAAK7G,UAAL,CAAgB+G,IAAhB,CAAqBL,WAArB;AACA,uBAAKc,cAAL,GAVe,CAWf;;AACA,uBAAKC,WAAL,GAAmB,KAAnB;AACD,iBAbD,MAaO;AACL,uBAAK7H,OAAL,CAAa0E,QAAb,GAAwB,EAAxB;AACA,uBAAKmD,WAAL,GAAmB,IAAnB;AACD;AACF,eAnBD,MAmBO;AACL,qBAAKC,iBAAL,CAAuB3B,KAAvB;AACD;AACF;AACF;AAzSkC;AAAA;AAAA,iBA2SnC,SAAA2B,iBAAiB,CAAC3B,KAAD,EAAQ;AAAA;;AACvB,gBAAI4B,SAAS,GAAG,EAAhB;;AACA,gBAAI,OAAQ5B,KAAK,CAACsB,QAAd,KAA4B,QAAhC,EAA0C;AACxCM,uBAAS,CAACT,IAAV,CAAenB,KAAK,CAACsB,QAArB;AACD,aAFD,MAEO;AACLM,uBAAS,GAAG5B,KAAK,CAACsB,QAAlB;AACD;;AACD,iBAAK7G,YAAL,GAAoB,EAApB;AACA,iBAAKE,WAAL,GAAmB,EAAnB;AACAiH,qBAAS,CAACV,OAAV,CAAkB,UAAAlD,OAAO,EAAI;AAC3B,kBAAM2C,WAAW,GAAG,MAAI,CAAC9G,OAAL,CAAaiB,aAAb,CAA2B8F,MAA3B,CAAkC,UAAAH,IAAI;AAAA,uBAAIA,IAAI,CAACC,SAAL,KAAmB1C,OAAvB;AAAA,eAAtC,EAAsE6C,KAAtE,EAApB;;AACA,kBAAIF,WAAJ,EAAiB;AACf,sBAAI,CAAChG,WAAL,CAAiBwG,IAAjB,CAAsBR,WAAW,CAACA,WAAW,CAACY,eAAb,CAAjC;;AACA,sBAAI,CAAC9G,YAAL,CAAkB0G,IAAlB,CAAuBR,WAAvB;AACD;AACF,aAND;AAOA,iBAAK9G,OAAL,CAAa0E,QAAb,GAAwB,KAAK9D,YAA7B;AACA,iBAAKT,mBAAL,CAAyBuE,QAAzB,GAAoC,KAAK9D,YAAzC;AACA,iBAAKT,mBAAL,CAAyBwE,gBAAzB,GAA4C,IAA5C;AACA,iBAAKC,eAAL,CAAqBC,eAArB,CAAqC,KAArC;AACA,iBAAK9C,UAAL,CAAgBsC,qBAAhB,CAAsC,KAAK7D,aAAL,CAAmBa,MAAzD,EAAiE,KAAKT,YAAtE,EAAoF,KAAKZ,OAAL,CAAaC,aAAjG;;AACA,gBAAI,KAAKW,YAAL,CAAkBM,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,mBAAK2G,WAAL,GAAmB,KAAnB;AACA,mBAAKzH,UAAL,CAAgB+G,IAAhB,CAAqB,KAAKvG,YAA1B;AACD,aAHD,MAGO;AACL,mBAAKZ,OAAL,CAAa0E,QAAb,GAAwB,EAAxB;AACA,mBAAKmD,WAAL,GAAmB,IAAnB;AACD;;AACD,iBAAKD,cAAL;AACD;AAxUkC;AAAA;AAAA,iBA0UnC,SAAAA,cAAc,GAAG;AACf,iBAAK7G,aAAL,GAAqB,EAArB;;AACA,gBAAI,CAAC,KAAKZ,mBAAL,CAAyB4C,QAA9B,EAAwC;AACtC,mBAAKhC,aAAL,GAAqB,KAAKD,WAAL,CAAiB,CAAjB,CAArB;AACD,aAFD,MAEO,IAAI,KAAKA,WAAL,CAAiBI,MAAjB,IAA2B,CAA/B,EAAkC;AACvC,mBAAK,IAAIkD,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKtD,WAAL,CAAiBI,MAA7C,EAAqDkD,KAAK,EAA1D,EAA8D;AAC5D,oBAAMD,OAAO,GAAG,KAAKrD,WAAL,CAAiBsD,KAAjB,CAAhB;;AACA,oBAAKA,KAAK,GAAG,CAAT,KAAgB,KAAKtD,WAAL,CAAiBI,MAArC,EAA6C;AAC3C,uBAAKH,aAAL,IAAsBoD,OAAtB;AACD,iBAFD,MAEO;AACL,uBAAKpD,aAAL,IAAsBoD,OAAO,GAAG,IAAhC;AACD;AACF;AACF;AACF;AAxVkC;AAAA;AAAA,iBA0VnC,SAAA6D,WAAW,CAACpB,IAAD,EAAO;AAChB,gBAAIA,IAAI,IAAIA,IAAI,KAAK5D,SAArB,EAAgC;AAC9B,mBAAK3C,YAAL,CAAkB8G,IAAlB,CAAuBP,IAAvB;AACD;AACF;AA9VkC;AAAA;AAAA,iBAgWnC,SAAAqB,WAAW,GAAG;;;AACZ,iBAAKjI,OAAL,CAAakI,aAAb,GAA6B,EAA7B;AACA,iBAAKlI,OAAL,CAAa0E,QAAb,GAAwB,IAAxB;AACA,iBAAKhC,MAAL,CAAY2B,qBAAZ,CAAkC,KAAKrE,OAAL,CAAaqB,MAA/C,EAAuD,IAAvD,EAA6D,KAAKrB,OAAL,CAAaC,aAA1E;AACA,iBAAKyC,MAAL,CAAY2B,qBAAZ,CAAkC,KAAKC,qBAAL,CAA2BjD,MAA7D,EAAqE,IAArE,EAA2E,KAAKrB,OAAL,CAAaC,aAAxF;AACA,uBAAKD,OAAL,CAAawB,KAAb,CAAmBC,QAAnB,CAA4B,KAAK6C,qBAAL,CAA2BjD,MAAvD,OAA8D,IAA9D,IAA8D,aAA9D,GAA8D,MAA9D,GAA8D,GAAE8G,KAAF,EAA9D;AACD,WAtWkC,CAwWnC;;AAxWmC;AAAA;AAAA,iBAyWnC,SAAAC,eAAe,GAAG;;;AAChB,mBAAO,kBAAKjI,mBAAL,MAAwB,IAAxB,IAAwB,aAAxB,GAAwB,MAAxB,GAAwB,GAAEuE,QAA1B,MAAkC,IAAlC,IAAkC,aAAlC,GAAkC,MAAlC,GAAkC,GAAExD,MAApC,KAA8C,CAA9C,GACJmH,KAAK,CAACC,OAAN,CAAc,CAAD,KAAC,KAAKtI,OAAL,MAAY,IAAZ,IAAY,aAAZ,GAAY,MAAZ,GAAY,GAAEC,aAAF,CAAgB,KAAKqE,qBAAL,CAA2BjD,MAA3C,CAA1B,IAAgF,kBAAKrB,OAAL,MAAY,IAAZ,IAAY,aAAZ,GAAY,MAAZ,GAAY,GAAEC,aAAF,CAAgB,KAAKqE,qBAAL,CAA2BjD,MAA3C,CAAZ,MAA6D,IAA7D,IAA6D,aAA7D,GAA6D,MAA7D,GAA6D,GAAGH,MAAhE,MAAsE,YAAI,KAAKf,mBAAT,MAA4B,IAA5B,IAA4B,aAA5B,GAA4B,MAA5B,GAA4B,GAAEuE,QAA9B,MAAsC,IAAtC,IAAsC,aAAtC,GAAsC,MAAtC,GAAsC,GAAExD,MAA9G,CAAhF,GACG,YAAKlB,OAAL,MAAY,IAAZ,IAAY,aAAZ,GAAY,MAAZ,GAAY,GAAEC,aAAF,CAAgB,KAAKqE,qBAAL,CAA2BjD,MAA3C,CAAZ,MAA6D,MAAK,KAAKlB,mBAAV,MAA6B,IAA7B,IAA6B,aAA7B,GAA6B,MAA7B,GAA6B,GAAEuE,QAAF,CAAW,CAAX,EAAcmC,SAAxG,CAFC,GAGH,CAHJ;AAID;AA9WkC;AAAA,QAAS,iIAAT,C;;;;gBAlB5B;;gBANA;;gBAFW;;gBAOX;;;;;;gBAqBN;;;gBAKA;;;gBACA;;;gBACA;;;gBACA,uD;AAAS,iBAAC,iBAAD;;;gBACT,uD;AAAS,iBAAC,iBAAD,EAAoB;AAAE0B,gBAAI,EAAE,wDAAR;AAAoB,sBAAQ;AAA5B,WAApB;;;gBA6MT,0D;AAAY,iBAAC,gBAAD,EAAmB,CAAC,QAAD,CAAnB;;;AAxNF5I,8BAAwB,0FALpC,gEAAU;AACT6I,gBAAQ,EAAE,mBADD;AAETC,gBAAQ,EAAR,oFAFS;;AAAA,OAAV,CAKoC,E,+EAkElB,yG,EACP,gG,EACY,wD,EACO,8G,EArEM,GAAxB9I,wBAAwB,CAAxB;;;;;;;;;;;;;;;;AC1Bb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCkBF+I,8BAA8B;AAAA;AAAA,Q;;AAA9BA,oCAA8B,6DAX1C,+DAAS;AACNC,oBAAY,EAAE,CAAC,qFAAD,CADR;AAENC,eAAO,EAAE,CACL,4EADK,EAEL,+FAFK,EAGL,sKAHK,CAFH;AAONC,eAAO,EAAE,CAAC,qFAAD,CAPH;AAQNC,uBAAe,EAAE,CAAC,qFAAD,CARX;AASNC,eAAO,EAAE,CAAC,oEAAD;AATH,OAAT,CAW0C,GAA9BL,8BAA8B,CAA9B","file":"4-es5.js","sourcesContent":["export default \"<div class=\\\"ps-keyin-input-label-cust\\\" *ngIf=\\\"custMode\\\">\\n  <ps-icon-customization [options]=\\\"custIconOptions\\\"></ps-icon-customization>\\n</div>\\n<ps-container-complex class=\\\"ps-complex-lookup\\\" [id]=\\\"id\\\" *ngIf=\\\"showDropdownIcon || custMode\\\">\\n  <div class=\\\"select-card-dropDown\\\">\\n    <div [ngClass]=\\\"{'label' : selectLookUpOptions?.itemList?.length >= 0, 'labelSelected': selectLookUpOptions?.itemList?.length === 1,\\n                  'disableContent' : disableLookup}\\\">\\n      <div class=\\\"select-lookup-input-wrapper\\\" (click)=\\\"presentLoader()\\\"\\n        [ngClass]=\\\"{'is-expanded':toggleCardList,'item-was-selected':previewList.length>0}\\\">\\n        <ps-keyin-input [ngClass]=\\\"{'no-value-selected' : !hidePlaceholder() , 'value-selected': hidePlaceholder()}\\\"\\n          [options]=\\\"lookupOptions\\\" #inputRef></ps-keyin-input>\\n        <div class=\\\"ps-select-lookup-arrow-wrapper\\\">\\n          <div id=\\\"dropdonwArrow\\\" class=\\\"mat-select-arrow dropdown-arrow\\\"></div>\\n        </div>\\n      </div>\\n      <ps-select-lookup-option-list [id]=\\\"id\\\" #selectLookUpRef (changeItem)=\\\"emitItemDetails($event)\\\"\\n        (onDeleteItem)=\\\"deletedItem($event)\\\" (onPagination)=\\\"fillPaginationList($event)\\\" [options]=\\\"selectLookUpOptions\\\">\\n      </ps-select-lookup-option-list>\\n    </div>\\n  </div>\\n  <ps-label [options]=\\\"noValidAccountsLabelOptions\\\" *ngIf=\\\"!bAccountsFound\\\" class=\\\"no-account-found-message\\\"></ps-label>\\n  <div *ngIf=\\\"showWarning\\\">\\n    <p class=\\\"validation-message\\\">\\n      {{'selected_value_not_exist_key' | translate}}\\n    </p>\\n  </div>\\n  <!-- #BUG 1077331 -->\\n  <ps-keyin-input [options]=\\\"lookupDropDownOptions\\\" (onPsChange)=\\\"onChangeItem($event)\\\"\\n    *ngIf=\\\"selectLookUpOptions.listOfOptions?.length >0\\\" [hidden]=\\\"true\\\"></ps-keyin-input>\\n</ps-container-complex>\\n<div *ngIf=\\\"previewMode && visible\\\" class=\\\"ps-custom-component-preview\\\" psPreviewEngine>\\n  <ps-label-input *ngIf=\\\"selectLookUpOptions.labelKey\\\" [id]=\\\"'lbl_'+ id\\\" [options]=\\\"selectLookUpOptions\\\"\\n    class=\\\"ps-lbl-preview\\\">\\n  </ps-label-input>\\n  <span [innerHTML]=\\\"delimiter\\\"></span>\\n  <ps-label-input [id]=\\\"'value_preview_'+ id \\\" [options]=\\\"previewValOptions\\\" class=\\\"ps-value-preview\\\"></ps-label-input>\\n</div>\";","import { Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { PsBaseFieldComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsFieldLabel, IOptionsPsLabel } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsSelectLookupOptionListComponentExposed } from '../../ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.interfaces';\nimport { IOptionsPsKeyinInput } from './../../../../commonSRC/psServices/models/ps-common-interface';\nimport { IOptionsPsComplexLookUpComponentExposed } from './ps-complex-lookup.component.interfaces';\n\n\n\n/**\n * @author Aftab.Ali\n * @since 04/12/2019\n *\n * <p> PsContainerLookupOptionDetailsComponent -- </p>\n */\n@Component({\n  selector: 'ps-complex-lookup',\n  templateUrl: './ps-complex-lookup.component.html',\n  styleUrls: ['./ps-complex-lookup.component.scss'],\n})\nexport class PsComplexLookupComponent extends PsBaseFieldComponent implements OnInit {\n\n  @Input() options: IOptionsPsComplexLookUpComponentExposed = {\n    requestObject: null,\n    notFoundMessage: '',\n  };\n  public selectLookUpOptions: IOptionsPsSelectLookupOptionListComponentExposed = {};\n  @Output() public changeItem: EventEmitter<any> = new EventEmitter<any>();\n  @Output() public onDeleteItem: EventEmitter<any> = new EventEmitter<any>();\n  @Output() clickElsewhere = new EventEmitter<MouseEvent>();\n  @ViewChild('selectLookUpRef') selectLookUpRef;\n  @ViewChild('selectLookUpRef', { read: ElementRef, static: false }) selectLookUpElRef: ElementRef;\n  public bAccountsFound = true;\n  public lookupOptions: IOptionsPsKeyinInput = {};\n  public tempLookupDropDownOptions: IOptionsPsKeyinInput = {};\n  public toggleCardList = false;\n  public querySelect: any;\n  noValidAccountsLabelOptions: IOptionsPsLabel = {};\n  showWarning: boolean;\n  tempItemList: any = [];\n  lookupDropDownMultipleOptions: IOptionsPsKeyinInput = {};\n  previewList: any = [];\n  labelValueMap: string = '';\n  itemLookupKeyArray = [];\n  // Added by Richie for #TP 1210739\n  get lookupDropDownOptions() {\n    if (this.options && this.options.listOfOptions && this.options.listOfOptions.length > 0) {\n      const firstOption = this.options.listOfOptions[0];\n      if (firstOption) {\n        const prefixName = this.options.fcName + '.';\n        const extraOptionDetails = CommonUtils.extractPropertyNames(firstOption, prefixName);\n        if (extraOptionDetails && extraOptionDetails.length > 0) {\n          this.options.group.controls[this.options.fcName][ConstantCommon.CONTROLLER_EXTRA_OPTION_DETAILS] = extraOptionDetails;\n        }\n      }\n    }\n    return this.tempLookupDropDownOptions;\n  }\n  // End Richie\n  get disableLookup() {\n    this.lookupOptions.labelKey = this.options.labelKey;\n    this.lookupOptions.placeHolder = this.options.placeHolder;\n    this.lookupOptions.allowCust = false;\n    const complexLookupOptions = this.commonProv.getElementValidations(this.lookupOptions.fcName);\n    // val & condition on val added by Richie for #TP 1128252 since it was generating error when we are trying to get the keys of null value and thus it will stop selecting an account on the screen\n    const val = this.lookupOptions.group.controls[this.options.fcName].value;\n    if (val && Object.keys(val).length > 0) {\n      // this.setInputValueOpacity('0');\n    }\n    if (complexLookupOptions && complexLookupOptions.IS_READONLY === 1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  get showDropdownIcon() {\n    const complexLookupOptions = this.commonProv.getElementValidations(this.lookupOptions.fcName);\n    if (complexLookupOptions && complexLookupOptions.IS_VISIBLE === 0) {\n      return false;\n    } else {\n      return PsCommonSettings.showDropdownIcon;\n    }\n  }\n\n  constructor(\n    commonService: PsCommonService,\n    logger: LoggerService,\n    private elementRef: ElementRef,\n    public navigationServices: PsNavigatorService\n  ) {\n    super(commonService, logger);\n  }\n\n  ngOnInit() {\n    this.commonProv.addComponentValidator(this.options.group, this.options.fcName, this.common.prepareValidation(false, null, null, null, null, null, null, null, [this.commonProv.custOnlyObjectAllowed()]));\n    super.init();\n    this.lookupOptions = {\n      labelKey: this.options.labelKey,\n      placeHolder: this.options.placeHolder,\n      fcName: this.options.fcName,\n      group: this.options.group,\n      disablePreview: true\n    };\n    this.tempLookupDropDownOptions = {\n      labelKey: this.options.labelKey,\n      placeHolder: this.options.placeHolder,\n      fcName: this.options.fcName + '_lookupKey',\n      group: this.options.group,\n      type: this.options.multiple ? undefined : 'true',\n      disablePreview: true,\n      forceTriggerChange: true\n    };\n    this.custIconOptions.component = PsComplexLookupComponent;\n    this.custIconOptions.componentOptions = this.options;\n    this.custIconOptions.allowCust = false;\n    this.custIconOptions.availableCustomization.IS_MANDATORY = true;\n    this.custIconOptions.availableCustomization.PLACEHOLDER_LABEL_ID = true;\n    if (this.custMode) {\n      this.lookupOptions.allowCust = false;\n    } else {\n      this.lookupOptions.allowCust = true;\n    }\n    this.noValidAccountsLabelOptions = {\n      labelKey: this.options.notFoundMessage !== '' ? this.options.notFoundMessage : 'no_data_found_key',\n      translate: true\n    };\n    this.loadOptions();\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.tempLookupDropDownOptions.fcName], 0);\n\n  }\n\n\n  get previewValOptions(): IOptionsPsFieldLabel {\n    return {\n      labelKey: this.fcValueDesc,\n      psClass: 'ps-value-preview',\n      previewMode: true\n    };\n  }\n\n  get fcValueDesc(): string {\n    let value: any = this.labelValueMap;\n    return value;\n  }\n\n\n  /**\n   * \n   * @param object \n   */\n  public popListUp() {\n    if (!this.disableLookup) {\n      if (this.options && this.options.listOfOptions && this.options.listOfOptions.length > 0 && this.toggleCardList) {\n        this.options.listOfOptions.map((element, index) => element['rowIndex'] = index);\n        this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName, null, this.options.requestObject);\n        this.commonProv.setValInsideNestedObj(this.lookupDropDownOptions.fcName, null, this.options.requestObject);\n        this.bAccountsFound = true;\n        this.selectLookUpOptions = {};\n        this.options.showDefaultTemplate = false;\n        this.selectLookUpOptions = this.options;\n        if (this.options.enableListPagination) {\n          this.resetPagination();\n        } else {\n          this.selectLookUpOptions.itemList = this.options.listOfOptions;\n        }\n        this.selectLookUpOptions.showSelectedCard = true;\n        this.selectLookUpOptions.multiple = this.options.multiple ? this.options.multiple : false;\n        this.selectLookUpRef.showSelectedDiv(true);\n        //Added by Michel for JIRA-AZDB-2141 in order to display the search component once lookup dropdown opens\n        this.toggleSearchElement();\n      } else if (this.options && this.options.itemList !== undefined && this.options.itemList.length >= 1) {\n        this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName, null, this.options.requestObject);\n        this.commonProv.setValInsideNestedObj(this.lookupDropDownOptions.fcName, null, this.options.requestObject);\n        this.toggleCardList = !this.toggleCardList;\n        if (this.options.enableListPagination) {\n          this.resetPagination();\n        } else {\n          this.selectLookUpOptions.itemList = this.options.listOfOptions;\n        }\n      } else if (this.toggleCardList && this.options.listOfOptions && this.options.listOfOptions.length === 0) {\n        this.bAccountsFound = false;\n      }\n      this.toggleCardList = !this.toggleCardList;\n    }\n  }\n\n  toggleSearchElement(onItemChange?:boolean){\n    if(this.selectLookUpElRef.nativeElement){\n      const searchElement = this.selectLookUpElRef.nativeElement.querySelector('ps-input-search-html');\n      if(onItemChange && searchElement){\n        let searchElInput:any = searchElement.querySelector('*[psFcName]');\n        searchElInput.value = \"\";\n        searchElement.classList.add('hide-search-element');\n      }\n      else if(searchElement){\n        searchElement.classList.remove('hide-search-element');\n      } \n    }\n  }\n\n  public resetPagination() {\n    this.selectLookUpRef.numberOfItrations = 0;\n    this.selectLookUpRef.tempNumberOfItrations = 0;\n    this.selectLookUpRef.tempItemList = [];\n    this.selectLookUpOptions.itemList = [];\n    if (!this.selectLookUpRef.options.itemList || this.selectLookUpRef.options.itemList.length === 0) {\n      this.selectLookUpRef.applyPagination(true);\n    }\n  }\n\n  fillPaginationList(list) {\n    this.selectLookUpOptions.itemList = list;\n  }\n\n  //edited by Marina-jira-AZDB-241; on click call presentLoader() first then popListUp() to open the list only after the data is returned\n  //remove the logic of checking for data in a separate function to present loader only once \n  public presentLoader() {\n    this.commonProv.presentLoading();\n    setTimeout(() => { \n      this.checkOnListOfOptions();\n    },500);\n  }\n\n  checkOnListOfOptions() {\n    if (this.options && this.options.listOfOptions !== undefined) {\n      this.toggleCardList = true;\n      this.commonProv.dismissLoading();\n      this.popListUp();\n      return;\n    }\n    setTimeout(() => {\n      this.checkOnListOfOptions();//Marina 23082023 only call- the checking on the list and dismissing the loader on the timeout but not the present loader to not present multiple loaders on every tick \n    }, 1000);\n  }\n\n  @HostListener('document:click', ['$event'])\n  public onDocumentClick(event: MouseEvent): void {\n    const targetElement = event.target as HTMLElement;\n    // Check if the click was outside the element\n    if (targetElement && !this.elementRef.nativeElement.contains(targetElement) && targetElement.id !== 'showMore' && targetElement.id !== 'showLess' && !this.options.multiple) {\n      if (this.options && this.selectLookUpOptions && this.selectLookUpOptions.itemList && (this.selectLookUpOptions.itemList.length === 1 || this.options.multiple)) {\n        this.selectLookUpOptions.showSelectedCard = true;\n        this.selectLookUpOptions.showDefaultTemplate = PsCommonSettings.showDefaultTemplateOption;\n      } else {\n        this.selectLookUpOptions.showSelectedCard = false;\n        this.selectLookUpOptions.showDefaultTemplate = PsCommonSettings.showDefaultTemplateOption;\n      }\n    }\n  }\n\n  /**\n   * \n   * @param event\n   */\n  public emitItemDetails(event) {\n    //Added by Michel for JIRA-AZDB-2141 in order to hide the search component and reset its value on card selection\n    this.toggleSearchElement(true);\n    if (this.options.multiple) {\n      if (event && event.confirmMultiple) {\n        this.setSelectedItems(event.itemList);\n      }\n    } else {\n      if (event && event.item !== undefined) {\n        this.commonProv.setValInsideNestedObj(this.tempLookupDropDownOptions.fcName, event.item.lookupKey, this.options.requestObject);\n        const changedItem = this.options.listOfOptions.filter(item => item.lookupKey === event.item.lookupKey).shift();\n        this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName, changedItem, this.options.requestObject);\n        changedItem[ConstantCommon.VALIDATE_COMBINATION] = false;\n        //IMAL-7934, Modified by ghada, for handling the case change not being emit due to having the value reset (control won't emit the null and will fall to last entered valid value) with tempLookupDropDownOptions control's oldValue and newValue being the same\n        if (!this.options.group.controls[this.tempLookupDropDownOptions.fcName].value && this.options.group.controls[this.tempLookupDropDownOptions.fcName][ConstantCommon.OLD_VALUE] == event.item.lookupKey) {\n          changedItem[ConstantCommon.VALIDATE_COMBINATION] = true;//Makki, #6254 Force set the VALIDATE_COMBINATION with true since it was changed\n          this.changeItem.emit(changedItem);\n        }\n      }\n    }\n  }\n  private setSelectedItems(itemList) {\n    let lookupArray = [];\n    itemList.forEach(element => {\n      lookupArray.push(element.lookupKey || element.itemLookup);\n    });\n    this.commonProv.setValInsideNestedObj(this.tempLookupDropDownOptions.fcName, lookupArray, this.options.requestObject);\n  }\n\n  private loadOptions() {\n    this.options.showDefaultTemplate = PsCommonSettings.showDefaultTemplateOption;\n    this.selectLookUpOptions = this.options;\n    this.selectLookUpOptions.multiple = this.options.multiple ? this.options.multiple : false;\n  }\n\n\n  public onChangeItem(event) {\n    this.toggleCardList = false;\n    if (event !== undefined && this.options.listOfOptions !== undefined) {\n      if (!this.selectLookUpOptions.multiple) {\n        const changedItem = this.options.listOfOptions.filter(item => item.lookupKey == event.newValue).shift();\n        if (changedItem) {\n          this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName, changedItem, this.options.requestObject);\n          this.options.itemList = [];\n          this.previewList = [];\n          this.selectLookUpOptions.itemList[0] = changedItem;\n          this.previewList.push(changedItem[changedItem.previewProperty]);\n          this.selectLookUpRef.onClickCard(this.selectLookUpOptions);   // ---> ps-select-lookup-option-list -> onClickCard\n          // this.changeItem.emit(this.options.listOfOptions);\n          changedItem[ConstantCommon.VALIDATE_COMBINATION] = true;\n          this.changeItem.emit(changedItem);\n          this.previewBuilder();\n          //show warning if value not exist any more\n          this.showWarning = false;\n        } else {\n          this.options.itemList = [];\n          this.showWarning = true;\n        }\n      } else {\n        this.multiSelectObject(event);\n      }\n    }\n  }\n\n  multiSelectObject(event) {\n    let arrayList = [];\n    if (typeof (event.newValue) === 'string') {\n      arrayList.push(event.newValue);\n    } else {\n      arrayList = event.newValue;\n    }\n    this.tempItemList = [];\n    this.previewList = [];\n    arrayList.forEach(element => {\n      const changedItem = this.options.listOfOptions.filter(item => item.lookupKey === element).shift();\n      if (changedItem) {\n        this.previewList.push(changedItem[changedItem.previewProperty]);\n        this.tempItemList.push(changedItem);\n      }\n    });\n    this.options.itemList = this.tempItemList;\n    this.selectLookUpOptions.itemList = this.tempItemList;\n    this.selectLookUpOptions.showSelectedCard = true;\n    this.selectLookUpRef.showSelectedDiv(false);\n    this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName, this.tempItemList, this.options.requestObject);\n    if (this.tempItemList.length > 0) {\n      this.showWarning = false;\n      this.changeItem.emit(this.tempItemList);\n    } else {\n      this.options.itemList = [];\n      this.showWarning = true;\n    }\n    this.previewBuilder();\n  }\n\n  previewBuilder() {\n    this.labelValueMap = '';\n    if (!this.selectLookUpOptions.multiple) {\n      this.labelValueMap = this.previewList[0];\n    } else if (this.previewList.length >= 1) {\n      for (let index = 0; index < this.previewList.length; index++) {\n        const element = this.previewList[index];\n        if ((index + 1) === this.previewList.length) {\n          this.labelValueMap += element;\n        } else {\n          this.labelValueMap += element + ', ';\n        }\n      }\n    }\n  }\n\n  deletedItem(item) {\n    if (item && item !== undefined) {\n      this.onDeleteItem.emit(item);\n    }\n  }\n\n  resetLookUp() {\n    this.options.selectedItems = [];\n    this.options.itemList = null;\n    this.common.setValInsideNestedObj(this.options.fcName, null, this.options.requestObject);\n    this.common.setValInsideNestedObj(this.lookupDropDownOptions.fcName, null, this.options.requestObject);\n    this.options.group.controls[this.lookupDropDownOptions.fcName]?.reset();\n  }\n\n  //Added by ghada, AZDB-4685 for fixing/refactoring the condition of showing/hiding the component (ps-kein-input) responsible for the issue of showing value [object object] and placeholder on selecting value \n  hidePlaceholder() {\n    return this.selectLookUpOptions?.itemList?.length >= 1 ?\n      (Array.isArray(this.options?.requestObject[this.lookupDropDownOptions.fcName]) ? this.options?.requestObject[this.lookupDropDownOptions.fcName]?.length == this.selectLookUpOptions?.itemList?.length\n        : this.options?.requestObject[this.lookupDropDownOptions.fcName] == this.selectLookUpOptions?.itemList[0].lookupKey)\n      : 0;\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1jb21wbGV4LWxvb2t1cC5jb21wb25lbnQuc2NzcyJ9 */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsSelectLookupOptionListComponentModule } from '../../ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.module';\r\nimport { PsComplexLookupComponent } from './ps-complex-lookup.component';\r\n\r\n@NgModule({\r\n    declarations: [PsComplexLookupComponent],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsSelectLookupOptionListComponentModule\r\n    ],\r\n    exports: [PsComplexLookupComponent],\r\n    entryComponents: [PsComplexLookupComponent],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsComplexLookupComponentModule { }\r\n"]}