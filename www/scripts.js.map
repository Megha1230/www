{"version":3,"sources":["node_modules/datejs/src/core/core.js","node_modules/datejs/src/core/parser.js","node_modules/datejs/src/core/sugarpak.js","node_modules/datejs/src/core/time_span.js","node_modules/datejs/src/core/time_period.js","node_modules/datejs/src/core/extras.js","node_modules/datejs/src/core/core-prototypes.js","node_modules/webrtc-adapter/out/adapter.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB,EAAE;AACF;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA,qFAAqF;AACrF;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;CCtVD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6B;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,gCAAgC;AAChC,IAAI;AACJ;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA,uBAAuB;AACvB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wGAAwG,OAAO,aAAa,MAAM;AAClI;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO,wBAAwB,OAAO,kCAAkC,MAAM;AAC1F,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,CAAC;;CC7MD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,qBAAqB;;AAErB;AACA,mBAAmB;;AAEnB;AACA,oBAAoB;;AAEpB;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,yBAAyB;AACzB,2BAA2B;AAC3B,yCAAyC;AACzC;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qFAAqF,mBAAmB;AACxG;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;;AAEA,cAAc;AACd,eAAe;AACf;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B,WAAW,6BAA6B;AACxC;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;;AAEA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,gBAAgB;AAChC;AACA;AACA,CAAC;;CC5eD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC,I;CC/KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC,I;CCpGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,0BAA0B;AAC1B,2BAA2B;AAC3B,4BAA4B;AAC5B;AACA,+CAA+C;AAC/C;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,+CAA+C;AAC/C;AACA,YAAY,OAAO;AACnB,YAAY,cAAc;AAC1B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,2CAA2C;AAC3C;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC,I;CCzTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,YAAY,KAAK;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B,6CAA6C;AAC7C;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B,+CAA+C;AAC/C;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA,eAAe,aAAa;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;;AAEzC,kBAAkB,YAAY;AAC9B;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,aAAa,O;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,4BAA4B,iBAAiB,4CAA4C,iBAAiB;AAC1G;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,2BAA2B,iBAAiB;AAC5C;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,KAAK;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;;AAExC,kBAAkB,iBAAiB;AACnC;AACA;AACA,YAAY,OAAO;AACnB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA,mBAAmB,SAAS;AAC5B;;AAEA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA,mBAAmB,6DAA6D;AAChF;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,I;CChwBD,aAAa,2DAA2D,mBAAmB,gDAAgD,aAAa,KAAK,MAAM,gCAAgC,SAAS,qCAAqC,SAAS,mCAAmC,OAAO,KAAK,OAAO,iBAAiB,aAAa,0BAA0B,mBAAmB,kBAAkB,gBAAgB,UAAU,UAAU,0CAA0C,wBAAwB,oBAAoB,8CAA8C,kCAAkC,YAAY,YAAY,mCAAmC,iBAAiB,eAAe,sBAAsB,oBAAoB,kDAAkD,WAAW,YAAY,SAAS,SAAS,KAAK;AAC5zB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,oDAAoD,6DAA6D;AACjH,yBAAyB;;AAEzB,CAAC,EAAE,yBAAyB;AAC5B;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC,EAAE,sHAAsH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,iDAAiD,SAAS,uBAAuB,EAAE;AACnF;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,CAAC,EAAE,0DAA0D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGAAyG,cAAc;AACvH;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA,gDAAgD;AAChD;AACA;AACA,yDAAyD,sBAAsB,IAAI;AACnF;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA,CAAC,EAAE,iBAAiB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,sBAAsB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uDAAuD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,sBAAsB,eAAe,EAAE;;AAE3Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA,2FAA2F,aAAa;AACxG;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,2BAA2B,gBAAgB,gDAAgD;AAC3F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,GAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;;AAEA;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,0BAA0B;AAC1B;AACA;AACA;AACA,yDAAyD;AACzD,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,GAAG,EAAE,GAAG;AACT,CAAC","file":"scripts.js","sourcesContent":["(function () {\n\tvar $D = Date,\n\t\t$P = $D.prototype,\n\t\tp = function (s, l) {\n\t\t\tif (!l) {\n\t\t\t\tl = 2;\n\t\t\t}\n\t\t\treturn (\"000\" + s).slice(l * -1);\n\t\t};\n\t\n\tif (typeof window !== \"undefined\" && typeof window.console !== \"undefined\" && typeof window.console.log !== \"undefined\") {\n\t\t$D.console = console; // used only to raise non-critical errors if available\n\t} else {\n\t\t// set mock so we don't give errors.\n\t\t$D.console = {\n\t\t\tlog: function(){},\n\t\t\terror: function(){}\n\t\t};\n\t}\n\t$D.Config = $D.Config || {};\n\n\t$D.initOverloads = function() {\n\t\t/** \n\t\t * Overload of Date.now. Allows an alternate call for Date.now where it returns the \n\t\t * current Date as an object rather than just milliseconds since the Unix Epoch.\n\t\t *\n\t\t * Also provides an implementation of now() for browsers (IE<9) that don't have it.\n\t\t * \n\t\t * Backwards compatible so with work with either:\n\t\t *  Date.now() [returns ms]\n\t\t * or\n\t\t *  Date.now(true) [returns Date]\n\t\t */\n\t\tif (!$D.now) {\n\t\t\t$D._now = function now() {\n\t\t\t\treturn new Date().getTime();\n\t\t\t};\n\t\t} else if (!$D._now) {\n\t\t\t$D._now = $D.now;\n\t\t}\n\n\t\t$D.now = function (returnObj) {\n\t\t\tif (returnObj) {\n\t\t\t\treturn $D.present();\n\t\t\t} else {\n\t\t\t\treturn $D._now();\n\t\t\t}\n\t\t};\n\n\t\tif ( !$P.toISOString ) {\n\t\t\t$P.toISOString = function() {\n\t\t\t\treturn this.getUTCFullYear() +\n\t\t\t\t\"-\" + p(this.getUTCMonth() + 1) +\n\t\t\t\t\"-\" + p(this.getUTCDate()) +\n\t\t\t\t\"T\" + p(this.getUTCHours()) +\n\t\t\t\t\":\" + p(this.getUTCMinutes()) +\n\t\t\t\t\":\" + p(this.getUTCSeconds()) +\n\t\t\t\t\".\" + String( (this.getUTCMilliseconds()/1000).toFixed(3)).slice(2, 5) +\n\t\t\t\t\"Z\";\n\t\t\t};\n\t\t}\n\t\t\n\t\t// private\n\t\tif ( $P._toString === undefined ){\n\t\t\t$P._toString = $P.toString;\n\t\t}\n\n\t};\n\t$D.initOverloads();\n\n\n\t/** \n\t * Gets a date that is set to the current date. The time is set to the start of the day (00:00 or 12:00 AM).\n\t * @return {Date}    The current date.\n\t */\n\t$D.today = function () {\n\t\treturn new Date().clearTime();\n\t};\n\n\t/** \n\t * Gets a date that is set to the current date and time (same as new Date, but chainable)\n\t * @return {Date}    The current date.\n\t */\n\t$D.present = function () {\n\t\treturn new Date();\n\t};\n\n\t/**\n\t * Compares the first date to the second date and returns an number indication of their relative values.  \n\t * @param {Date}     First Date object to compare [Required].\n\t * @param {Date}     Second Date object to compare to [Required].\n\t * @return {Number}  -1 = date1 is lessthan date2. 0 = values are equal. 1 = date1 is greaterthan date2.\n\t */\n\t$D.compare = function (date1, date2) {\n\t\tif (isNaN(date1) || isNaN(date2)) {\n\t\t\tthrow new Error(date1 + \" - \" + date2);\n\t\t} else if (date1 instanceof Date && date2 instanceof Date) {\n\t\t\treturn (date1 < date2) ? -1 : (date1 > date2) ? 1 : 0;\n\t\t} else {\n\t\t\tthrow new TypeError(date1 + \" - \" + date2);\n\t\t}\n\t};\n\t\n\t/**\n\t * Compares the first Date object to the second Date object and returns true if they are equal.  \n\t * @param {Date}     First Date object to compare [Required]\n\t * @param {Date}     Second Date object to compare to [Required]\n\t * @return {Boolean} true if dates are equal. false if they are not equal.\n\t */\n\t$D.equals = function (date1, date2) {\n\t\treturn (date1.compareTo(date2) === 0);\n\t};\n\n\t/**\n\t * Gets the language appropriate day name when given the day number(0-6)\n\t * eg - 0 == Sunday\n\t * @return {String}  The day name\n\t */\n\t$D.getDayName = function (n) {\n\t\treturn Date.CultureInfo.dayNames[n];\n\t};\n\n\t/**\n\t * Gets the day number (0-6) if given a CultureInfo specific string which is a valid dayName, abbreviatedDayName or shortestDayName (two char).\n\t * @param {String}   The name of the day (eg. \"Monday, \"Mon\", \"tuesday\", \"tue\", \"We\", \"we\").\n\t * @return {Number}  The day number\n\t */\n\t$D.getDayNumberFromName = function (name) {\n\t\tvar n = Date.CultureInfo.dayNames, m = Date.CultureInfo.abbreviatedDayNames, o = Date.CultureInfo.shortestDayNames, s = name.toLowerCase();\n\t\tfor (var i = 0; i < n.length; i++) {\n\t\t\tif (n[i].toLowerCase() === s || m[i].toLowerCase() === s || o[i].toLowerCase() === s) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\t\n\t/**\n\t * Gets the month number (0-11) if given a Culture Info specific string which is a valid monthName or abbreviatedMonthName.\n\t * @param {String}   The name of the month (eg. \"February, \"Feb\", \"october\", \"oct\").\n\t * @return {Number}  The day number\n\t */\n\t$D.getMonthNumberFromName = function (name) {\n\t\tvar n = Date.CultureInfo.monthNames, m = Date.CultureInfo.abbreviatedMonthNames, s = name.toLowerCase();\n\t\tfor (var i = 0; i < n.length; i++) {\n\t\t\tif (n[i].toLowerCase() === s || m[i].toLowerCase() === s) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\t/**\n\t * Gets the language appropriate month name when given the month number(0-11)\n\t * eg - 0 == January\n\t * @return {String}  The month name\n\t */\n\t$D.getMonthName = function (n) {\n\t\treturn Date.CultureInfo.monthNames[n];\n\t};\n\n\t/**\n\t * Determines if the current date instance is within a LeapYear.\n\t * @param {Number}   The year.\n\t * @return {Boolean} true if date is within a LeapYear, otherwise false.\n\t */\n\t$D.isLeapYear = function (year) {\n\t\treturn ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\n\t};\n\n\t/**\n\t * Gets the number of days in the month, given a year and month value. Automatically corrects for LeapYear.\n\t * @param {Number}   The year.\n\t * @param {Number}   The month (0-11).\n\t * @return {Number}  The number of days in the month.\n\t */\n\t$D.getDaysInMonth = function (year, month) {\n\t\tif (!month && $D.validateMonth(year)) {\n\t\t\t\tmonth = year;\n\t\t\t\tyear = Date.today().getFullYear();\n\t\t}\n\t\treturn [31, ($D.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n\t};\n\n\t$P.getDaysInMonth = function () {\n\t\treturn $D.getDaysInMonth(this.getFullYear(), this.getMonth());\n\t};\n \n\t$D.getTimezoneAbbreviation = function (offset, dst) {\n\t\tvar p, n = (dst || false) ? Date.CultureInfo.abbreviatedTimeZoneDST : Date.CultureInfo.abbreviatedTimeZoneStandard;\n\t\tfor (p in n) {\n\t\t\tif (n.hasOwnProperty(p)) {\n\t\t\t\tif (n[p] === offset) {\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\t\n\t$D.getTimezoneOffset = function (name, dst) {\n\t\tvar i, a =[], z = Date.CultureInfo.timezones;\n\t\tif (!name) { name = (new Date()).getTimezone();}\n\t\tfor (i = 0; i < z.length; i++) {\n\t\t\tif (z[i].name === name.toUpperCase()) {\n\t\t\t\ta.push(i);\n\t\t\t}\n\t\t}\n\t\tif (!z[a[0]]) {\n\t\t\treturn null;\n\t\t}\n\t\tif (a.length === 1 || !dst) {\n\t\t\treturn z[a[0]].offset;\n\t\t} else {\n\t\t\tfor (i=0; i < a.length; i++) {\n\t\t\t\tif (z[a[i]].dst) {\n\t\t\t\t\treturn z[a[i]].offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$D.getQuarter = function (d) {\n\t\td = d || new Date(); // If no date supplied, use today\n\t\tvar q = [1,2,3,4];\n\t\treturn q[Math.floor(d.getMonth() / 3)]; // ~~~ is a bitwise op. Faster than Math.floor\n\t};\n\n\t$D.getDaysLeftInQuarter = function (d) {\n\t\td = d || new Date();\n\t\tvar qEnd = new Date(d);\n\t\tqEnd.setMonth(qEnd.getMonth() + 3 - qEnd.getMonth() % 3, 0);\n\t\treturn Math.floor((qEnd - d) / 8.64e7);\n\t};\n\n\t// private\n\tvar validate = function (n, min, max, name) {\n\t\tname = name ? name : \"Object\";\n\t\tif (typeof n === \"undefined\") {\n\t\t\treturn false;\n\t\t} else if (typeof n !== \"number\") {\n\t\t\tthrow new TypeError(n + \" is not a Number.\");\n\t\t} else if (n < min || n > max) {\n\t\t\t// As failing validation is *not* an exceptional circumstance \n\t\t\t// lets not throw a RangeError Exception here. \n\t\t\t// It's semantically correct but it's not sensible.\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for milliseconds [0-999].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateMillisecond = function (value) {\n\t\treturn validate(value, 0, 999, \"millisecond\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for seconds [0-59].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateSecond = function (value) {\n\t\treturn validate(value, 0, 59, \"second\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for minutes [0-59].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateMinute = function (value) {\n\t\treturn validate(value, 0, 59, \"minute\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for hours [0-23].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateHour = function (value) {\n\t\treturn validate(value, 0, 23, \"hour\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for the days in a month [0-MaxDaysInMonth].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateDay = function (value, year, month) {\n\t\tif (year === undefined || year === null || month === undefined || month === null) { return false;}\n\t\treturn validate(value, 1, $D.getDaysInMonth(year, month), \"day\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for months [0-11].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateWeek = function (value) {\n\t\treturn validate(value, 0, 53, \"week\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for months [0-11].\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateMonth = function (value) {\n\t\treturn validate(value, 0, 11, \"month\");\n\t};\n\n\t/**\n\t * Validates the number is within an acceptable range for years.\n\t * @param {Number}   The number to check if within range.\n\t * @return {Boolean} true if within range, otherwise false.\n\t */\n\t$D.validateYear = function (value) {\n\t\t/**\n\t\t * Per ECMAScript spec the range of times supported by Date objects is \n\t\t * exactly -100,000,000 days to +100,000,000 days measured relative to \n\t\t * midnight at the beginning of 01 January, 1970 UTC. \n\t\t * This gives a range of 8,640,000,000,000,000 milliseconds to either \n\t\t * side of 01 January, 1970 UTC.\n\t\t *\n\t\t * Earliest possible date: Tue, 20 Apr 271,822 B.C. 00:00:00 UTC\n\t\t * Latest possible date: Sat, 13 Sep 275,760 00:00:00 UTC\n\t\t */\n\t\treturn validate(value, -271822, 275760, \"year\");\n\t};\n\t$D.validateTimezone = function(value) {\n\t\tvar timezones = {\"ACDT\":1,\"ACST\":1,\"ACT\":1,\"ADT\":1,\"AEDT\":1,\"AEST\":1,\"AFT\":1,\"AKDT\":1,\"AKST\":1,\"AMST\":1,\"AMT\":1,\"ART\":1,\"AST\":1,\"AWDT\":1,\"AWST\":1,\"AZOST\":1,\"AZT\":1,\"BDT\":1,\"BIOT\":1,\"BIT\":1,\"BOT\":1,\"BRT\":1,\"BST\":1,\"BTT\":1,\"CAT\":1,\"CCT\":1,\"CDT\":1,\"CEDT\":1,\"CEST\":1,\"CET\":1,\"CHADT\":1,\"CHAST\":1,\"CHOT\":1,\"ChST\":1,\"CHUT\":1,\"CIST\":1,\"CIT\":1,\"CKT\":1,\"CLST\":1,\"CLT\":1,\"COST\":1,\"COT\":1,\"CST\":1,\"CT\":1,\"CVT\":1,\"CWST\":1,\"CXT\":1,\"DAVT\":1,\"DDUT\":1,\"DFT\":1,\"EASST\":1,\"EAST\":1,\"EAT\":1,\"ECT\":1,\"EDT\":1,\"EEDT\":1,\"EEST\":1,\"EET\":1,\"EGST\":1,\"EGT\":1,\"EIT\":1,\"EST\":1,\"FET\":1,\"FJT\":1,\"FKST\":1,\"FKT\":1,\"FNT\":1,\"GALT\":1,\"GAMT\":1,\"GET\":1,\"GFT\":1,\"GILT\":1,\"GIT\":1,\"GMT\":1,\"GST\":1,\"GYT\":1,\"HADT\":1,\"HAEC\":1,\"HAST\":1,\"HKT\":1,\"HMT\":1,\"HOVT\":1,\"HST\":1,\"ICT\":1,\"IDT\":1,\"IOT\":1,\"IRDT\":1,\"IRKT\":1,\"IRST\":1,\"IST\":1,\"JST\":1,\"KGT\":1,\"KOST\":1,\"KRAT\":1,\"KST\":1,\"LHST\":1,\"LINT\":1,\"MAGT\":1,\"MART\":1,\"MAWT\":1,\"MDT\":1,\"MET\":1,\"MEST\":1,\"MHT\":1,\"MIST\":1,\"MIT\":1,\"MMT\":1,\"MSK\":1,\"MST\":1,\"MUT\":1,\"MVT\":1,\"MYT\":1,\"NCT\":1,\"NDT\":1,\"NFT\":1,\"NPT\":1,\"NST\":1,\"NT\":1,\"NUT\":1,\"NZDT\":1,\"NZST\":1,\"OMST\":1,\"ORAT\":1,\"PDT\":1,\"PET\":1,\"PETT\":1,\"PGT\":1,\"PHOT\":1,\"PHT\":1,\"PKT\":1,\"PMDT\":1,\"PMST\":1,\"PONT\":1,\"PST\":1,\"PYST\":1,\"PYT\":1,\"RET\":1,\"ROTT\":1,\"SAKT\":1,\"SAMT\":1,\"SAST\":1,\"SBT\":1,\"SCT\":1,\"SGT\":1,\"SLST\":1,\"SRT\":1,\"SST\":1,\"SYOT\":1,\"TAHT\":1,\"THA\":1,\"TFT\":1,\"TJT\":1,\"TKT\":1,\"TLT\":1,\"TMT\":1,\"TOT\":1,\"TVT\":1,\"UCT\":1,\"ULAT\":1,\"UTC\":1,\"UYST\":1,\"UYT\":1,\"UZT\":1,\"VET\":1,\"VLAT\":1,\"VOLT\":1,\"VOST\":1,\"VUT\":1,\"WAKT\":1,\"WAST\":1,\"WAT\":1,\"WEDT\":1,\"WEST\":1,\"WET\":1,\"WST\":1,\"YAKT\":1,\"YEKT\":1,\"Z\":1};\n\t\treturn (timezones[value] === 1);\n\t};\n\t$D.validateTimezoneOffset= function(value) {\n\t\t// timezones go from +14hrs to -12hrs, the +X hours are negative offsets.\n\t\treturn (value > -841 && value < 721);\n\t};\n\n}());\n","(function () {\r\n\tvar $D = Date;\r\n\r\n\t/**\r\n\t * @desc Converts the specified string value into its JavaScript Date equivalent using CultureInfo specific format information.\r\n\t * \r\n\t * Example\r\n\t<pre><code>\r\n\t///////////\r\n\t// Dates //\r\n\t///////////\r\n\r\n\t// 15-Oct-2004\r\n\tvar d1 = Date.parse(\"10/15/2004\");\r\n\r\n\t// 15-Oct-2004\r\n\tvar d1 = Date.parse(\"15-Oct-2004\");\r\n\r\n\t// 15-Oct-2004\r\n\tvar d1 = Date.parse(\"2004.10.15\");\r\n\r\n\t//Fri Oct 15, 2004\r\n\tvar d1 = Date.parse(\"Fri Oct 15, 2004\");\r\n\r\n\t///////////\r\n\t// Times //\r\n\t///////////\r\n\r\n\t// Today at 10 PM.\r\n\tvar d1 = Date.parse(\"10 PM\");\r\n\r\n\t// Today at 10:30 PM.\r\n\tvar d1 = Date.parse(\"10:30 P.M.\");\r\n\r\n\t// Today at 6 AM.\r\n\tvar d1 = Date.parse(\"06am\");\r\n\r\n\t/////////////////////\r\n\t// Dates and Times //\r\n\t/////////////////////\r\n\r\n\t// 8-July-2004 @ 10:30 PM\r\n\tvar d1 = Date.parse(\"July 8th, 2004, 10:30 PM\");\r\n\r\n\t// 1-July-2004 @ 10:30 PM\r\n\tvar d1 = Date.parse(\"2004-07-01T22:30:00\");\r\n\r\n\t////////////////////\r\n\t// Relative Dates //\r\n\t////////////////////\r\n\r\n\t// Returns today's date. The string \"today\" is culture specific.\r\n\tvar d1 = Date.parse(\"today\");\r\n\r\n\t// Returns yesterday's date. The string \"yesterday\" is culture specific.\r\n\tvar d1 = Date.parse(\"yesterday\");\r\n\r\n\t// Returns the date of the next thursday.\r\n\tvar d1 = Date.parse(\"Next thursday\");\r\n\r\n\t// Returns the date of the most previous monday.\r\n\tvar d1 = Date.parse(\"last monday\");\r\n\r\n\t// Returns today's day + one year.\r\n\tvar d1 = Date.parse(\"next year\");\r\n\r\n\t///////////////\r\n\t// Date Math //\r\n\t///////////////\r\n\r\n\t// Today + 2 days\r\n\tvar d1 = Date.parse(\"t+2\");\r\n\r\n\t// Today + 2 days\r\n\tvar d1 = Date.parse(\"today + 2 days\");\r\n\r\n\t// Today + 3 months\r\n\tvar d1 = Date.parse(\"t+3m\");\r\n\r\n\t// Today - 1 year\r\n\tvar d1 = Date.parse(\"today - 1 year\");\r\n\r\n\t// Today - 1 year\r\n\tvar d1 = Date.parse(\"t-1y\"); \r\n\r\n\r\n\t/////////////////////////////\r\n\t// Partial Dates and Times //\r\n\t/////////////////////////////\r\n\r\n\t// July 15th of this year.\r\n\tvar d1 = Date.parse(\"July 15\");\r\n\r\n\t// 15th day of current day and year.\r\n\tvar d1 = Date.parse(\"15\");\r\n\r\n\t// July 1st of current year at 10pm.\r\n\tvar d1 = Date.parse(\"7/1 10pm\");\r\n\t</code></pre>\r\n\t *\r\n\t * @param {String}   The string value to convert into a Date object [Required]\r\n\t * @return {Date}    A Date object or null if the string cannot be converted into a Date.\r\n\t */\r\n\tvar parseUtils = {\r\n\t\tremoveOrds: function (s) {\r\n\t\t\tords = s.match(/\\b(\\d+)(?:st|nd|rd|th)\\b/); // find ordinal matches\r\n\t\t\ts = ((ords && ords.length === 2) ? s.replace(ords[0], ords[1]) : s);\r\n\t\t\treturn s;\r\n\t\t},\r\n\t\tgrammarParser: function (s) {\r\n\t\t\tvar r = null;\r\n\t\t\ttry {\r\n\t\t\t\tr = $D.Grammar.start.call({}, s.replace(/^\\s*(\\S*(\\s+\\S+)*)\\s*$/, \"$1\"));\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn ((r[1].length === 0) ? r[0] : null);\r\n\t\t},\r\n\t\tnativeFallback: function(s) {\r\n\t\t\tvar t;\r\n\t\t\ttry {\r\n\t\t\t\t// ok we haven't parsed it, last ditch attempt with the built-in parser.\r\n\t\t\t\tt = Date._parse(s);\r\n\t\t\t\treturn (t || t === 0) ? new Date(t) : null;\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tfunction parse (s) {\r\n\t\tvar d;\r\n\t\tif (!s) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (s instanceof Date) {\r\n\t\t\treturn s.clone();\r\n\t\t}\r\n\t\tif (s.length >= 4 && s.charAt(0) !== \"0\" && s.charAt(0) !== \"+\"&& s.charAt(0) !== \"-\") { // ie: 2004 will pass, 0800 won't.\r\n\t\t\t//  Start with specific formats\r\n\t\t\td = $D.Parsing.ISO.parse(s) || $D.Parsing.Numeric.parse(s);\r\n\t\t}\r\n\t\tif (d instanceof Date && !isNaN(d.getTime())) {\r\n\t\t\treturn d;\r\n\t\t} else {\r\n\t\t\t// find ordinal dates (1st, 3rd, 8th, etc and remove them as they cause parsing issues)\r\n\t\t\ts = $D.Parsing.Normalizer.parse(parseUtils.removeOrds(s));\r\n\t\t\td = parseUtils.grammarParser(s);\r\n\t\t\tif (d !== null) {\r\n\t\t\t\treturn d;\r\n\t\t\t} else {\r\n\t\t\t\treturn parseUtils.nativeFallback(s);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (!$D._parse) {\r\n\t\t$D._parse = $D.parse;\r\n\t}\r\n\t$D.parse = parse;\r\n\r\n\tDate.getParseFunction = function (fx) {\r\n\t\tvar fns = Date.Grammar.allformats(fx);\r\n\t\treturn function (s) {\r\n\t\t\tvar r = null;\r\n\t\t\tfor (var i = 0; i < fns.length; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tr = fns[i].call({}, s);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (r[1].length === 0) {\r\n\t\t\t\t\treturn r[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t};\r\n\t\r\n\t/**\r\n\t * Converts the specified string value into its JavaScript Date equivalent using the specified format {String} or formats {Array} and the CultureInfo specific format information.\r\n\t * The format of the string value must match one of the supplied formats exactly.\r\n\t * \r\n\t * Example\r\n\t<pre><code>\r\n\t// 15-Oct-2004\r\n\tvar d1 = Date.parseExact(\"10/15/2004\", \"M/d/yyyy\");\r\n\r\n\t// 15-Oct-2004\r\n\tvar d1 = Date.parse(\"15-Oct-2004\", \"M-ddd-yyyy\");\r\n\r\n\t// 15-Oct-2004\r\n\tvar d1 = Date.parse(\"2004.10.15\", \"yyyy.MM.dd\");\r\n\r\n\t// Multiple formats\r\n\tvar d1 = Date.parseExact(\"10/15/2004\", [\"M/d/yyyy\", \"MMMM d, yyyy\"]);\r\n\t</code></pre>\r\n\t *\r\n\t * @param {String}   The string value to convert into a Date object [Required].\r\n\t * @param {Object}   The expected format {String} or an array of expected formats {Array} of the date string [Required].\r\n\t * @return {Date}    A Date object or null if the string cannot be converted into a Date.\r\n\t */\r\n\t$D.parseExact = function (s, fx) {\r\n\t\treturn $D.getParseFunction(fx)(s);\r\n\t};\r\n}());\r\n","/*************************************************************\r\n * SugarPak - Domain Specific Language -  Syntactical Sugar  *\r\n *************************************************************/\r\n \r\n(function () {\r\n\tvar $D = Date, $P = $D.prototype, $N = Number.prototype;\r\n\r\n\t// private\r\n\t$P._orient = +1;\r\n\r\n\t// private\r\n\t$P._nth = null;\r\n\r\n\t// private\r\n\t$P._is = false;\r\n\r\n\t// private\r\n\t$P._same = false;\r\n\t\r\n\t// private\r\n\t$P._isSecond = false;\r\n\r\n\t// private\r\n\t$N._dateElement = \"days\";\r\n\r\n\t/** \r\n\t * Moves the date to the next instance of a date as specified by the subsequent date element function (eg. .day(), .month()), month name function (eg. .january(), .jan()) or day name function (eg. .friday(), fri()).\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.today().next().friday();\r\n\tDate.today().next().fri();\r\n\tDate.today().next().march();\r\n\tDate.today().next().mar();\r\n\tDate.today().next().week();\r\n\t</code></pre>\r\n\t * \r\n\t * @return {Date}    date\r\n\t */\r\n\t$P.next = function () {\r\n\t\tthis._move = true;\r\n\t\tthis._orient = +1;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/** \r\n\t * Creates a new Date (Date.today()) and moves the date to the next instance of the date as specified by the subsequent date element function (eg. .day(), .month()), month name function (eg. .january(), .jan()) or day name function (eg. .friday(), fri()).\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.next().friday();\r\n\tDate.next().fri();\r\n\tDate.next().march();\r\n\tDate.next().mar();\r\n\tDate.next().week();\r\n\t</code></pre>\r\n\t * \r\n\t * @return {Date}    date\r\n\t */\r\n\t$D.next = function () {\r\n\t\treturn $D.today().next();\r\n\t};\r\n\r\n\t/** \r\n\t * Moves the date to the previous instance of a date as specified by the subsequent date element function (eg. .day(), .month()), month name function (eg. .january(), .jan()) or day name function (eg. .friday(), fri()).\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.today().last().friday();\r\n\tDate.today().last().fri();\r\n\tDate.today().last().march();\r\n\tDate.today().last().mar();\r\n\tDate.today().last().week();\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    date\r\n\t */\r\n\t$P.last = $P.prev = $P.previous = function () {\r\n\t\tthis._move = true;\r\n\t\tthis._orient = -1;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/** \r\n\t * Creates a new Date (Date.today()) and moves the date to the previous instance of the date as specified by the subsequent date element function (eg. .day(), .month()), month name function (eg. .january(), .jan()) or day name function (eg. .friday(), fri()).\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.last().friday();\r\n\tDate.last().fri();\r\n\tDate.previous().march();\r\n\tDate.prev().mar();\r\n\tDate.last().week();\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    date\r\n\t */\r\n\t$D.last = $D.prev = $D.previous = function () {\r\n\t\treturn $D.today().last();\r\n\t};\r\n\r\n\t/** \r\n\t * Performs a equality check when followed by either a month name, day name or .weekday() function.\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.today().is().friday(); // true|false\r\n\tDate.today().is().fri();\r\n\tDate.today().is().march();\r\n\tDate.today().is().mar();\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Boolean}    true|false\r\n\t */\r\n\t$P.is = function () {\r\n\t\tthis._is = true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/** \r\n\t * Determines if two date objects occur on/in exactly the same instance of the subsequent date part function.\r\n\t * The function .same() must be followed by a date part function (example: .day(), .month(), .year(), etc).\r\n\t *\r\n\t * An optional Date can be passed in the date part function. If now date is passed as a parameter, 'Now' is used. \r\n\t *\r\n\t * The following example demonstrates how to determine if two dates fall on the exact same day.\r\n\t *\r\n\t * Example\r\n\t<pre><code>\r\n\tvar d1 = Date.today(); // today at 00:00\r\n\tvar d2 = new Date();   // exactly now.\r\n\r\n\t// Do they occur on the same day?\r\n\td1.same().day(d2); // true\r\n\t\r\n\t// Do they occur on the same hour?\r\n\td1.same().hour(d2); // false, unless d2 hour is '00' (midnight).\r\n\t\r\n\t// What if it's the same day, but one year apart?\r\n\tvar nextYear = Date.today().add(1).year();\r\n\r\n\td1.same().day(nextYear); // false, because the dates must occur on the exact same day. \r\n\t</code></pre>\r\n\t *\r\n\t * Scenario: Determine if a given date occurs during some week period 2 months from now. \r\n\t *\r\n\t * Example\r\n\t<pre><code>\r\n\tvar future = Date.today().add(2).months();\r\n\treturn someDate.same().week(future); // true|false;\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Boolean}    true|false\r\n\t */\r\n\t$P.same = function () {\r\n\t\tthis._same = true;\r\n\t\tthis._isSecond = false;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/** \r\n\t * Determines if the current date/time occurs during Today. Must be preceded by the .is() function.\r\n\t * Example\r\n\t<pre><code>\r\n\tsomeDate.is().today();    // true|false\r\n\tnew Date().is().today();  // true\r\n\tDate.today().is().today();// true\r\n\tDate.today().add(-1).day().is().today(); // false\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Boolean}    true|false\r\n\t */\r\n\t$P.today = function () {\r\n\t\treturn this.same().day();\r\n\t};\r\n\r\n\t/** \r\n\t * Determines if the current date is a weekday. This function must be preceded by the .is() function.\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.today().is().weekday(); // true|false\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Boolean}    true|false\r\n\t */\r\n\t$P.weekday = function () {\r\n\t\tif (this._nth) {\r\n\t\t\treturn df(\"Weekday\").call(this);\r\n\t\t}\r\n\t\tif (this._move) {\r\n\t\t\treturn this.addWeekdays(this._orient);\r\n\t\t}\r\n\t\tif (this._is) {\r\n\t\t\tthis._is = false;\r\n\t\t\treturn (!this.is().sat() && !this.is().sun());\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t/** \r\n\t * Determines if the current date is on the weekend. This function must be preceded by the .is() function.\r\n\t * Example\r\n\t<pre><code>\r\n\tDate.today().is().weekend(); // true|false\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Boolean}    true|false\r\n\t */\r\n\t$P.weekend = function () {\r\n\t\tif (this._is) {\r\n\t\t\tthis._is = false;\r\n\t\t\treturn (this.is().sat() || this.is().sun());\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/** \r\n\t * Sets the Time of the current Date instance. A string \"6:15 pm\" or config object {hour:18, minute:15} are accepted.\r\n\t * Example\r\n\t<pre><code>\r\n\t// Set time to 6:15pm with a String\r\n\tDate.today().at(\"6:15pm\");\r\n\r\n\t// Set time to 6:15pm with a config object\r\n\tDate.today().at({hour:18, minute:15});\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    date\r\n\t */\r\n\t$P.at = function (time) {\r\n\t\treturn (typeof time === \"string\") ? $D.parse(this.toString(\"d\") + \" \" + time) : this.set(time);\r\n\t};\r\n\t\t\r\n\t/** \r\n\t * Creates a new Date() and adds this (Number) to the date based on the preceding date element function (eg. second|minute|hour|day|month|year).\r\n\t * Example\r\n\t<pre><code>\r\n\t// Undeclared Numbers must be wrapped with parentheses. Requirment of JavaScript.\r\n\t(3).days().fromNow();\r\n\t(6).months().fromNow();\r\n\r\n\t// Declared Number variables do not require parentheses. \r\n\tvar n = 6;\r\n\tn.months().fromNow();\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    A new Date instance\r\n\t */\r\n\t$N.fromNow = $N.after = function (date) {\r\n\t\tvar c = {};\r\n\t\tc[this._dateElement] = this;\r\n\t\treturn ((!date) ? new Date() : date.clone()).add(c);\r\n\t};\r\n\r\n\t/** \r\n\t * Creates a new Date() and subtract this (Number) from the date based on the preceding date element function (eg. second|minute|hour|day|month|year).\r\n\t * Example\r\n\t<pre><code>\r\n\t// Undeclared Numbers must be wrapped with parentheses. Requirment of JavaScript.\r\n\t(3).days().ago();\r\n\t(6).months().ago();\r\n\r\n\t// Declared Number variables do not require parentheses. \r\n\tvar n = 6;\r\n\tn.months().ago();\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    A new Date instance\r\n\t */\r\n\t$N.ago = $N.before = function (date) {\r\n\t\tvar c = {},\r\n\t\ts = (this._dateElement[this._dateElement.length-1] !== \"s\") ? this._dateElement + \"s\" : this._dateElement;\r\n\t\tc[s] = this * -1;\r\n\t\treturn ((!date) ? new Date() : date.clone()).add(c);\r\n\t};\r\n\r\n\t// Do NOT modify the following string tokens. These tokens are used to build dynamic functions.\r\n\t// All culture-specific strings can be found in the CultureInfo files.\r\n\tvar dx = (\"sunday monday tuesday wednesday thursday friday saturday\").split(/\\s/),\r\n\t\tmx = (\"january february march april may june july august september october november december\").split(/\\s/),\r\n\t\tpx = (\"Millisecond Second Minute Hour Day Week Month Year Quarter Weekday\").split(/\\s/),\r\n\t\tpxf = (\"Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter\").split(/\\s/),\r\n\t\tnth = (\"final first second third fourth fifth\").split(/\\s/),\r\n\t\tde;\r\n\r\n   /** \r\n\t * Returns an object literal of all the date parts.\r\n\t * Example\r\n\t<pre><code>\r\n\tvar o = new Date().toObject();\r\n\t\r\n\t// { year: 2008, month: 4, week: 20, day: 13, hour: 18, minute: 9, second: 32, millisecond: 812 }\r\n\t\r\n\t// The object properties can be referenced directly from the object.\r\n\t\r\n\talert(o.day);  // alerts \"13\"\r\n\talert(o.year); // alerts \"2008\"\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    An object literal representing the original date object.\r\n\t */\r\n\t$P.toObject = function () {\r\n\t\tvar o = {};\r\n\t\tfor (var i = 0; i < px.length; i++) {\r\n\t\t\tif (this[\"get\" + pxf[i]]) {\r\n\t\t\t\to[px[i].toLowerCase()] = this[\"get\" + pxf[i]]();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn o;\r\n\t};\r\n   \r\n   /** \r\n\t * Returns a date created from an object literal. Ignores the .week property if set in the config. \r\n\t * Example\r\n\t<pre><code>\r\n\tvar o = new Date().toObject();\r\n\t\r\n\treturn Date.fromObject(o); // will return the same date. \r\n\r\n\tvar o2 = {month: 1, day: 20, hour: 18}; // birthday party!\r\n\tDate.fromObject(o2);\r\n\t</code></pre>\r\n\t *  \r\n\t * @return {Date}    An object literal representing the original date object.\r\n\t */\r\n\t$D.fromObject = function(config) {\r\n\t\tconfig.week = null;\r\n\t\treturn Date.today().set(config);\r\n\t};\r\n\t\t\r\n\t// Create day name functions and abbreviated day name functions (eg. monday(), friday(), fri()).\r\n\t\r\n\tvar df = function (n) {\r\n\t\treturn function () {\r\n\t\t\tif (this._is) {\r\n\t\t\t\tthis._is = false;\r\n\t\t\t\treturn this.getDay() === n;\r\n\t\t\t}\r\n\t\t\tif (this._move) { this._move = null; }\r\n\t\t\tif (this._nth !== null) {\r\n\t\t\t\t// If the .second() function was called earlier, remove the _orient \r\n\t\t\t\t// from the date, and then continue.\r\n\t\t\t\t// This is required because 'second' can be used in two different context.\r\n\t\t\t\t// \r\n\t\t\t\t// Example\r\n\t\t\t\t//\r\n\t\t\t\t//   Date.today().add(1).second();\r\n\t\t\t\t//   Date.march().second().monday();\r\n\t\t\t\t// \r\n\t\t\t\t// Things get crazy with the following...\r\n\t\t\t\t//   Date.march().add(1).second().second().monday(); // but it works!!\r\n\t\t\t\t//  \r\n\t\t\t\tif (this._isSecond) {\r\n\t\t\t\t\tthis.addSeconds(this._orient * -1);\r\n\t\t\t\t}\r\n\t\t\t\t// make sure we reset _isSecond\r\n\t\t\t\tthis._isSecond = false;\r\n\r\n\t\t\t\tvar ntemp = this._nth;\r\n\t\t\t\tthis._nth = null;\r\n\t\t\t\tvar temp = this.clone().moveToLastDayOfMonth();\r\n\t\t\t\tthis.moveToNthOccurrence(n, ntemp);\r\n\t\t\t\tif (this > temp) {\r\n\t\t\t\t\tthrow new RangeError($D.getDayName(n) + \" does not occur \" + ntemp + \" times in the month of \" + $D.getMonthName(temp.getMonth()) + \" \" + temp.getFullYear() + \".\");\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\treturn this.moveToDayOfWeek(n, this._orient);\r\n\t\t};\r\n\t};\r\n\t\r\n\tvar sdf = function (n) {\r\n\t\treturn function () {\r\n\t\t\tvar t = $D.today(), shift = n - t.getDay();\r\n\t\t\tif (n === 0 && Date.CultureInfo.firstDayOfWeek === 1 && t.getDay() !== 0) {\r\n\t\t\t\tshift = shift + 7;\r\n\t\t\t}\r\n\t\t\treturn t.addDays(shift);\r\n\t\t};\r\n\t};\r\n\t\r\n\r\n\t\r\n\t// Create month name functions and abbreviated month name functions (eg. january(), march(), mar()).\r\n\tvar month_instance_functions = function (n) {\r\n\t\treturn function () {\r\n\t\t\tif (this._is) {\r\n\t\t\t\tthis._is = false;\r\n\t\t\t\treturn this.getMonth() === n;\r\n\t\t\t}\r\n\t\t\treturn this.moveToMonth(n, this._orient);\r\n\t\t};\r\n\t};\r\n\t\r\n\tvar month_static_functions = function (n) {\r\n\t\treturn function () {\r\n\t\t\treturn $D.today().set({ month: n, day: 1 });\r\n\t\t};\r\n\t};\r\n\t\r\n\tvar processTerms = function (names, staticFunc, instanceFunc) {\r\n\t\tfor (var i = 0; i < names.length; i++) {\r\n\t\t\t// Create constant static Name variables.\r\n\t\t\t$D[names[i].toUpperCase()] = $D[names[i].toUpperCase().substring(0, 3)] = i;\r\n\t\t\t// Create Name functions.\r\n\t\t\t$D[names[i]] = $D[names[i].substring(0, 3)] = staticFunc(i);\r\n\t\t\t// Create Name instance functions.\r\n\t\t\t$P[names[i]] = $P[names[i].substring(0, 3)] = instanceFunc(i);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tprocessTerms(dx, sdf, df);\r\n\tprocessTerms(mx, month_static_functions, month_instance_functions);\r\n\t\r\n\t// Create date element functions and plural date element functions used with Date (eg. day(), days(), months()).\r\n\tvar ef = function (j) {\r\n\t\treturn function () {\r\n\t\t\t// if the .second() function was called earlier, the _orient \r\n\t\t\t// has alread been added. Just return this and reset _isSecond.\r\n\t\t\tif (this._isSecond) {\r\n\t\t\t\tthis._isSecond = false;\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tif (this._same) {\r\n\t\t\t\tthis._same = this._is = false;\r\n\t\t\t\tvar o1 = this.toObject(),\r\n\t\t\t\t\to2 = (arguments[0] || new Date()).toObject(),\r\n\t\t\t\t\tv = \"\",\r\n\t\t\t\t\tk = j.toLowerCase();\r\n\r\n\t\t\t\t// the substr trick with -1 doesn't work in IE8 or less\r\n\t\t\t\tk = (k[k.length-1] === \"s\") ? k.substring(0,k.length-1) : k;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (var m = (px.length - 1); m > -1; m--) {\r\n\t\t\t\t\tv = px[m].toLowerCase();\r\n\t\t\t\t\tif (o1[v] !== o2[v]) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (k === v) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (j.substring(j.length - 1) !== \"s\") {\r\n\t\t\t\tj += \"s\";\r\n\t\t\t}\r\n\t\t\tif (this._move) { this._move = null; }\r\n\t\t\treturn this[\"add\" + j](this._orient);\r\n\t\t};\r\n\t};\r\n\t\r\n\t\r\n\tvar nf = function (n) {\r\n\t\treturn function () {\r\n\t\t\tthis._dateElement = n;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t};\r\n   \r\n\tfor (var k = 0; k < px.length; k++) {\r\n\t\tde = px[k].toLowerCase();\r\n\t\tif(de !== \"weekday\") {\r\n\t\t\t// Create date element functions and plural date element functions used with Date (eg. day(), days(), months()).\r\n\t\t\t$P[de] = $P[de + \"s\"] = ef(px[k]);\r\n\t\t\t\r\n\t\t\t// Create date element functions and plural date element functions used with Number (eg. day(), days(), months()).\r\n\t\t\t$N[de] = $N[de + \"s\"] = nf(de + \"s\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t$P._ss = ef(\"Second\");\r\n\t\r\n\tvar nthfn = function (n) {\r\n\t\treturn function (dayOfWeek) {\r\n\t\t\tif (this._same) {\r\n\t\t\t\treturn this._ss(arguments[0]);\r\n\t\t\t}\r\n\t\t\tif (dayOfWeek || dayOfWeek === 0) {\r\n\t\t\t\treturn this.moveToNthOccurrence(dayOfWeek, n);\r\n\t\t\t}\r\n\t\t\tthis._nth = n;\r\n\r\n\t\t\t// if the operator is 'second' add the _orient, then deal with it later...\r\n\t\t\tif (n === 2 && (dayOfWeek === undefined || dayOfWeek === null)) {\r\n\t\t\t\tthis._isSecond = true;\r\n\t\t\t\treturn this.addSeconds(this._orient);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t};\r\n\t};\r\n\r\n\tfor (var l = 0; l < nth.length; l++) {\r\n\t\t$P[nth[l]] = (l === 0) ? nthfn(-1) : nthfn(l);\r\n\t}\r\n}());\r\n","(function () {\n\t\"use strict\";\n\tvar gFn = function (attr) {\n\t\treturn function () {\n\t\t\treturn this[attr];\n\t\t};\n\t};\n\t\n\tvar sFn = function (attr) {\n\t\treturn function (val) {\n\t\t\tthis[attr] = val;\n\t\t\treturn this;\n\t\t};\n\t};\n\tvar attrs = [\"years\", \"months\", \"days\", \"hours\", \"minutes\", \"seconds\", \"milliseconds\"];\n\tvar addSetFuncs = function (context, attrs) {\n\t\tfor (var i = 0; i < attrs.length ; i++) {\n\t\t\tvar $a = attrs[i], $b = $a.slice(0, 1).toUpperCase() + $a.slice(1);\n\t\t\tcontext.prototype[$a] = 0;\n\t\t\tcontext.prototype[\"get\" + $b] = gFn($a);\n\t\t\tcontext.prototype[\"set\" + $b] = sFn($a);\n\t\t}\n\t};\n\t/**\n\t * new TimeSpan(milliseconds);\n\t * new TimeSpan(days, hours, minutes, seconds);\n\t * new TimeSpan(days, hours, minutes, seconds, milliseconds);\n\t */\n\tvar TimeSpan = function (days, hours, minutes, seconds, milliseconds) {\n\t\tif (arguments.length === 1 && typeof days === \"number\") {\n\t\t\tvar orient = (days < 0) ? -1 : +1;\n\t\t\tvar millsLeft = Math.abs(days);\n\t\t\tthis.setDays(Math.floor(millsLeft / 86400000) * orient);\n\t\t\tmillsLeft = millsLeft % 86400000;\n\t\t\tthis.setHours(Math.floor(millsLeft / 3600000) * orient);\n\t\t\tmillsLeft = millsLeft % 3600000;\n\t\t\tthis.setMinutes(Math.floor(millsLeft / 60000) * orient);\n\t\t\tmillsLeft = millsLeft % 60000;\n\t\t\tthis.setSeconds(Math.floor(millsLeft / 1000) * orient);\n\t\t\tmillsLeft = millsLeft % 1000;\n\t\t\tthis.setMilliseconds(millsLeft * orient);\n\t\t} else {\n\t\t\tthis.set(days, hours, minutes, seconds, milliseconds);\n\t\t}\n\n\t\tthis.getTotalMilliseconds = function () {\n\t\t\treturn\t(this.getDays() * 86400000) +\n\t\t\t\t\t(this.getHours() * 3600000) +\n\t\t\t\t\t(this.getMinutes() * 60000) +\n\t\t\t\t\t(this.getSeconds() * 1000);\n\t\t};\n\t\t\n\t\tthis.compareTo = function (time) {\n\t\t\tvar t1 = new Date(1970, 1, 1, this.getHours(), this.getMinutes(), this.getSeconds()), t2;\n\t\t\tif (time === null) {\n\t\t\t\tt2 = new Date(1970, 1, 1, 0, 0, 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tt2 = new Date(1970, 1, 1, time.getHours(), time.getMinutes(), time.getSeconds());\n\t\t\t}\n\t\t\treturn (t1 < t2) ? -1 : (t1 > t2) ? 1 : 0;\n\t\t};\n\n\t\tthis.equals = function (time) {\n\t\t\treturn (this.compareTo(time) === 0);\n\t\t};\n\n\t\tthis.add = function (time) {\n\t\t\treturn (time === null) ? this : this.addSeconds(time.getTotalMilliseconds() / 1000);\n\t\t};\n\n\t\tthis.subtract = function (time) {\n\t\t\treturn (time === null) ? this : this.addSeconds(-time.getTotalMilliseconds() / 1000);\n\t\t};\n\n\t\tthis.addDays = function (n) {\n\t\t\treturn new TimeSpan(this.getTotalMilliseconds() + (n * 86400000));\n\t\t};\n\n\t\tthis.addHours = function (n) {\n\t\t\treturn new TimeSpan(this.getTotalMilliseconds() + (n * 3600000));\n\t\t};\n\n\t\tthis.addMinutes = function (n) {\n\t\t\treturn new TimeSpan(this.getTotalMilliseconds() + (n * 60000));\n\t\t};\n\n\t\tthis.addSeconds = function (n) {\n\t\t\treturn new TimeSpan(this.getTotalMilliseconds() + (n * 1000));\n\t\t};\n\n\t\tthis.addMilliseconds = function (n) {\n\t\t\treturn new TimeSpan(this.getTotalMilliseconds() + n);\n\t\t};\n\n\t\tthis.get12HourHour = function () {\n\t\t\treturn (this.getHours() > 12) ? this.getHours() - 12 : (this.getHours() === 0) ? 12 : this.getHours();\n\t\t};\n\n\t\tthis.getDesignator = function () {\n\t\t\treturn (this.getHours() < 12) ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;\n\t\t};\n\n\t\tthis.toString = function (format) {\n\t\t\tthis._toString = function () {\n\t\t\t\tif (this.getDays() !== null && this.getDays() > 0) {\n\t\t\t\t\treturn this.getDays() + \".\" + this.getHours() + \":\" + this.p(this.getMinutes()) + \":\" + this.p(this.getSeconds());\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getHours() + \":\" + this.p(this.getMinutes()) + \":\" + this.p(this.getSeconds());\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tthis.p = function (s) {\n\t\t\t\treturn (s.toString().length < 2) ? \"0\" + s : s;\n\t\t\t};\n\t\t\t\n\t\t\tvar me = this;\n\t\t\t\n\t\t\treturn format ? format.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,\n\t\t\tfunction (format) {\n\t\t\t\tswitch (format) {\n\t\t\t\tcase \"d\":\n\t\t\t\t\treturn me.getDays();\n\t\t\t\tcase \"dd\":\n\t\t\t\t\treturn me.p(me.getDays());\n\t\t\t\tcase \"H\":\n\t\t\t\t\treturn me.getHours();\n\t\t\t\tcase \"HH\":\n\t\t\t\t\treturn me.p(me.getHours());\n\t\t\t\tcase \"h\":\n\t\t\t\t\treturn me.get12HourHour();\n\t\t\t\tcase \"hh\":\n\t\t\t\t\treturn me.p(me.get12HourHour());\n\t\t\t\tcase \"m\":\n\t\t\t\t\treturn me.getMinutes();\n\t\t\t\tcase \"mm\":\n\t\t\t\t\treturn me.p(me.getMinutes());\n\t\t\t\tcase \"s\":\n\t\t\t\t\treturn me.getSeconds();\n\t\t\t\tcase \"ss\":\n\t\t\t\t\treturn me.p(me.getSeconds());\n\t\t\t\tcase \"t\":\n\t\t\t\t\treturn ((me.getHours() < 12) ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator).substring(0, 1);\n\t\t\t\tcase \"tt\":\n\t\t\t\t\treturn (me.getHours() < 12) ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;\n\t\t\t\t}\n\t\t\t}\n\t\t\t) : this._toString();\n\t\t};\n\t\treturn this;\n\t};\n\taddSetFuncs(TimeSpan, attrs.slice(2));\n\tTimeSpan.prototype.set = function (days, hours, minutes, seconds, milliseconds){\n\t\tthis.setDays(days || this.getDays());\n\t\tthis.setHours(hours || this.getHours());\n\t\tthis.setMinutes(minutes || this.getMinutes());\n\t\tthis.setSeconds(seconds || this.getSeconds());\n\t\tthis.setMilliseconds(milliseconds || this.getMilliseconds());\n\t};\n\n\n\t/**\n\t * Gets the time of day for this date instances. \n\t * @return {TimeSpan} TimeSpan\n\t */\n\tDate.prototype.getTimeOfDay = function () {\n\t\treturn new TimeSpan(0, this.getHours(), this.getMinutes(), this.getSeconds(), this.getMilliseconds());\n\t};\n\n\tDate.TimeSpan = TimeSpan;\n\n\tif (typeof window !== \"undefined\" ) {\n\t\t// keeping API compatible for v1.x \n\t\twindow.TimeSpan = TimeSpan;\n\t}\n}());","(function () {\n\t\"use strict\";\n\tvar attrs = [\"years\", \"months\", \"days\", \"hours\", \"minutes\", \"seconds\", \"milliseconds\"];\n\tvar gFn = function (attr) {\n\t\treturn function () {\n\t\t\treturn this[attr];\n\t\t};\n\t};\n\t\n\tvar sFn = function (attr) {\n\t\treturn function (val) {\n\t\t\tthis[attr] = val;\n\t\t\treturn this;\n\t\t};\n\t};\n\tvar addSetFuncs = function (context, attrs) {\n\t\tfor (var i = 0; i < attrs.length ; i++) {\n\t\t\tvar $a = attrs[i], $b = $a.slice(0, 1).toUpperCase() + $a.slice(1);\n\t\t\tcontext.prototype[$a] = 0;\n\t\t\tcontext.prototype[\"get\" + $b] = gFn($a);\n\t\t\tcontext.prototype[\"set\" + $b] = sFn($a);\n\t\t}\n\t};\n\n\tvar setMonthsAndYears = function (orient, d1, d2, context) {\n\t\tfunction inc() {\n\t\t\td1.addMonths(-orient);\n\t\t\tcontext.months++;\n\t\t\tif (context.months === 12) {\n\t\t\t\tcontext.years++;\n\t\t\t\tcontext.months = 0;\n\t\t\t}\n\t\t}\n\t\tif (orient === +1) {\n\t\t\twhile (d1 > d2) {\n\t\t\t\tinc();\n\t\t\t}\n\t\t} else {\n\t\t\twhile (d1 < d2) {\n\t\t\t\tinc();\n\t\t\t}\n\t\t}\n\t\tcontext.months--;\n\t\tcontext.months *= orient;\n\t\tcontext.years *= orient;\n\t};\n\n\tvar adjustForDST = function(orient, startDate, endDate) {\n\t\tvar hasDSTMismatch = (false === (startDate.isDaylightSavingTime() === endDate.isDaylightSavingTime()));\n\t\tif (hasDSTMismatch && orient === 1) {\n\t\t\tstartDate.addHours(-1);\n\t\t} else if (hasDSTMismatch) {\n\t\t\tstartDate.addHours(1);\n\t\t}\n\t};\n\t/**\n\t * TimePeriod(startDate, endDate);\n\t * TimePeriod(years, months, days, hours, minutes, seconds, milliseconds);\n\t */\n\tvar TimePeriod = function (years, months, days, hours, minutes, seconds, milliseconds) {\n\t\tif (arguments.length === 7) {\n\t\t\tthis.set(years, months, days, hours, minutes, seconds, milliseconds);\n\t\t} else if (arguments.length === 2 && arguments[0] instanceof Date && arguments[1] instanceof Date) {\n\t\t\tvar startDate = arguments[0].clone();\n\t\t\tvar endDate = arguments[1].clone();\n\t\t\tvar orient = (startDate > endDate) ? +1 : -1;\n\t\t\tthis.dates = {\n\t\t\t\tstart: arguments[0].clone(),\n\t\t\t\tend: arguments[1].clone()\n\t\t\t};\n\n\t\t\tsetMonthsAndYears(orient, startDate, endDate, this);\n\t\t\tadjustForDST(orient, startDate, endDate);\n\t\t\t// // TODO - adjust for DST\n\t\t\tvar diff = endDate - startDate;\n\t\t\tif (diff !== 0) {\n\t\t\t\tvar ts = new TimeSpan(diff);\n\t\t\t\tthis.set(this.years, this.months, ts.getDays(), ts.getHours(), ts.getMinutes(), ts.getSeconds(), ts.getMilliseconds());\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\t// create all the set functions.\n\taddSetFuncs(TimePeriod, attrs);\n\tTimePeriod.prototype.set = function (years, months, days, hours, minutes, seconds, milliseconds){\n\t\tthis.setYears(years || this.getYears());\n\t\tthis.setMonths(months || this.getMonths());\n\t\tthis.setDays(days || this.getDays());\n\t\tthis.setHours(hours || this.getHours());\n\t\tthis.setMinutes(minutes || this.getMinutes());\n\t\tthis.setSeconds(seconds || this.getSeconds());\n\t\tthis.setMilliseconds(milliseconds || this.getMilliseconds());\n\t};\n\n\tDate.TimePeriod = TimePeriod;\n\n\tif (typeof window !== \"undefined\") {\n\t\t// keeping API compatible for v1.x \n\t\twindow.TimePeriod = TimePeriod;\n\t}\n}());","(function () {\r\n\tvar $D = Date,\r\n\t\t$P = $D.prototype,\r\n\t\t// $C = $D.CultureInfo, // not used atm\r\n\t\tp = function (s, l) {\r\n\t\t\tif (!l) {\r\n\t\t\t\tl = 2;\r\n\t\t\t}\r\n\t\t\treturn (\"000\" + s).slice(l * -1);\r\n\t\t};\r\n\t/**\r\n\t * Converts a PHP format string to Java/.NET format string.\r\n\t * A PHP format string can be used with ._format or .format.\r\n\t * A Java/.NET format string can be used with .toString().\r\n\t * The .parseExact function will only accept a Java/.NET format string\r\n\t *\r\n\t * Example\r\n\t * var f1 = \"%m/%d/%y\"\r\n\t * var f2 = Date.normalizeFormat(f1);\t// \"MM/dd/yy\"\r\n\t *\r\n\t * new Date().format(f1);\t// \"04/13/08\"\r\n\t * new Date()._format(f1);\t// \"04/13/08\"\r\n\t * new Date().toString(f2);\t// \"04/13/08\"\r\n\t *\r\n\t * var date = Date.parseExact(\"04/13/08\", f2); // Sun Apr 13 2008\r\n\t *\r\n\t * @param {String}   A PHP format string consisting of one or more format spcifiers.\r\n\t * @return {String}  The PHP format converted to a Java/.NET format string.\r\n\t */\r\n\t var normalizerSubstitutions = {\r\n\t\t\"d\" : \"dd\",\r\n\t\t\"%d\": \"dd\",\r\n\t\t\"D\" : \"ddd\",\r\n\t\t\"%a\": \"ddd\",\r\n\t\t\"j\" : \"dddd\",\r\n\t\t\"l\" : \"dddd\",\r\n\t\t\"%A\": \"dddd\",\r\n\t\t\"S\" : \"S\",\r\n\t\t\"F\" : \"MMMM\",\r\n\t\t\"%B\": \"MMMM\",\r\n\t\t\"m\" : \"MM\",\r\n\t\t\"%m\": \"MM\",\r\n\t\t\"M\" : \"MMM\",\r\n\t\t\"%b\": \"MMM\",\r\n\t\t\"%h\": \"MMM\",\r\n\t\t\"n\" : \"M\",\r\n\t\t\"Y\" : \"yyyy\",\r\n\t\t\"%Y\": \"yyyy\",\r\n\t\t\"y\" : \"yy\",\r\n\t\t\"%y\": \"yy\",\r\n\t\t\"g\" : \"h\",\r\n\t\t\"%I\": \"h\",\r\n\t\t\"G\" : \"H\",\r\n\t\t\"h\" : \"hh\",\r\n\t\t\"H\" : \"HH\",\r\n\t\t\"%H\": \"HH\",\r\n\t\t\"i\" : \"mm\",\r\n\t\t\"%M\": \"mm\",\r\n\t\t\"s\" : \"ss\",\r\n\t\t\"%S\": \"ss\",\r\n\t\t\"%r\": \"hh:mm tt\",\r\n\t\t\"%R\": \"H:mm\",\r\n\t\t\"%T\": \"H:mm:ss\",\r\n\t\t\"%X\": \"t\",\r\n\t\t\"%x\": \"d\",\r\n\t\t\"%e\": \"d\",\r\n\t\t\"%D\": \"MM/dd/yy\",\r\n\t\t\"%n\": \"\\\\n\",\r\n\t\t\"%t\": \"\\\\t\",\r\n\t\t\"e\" : \"z\",\r\n\t\t\"T\" : \"z\",\r\n\t\t\"%z\": \"z\",\r\n\t\t\"%Z\": \"z\",\r\n\t\t\"Z\" : \"ZZ\",\r\n\t\t\"N\" : \"u\",\r\n\t\t\"w\" : \"u\",\r\n\t\t\"%w\": \"u\",\r\n\t\t\"W\" : \"W\",\r\n\t\t\"%V\": \"W\"\r\n\t};\r\n\tvar normalizer = {\r\n\t\tsubstitutes: function (m) {\r\n\t\t\treturn normalizerSubstitutions[m];\r\n\t\t},\r\n\t\tinterpreted: function (m, x) {\r\n\t\t\tvar y;\r\n\t\t\tswitch (m) {\r\n\t\t\t\tcase \"%u\":\r\n\t\t\t\t\treturn x.getDay() + 1;\r\n\t\t\t\tcase \"z\":\r\n\t\t\t\t\treturn x.getOrdinalNumber();\r\n\t\t\t\tcase \"%j\":\r\n\t\t\t\t\treturn p(x.getOrdinalNumber(), 3);\r\n\t\t\t\tcase \"%U\":\r\n\t\t\t\t\tvar d1 = x.clone().set({month: 0, day: 1}).addDays(-1).moveToDayOfWeek(0),\r\n\t\t\t\t\t\td2 = x.clone().addDays(1).moveToDayOfWeek(0, -1);\r\n\t\t\t\t\treturn (d2 < d1) ? \"00\" : p((d2.getOrdinalNumber() - d1.getOrdinalNumber()) / 7 + 1);\r\n\r\n\t\t\t\tcase \"%W\":\r\n\t\t\t\t\treturn p(x.getWeek());\r\n\t\t\t\tcase \"t\":\r\n\t\t\t\t\treturn $D.getDaysInMonth(x.getFullYear(), x.getMonth());\r\n\t\t\t\tcase \"o\":\r\n\t\t\t\tcase \"%G\":\r\n\t\t\t\t\treturn x.setWeek(x.getISOWeek()).toString(\"yyyy\");\r\n\t\t\t\tcase \"%g\":\r\n\t\t\t\t\treturn x._format(\"%G\").slice(-2);\r\n\t\t\t\tcase \"a\":\r\n\t\t\t\tcase \"%p\":\r\n\t\t\t\t\treturn t(\"tt\").toLowerCase();\r\n\t\t\t\tcase \"A\":\r\n\t\t\t\t\treturn t(\"tt\").toUpperCase();\r\n\t\t\t\tcase \"u\":\r\n\t\t\t\t\treturn p(x.getMilliseconds(), 3);\r\n\t\t\t\tcase \"I\":\r\n\t\t\t\t\treturn (x.isDaylightSavingTime()) ? 1 : 0;\r\n\t\t\t\tcase \"O\":\r\n\t\t\t\t\treturn x.getUTCOffset();\r\n\t\t\t\tcase \"P\":\r\n\t\t\t\t\ty = x.getUTCOffset();\r\n\t\t\t\t\treturn y.substring(0, y.length - 2) + \":\" + y.substring(y.length - 2);\r\n\t\t\t\tcase \"B\":\r\n\t\t\t\t\tvar now = new Date();\r\n\t\t\t\t\treturn Math.floor(((now.getHours() * 3600) + (now.getMinutes() * 60) + now.getSeconds() + (now.getTimezoneOffset() + 60) * 60) / 86.4);\r\n\t\t\t\tcase \"c\":\r\n\t\t\t\t\treturn x.toISOString().replace(/\\\"/g, \"\");\r\n\t\t\t\tcase \"U\":\r\n\t\t\t\t\treturn $D.strtotime(\"now\");\r\n\t\t\t\tcase \"%c\":\r\n\t\t\t\t\treturn t(\"d\") + \" \" + t(\"t\");\r\n\t\t\t\tcase \"%C\":\r\n\t\t\t\t\treturn Math.floor(x.getFullYear() / 100 + 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tshouldOverrideDefaults: function (m) {\r\n\t\t\tswitch (m) {\r\n\t\t\t\tcase \"%e\":\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tparse: function (m, context) {\r\n\t\t\tvar formatString, c = context || new Date();\r\n\t\t\tformatString = normalizer.substitutes(m);\r\n\t\t\tif (formatString) {\r\n\t\t\t\treturn formatString;\r\n\t\t\t}\r\n\t\t\tformatString = normalizer.interpreted(m, c);\r\n\r\n\t\t\tif (formatString) {\r\n\t\t\t\treturn formatString;\r\n\t\t\t} else {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$D.normalizeFormat = function (format, context) {\r\n\t\treturn format.replace(/(%|\\\\)?.|%%/g, function(t){\r\n\t\t\t\treturn normalizer.parse(t, context);\r\n\t\t});\r\n\t};\r\n\t/**\r\n\t * Format a local Unix timestamp according to locale settings\r\n\t *\r\n\t * Example:\r\n\t * Date.strftime(\"%m/%d/%y\", new Date());\t\t// \"04/13/08\"\r\n\t * Date.strftime(\"c\", \"2008-04-13T17:52:03Z\");\t// \"04/13/08\"\r\n\t *\r\n\t * @param {String}   A format string consisting of one or more format spcifiers [Optional].\r\n\t * @param {Number|String}   The number representing the number of seconds that have elapsed since January 1, 1970 (local time).\r\n\t * @return {String}  A string representation of the current Date object.\r\n\t */\r\n\t$D.strftime = function (format, time) {\r\n\t\tvar d = Date.parse(time);\r\n\t\treturn d._format(format);\r\n\t};\r\n\t/**\r\n\t * Parse any textual datetime description into a Unix timestamp.\r\n\t * A Unix timestamp is the number of seconds that have elapsed since January 1, 1970 (midnight UTC/GMT).\r\n\t *\r\n\t * Example:\r\n\t * Date.strtotime(\"04/13/08\");\t\t\t\t// 1208044800\r\n\t * Date.strtotime(\"1970-01-01T00:00:00Z\");\t// 0\r\n\t *\r\n\t * @param {String}   A format string consisting of one or more format spcifiers [Optional].\r\n\t * @param {Object}   A string or date object.\r\n\t * @return {String}  A string representation of the current Date object.\r\n\t */\r\n\t$D.strtotime = function (time) {\r\n\t\tvar d = $D.parse(time);\r\n\t\treturn Math.round($D.UTC(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate(), d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(), d.getUTCMilliseconds()) / 1000);\r\n\t};\r\n\t/**\r\n\t * Converts the value of the current Date object to its equivalent string representation using a PHP/Unix style of date format specifiers.\r\n\t * Format Specifiers\r\n\t * Format  Description\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tExample\r\n\t * ------  ---------------------------------------------------------------------------\t-----------------------\r\n\t * %a\t\tabbreviated weekday name according to the current localed\t\t\t\t\t\"Mon\" through \"Sun\"\r\n\t * %A\t\tfull weekday name according to the current localed\t\t\t\t\t\t\t\"Sunday\" through \"Saturday\"\r\n\t * %b\t\tabbreviated month name according to the current localed\t\t\t\t\t\t\"Jan\" through \"Dec\"\r\n\t * %B\t\tfull month name according to the current locale\t\t\t\t\t\t\t\t\"January\" through \"December\"\r\n\t * %c\t\tpreferred date and time representation for the current locale\t\t\t\t\"4/13/2008 12:33 PM\"\r\n\t * %C\t\tcentury number (the year divided by 100 and truncated to an integer)\t\t\"00\" to \"99\"\r\n\t * %d\t\tday of the month as a decimal number\t\t\t\t\t\t\t\t\t\t\"01\" to \"31\"\r\n\t * %D\t\tsame as %m/%d/%y\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"04/13/08\"\r\n\t * %e\t\tday of the month as a decimal number, a single digit is preceded by a space\t\"1\" to \"31\"\r\n\t * %g\t\tlike %G, but without the century\t\t\t\t\t\t\t\t\t\t\t\"08\"\r\n\t * %G\t\tThe 4-digit year corresponding to the ISO week number (see %V).\t\t\t\t\"2008\"\r\n\t *\t\tThis has the same format and value as %Y, except that if the ISO week number\r\n\t *\t\tbelongs to the previous or next year, that year is used instead.\r\n\t * %h\t\tsame as %b\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Jan\" through \"Dec\"\r\n\t * %H\t\thour as a decimal number using a 24-hour clock.\t\t\t\t\t\t\t\t\"00\" to \"23\"\r\n\t * %I\t\thour as a decimal number using a 12-hour clock.\t\t\t\t\t\t\t\t\"01\" to \"12\"\r\n\t * %j\t\tday of the year as a decimal number.\t\t\t\t\t\t\t\t\t\t\"001\" to \"366\"\r\n\t * %m\t\tmonth as a decimal number.\t\t\t\t\t\t\t\t\t\t\t\t\t\"01\" to \"12\"\r\n\t * %M\t\tminute as a decimal number.\t\t\t\t\t\t\t\t\t\t\t\t\t\"00\" to \"59\"\r\n\t * %n\t\tnewline character\t\t\"\\n\"\r\n\t * %p\t\teither \"am\" or \"pm\" according to the given time value, or the\t\t\t\t\"am\" or \"pm\"\r\n\t *\t\tcorresponding strings for the current locale.\r\n\t * %r\t\ttime in a.m. and p.m. notation\t\t\t\t\t\t\t\t\t\t\t\t\"8:44 PM\"\r\n\t * %R\t\ttime in 24 hour notation\t\t\t\t\t\t\t\t\t\t\t\t\t\"20:44\"\r\n\t * %S\t\tsecond as a decimal number\t\t\t\t\t\t\t\t\t\t\t\t\t\"00\" to \"59\"\r\n\t * %t\t\ttab character\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"\\t\"\r\n\t * %T\t\tcurrent time, equal to %H:%M:%S\t\t\t\t\t\t\t\t\t\t\t\t\"12:49:11\"\r\n\t * %u\t\tweekday as a decimal number [\"1\", \"7\"], with \"1\" representing Monday\t\t\"1\" to \"7\"\r\n\t * %U\t\tweek number of the current year as a decimal number, starting with the\t\t\"0\" to (\"52\" or \"53\")\r\n\t *\t\tfirst Sunday as the first day of the first week\r\n\t * %V\t\tThe ISO 8601:1988 week number of the current year as a decimal number,\t\t\"00\" to (\"52\" or \"53\")\r\n\t *\t\trange 01 to 53, where week 1 is the first week that has at least 4 days\r\n\t *\t\tin the current year, and with Monday as the first day of the week.\r\n\t *\t\t(Use %G or %g for the year component that corresponds to the week number\r\n\t *\t\tfor the specified timestamp.)\r\n\t * %W\t\tweek number of the current year as a decimal number, starting with the\t\t\"00\" to (\"52\" or \"53\")\r\n\t *\t\tfirst Monday as the first day of the first week\r\n\t * %w\t\tday of the week as a decimal, Sunday being \"0\"\t\t\t\t\t\t\t\t\"0\" to \"6\"\r\n\t * %x\t\tpreferred date representation for the current locale without the time\t\t\"4/13/2008\"\r\n\t * %X\t\tpreferred time representation for the current locale without the date\t\t\"12:53:05\"\r\n\t * %y\t\tyear as a decimal number without a century\t\t\t\t\t\t\t\t\t\"00\" \"99\"\r\n\t * %Y\t\tyear as a decimal number including the century\t\t\t\t\t\t\t\t\"2008\"\r\n\t * %Z\t\ttime zone or name or abbreviation\t\t\t\t\t\t\t\t\t\t\t\"UTC\", \"EST\", \"PST\"\r\n\t * %z\t\tsame as %Z\r\n\t * %%\t\ta literal \"%\" characters\t\t\t\t\t\t\t\t\t\t\t\t\t\"%\"\r\n\t * d\t\tDay of the month, 2 digits with leading zeros\t\t\t\t\t\t\t\t\"01\" to \"31\"\r\n\t * D\t\tA textual representation of a day, three letters\t\t\t\t\t\t\t\"Mon\" through \"Sun\"\r\n\t * j\t\tDay of the month without leading zeros\t\t\t\t\t\t\t\t\t\t\"1\" to \"31\"\r\n\t * l\t\tA full textual representation of the day of the week (lowercase \"L\")\t\t\"Sunday\" through \"Saturday\"\r\n\t * N\t\tISO-8601 numeric representation of the day of the week (added in PHP 5.1.0)\t\"1\" (for Monday) through \"7\" (for Sunday)\r\n\t * S\t\tEnglish ordinal suffix for the day of the month, 2 characters\t\t\t\t\"st\", \"nd\", \"rd\" or \"th\". Works well with j\r\n\t * w\t\tNumeric representation of the day of the week\t\t\t\t\t\t\t\t\"0\" (for Sunday) through \"6\" (for Saturday)\r\n\t * z\t\tThe day of the year (starting from \"0\")\t\t\t\t\t\t\t\t\t\t\"0\" through \"365\"\r\n\t * W\t\tISO-8601 week number of year, weeks starting on Monday\t\t\t\t\t\t\"00\" to (\"52\" or \"53\")\r\n\t * F\t\tA full textual representation of a month, such as January or March\t\t\t\"January\" through \"December\"\r\n\t * m\t\tNumeric representation of a month, with leading zeros\t\t\t\t\t\t\"01\" through \"12\"\r\n\t * M\t\tA short textual representation of a month, three letters\t\t\t\t\t\"Jan\" through \"Dec\"\r\n\t * n\t\tNumeric representation of a month, without leading zeros\t\t\t\t\t\"1\" through \"12\"\r\n\t * t\t\tNumber of days in the given month\t\t\t\t\t\t\t\t\t\t\t\"28\" through \"31\"\r\n\t * L\t\tWhether it's a leap year\t\t\t\t\t\t\t\t\t\t\t\t\t\"1\" if it is a leap year, \"0\" otherwise\r\n\t * o\t\tISO-8601 year number. This has the same value as Y, except that if the\t\t\"2008\"\r\n\t *\t\tISO week number (W) belongs to the previous or next year, that year\r\n\t *\t\tis used instead.\r\n\t * Y\t\tA full numeric representation of a year, 4 digits\t\t\t\t\t\t\t\"2008\"\r\n\t * y\t\tA two digit representation of a year\t\t\t\t\t\t\t\t\t\t\"08\"\r\n\t * a\t\tLowercase Ante meridiem and Post meridiem\t\t\t\t\t\t\t\t\t\"am\" or \"pm\"\r\n\t * A\t\tUppercase Ante meridiem and Post meridiem\t\t\t\t\t\t\t\t\t\"AM\" or \"PM\"\r\n\t * B\t\tSwatch Internet time\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"000\" through \"999\"\r\n\t * g\t\t12-hour format of an hour without leading zeros\t\t\t\t\t\t\t\t\"1\" through \"12\"\r\n\t * G\t\t24-hour format of an hour without leading zeros\t\t\t\t\t\t\t\t\"0\" through \"23\"\r\n\t * h\t\t12-hour format of an hour with leading zeros\t\t\t\t\t\t\t\t\"01\" through \"12\"\r\n\t * H\t\t24-hour format of an hour with leading zeros\t\t\t\t\t\t\t\t\"00\" through \"23\"\r\n\t * i\t\tMinutes with leading zeros\t\t\t\t\t\t\t\t\t\t\t\t\t\"00\" to \"59\"\r\n\t * s\t\tSeconds, with leading zeros\t\t\t\t\t\t\t\t\t\t\t\t\t\"00\" through \"59\"\r\n\t * u\t\tMilliseconds\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"54321\"\r\n\t * e\t\tTimezone identifier\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"UTC\", \"EST\", \"PST\"\r\n\t * I\t\tWhether or not the date is in daylight saving time (uppercase i)\t\t\t\"1\" if Daylight Saving Time, \"0\" otherwise\r\n\t * O\t\tDifference to Greenwich time (GMT) in hours\t\t\t\t\t\t\t\t\t\"+0200\", \"-0600\"\r\n\t * P\t\tDifference to Greenwich time (GMT) with colon between hours and minutes\t\t\"+02:00\", \"-06:00\"\r\n\t * T\t\tTimezone abbreviation\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"UTC\", \"EST\", \"PST\"\r\n\t * Z\t\tTimezone offset in seconds. The offset for timezones west of UTC is\t\t\t\"-43200\" through \"50400\"\r\n\t *\t\t\talways negative, and for those east of UTC is always positive.\r\n\t * c\t\tISO 8601 date\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"2004-02-12T15:19:21+00:00\"\r\n\t * r\t\tRFC 2822 formatted date\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Thu, 21 Dec 2000 16:01:07 +0200\"\r\n\t * U\t\tSeconds since the Unix Epoch (January 1 1970 00:00:00 GMT)\t\t\t\t\t\"0\"\r\n\t * @param {String}   A format string consisting of one or more format spcifiers [Optional].\r\n\t * @return {String}  A string representation of the current Date object.\r\n\t */\r\n\tvar formatReplace = function (context) {\r\n\t\treturn function (m) {\r\n\t\t\tvar formatString, override = false;\r\n\t\t\tif (m.charAt(0) === \"\\\\\" || m.substring(0, 2) === \"%%\") {\r\n\t\t\t\treturn m.replace(\"\\\\\", \"\").replace(\"%%\", \"%\");\r\n\t\t\t}\r\n\r\n\t\t\toverride = normalizer.shouldOverrideDefaults(m);\r\n\t\t\tformatString = $D.normalizeFormat(m, context);\r\n\t\t\tif (formatString) {\r\n\t\t\t\treturn context.toString(formatString, override);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t$P._format = function (format) {\r\n\t\tvar formatter = formatReplace(this);\r\n\t\tif (!format) {\r\n\t\t\treturn this._toString();\r\n\t\t} else {\r\n\t\t\treturn format.replace(/(%|\\\\)?.|%%/g, formatter);\r\n\t\t}\r\n\t};\r\n\r\n\tif (!$P.format) {\r\n\t\t$P.format = $P._format;\r\n\t}\r\n}());","(function () {\n\tvar $D = Date,\n\t\t$P = $D.prototype,\n\t\tp = function (s, l) {\n\t\t\tif (!l) {\n\t\t\t\tl = 2;\n\t\t\t}\n\t\t\treturn (\"000\" + s).slice(l * -1);\n\t\t};\n\n\tvar validateConfigObject = function (obj) {\n\t\tvar result = {}, self = this, prop, testFunc;\n\t\ttestFunc = function (prop, func, value) {\n\t\t\tif (prop === \"day\") {\n\t\t\t\tvar month = (obj.month !== undefined) ? obj.month : self.getMonth();\n\t\t\t\tvar year = (obj.year !== undefined) ? obj.year : self.getFullYear();\n\t\t\t\treturn $D[func](value, year, month);\n\t\t\t} else {\n\t\t\t\treturn $D[func](value);\n\t\t\t}\n\t\t};\n\t\tfor (prop in obj) {\n\t\t\tif (hasOwnProperty.call(obj, prop)) {\n\t\t\t\tvar func = \"validate\" + prop.charAt(0).toUpperCase() + prop.slice(1);\n\n\t\t\t\tif ($D[func] && obj[prop] !== null && testFunc(prop, func, obj[prop])) {\n\t\t\t\t\tresult[prop] = obj[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\t/**\n\t * Resets the time of this Date object to 12:00 AM (00:00), which is the start of the day.\n\t * @param {Boolean}  .clone() this date instance before clearing Time\n\t * @return {Date}    this\n\t */\n\t$P.clearTime = function () {\n\t\tthis.setHours(0);\n\t\tthis.setMinutes(0);\n\t\tthis.setSeconds(0);\n\t\tthis.setMilliseconds(0);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Resets the time of this Date object to the current time ('now').\n\t * @return {Date}    this\n\t */\n\t$P.setTimeToNow = function () {\n\t\tvar n = new Date();\n\t\tthis.setHours(n.getHours());\n\t\tthis.setMinutes(n.getMinutes());\n\t\tthis.setSeconds(n.getSeconds());\n\t\tthis.setMilliseconds(n.getMilliseconds());\n\t\treturn this;\n\t};\n\t/**\n\t * Returns a new Date object that is an exact date and time copy of the original instance.\n\t * @return {Date}    A new Date instance\n\t */\n\t$P.clone = function () {\n\t\treturn new Date(this.getTime());\n\t};\n\n\t/**\n\t * Compares this instance to a Date object and returns an number indication of their relative values.  \n\t * @param {Date}     Date object to compare [Required]\n\t * @return {Number}  -1 = this is lessthan date. 0 = values are equal. 1 = this is greaterthan date.\n\t */\n\t$P.compareTo = function (date) {\n\t\treturn Date.compare(this, date);\n\t};\n\n\t/**\n\t * Compares this instance to another Date object and returns true if they are equal.  \n\t * @param {Date}     Date object to compare. If no date to compare, new Date() [now] is used.\n\t * @return {Boolean} true if dates are equal. false if they are not equal.\n\t */\n\t$P.equals = function (date) {\n\t\treturn Date.equals(this, (date !== undefined ? date : new Date()));\n\t};\n\n\t/**\n\t * Determines if this instance is between a range of two dates or equal to either the start or end dates.\n\t * @param {Date}     Start of range [Required]\n\t * @param {Date}     End of range [Required]\n\t * @return {Boolean} true is this is between or equal to the start and end dates, else false\n\t */\n\t$P.between = function (start, end) {\n\t\treturn this.getTime() >= start.getTime() && this.getTime() <= end.getTime();\n\t};\n\n\t/**\n\t * Determines if this date occurs after the date to compare to.\n\t * @param {Date}     Date object to compare. If no date to compare, new Date() (\"now\") is used.\n\t * @return {Boolean} true if this date instance is greater than the date to compare to (or \"now\"), otherwise false.\n\t */\n\t$P.isAfter = function (date) {\n\t\treturn this.compareTo(date || new Date()) === 1;\n\t};\n\n\t/**\n\t * Determines if this date occurs before the date to compare to.\n\t * @param {Date}     Date object to compare. If no date to compare, new Date() (\"now\") is used.\n\t * @return {Boolean} true if this date instance is less than the date to compare to (or \"now\").\n\t */\n\t$P.isBefore = function (date) {\n\t\treturn (this.compareTo(date || new Date()) === -1);\n\t};\n\n\t/**\n\t * Determines if the current Date instance occurs today.\n\t * @return {Boolean} true if this date instance is 'today', otherwise false.\n\t */\n\t\n\t/**\n\t * Determines if the current Date instance occurs on the same Date as the supplied 'date'. \n\t * If no 'date' to compare to is provided, the current Date instance is compared to 'today'. \n\t * @param {date}     Date object to compare. If no date to compare, the current Date (\"now\") is used.\n\t * @return {Boolean} true if this Date instance occurs on the same Day as the supplied 'date'.\n\t */\n\t$P.isToday = $P.isSameDay = function (date) {\n\t\treturn this.clone().clearTime().equals((date || new Date()).clone().clearTime());\n\t};\n\t\n\t/**\n\t * Adds the specified number of milliseconds to this instance. \n\t * @param {Number}   The number of milliseconds to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addMilliseconds = function (value) {\n\t\tif (!value) { return this; }\n\t\tthis.setTime(this.getTime() + value * 1);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Adds the specified number of seconds to this instance. \n\t * @param {Number}   The number of seconds to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addSeconds = function (value) {\n\t\tif (!value) { return this; }\n\t\treturn this.addMilliseconds(value * 1000);\n\t};\n\n\t/**\n\t * Adds the specified number of seconds to this instance. \n\t * @param {Number}   The number of seconds to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addMinutes = function (value) {\n\t\tif (!value) { return this; }\n\t\treturn this.addMilliseconds(value * 60000); // 60*1000\n\t};\n\n\t/**\n\t * Adds the specified number of hours to this instance. \n\t * @param {Number}   The number of hours to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addHours = function (value) {\n\t\tif (!value) { return this; }\n\t\treturn this.addMilliseconds(value * 3600000); // 60*60*1000\n\t};\n\n\t/**\n\t * Adds the specified number of days to this instance. \n\t * @param {Number}   The number of days to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addDays = function (value) {\n\t\tif (!value) { return this; }\n\t\tthis.setDate(this.getDate() + value * 1);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Adds the specified number of weekdays (ie - not sat or sun) to this instance. \n\t * @param {Number}   The number of days to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addWeekdays = function (value) {\n\t\tif (!value) { return this; }\n\t\tvar day = this.getDay();\n\t\tvar weeks = (Math.ceil(Math.abs(value)/7));\n\t\tif (day === 0 || day === 6) {\n\t\t\tif (value > 0) {\n\t\t\t\tthis.next().monday();\n\t\t\t\tthis.addDays(-1);\n\t\t\t\tday = this.getDay();\n\t\t\t}\n\t\t}\n\n\t\tif (value < 0) {\n\t\t\twhile (value < 0) {\n\t\t\t\tthis.addDays(-1);\n\t\t\t\tday = this.getDay();\n\t\t\t\tif (day !== 0 && day !== 6) {\n\t\t\t\t\tvalue++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t} else if (value > 5 || (6-day) <= value) {\n\t\t\tvalue = value + (weeks * 2);\n\t\t}\n\n\t\treturn this.addDays(value);\n\t};\n\n\t/**\n\t * Adds the specified number of weeks to this instance. \n\t * @param {Number}   The number of weeks to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addWeeks = function (value) {\n\t\tif (!value) { return this; }\n\t\treturn this.addDays(value * 7);\n\t};\n\n\n\t/**\n\t * Adds the specified number of months to this instance. \n\t * @param {Number}   The number of months to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addMonths = function (value) {\n\t\tif (!value) { return this; }\n\t\tvar n = this.getDate();\n\t\tthis.setDate(1);\n\t\tthis.setMonth(this.getMonth() + value * 1);\n\t\tthis.setDate(Math.min(n, $D.getDaysInMonth(this.getFullYear(), this.getMonth())));\n\t\treturn this;\n\t};\n\n\t$P.addQuarters = function (value) {\n\t\tif (!value) { return this; }\n\t\t// note this will take you to the same point in the quarter as you are now.\n\t\t// i.e. - if you are 15 days into the quarter you'll be 15 days into the resulting one.\n\t\t// bonus: this allows adding fractional quarters\n\t\treturn this.addMonths(value * 3);\n\t};\n\n\t/**\n\t * Adds the specified number of years to this instance. \n\t * @param {Number}   The number of years to add. The number can be positive or negative [Required]\n\t * @return {Date}    this\n\t */\n\t$P.addYears = function (value) {\n\t\tif (!value) { return this; }\n\t\treturn this.addMonths(value * 12);\n\t};\n\n\t/**\n\t * Adds (or subtracts) to the value of the years, months, weeks, days, hours, minutes, seconds, milliseconds of the date instance using given configuration object. Positive and Negative values allowed.\n\t * Example\n\t<pre><code>\n\tDate.today().add( { days: 1, months: 1 } )\n\t \n\tnew Date().add( { years: -1 } )\n\t</code></pre> \n\t * @param {Object}   Configuration object containing attributes (months, days, etc.)\n\t * @return {Date}    this\n\t */\n\t$P.add = function (config) {\n\t\tif (typeof config === \"number\") {\n\t\t\tthis._orient = config;\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tvar x = config;\n\n\t\tif (x.day) {\n\t\t\t// If we should be a different date than today (eg: for 'tomorrow -1d', etc).\n\t\t\t// Should only effect parsing, not direct usage (eg, Finish and FinishExact)\n\t\t\tif ((x.day - this.getDate()) !== 0) {\n\t\t\t\tthis.setDate(x.day);\n\t\t\t}\n\t\t}\n\t\tif (x.milliseconds) {\n\t\t\tthis.addMilliseconds(x.milliseconds);\n\t\t}\n\t\tif (x.seconds) {\n\t\t\tthis.addSeconds(x.seconds);\n\t\t}\n\t\tif (x.minutes) {\n\t\t\tthis.addMinutes(x.minutes);\n\t\t}\n\t\tif (x.hours) {\n\t\t\tthis.addHours(x.hours);\n\t\t}\n\t\tif (x.weeks) {\n\t\t\tthis.addWeeks(x.weeks);\n\t\t}\n\t\tif (x.months) {\n\t\t\tthis.addMonths(x.months);\n\t\t}\n\t\tif (x.years) {\n\t\t\tthis.addYears(x.years);\n\t\t}\n\t\tif (x.days) {\n\t\t\tthis.addDays(x.days);\n\t\t}\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Get the week number. Week one (1) is the week which contains the first Thursday of the year. Monday is considered the first day of the week.\n\t * The .getWeek() function does NOT convert the date to UTC. The local datetime is used. \n\t * Please use .getISOWeek() to get the week of the UTC converted date.\n\t * @return {Number}  1 to 53\n\t */\n\t$P.getWeek = function (utc) {\n\t\t// Create a copy of this date object  \n\t\tvar self, target = new Date(this.valueOf());\n\t\tif (utc) {\n\t\t\ttarget.addMinutes(target.getTimezoneOffset());\n\t\t\tself = target.clone();\n\t\t} else {\n\t\t\tself = this;\n\t\t}\n\t\t// ISO week date weeks start on monday  \n\t\t// so correct the day number  \n\t\tvar dayNr = (self.getDay() + 6) % 7;\n\t\t// ISO 8601 states that week 1 is the week  \n\t\t// with the first thursday of that year.  \n\t\t// Set the target date to the thursday in the target week  \n\t\ttarget.setDate(target.getDate() - dayNr + 3);\n\t\t// Store the millisecond value of the target date  \n\t\tvar firstThursday = target.valueOf();\n\t\t// Set the target to the first thursday of the year  \n\t\t// First set the target to january first  \n\t\ttarget.setMonth(0, 1);\n\t\t// Not a thursday? Correct the date to the next thursday  \n\t\tif (target.getDay() !== 4) {\n\t\t\ttarget.setMonth(0, 1 + ((4 - target.getDay()) + 7) % 7);\n\t\t}\n\t\t// The weeknumber is the number of weeks between the   \n\t\t// first thursday of the year and the thursday in the target week  \n\t\treturn 1 + Math.ceil((firstThursday - target) / 604800000); // 604800000 = 7 * 24 * 3600 * 1000  \n\t};\n\t\n\t/**\n\t * Get the ISO 8601 week number. Week one (\"01\") is the week which contains the first Thursday of the year. Monday is considered the first day of the week.\n\t * The .getISOWeek() function does convert the date to it's UTC value. Please use .getWeek() to get the week of the local date.\n\t * @return {String}  \"01\" to \"53\"\n\t */\n\t$P.getISOWeek = function () {\n\t\treturn p(this.getWeek(true));\n\t};\n\n\t/**\n\t * Moves the date to Monday of the week set. Week one (1) is the week which contains the first Thursday of the year.\n\t * @param {Number}   A Number (1 to 53) that represents the week of the year.\n\t * @return {Date}    this\n\t */\n\t$P.setWeek = function (n) {\n\t\tif ((n - this.getWeek()) === 0) {\n\t\t\tif (this.getDay() !== 1) {\n\t\t\t\treturn this.moveToDayOfWeek(1, (this.getDay() > 1 ? -1 : 1));\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} else {\n\t\t\treturn this.moveToDayOfWeek(1, (this.getDay() > 1 ? -1 : 1)).addWeeks(n - this.getWeek());\n\t\t}\n\t};\n\n\t$P.setQuarter = function (qtr) {\n\t\tvar month = Math.abs(((qtr-1) * 3) + 1);\n\t\treturn this.setMonth(month, 1);\n\t};\n\n\t$P.getQuarter = function () {\n\t\treturn Date.getQuarter(this);\n\t};\n\n\t$P.getDaysLeftInQuarter = function () {\n\t\treturn Date.getDaysLeftInQuarter(this);\n\t};\n\n\t/**\n\t * Moves the date to the next n'th occurrence of the dayOfWeek starting from the beginning of the month. The number (-1) is a magic number and will return the last occurrence of the dayOfWeek in the month.\n\t * @param {Number}   The dayOfWeek to move to\n\t * @param {Number}   The n'th occurrence to move to. Use (-1) to return the last occurrence in the month\n\t * @return {Date}    this\n\t */\n\t$P.moveToNthOccurrence = function (dayOfWeek, occurrence) {\n\t\tif (dayOfWeek === \"Weekday\") {\n\t\t\tif (occurrence > 0) {\n\t\t\t\tthis.moveToFirstDayOfMonth();\n\t\t\t\tif (this.is().weekday()) {\n\t\t\t\t\toccurrence -= 1;\n\t\t\t\t}\n\t\t\t} else if (occurrence < 0) {\n\t\t\t\tthis.moveToLastDayOfMonth();\n\t\t\t\tif (this.is().weekday()) {\n\t\t\t\t\toccurrence += 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.addWeekdays(occurrence);\n\t\t}\n\t\tvar shift = 0;\n\t\tif (occurrence > 0) {\n\t\t\tshift = occurrence - 1;\n\t\t}\n\t\telse if (occurrence === -1) {\n\t\t\tthis.moveToLastDayOfMonth();\n\t\t\tif (this.getDay() !== dayOfWeek) {\n\t\t\t\tthis.moveToDayOfWeek(dayOfWeek, -1);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\treturn this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek, +1).addWeeks(shift);\n\t};\n\n\n\tvar moveToN = function (getFunc, addFunc, nVal) {\n\t\treturn function (value, orient) {\n\t\t\tvar diff = (value - this[getFunc]() + nVal * (orient || +1)) % nVal;\n\t\t\treturn this[addFunc]((diff === 0) ? diff += nVal * (orient || +1) : diff);\n\t\t};\n\t};\n\t/**\n\t * Move to the next or last dayOfWeek based on the orient value.\n\t * @param {Number}   The dayOfWeek to move to\n\t * @param {Number}   Forward (+1) or Back (-1). Defaults to +1. [Optional]\n\t * @return {Date}    this\n\t */\n\t$P.moveToDayOfWeek = moveToN(\"getDay\", \"addDays\", 7);\n\t/**\n\t * Move to the next or last month based on the orient value.\n\t * @param {Number}   The month to move to. 0 = January, 11 = December\n\t * @param {Number}   Forward (+1) or Back (-1). Defaults to +1. [Optional]\n\t * @return {Date}    this\n\t */\n\t$P.moveToMonth = moveToN(\"getMonth\", \"addMonths\", 12);\n\t/**\n\t * Get the Ordinate of the current day (\"th\", \"st\", \"rd\").\n\t * @return {String} \n\t */\n\t$P.getOrdinate = function () {\n\t\tvar num = this.getDate();\n\t\treturn ord(num);\n\t};\n\t/**\n\t * Get the Ordinal day (numeric day number) of the year, adjusted for leap year.\n\t * @return {Number} 1 through 365 (366 in leap years)\n\t */\n\t$P.getOrdinalNumber = function () {\n\t\treturn Math.ceil((this.clone().clearTime() - new Date(this.getFullYear(), 0, 1)) / 86400000) + 1;\n\t};\n\n\t/**\n\t * Get the time zone abbreviation of the current date.\n\t * @return {String} The abbreviated time zone name (e.g. \"EST\")\n\t */\n\t$P.getTimezone = function () {\n\t\treturn $D.getTimezoneAbbreviation(this.getUTCOffset(), this.isDaylightSavingTime());\n\t};\n\n\t$P.setTimezoneOffset = function (offset) {\n\t\tvar here = this.getTimezoneOffset(), there = Number(offset) * -6 / 10;\n\t\treturn (there || there === 0) ? this.addMinutes(there - here) : this;\n\t};\n\n\t$P.setTimezone = function (offset) {\n\t\treturn this.setTimezoneOffset($D.getTimezoneOffset(offset));\n\t};\n\n\t/**\n\t * Indicates whether Daylight Saving Time is observed in the current time zone.\n\t * @return {Boolean} true|false\n\t */\n\t$P.hasDaylightSavingTime = function () {\n\t\treturn (Date.today().set({month: 0, day: 1}).getTimezoneOffset() !== Date.today().set({month: 6, day: 1}).getTimezoneOffset());\n\t};\n\t\n\t/**\n\t * Indicates whether this Date instance is within the Daylight Saving Time range for the current time zone.\n\t * @return {Boolean} true|false\n\t */\n\t$P.isDaylightSavingTime = function () {\n\t\treturn Date.today().set({month: 0, day: 1}).getTimezoneOffset() !== this.getTimezoneOffset();\n\t};\n\n\t/**\n\t * Get the offset from UTC of the current date.\n\t * @return {String} The 4-character offset string prefixed with + or - (e.g. \"-0500\")\n\t */\n\t$P.getUTCOffset = function (offset) {\n\t\tvar n = (offset || this.getTimezoneOffset()) * -10 / 6, r;\n\t\tif (n < 0) {\n\t\t\tr = (n - 10000).toString();\n\t\t\treturn r.charAt(0) + r.substr(2);\n\t\t} else {\n\t\t\tr = (n + 10000).toString();\n\t\t\treturn \"+\" + r.substr(1);\n\t\t}\n\t};\n\n\t/**\n\t * Returns the number of milliseconds between this date and date.\n\t * @param {Date} Defaults to now\n\t * @return {Number} The diff in milliseconds\n\t */\n\t$P.getElapsed = function (date) {\n\t\treturn (date || new Date()) - this;\n\t};\n\n\t/**\n\t * Set the value of year, month, day, hour, minute, second, millisecond of date instance using given configuration object.\n\t * Example\n\t<pre><code>\n\tDate.today().set( { day: 20, month: 1 } )\n\n\tnew Date().set( { millisecond: 0 } )\n\t</code></pre>\n\t * \n\t * @param {Object}   Configuration object containing attributes (month, day, etc.)\n\t * @return {Date}    this\n\t */\n\t$P.set = function (config) {\n\t\tconfig = validateConfigObject.call(this, config);\n\t\tvar key;\n\t\tfor (key in config) {\n\t\t\tif (hasOwnProperty.call(config, key)) {\n\t\t\t\tvar name = key.charAt(0).toUpperCase() + key.slice(1);\n\t\t\t\tvar addFunc, getFunc;\n\t\t\t\tif (key !== \"week\" && key !== \"month\" && key !== \"timezone\" && key !== \"timezoneOffset\") {\n\t\t\t\t\tname += \"s\";\n\t\t\t\t}\n\t\t\t\taddFunc = \"add\" + name;\n\t\t\t\tgetFunc = \"get\" + name;\n\t\t\t\tif (key === \"month\") {\n\t\t\t\t\taddFunc = addFunc + \"s\";\n\t\t\t\t} else if (key === \"year\"){\n\t\t\t\t\tgetFunc = \"getFullYear\";\n\t\t\t\t}\n\t\t\t\tif (key !== \"day\" && key !== \"timezone\" && key !== \"timezoneOffset\"  && key !== \"week\" &&  key !== \"hour\") {\n\t\t\t\t\t\tthis[addFunc](config[key] - this[getFunc]());\n\t\t\t\t} else if ( key === \"timezone\"|| key === \"timezoneOffset\" || key === \"week\" || key === \"hour\") {\n\t\t\t\t\tthis[\"set\"+name](config[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// day has to go last because you can't validate the day without first knowing the month\n\t\tif (config.day) {\n\t\t\tthis.addDays(config.day - this.getDate());\n\t\t}\n\t\t\n\t\treturn this;\n\t};\n\n\t/**\n\t * Moves the date to the first day of the month.\n\t * @return {Date}    this\n\t */\n\t$P.moveToFirstDayOfMonth = function () {\n\t\treturn this.set({ day: 1 });\n\t};\n\n\t/**\n\t * Moves the date to the last day of the month.\n\t * @return {Date}    this\n\t */\n\t$P.moveToLastDayOfMonth = function () {\n\t\treturn this.set({ day: $D.getDaysInMonth(this.getFullYear(), this.getMonth())});\n\t};\n\n\n\t/**\n\t * Converts the value of the current Date object to its equivalent string representation.\n\t * Format Specifiers\n\t * CUSTOM DATE AND TIME FORMAT STRINGS\n\t * Format  Description                                                                  Example\n\t * ------  ---------------------------------------------------------------------------  -----------------------\n\t * s      The seconds of the minute between 0-59.                                      \"0\" to \"59\"\n\t * ss     The seconds of the minute with leading zero if required.                     \"00\" to \"59\"\n\t * \n\t * m      The minute of the hour between 0-59.                                         \"0\"  or \"59\"\n\t * mm     The minute of the hour with leading zero if required.                        \"00\" or \"59\"\n\t * \n\t * h      The hour of the day between 1-12.                                            \"1\"  to \"12\"\n\t * hh     The hour of the day with leading zero if required.                           \"01\" to \"12\"\n\t * \n\t * H      The hour of the day between 0-23.                                            \"0\"  to \"23\"\n\t * HH     The hour of the day with leading zero if required.                           \"00\" to \"23\"\n\t * \n\t * d      The day of the month between 1 and 31.                                       \"1\"  to \"31\"\n\t * dd     The day of the month with leading zero if required.                          \"01\" to \"31\"\n\t * ddd    Abbreviated day name. Date.CultureInfo.abbreviatedDayNames.                                \"Mon\" to \"Sun\" \n\t * dddd   The full day name. Date.CultureInfo.dayNames.                                              \"Monday\" to \"Sunday\"\n\t * \n\t * M      The month of the year between 1-12.                                          \"1\" to \"12\"\n\t * MM     The month of the year with leading zero if required.                         \"01\" to \"12\"\n\t * MMM    Abbreviated month name. Date.CultureInfo.abbreviatedMonthNames.                            \"Jan\" to \"Dec\"\n\t * MMMM   The full month name. Date.CultureInfo.monthNames.                                          \"January\" to \"December\"\n\t *\n\t * yy     The year as a two-digit number.                                              \"99\" or \"08\"\n\t * yyyy   The full four digit year.                                                    \"1999\" or \"2008\"\n\t * \n\t * t      Displays the first character of the A.M./P.M. designator.                    \"A\" or \"P\"\n\t *\t\tDate.CultureInfo.amDesignator or Date.CultureInfo.pmDesignator\n\t * tt     Displays the A.M./P.M. designator.                                           \"AM\" or \"PM\"\n\t *\t\tDate.CultureInfo.amDesignator or Date.CultureInfo.pmDesignator\n\t * \n\t * S      The ordinal suffix (\"st, \"nd\", \"rd\" or \"th\") of the current day.            \"st, \"nd\", \"rd\" or \"th\"\n\t *\n\t * STANDARD DATE AND TIME FORMAT STRINGS\n\t * Format  Description                                                                  Example\n\t *------  ---------------------------------------------------------------------------  -----------------------\n\t * d      The CultureInfo shortDate Format Pattern                                     \"M/d/yyyy\"\n\t * D      The CultureInfo longDate Format Pattern                                      \"dddd, MMMM dd, yyyy\"\n\t * F      The CultureInfo fullDateTime Format Pattern                                  \"dddd, MMMM dd, yyyy h:mm:ss tt\"\n\t * m      The CultureInfo monthDay Format Pattern                                      \"MMMM dd\"\n\t * r      The CultureInfo rfc1123 Format Pattern                                       \"ddd, dd MMM yyyy HH:mm:ss GMT\"\n\t * s      The CultureInfo sortableDateTime Format Pattern                              \"yyyy-MM-ddTHH:mm:ss\"\n\t * t      The CultureInfo shortTime Format Pattern                                     \"h:mm tt\"\n\t * T      The CultureInfo longTime Format Pattern                                      \"h:mm:ss tt\"\n\t * u      The CultureInfo universalSortableDateTime Format Pattern                     \"yyyy-MM-dd HH:mm:ssZ\"\n\t * y      The CultureInfo yearMonth Format Pattern                                     \"MMMM, yyyy\"\n\t *\n\t * @param {String}   A format string consisting of one or more format spcifiers [Optional].\n\t * @return {String}  A string representation of the current Date object.\n\t */\n\t\n\tvar ord = function (n) {\n\t\tswitch (n * 1) {\n\t\tcase 1:\n\t\tcase 21:\n\t\tcase 31:\n\t\t\treturn \"st\";\n\t\tcase 2:\n\t\tcase 22:\n\t\t\treturn \"nd\";\n\t\tcase 3:\n\t\tcase 23:\n\t\t\treturn \"rd\";\n\t\tdefault:\n\t\t\treturn \"th\";\n\t\t}\n\t};\n\tvar parseStandardFormats = function (format) {\n\t\tvar y, c = Date.CultureInfo.formatPatterns;\n\t\tswitch (format) {\n\t\t\tcase \"d\":\n\t\t\t\treturn this.toString(c.shortDate);\n\t\t\tcase \"D\":\n\t\t\t\treturn this.toString(c.longDate);\n\t\t\tcase \"F\":\n\t\t\t\treturn this.toString(c.fullDateTime);\n\t\t\tcase \"m\":\n\t\t\t\treturn this.toString(c.monthDay);\n\t\t\tcase \"r\":\n\t\t\tcase \"R\":\n\t\t\t\ty = this.clone().addMinutes(this.getTimezoneOffset());\n\t\t\t\treturn y.toString(c.rfc1123) + \" GMT\";\n\t\t\tcase \"s\":\n\t\t\t\treturn this.toString(c.sortableDateTime);\n\t\t\tcase \"t\":\n\t\t\t\treturn this.toString(c.shortTime);\n\t\t\tcase \"T\":\n\t\t\t\treturn this.toString(c.longTime);\n\t\t\tcase \"u\":\n\t\t\t\ty = this.clone().addMinutes(this.getTimezoneOffset());\n\t\t\t\treturn y.toString(c.universalSortableDateTime);\n\t\t\tcase \"y\":\n\t\t\t\treturn this.toString(c.yearMonth);\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t};\n\tvar parseFormatStringsClosure = function (context) {\n\t\treturn function (m) {\n\t\t\tif (m.charAt(0) === \"\\\\\") {\n\t\t\t\treturn m.replace(\"\\\\\", \"\");\n\t\t\t}\n\t\t\tswitch (m) {\n\t\t\t\tcase \"hh\":\n\t\t\t\t\treturn p(context.getHours() < 13 ? (context.getHours() === 0 ? 12 : context.getHours()) : (context.getHours() - 12));\n\t\t\t\tcase \"h\":\n\t\t\t\t\treturn context.getHours() < 13 ? (context.getHours() === 0 ? 12 : context.getHours()) : (context.getHours() - 12);\n\t\t\t\tcase \"HH\":\n\t\t\t\t\treturn p(context.getHours());\n\t\t\t\tcase \"H\":\n\t\t\t\t\treturn context.getHours();\n\t\t\t\tcase \"mm\":\n\t\t\t\t\treturn p(context.getMinutes());\n\t\t\t\tcase \"m\":\n\t\t\t\t\treturn context.getMinutes();\n\t\t\t\tcase \"ss\":\n\t\t\t\t\treturn p(context.getSeconds());\n\t\t\t\tcase \"s\":\n\t\t\t\t\treturn context.getSeconds();\n\t\t\t\tcase \"yyyy\":\n\t\t\t\t\treturn p(context.getFullYear(), 4);\n\t\t\t\tcase \"yy\":\n\t\t\t\t\treturn p(context.getFullYear());\n\t\t\t\tcase \"y\":\n\t\t\t\t\treturn context.getFullYear();\n\t\t\t\tcase \"E\":\n\t\t\t\tcase \"dddd\":\n\t\t\t\t\treturn Date.CultureInfo.dayNames[context.getDay()];\n\t\t\t\tcase \"ddd\":\n\t\t\t\t\treturn Date.CultureInfo.abbreviatedDayNames[context.getDay()];\n\t\t\t\tcase \"dd\":\n\t\t\t\t\treturn p(context.getDate());\n\t\t\t\tcase \"d\":\n\t\t\t\t\treturn context.getDate();\n\t\t\t\tcase \"MMMM\":\n\t\t\t\t\treturn Date.CultureInfo.monthNames[context.getMonth()];\n\t\t\t\tcase \"MMM\":\n\t\t\t\t\treturn Date.CultureInfo.abbreviatedMonthNames[context.getMonth()];\n\t\t\t\tcase \"MM\":\n\t\t\t\t\treturn p((context.getMonth() + 1));\n\t\t\t\tcase \"M\":\n\t\t\t\t\treturn context.getMonth() + 1;\n\t\t\t\tcase \"t\":\n\t\t\t\t\treturn context.getHours() < 12 ? Date.CultureInfo.amDesignator.substring(0, 1) : Date.CultureInfo.pmDesignator.substring(0, 1);\n\t\t\t\tcase \"tt\":\n\t\t\t\t\treturn context.getHours() < 12 ? Date.CultureInfo.amDesignator : Date.CultureInfo.pmDesignator;\n\t\t\t\tcase \"S\":\n\t\t\t\t\treturn ord(context.getDate());\n\t\t\t\tcase \"W\":\n\t\t\t\t\treturn context.getWeek();\n\t\t\t\tcase \"WW\":\n\t\t\t\t\treturn context.getISOWeek();\n\t\t\t\tcase \"Q\":\n\t\t\t\t\treturn \"Q\" + context.getQuarter();\n\t\t\t\tcase \"q\":\n\t\t\t\t\treturn String(context.getQuarter());\n\t\t\t\tcase \"z\":\n\t\t\t\t\treturn context.getTimezone();\n\t\t\t\tcase \"Z\":\n\t\t\t\tcase \"X\":\n\t\t\t\t\treturn Date.getTimezoneOffset(context.getTimezone());\n\t\t\t\tcase \"ZZ\": // Timezone offset in seconds\n\t\t\t\t\treturn context.getTimezoneOffset() * -60;\n\t\t\t\tcase \"u\":\n\t\t\t\t\treturn context.getDay();\n\t\t\t\tcase \"L\":\n\t\t\t\t\treturn ($D.isLeapYear(context.getFullYear())) ? 1 : 0;\n\t\t\t\tcase \"B\":\n\t\t\t\t\t// Swatch Internet Time (.beats)\n\t\t\t\t\treturn \"@\"+((context.getUTCSeconds() + (context.getUTCMinutes()*60) + ((context.getUTCHours()+1)*3600))/86.4);\n\t\t\t\tdefault:\n\t\t\t\t\treturn m;\n\t\t\t}\n\t\t};\n\t};\n\t$P.toString = function (format, ignoreStandards) {\n\t\t\n\t\t// Standard Date and Time Format Strings. Formats pulled from CultureInfo file and\n\t\t// may vary by culture. \n\t\tif (!ignoreStandards && format && format.length === 1) {\n\t\t\toutput = parseStandardFormats.call(this, format);\n\t\t\tif (output) {\n\t\t\t\treturn output;\n\t\t\t}\n\t\t}\n\t\tvar parseFormatStrings = parseFormatStringsClosure(this);\n\t\treturn format ? format.replace(/((\\\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\\[]*\\]))/g, parseFormatStrings).replace(/\\[|\\]/g, \"\") : this._toString();\n\t};\n\n}());","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.adapter = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nvar _adapter_factory = require('./adapter_factory.js');\n\nvar adapter = (0, _adapter_factory.adapterFactory)({ window: typeof window === 'undefined' ? undefined : window });\nmodule.exports = adapter; // this is the difference from adapter_core.\n\n},{\"./adapter_factory.js\":2}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.adapterFactory = adapterFactory;\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _chrome_shim = require('./chrome/chrome_shim');\n\nvar chromeShim = _interopRequireWildcard(_chrome_shim);\n\nvar _firefox_shim = require('./firefox/firefox_shim');\n\nvar firefoxShim = _interopRequireWildcard(_firefox_shim);\n\nvar _safari_shim = require('./safari/safari_shim');\n\nvar safariShim = _interopRequireWildcard(_safari_shim);\n\nvar _common_shim = require('./common_shim');\n\nvar commonShim = _interopRequireWildcard(_common_shim);\n\nvar _sdp = require('sdp');\n\nvar sdp = _interopRequireWildcard(_sdp);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// Shimming starts here.\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nfunction adapterFactory() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      window = _ref.window;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    shimChrome: true,\n    shimFirefox: true,\n    shimSafari: true\n  };\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp: sdp\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection || !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimGetStats(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection || !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n\n// Browser shims.\n\n},{\"./chrome/chrome_shim\":3,\"./common_shim\":6,\"./firefox/firefox_shim\":7,\"./safari/safari_shim\":10,\"./utils\":11,\"sdp\":12}],3:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = exports.shimGetUserMedia = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _getusermedia = require('./getusermedia');\n\nObject.defineProperty(exports, 'shimGetUserMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getusermedia.shimGetUserMedia;\n  }\n});\n\nvar _getdisplaymedia = require('./getdisplaymedia');\n\nObject.defineProperty(exports, 'shimGetDisplayMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getdisplaymedia.shimGetDisplayMedia;\n  }\n});\nexports.shimMediaStream = shimMediaStream;\nexports.shimOnTrack = shimOnTrack;\nexports.shimGetSendersWithDtmf = shimGetSendersWithDtmf;\nexports.shimGetStats = shimGetStats;\nexports.shimSenderReceiverGetStats = shimSenderReceiverGetStats;\nexports.shimAddTrackRemoveTrackWithNative = shimAddTrackRemoveTrackWithNative;\nexports.shimAddTrackRemoveTrack = shimAddTrackRemoveTrack;\nexports.shimPeerConnection = shimPeerConnection;\nexports.fixNegotiationNeeded = fixNegotiationNeeded;\n\nvar _utils = require('../utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nfunction shimOnTrack(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get: function get() {\n        return this._ontrack;\n      },\n      set: function set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n\n      enumerable: true,\n      configurable: true\n    });\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n      var _this = this;\n\n      if (!this._ontrackpoly) {\n        this._ontrackpoly = function (e) {\n          // onaddstream does not fire when a track is added to an existing\n          // stream. But stream.onaddtrack is implemented so we use that.\n          e.stream.addEventListener('addtrack', function (te) {\n            var receiver = void 0;\n            if (window.RTCPeerConnection.prototype.getReceivers) {\n              receiver = _this.getReceivers().find(function (r) {\n                return r.track && r.track.id === te.track.id;\n              });\n            } else {\n              receiver = { track: te.track };\n            }\n\n            var event = new Event('track');\n            event.track = te.track;\n            event.receiver = receiver;\n            event.transceiver = { receiver: receiver };\n            event.streams = [e.stream];\n            _this.dispatchEvent(event);\n          });\n          e.stream.getTracks().forEach(function (track) {\n            var receiver = void 0;\n            if (window.RTCPeerConnection.prototype.getReceivers) {\n              receiver = _this.getReceivers().find(function (r) {\n                return r.track && r.track.id === track.id;\n              });\n            } else {\n              receiver = { track: track };\n            }\n            var event = new Event('track');\n            event.track = track;\n            event.receiver = receiver;\n            event.transceiver = { receiver: receiver };\n            event.streams = [e.stream];\n            _this.dispatchEvent(event);\n          });\n        };\n        this.addEventListener('addstream', this._ontrackpoly);\n      }\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver', { value: { receiver: e.receiver } });\n      }\n      return e;\n    });\n  }\n}\n\nfunction shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('getSenders' in window.RTCPeerConnection.prototype) && 'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    var shimSenderWithDtmf = function shimSenderWithDtmf(pc, track) {\n      return {\n        track: track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        var sender = origAddTrack.apply(this, arguments);\n        if (!sender) {\n          sender = shimSenderWithDtmf(this, track);\n          this._senders.push(sender);\n        }\n        return sender;\n      };\n\n      var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        origRemoveTrack.apply(this, arguments);\n        var idx = this._senders.indexOf(sender);\n        if (idx !== -1) {\n          this._senders.splice(idx, 1);\n        }\n      };\n    }\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      var _this2 = this;\n\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(function (track) {\n        _this2._senders.push(shimSenderWithDtmf(_this2, track));\n      });\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n      var _this3 = this;\n\n      this._senders = this._senders || [];\n      origRemoveStream.apply(this, [stream]);\n\n      stream.getTracks().forEach(function (track) {\n        var sender = _this3._senders.find(function (s) {\n          return s.track === track;\n        });\n        if (sender) {\n          // remove sender\n          _this3._senders.splice(_this3._senders.indexOf(sender), 1);\n        }\n      });\n    };\n  } else if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && 'getSenders' in window.RTCPeerConnection.prototype && 'createDTMFSender' in window.RTCPeerConnection.prototype && window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this4 = this;\n\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this4;\n      });\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get: function get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nfunction shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  var origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _this5 = this;\n\n    var _arguments = Array.prototype.slice.call(arguments),\n        selector = _arguments[0],\n        onSucc = _arguments[1],\n        onErr = _arguments[2];\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n\n\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 || typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    var fixChromeStats_ = function fixChromeStats_(response) {\n      var standardReport = {};\n      var reports = response.result();\n      reports.forEach(function (report) {\n        var standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(function (name) {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function makeMapStats(stats) {\n      return new Map(Object.keys(stats).map(function (key) {\n        return [key, stats[key]];\n      }));\n    };\n\n    if (arguments.length >= 2) {\n      var successCallbackWrapper_ = function successCallbackWrapper_(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_, selector]);\n    }\n\n    // promise-support\n    return new Promise(function (resolve, reject) {\n      origGetStats.apply(_this5, [function (response) {\n        resolve(makeMapStats(fixChromeStats_(response)));\n      }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nfunction shimSenderReceiverGetStats(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        var _this6 = this;\n\n        var senders = origGetSenders.apply(this, []);\n        senders.forEach(function (sender) {\n          return sender._pc = _this6;\n        });\n        return senders;\n      };\n    }\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        var sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      var sender = this;\n      return this._pc.getStats().then(function (result) {\n        return (\n          /* Note: this will include stats of all senders that\n           *   send a track with the same id as sender.track as\n           *   it is not possible to identify the RTCRtpSender.\n           */\n          utils.filterStats(result, sender.track, true)\n        );\n      });\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n        var _this7 = this;\n\n        var receivers = origGetReceivers.apply(this, []);\n        receivers.forEach(function (receiver) {\n          return receiver._pc = _this7;\n        });\n        return receivers;\n      };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      var receiver = this;\n      return this._pc.getStats().then(function (result) {\n        return utils.filterStats(result, receiver.track, false);\n      });\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype && 'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  var origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 && arguments[0] instanceof window.MediaStreamTrack) {\n      var track = arguments[0];\n      var sender = void 0;\n      var receiver = void 0;\n      var err = void 0;\n      this.getSenders().forEach(function (s) {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(function (r) {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || sender && receiver) {\n        return Promise.reject(new DOMException('There are more than one sender or receiver for the track.', 'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException('There is no sender or receiver for the track.', 'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nfunction shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n    var _this8 = this;\n\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    return Object.keys(this._shimmedLocalStreams).map(function (streamId) {\n      return _this8._shimmedLocalStreams[streamId][0];\n    });\n  };\n\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n    if (!stream) {\n      return origAddTrack.apply(this, arguments);\n    }\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    var sender = origAddTrack.apply(this, arguments);\n    if (!this._shimmedLocalStreams[stream.id]) {\n      this._shimmedLocalStreams[stream.id] = [stream, sender];\n    } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n      this._shimmedLocalStreams[stream.id].push(sender);\n    }\n    return sender;\n  };\n\n  var origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    var _this9 = this;\n\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(function (track) {\n      var alreadyExists = _this9.getSenders().find(function (s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.', 'InvalidAccessError');\n      }\n    });\n    var existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    var newSenders = this.getSenders().filter(function (newSender) {\n      return existingSenders.indexOf(newSender) === -1;\n    });\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    delete this._shimmedLocalStreams[stream.id];\n    return origRemoveStream.apply(this, arguments);\n  };\n\n  var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n    var _this10 = this;\n\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    if (sender) {\n      Object.keys(this._shimmedLocalStreams).forEach(function (streamId) {\n        var idx = _this10._shimmedLocalStreams[streamId].indexOf(sender);\n        if (idx !== -1) {\n          _this10._shimmedLocalStreams[streamId].splice(idx, 1);\n        }\n        if (_this10._shimmedLocalStreams[streamId].length === 1) {\n          delete _this10._shimmedLocalStreams[streamId];\n        }\n      });\n    }\n    return origRemoveTrack.apply(this, arguments);\n  };\n}\n\nfunction shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack && browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  var origGetLocalStreams = window.RTCPeerConnection.prototype.getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n    var _this11 = this;\n\n    var nativeStreams = origGetLocalStreams.apply(this);\n    this._reverseStreams = this._reverseStreams || {};\n    return nativeStreams.map(function (stream) {\n      return _this11._reverseStreams[stream.id];\n    });\n  };\n\n  var origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    var _this12 = this;\n\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(function (track) {\n      var alreadyExists = _this12.getSenders().find(function (s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.', 'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      var newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    origRemoveStream.apply(this, [this._streams[stream.id] || stream]);\n    delete this._reverseStreams[this._streams[stream.id] ? this._streams[stream.id].id : stream.id];\n    delete this._streams[stream.id];\n  };\n\n  window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n    var _this13 = this;\n\n    if (this.signalingState === 'closed') {\n      throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n    }\n    var streams = [].slice.call(arguments, 1);\n    if (streams.length !== 1 || !streams[0].getTracks().find(function (t) {\n      return t === track;\n    })) {\n      // this is not fully correct but all we can manage without\n      // [[associated MediaStreams]] internal slot.\n      throw new DOMException('The adapter.js addTrack polyfill only supports a single ' + ' stream which is associated with the specified track.', 'NotSupportedError');\n    }\n\n    var alreadyExists = this.getSenders().find(function (s) {\n      return s.track === track;\n    });\n    if (alreadyExists) {\n      throw new DOMException('Track already exists.', 'InvalidAccessError');\n    }\n\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n    var oldStream = this._streams[stream.id];\n    if (oldStream) {\n      // this is using odd Chrome behaviour, use with caution:\n      // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n      // Note: we rely on the high-level addTrack/dtmf shim to\n      // create the sender with a dtmf sender.\n      oldStream.addTrack(track);\n\n      // Trigger ONN async.\n      Promise.resolve().then(function () {\n        _this13.dispatchEvent(new Event('negotiationneeded'));\n      });\n    } else {\n      var newStream = new window.MediaStream([track]);\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      this.addStream(newStream);\n    }\n    return this.getSenders().find(function (s) {\n      return s.track === track;\n    });\n  };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    var sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n      var externalStream = pc._reverseStreams[internalId];\n      var internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'), externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp: sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    var sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n      var externalStream = pc._reverseStreams[internalId];\n      var internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'), internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp: sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function (method) {\n    var nativeMethod = window.RTCPeerConnection.prototype[method];\n    var methodObj = _defineProperty({}, method, function () {\n      var _this14 = this;\n\n      var args = arguments;\n      var isLegacyCall = arguments.length && typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [function (description) {\n          var desc = replaceInternalStreamId(_this14, description);\n          args[0].apply(null, [desc]);\n        }, function (err) {\n          if (args[1]) {\n            args[1].apply(null, err);\n          }\n        }, arguments[2]]);\n      }\n      return nativeMethod.apply(this, arguments).then(function (description) {\n        return replaceInternalStreamId(_this14, description);\n      });\n    });\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  var origSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n    if (!arguments.length || !arguments[0].type) {\n      return origSetLocalDescription.apply(this, arguments);\n    }\n    arguments[0] = replaceExternalStreamId(this, arguments[0]);\n    return origSetLocalDescription.apply(this, arguments);\n  };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  var origLocalDescription = Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype, 'localDescription', {\n    get: function get() {\n      var description = origLocalDescription.get.apply(this);\n      if (description.type === '') {\n        return description;\n      }\n      return replaceInternalStreamId(this, description);\n    }\n  });\n\n  window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n    var _this15 = this;\n\n    if (this.signalingState === 'closed') {\n      throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n    }\n    // We can not yet check for sender instanceof RTCRtpSender\n    // since we shim RTPSender. So we check if sender._pc is set.\n    if (!sender._pc) {\n      throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' + 'does not implement interface RTCRtpSender.', 'TypeError');\n    }\n    var isLocal = sender._pc === this;\n    if (!isLocal) {\n      throw new DOMException('Sender was not created by this connection.', 'InvalidAccessError');\n    }\n\n    // Search for the native stream the senders track belongs to.\n    this._streams = this._streams || {};\n    var stream = void 0;\n    Object.keys(this._streams).forEach(function (streamid) {\n      var hasTrack = _this15._streams[streamid].getTracks().find(function (track) {\n        return sender.track === track;\n      });\n      if (hasTrack) {\n        stream = _this15._streams[streamid];\n      }\n    });\n\n    if (stream) {\n      if (stream.getTracks().length === 1) {\n        // if this is the last track of the stream, remove the stream. This\n        // takes care of any shimmed _senders.\n        this.removeStream(this._reverseStreams[stream.id]);\n      } else {\n        // relying on the same odd chrome behaviour as above.\n        stream.removeTrack(sender.track);\n      }\n      this.dispatchEvent(new Event('negotiationneeded'));\n    }\n  };\n}\n\nfunction shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nfunction fixNegotiationNeeded(window, browserDetails) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', function (e) {\n    var pc = e.target;\n    if (browserDetails.version < 72 || pc.getConfiguration && pc.getConfiguration().sdpSemantics === 'plan-b') {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n\n},{\"../utils.js\":11,\"./getdisplaymedia\":4,\"./getusermedia\":5}],4:[function(require,module,exports){\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    return getSourceId(constraints).then(function (sourceId) {\n      var widthSpecified = constraints.video && constraints.video.width;\n      var heightSpecified = constraints.video && constraints.video.height;\n      var frameRateSpecified = constraints.video && constraints.video.frameRate;\n      constraints.video = {\n        mandatory: {\n          chromeMediaSource: 'desktop',\n          chromeMediaSourceId: sourceId,\n          maxFrameRate: frameRateSpecified || 3\n        }\n      };\n      if (widthSpecified) {\n        constraints.video.mandatory.maxWidth = widthSpecified;\n      }\n      if (heightSpecified) {\n        constraints.video.mandatory.maxHeight = heightSpecified;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    });\n  };\n}\n\n},{}],5:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimGetUserMedia = shimGetUserMedia;\n\nvar _utils = require('../utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar logging = utils.log;\n\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  var constraintsToChrome_ = function constraintsToChrome_(c) {\n    if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function (key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = _typeof(c[key]) === 'object' ? c[key] : { ideal: c[key] };\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function oldname_(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return name === 'deviceId' ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function (mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function shimConstraints_(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && _typeof(constraints.audio) === 'object') {\n      var remap = function remap(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && _typeof(constraints.video) === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'undefined' ? 'undefined' : _typeof(face)) === 'object' ? face : { ideal: face });\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if (face && (face.exact === 'user' || face.exact === 'environment' || face.ideal === 'user' || face.ideal === 'environment') && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode && !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches = void 0;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices().then(function (devices) {\n            devices = devices.filter(function (d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function (d) {\n              return matches.some(function (match) {\n                return d.label.toLowerCase().includes(match);\n              });\n            });\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? { exact: dev.deviceId } : { ideal: dev.deviceId };\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function shimError_(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString: function toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function (c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function (e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (cs) {\n      return shimConstraints_(cs, function (c) {\n        return origGetUserMedia(c).then(function (stream) {\n          if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function (track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function (e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n}\n\n},{\"../utils.js\":11}],6:[function(require,module,exports){\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimRTCIceCandidate = shimRTCIceCandidate;\nexports.shimMaxMessageSize = shimMaxMessageSize;\nexports.shimSendThrowTypeError = shimSendThrowTypeError;\nexports.shimConnectionState = shimConnectionState;\nexports.removeExtmapAllowMixed = removeExtmapAllowMixed;\nexports.shimAddIceCandidateNullOrEmpty = shimAddIceCandidateNullOrEmpty;\n\nvar _sdp = require('sdp');\n\nvar _sdp2 = _interopRequireDefault(_sdp);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || window.RTCIceCandidate && 'foundation' in window.RTCIceCandidate.prototype) {\n    return;\n  }\n\n  var NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if ((typeof args === 'undefined' ? 'undefined' : _typeof(args)) === 'object' && args.candidate && args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substr(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = _sdp2.default.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate, parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function toJSON() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment\n        };\n      };\n      return augmentedCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nfunction shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get: function get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  var sctpInDescription = function sctpInDescription(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    var sections = _sdp2.default.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(function (mediaSection) {\n      var mLine = _sdp2.default.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application' && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  var getRemoteFirefoxVersion = function getRemoteFirefoxVersion(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    var version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  var getCanSendMaxMessageSize = function getCanSendMaxMessageSize(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    var canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize = browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  var getMaxMessageSize = function getMaxMessageSize(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    var maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox' && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    var match = _sdp2.default.matchPrefix(description.sdp, 'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substr(19), 10);\n    } else if (browserDetails.browser === 'firefox' && remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n    this._sctp = null;\n    // Chrome decided to not expose .sctp in plan-b mode.\n    // As usual, adapter.js has to do an 'ugly worakaround'\n    // to cover up the mess.\n    if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n      var _getConfiguration = this.getConfiguration(),\n          sdpSemantics = _getConfiguration.sdpSemantics;\n\n      if (sdpSemantics === 'plan-b') {\n        Object.defineProperty(this, 'sctp', {\n          get: function get() {\n            return typeof this._sctp === 'undefined' ? null : this._sctp;\n          },\n\n          enumerable: true,\n          configurable: true\n        });\n      }\n    }\n\n    if (sctpInDescription(arguments[0])) {\n      // Check if the remote is FF.\n      var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n      // Get the maximum message size the local peer is capable of sending\n      var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n      // Get the maximum message size of the remote peer.\n      var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n      // Determine final maximum message size\n      var maxMessageSize = void 0;\n      if (canSendMMS === 0 && remoteMMS === 0) {\n        maxMessageSize = Number.POSITIVE_INFINITY;\n      } else if (canSendMMS === 0 || remoteMMS === 0) {\n        maxMessageSize = Math.max(canSendMMS, remoteMMS);\n      } else {\n        maxMessageSize = Math.min(canSendMMS, remoteMMS);\n      }\n\n      // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n      // attribute.\n      var sctp = {};\n      Object.defineProperty(sctp, 'maxMessageSize', {\n        get: function get() {\n          return maxMessageSize;\n        }\n      });\n      this._sctp = sctp;\n    }\n\n    return origSetRemoteDescription.apply(this, arguments);\n  };\n}\n\nfunction shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection && 'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    var origDataChannelSend = dc.send;\n    dc.send = function send() {\n      var data = arguments[0];\n      var length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' && pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' + pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  var origCreateDataChannel = window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel = function createDataChannel() {\n    var dataChannel = origCreateDataChannel.apply(this, arguments);\n    wrapDcSend(dataChannel, this);\n    return dataChannel;\n  };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', function (e) {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nfunction shimConnectionState(window) {\n  if (!window.RTCPeerConnection || 'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get: function get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get: function get() {\n      return this._onconnectionstatechange || null;\n    },\n    set: function set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange', this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange', this._onconnectionstatechange = cb);\n      }\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach(function (method) {\n    var origMethod = proto[method];\n    proto[method] = function () {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = function (e) {\n          var pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            var newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange', this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nfunction removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  var nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      var sdp = desc.sdp.split('\\n').filter(function (line) {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription && desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp: sdp\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n\nfunction shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  var nativeAddIceCandidate = window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate = function addIceCandidate() {\n    if (!arguments[0]) {\n      if (arguments[1]) {\n        arguments[1].apply(null);\n      }\n      return Promise.resolve();\n    }\n    // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n    // in older versions.\n    // Native support for ignoring exists for Chrome M77+.\n    // Safari ignores as well, exact version unknown but works in the same\n    // version that also ignores addIceCandidate(null).\n    if ((browserDetails.browser === 'chrome' && browserDetails.version < 78 || browserDetails.browser === 'firefox' && browserDetails.version < 68 || browserDetails.browser === 'safari') && arguments[0] && arguments[0].candidate === '') {\n      return Promise.resolve();\n    }\n    return nativeAddIceCandidate.apply(this, arguments);\n  };\n}\n\n},{\"./utils\":11,\"sdp\":12}],7:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = exports.shimGetUserMedia = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _getusermedia = require('./getusermedia');\n\nObject.defineProperty(exports, 'shimGetUserMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getusermedia.shimGetUserMedia;\n  }\n});\n\nvar _getdisplaymedia = require('./getdisplaymedia');\n\nObject.defineProperty(exports, 'shimGetDisplayMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getdisplaymedia.shimGetDisplayMedia;\n  }\n});\nexports.shimOnTrack = shimOnTrack;\nexports.shimPeerConnection = shimPeerConnection;\nexports.shimSenderGetStats = shimSenderGetStats;\nexports.shimReceiverGetStats = shimReceiverGetStats;\nexports.shimRemoveStream = shimRemoveStream;\nexports.shimRTCDataChannel = shimRTCDataChannel;\nexports.shimAddTransceiver = shimAddTransceiver;\nexports.shimGetParameters = shimGetParameters;\nexports.shimCreateOffer = shimCreateOffer;\nexports.shimCreateAnswer = shimCreateAnswer;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction shimOnTrack(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return { receiver: this.receiver };\n      }\n    });\n  }\n}\n\nfunction shimPeerConnection(window, browserDetails) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n\n  var modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _arguments = Array.prototype.slice.call(arguments),\n        selector = _arguments[0],\n        onSucc = _arguments[1],\n        onErr = _arguments[2];\n\n    return nativeGetStats.apply(this, [selector || null]).then(function (stats) {\n      if (browserDetails.version < 53 && !onSucc) {\n        // Shim only promise getStats with spec-hyphens in type names\n        // Leave callback version alone; misc old uses of forEach before Map\n        try {\n          stats.forEach(function (stat) {\n            stat.type = modernStatsTypes[stat.type] || stat.type;\n          });\n        } catch (e) {\n          if (e.name !== 'TypeError') {\n            throw e;\n          }\n          // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n          stats.forEach(function (stat, i) {\n            stats.set(i, Object.assign({}, stat, {\n              type: modernStatsTypes[stat.type] || stat.type\n            }));\n          });\n        }\n      }\n      return stats;\n    }).then(onSucc, onErr);\n  };\n}\n\nfunction shimSenderGetStats(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this = this;\n\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this;\n      });\n      return senders;\n    };\n  }\n\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      var sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());\n  };\n}\n\nfunction shimReceiverGetStats(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      var _this2 = this;\n\n      var receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(function (receiver) {\n        return receiver._pc = _this2;\n      });\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nfunction shimRemoveStream(window) {\n  if (!window.RTCPeerConnection || 'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    var _this3 = this;\n\n    utils.deprecated('removeStream', 'removeTrack');\n    this.getSenders().forEach(function (sender) {\n      if (sender.track && stream.getTracks().includes(sender.track)) {\n        _this3.removeTrack(sender);\n      }\n    });\n  };\n}\n\nfunction shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nfunction shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n      this.setParametersPromises = [];\n      var initParameters = arguments[1];\n      var shouldPerformCheck = initParameters && 'sendEncodings' in initParameters;\n      if (shouldPerformCheck) {\n        // If sendEncodings params are provided, validate grammar\n        initParameters.sendEncodings.forEach(function (encodingParam) {\n          if ('rid' in encodingParam) {\n            var ridRegex = /^[a-z0-9]{0,16}$/i;\n            if (!ridRegex.test(encodingParam.rid)) {\n              throw new TypeError('Invalid RID value provided.');\n            }\n          }\n          if ('scaleResolutionDownBy' in encodingParam) {\n            if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n              throw new RangeError('scale_resolution_down_by must be >= 1.0');\n            }\n          }\n          if ('maxFramerate' in encodingParam) {\n            if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n              throw new RangeError('max_framerate must be >= 0.0');\n            }\n          }\n        });\n      }\n      var transceiver = origAddTransceiver.apply(this, arguments);\n      if (shouldPerformCheck) {\n        // Check if the init options were applied. If not we do this in an\n        // asynchronous way and save the promise reference in a global object.\n        // This is an ugly hack, but at the same time is way more robust than\n        // checking the sender parameters before and after the createOffer\n        // Also note that after the createoffer we are not 100% sure that\n        // the params were asynchronously applied so we might miss the\n        // opportunity to recreate offer.\n        var sender = transceiver.sender;\n\n        var params = sender.getParameters();\n        if (!('encodings' in params) ||\n        // Avoid being fooled by patched getParameters() below.\n        params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {\n          params.encodings = initParameters.sendEncodings;\n          sender.sendEncodings = initParameters.sendEncodings;\n          this.setParametersPromises.push(sender.setParameters(params).then(function () {\n            delete sender.sendEncodings;\n          }).catch(function () {\n            delete sender.sendEncodings;\n          }));\n        }\n      }\n      return transceiver;\n    };\n  }\n}\n\nfunction shimGetParameters(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  var origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters = function getParameters() {\n      var params = origGetParameters.apply(this, arguments);\n      if (!('encodings' in params)) {\n        params.encodings = [].concat(this.sendEncodings || [{}]);\n      }\n      return params;\n    };\n  }\n}\n\nfunction shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    var _this4 = this,\n        _arguments2 = arguments;\n\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateOffer.apply(_this4, _arguments2);\n      }).finally(function () {\n        _this4.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nfunction shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    var _this5 = this,\n        _arguments3 = arguments;\n\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateAnswer.apply(_this5, _arguments3);\n      }).finally(function () {\n        _this5.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n\n},{\"../utils\":11,\"./getdisplaymedia\":8,\"./getusermedia\":9}],8:[function(require,module,exports){\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      var err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError';\n      // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n      err.code = 8;\n      return Promise.reject(err);\n    }\n    if (constraints.video === true) {\n      constraints.video = { mediaSource: preferredMediaSource };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}\n\n},{}],9:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimGetUserMedia = shimGetUserMedia;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function (constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function remap(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (c) {\n      if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object' && _typeof(c.audio) === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function () {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function (c) {\n        if (this.kind === 'audio' && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n\n},{\"../utils\":11}],10:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimLocalStreamsAPI = shimLocalStreamsAPI;\nexports.shimRemoteStreamsAPI = shimRemoteStreamsAPI;\nexports.shimCallbacksAPI = shimCallbacksAPI;\nexports.shimGetUserMedia = shimGetUserMedia;\nexports.shimConstraints = shimConstraints;\nexports.shimRTCIceServerUrls = shimRTCIceServerUrls;\nexports.shimTrackEventTransceiver = shimTrackEventTransceiver;\nexports.shimCreateOfferLegacy = shimCreateOfferLegacy;\nexports.shimAudioContext = shimAudioContext;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction shimLocalStreamsAPI(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      return this._localStreams;\n    };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      var _this = this;\n\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(function (track) {\n        return _addTrack.call(_this, track, stream);\n      });\n      stream.getVideoTracks().forEach(function (track) {\n        return _addTrack.call(_this, track, stream);\n      });\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, streams = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        streams[_key - 1] = arguments[_key];\n      }\n\n      if (streams) {\n        streams.forEach(function (stream) {\n          if (!_this2._localStreams) {\n            _this2._localStreams = [stream];\n          } else if (!_this2._localStreams.includes(stream)) {\n            _this2._localStreams.push(stream);\n          }\n        });\n      }\n      return _addTrack.apply(this, arguments);\n    };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n      var _this3 = this;\n\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      var index = this._localStreams.indexOf(stream);\n      if (index === -1) {\n        return;\n      }\n      this._localStreams.splice(index, 1);\n      var tracks = stream.getTracks();\n      this.getSenders().forEach(function (sender) {\n        if (tracks.includes(sender.track)) {\n          _this3.removeTrack(sender);\n        }\n      });\n    };\n  }\n}\n\nfunction shimRemoteStreamsAPI(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {\n      return this._remoteStreams ? this._remoteStreams : [];\n    };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get: function get() {\n        return this._onaddstream;\n      },\n      set: function set(f) {\n        var _this4 = this;\n\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = function (e) {\n          e.streams.forEach(function (stream) {\n            if (!_this4._remoteStreams) {\n              _this4._remoteStreams = [];\n            }\n            if (_this4._remoteStreams.includes(stream)) {\n              return;\n            }\n            _this4._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = stream;\n            _this4.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n      var pc = this;\n      if (!this._onaddstreampoly) {\n        this.addEventListener('track', this._onaddstreampoly = function (e) {\n          e.streams.forEach(function (stream) {\n            if (!pc._remoteStreams) {\n              pc._remoteStreams = [];\n            }\n            if (pc._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            pc._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = stream;\n            pc.dispatchEvent(event);\n          });\n        });\n      }\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  }\n}\n\nfunction shimCallbacksAPI(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  var prototype = window.RTCPeerConnection.prototype;\n  var origCreateOffer = prototype.createOffer;\n  var origCreateAnswer = prototype.createAnswer;\n  var setLocalDescription = prototype.setLocalDescription;\n  var setRemoteDescription = prototype.setRemoteDescription;\n  var addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer = function createOffer(successCallback, failureCallback) {\n    var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n    var promise = origCreateOffer.apply(this, [options]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n\n  prototype.createAnswer = function createAnswer(successCallback, failureCallback) {\n    var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n    var promise = origCreateAnswer.apply(this, [options]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n\n  var withCallback = function withCallback(description, successCallback, failureCallback) {\n    var promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function withCallback(description, successCallback, failureCallback) {\n    var promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function withCallback(candidate, successCallback, failureCallback) {\n    var promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nfunction shimGetUserMedia(window) {\n  var navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    var mediaDevices = navigator.mediaDevices;\n    var _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (constraints) {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints).then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nfunction shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({}, constraints, { video: utils.compactObject(constraints.video) });\n  }\n\n  return constraints;\n}\n\nfunction shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  var OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection = function RTCPeerConnection(pcConfig, pcConstraints) {\n    if (pcConfig && pcConfig.iceServers) {\n      var newIceServers = [];\n      for (var i = 0; i < pcConfig.iceServers.length; i++) {\n        var server = pcConfig.iceServers[i];\n        if (!server.hasOwnProperty('urls') && server.hasOwnProperty('url')) {\n          utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n          server = JSON.parse(JSON.stringify(server));\n          server.urls = server.url;\n          delete server.url;\n          newIceServers.push(server);\n        } else {\n          newIceServers.push(pcConfig.iceServers[i]);\n        }\n      }\n      pcConfig.iceServers = newIceServers;\n    }\n    return new OrigPeerConnection(pcConfig, pcConstraints);\n  };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get: function get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nfunction shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return { receiver: this.receiver };\n      }\n    });\n  }\n}\n\nfunction shimCreateOfferLegacy(window) {\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer(offerOptions) {\n    if (offerOptions) {\n      if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n        // support bit values\n        offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n      }\n      var audioTransceiver = this.getTransceivers().find(function (transceiver) {\n        return transceiver.receiver.track.kind === 'audio';\n      });\n      if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n        if (audioTransceiver.direction === 'sendrecv') {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('sendonly');\n          } else {\n            audioTransceiver.direction = 'sendonly';\n          }\n        } else if (audioTransceiver.direction === 'recvonly') {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('inactive');\n          } else {\n            audioTransceiver.direction = 'inactive';\n          }\n        }\n      } else if (offerOptions.offerToReceiveAudio === true && !audioTransceiver) {\n        this.addTransceiver('audio');\n      }\n\n      if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n        // support bit values\n        offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n      }\n      var videoTransceiver = this.getTransceivers().find(function (transceiver) {\n        return transceiver.receiver.track.kind === 'video';\n      });\n      if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n        if (videoTransceiver.direction === 'sendrecv') {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('sendonly');\n          } else {\n            videoTransceiver.direction = 'sendonly';\n          }\n        } else if (videoTransceiver.direction === 'recvonly') {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('inactive');\n          } else {\n            videoTransceiver.direction = 'inactive';\n          }\n        }\n      } else if (offerOptions.offerToReceiveVideo === true && !videoTransceiver) {\n        this.addTransceiver('video');\n      }\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nfunction shimAudioContext(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n\n},{\"../utils\":11}],11:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.extractVersion = extractVersion;\nexports.wrapPeerConnectionEvent = wrapPeerConnectionEvent;\nexports.disableLog = disableLog;\nexports.disableWarnings = disableWarnings;\nexports.log = log;\nexports.deprecated = deprecated;\nexports.detectBrowser = detectBrowser;\nexports.compactObject = compactObject;\nexports.walkStats = walkStats;\nexports.filterStats = filterStats;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function wrappedCallback(e) {\n      var modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName, wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName, unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n      }\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nfunction disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nfunction log() {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nfunction deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nfunction detectBrowser(window) {\n  // Returned result object.\n  var result = { browser: null, version: null };\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  var navigator = window.navigator;\n\n\n  if (navigator.mozGetUserMedia) {\n    // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection && !window.RTCIceGatherer) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else {\n    // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nfunction compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function (accumulator, key) {\n    var isObj = isObject(data[key]);\n    var value = isObj ? compactObject(data[key]) : data[key];\n    var isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, _defineProperty({}, key, value));\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nfunction walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(function (name) {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(function (id) {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nfunction filterStats(result, track, outbound) {\n  var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  var filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  var trackStats = [];\n  result.forEach(function (value) {\n    if (value.type === 'track' && value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(function (trackStat) {\n    result.forEach(function (stats) {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n},{}],12:[function(require,module,exports){\n/* eslint-env node */\n'use strict';\n\n// SDP helpers.\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function () {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function (blob) {\n  return blob.trim().split('\\n').map(function (line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function (blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function (part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function (blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function (blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function (blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function (line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function (line) {\n  var parts = void 0;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: { 1: 'rtp', 2: 'rtcp' }[parts[1]],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compatibility.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default:\n        // extension handling, in particular ufrag. Don't overwrite.\n        if (candidate[parts[i]] === undefined) {\n          candidate[parts[i]] = parts[i + 1];\n        }\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function (candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n\n  var component = candidate.component;\n  if (component === 'rtp') {\n    sdp.push(1);\n  } else if (component === 'rtcp') {\n    sdp.push(2);\n  } else {\n    sdp.push(component);\n  }\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress && candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function (line) {\n  return line.substr(14).split(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function (line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function (codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  var channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate + (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function (line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function (headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) + (headerExtension.direction && headerExtension.direction !== 'sendrecv' ? '/' + headerExtension.direction : '') + ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function (line) {\n  var parsed = {};\n  var kv = void 0;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function (codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function (param) {\n      if (codec.parameters[param]) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function (line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function (codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function (fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type + (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') + '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function (line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\nSDPUtils.parseSsrcGroup = function (line) {\n  var parts = line.substr(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(function (ssrc) {\n      return parseInt(ssrc, 10);\n    })\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function (mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n};\n\nSDPUtils.parseFingerprint = function (line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function (mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function (params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function (fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function (line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3)\n  };\n};\n\nSDPUtils.writeCryptoLine = function (parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' + parameters.cryptoSuite + ' ' + (_typeof(parameters.keyParams) === 'object' ? SDPUtils.writeCryptoKeyParams(parameters.keyParams) : parameters.keyParams) + (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') + '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function (keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  var parts = keyParams.substr(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function (keyParams) {\n  return keyParams.keyMethod + ':' + keyParams.keySalt + (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') + (keyParams.mkiValue && keyParams.mkiLength ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength : '');\n};\n\n// Extracts all SDES parameters.\nSDPUtils.getCryptoParameters = function (mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function (mediaSection, sessionpart) {\n  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-ufrag:')[0];\n  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substr(12),\n    password: pwd.substr(10)\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function (params) {\n  var sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' + 'a=ice-pwd:' + params.password + '\\r\\n';\n  if (params.iceLite) {\n    sdp += 'a=ice-lite\\r\\n';\n  }\n  return sdp;\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function (mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) {\n    // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:' + pt + ' ').map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default:\n          // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function (line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function (kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function (codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function (codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function (codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(function (extension) {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function (mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc = void 0;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID').map(function (line) {\n    var parts = line.substr(17).split(' ');\n    return parts.map(function (part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function (codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10)\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = { ssrc: secondarySsrc };\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95 - 50 * 40 * 8;\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function (params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function (mediaSection) {\n  var rtcpParameters = {};\n\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (obj) {\n    return obj.attribute === 'cname';\n  })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\nSDPUtils.writeRtcpParameters = function (rtcpParameters) {\n  var sdp = '';\n  if (rtcpParameters.reducedSize) {\n    sdp += 'a=rtcp-rsize\\r\\n';\n  }\n  if (rtcpParameters.mux) {\n    sdp += 'a=rtcp-mux\\r\\n';\n  }\n  if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n    sdp += 'a=ssrc:' + rtcpParameters.ssrc + ' cname:' + rtcpParameters.cname + '\\r\\n';\n  }\n  return sdp;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function (mediaSection) {\n  var parts = void 0;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return { stream: parts[0], track: parts[1] };\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (msidParts) {\n    return msidParts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return { stream: parts[0], track: parts[1] };\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function (mediaSection) {\n  var mline = SDPUtils.parseMLine(mediaSection);\n  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  var maxMessageSize = void 0;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substr(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize: maxMessageSize\n    };\n  }\n  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    var parts = sctpMapLines[0].substr(10).split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize: maxMessageSize\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function (media, sctp) {\n  var output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctp-port:' + sctp.port + '\\r\\n'];\n  } else {\n    output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function () {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function (sessId, sessVer, sessUser) {\n  var sessionId = void 0;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  var user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' + 'o=' + user + ' ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' + 's=-\\r\\n' + 't=0 0\\r\\n';\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function (mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n      // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function (mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function (mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function (mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function (mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5]\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function (blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  var lines = SDPUtils.splitLines(blob);\n  for (var i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n  module.exports = SDPUtils;\n}\n},{}]},{},[1])(1)\n});\n"],"sourceRoot":"webpack:///"}