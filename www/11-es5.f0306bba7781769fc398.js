!function(){function e(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=t(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var i=0,c=function(){};return{s:c,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){r=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(r)throw s}}}}function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){if(e){if("string"==typeof e)return o(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",s=t.toStringTag||"@@toStringTag";function a(t,o,i,s){var a=o&&o.prototype instanceof p?o:p,u=Object.create(a.prototype);return c(u,"_invoke",function(t,o,i){var c,s,a,p=0,u=i||[],l=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(n,t){return c=n,s=0,a=e,f.n=t,r}};function h(t,o){for(s=t,a=o,n=0;!l&&p&&!i&&n<u.length;n++){var i,c=u[n],h=f.p,m=c[2];t>3?(i=m===o)&&(a=c[(s=c[4])?5:(s=3,3)],c[4]=c[5]=e):c[0]<=h&&((i=t<2&&h<c[1])?(s=0,f.v=o,f.n=c[1]):h<m&&(i=t<3||c[0]>o||o>m)&&(c[4]=t,c[5]=o,f.n=m,s=0))}if(i||t>1)return r;throw l=!0,o}return function(i,u,m){if(p>1)throw TypeError("Generator is already running");for(l&&1===u&&h(u,m),s=u,a=m;(n=s<2?e:a)||!l;){c||(s?s<3?(s>1&&(f.n=-1),h(s,a)):f.n=a:f.v=a);try{if(p=2,c){if(s||(i="next"),n=c[i]){if(!(n=n.call(c,a)))throw TypeError("iterator result is not an object");if(!n.done)return n;a=n.value,s<2&&(s=0)}else 1===s&&(n=c.return)&&n.call(c),s<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),s=1);c=e}else if((n=(l=f.n<0)?a:t.call(o,f))!==r)break}catch(n){c=e,s=1,a=n}finally{p=1}}return{value:n,done:l}}}(t,i,s),!0),u}var r={};function p(){}function u(){}function l(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(c(n={},o,function(){return this}),n),h=l.prototype=p.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,c(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=l,c(h,"constructor",l),c(l,"constructor",u),u.displayName="GeneratorFunction",c(l,s,"GeneratorFunction"),c(h),c(h,s,"Generator"),c(h,o,function(){return this}),c(h,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:m}})()}function c(e,n,t,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}(c=function(e,n,t,o){function s(n,t){c(e,n,function(e){return this._invoke(n,t,e)})}n?i?i(e,n,{value:t,enumerable:!o,configurable:!o,writable:!o}):e[n]=t:(s("next",0),s("throw",1),s("return",2))})(e,n,t,o)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,p(o.key),o)}}function r(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}function u(e,n,t){return n=O(n),function(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(e,f()?Reflect.construct(n,t||[],O(e).constructor):n.apply(e,t))}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function h(e,n,t,o){var i=m(O(1&o?e.prototype:e),n,t);return 2&o&&"function"==typeof i?function(e){return i.apply(t,e)}:i}function m(){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,n,t){var o=y(e,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?e:t):i.value}}).apply(null,arguments)}function y(e,n){for(;!{}.hasOwnProperty.call(e,n)&&null!==(e=O(e)););return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&d(e,n)}function d(e,n){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3UFq":function(e,n,t){"use strict";t.d(n,"a",function(){return y});var o=t("ZyuK"),i=t("ZF3V"),c=t("DFXC"),a=t("Q0Ba"),p=t("fXoL"),l=t("Isd1"),f=t("+n0y"),m=t("/QlS"),y=function(){var e=function(e){function n(e,t,o){var i;return s(this,n),(i=u(this,n,[e,o])).omniPullService=t,i.defaultOptions={},i}return b(n,e),r(n,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options),h(n,"init",this,3)([])}},{key:"countryChanged",value:function(e){null!=e&&void 0!==e.selectedObj?(this.defaultOptions.regionOptions.selectedCountryCode=e.itemValue,this.defaultOptions.regionOptions=Object.assign({},this.defaultOptions.regionOptions)):null!=e&&void 0!==e.newValue&&(this.defaultOptions.regionOptions.selectedCountryCode=e.newValue,this.defaultOptions.regionOptions=Object.assign({},this.defaultOptions.regionOptions))}},{key:"regionChanged",value:function(e){null!=e&&void 0!==e.selectedObj?(this.defaultOptions.cityOptions.selectedRegionCode=e.itemValue,this.defaultOptions.cityOptions.selectedCountryCode=this.defaultOptions.regionOptions.selectedCountryCode,this.defaultOptions.cityOptions=Object.assign({},this.defaultOptions.cityOptions)):null!=e&&void 0!==e.newValue&&(this.defaultOptions.cityOptions.selectedRegionCode=e.newValue,this.defaultOptions.cityOptions.selectedCountryCode=this.defaultOptions.regionOptions.selectedCountryCode,this.defaultOptions.cityOptions=Object.assign({},this.defaultOptions.cityOptions))}}])}(i.a);return e.\u0275fac=function(n){return new(n||e)(p.Rb(a.a),p.Rb(o.a),p.Rb(c.a))},e.\u0275cmp=p.Lb({type:e,selectors:[["ps-complex-beneficiary-bank-details"]],inputs:{options:"options"},features:[p.Cb],decls:6,vars:10,consts:[[1,"ps-complex-swift-benef-creation"],[3,"id","options"]],template:function(e,n){1&e&&(p.Xb(0,"ps-container-complex",0),p.Sb(1,"ps-complex-country-regions-cities",1),p.Sb(2,"ps-input-varchar",1),p.Sb(3,"ps-input-varchar",1),p.Sb(4,"ps-input-varchar",1),p.Sb(5,"ps-input-varchar",1),p.Wb()),2&e&&(p.Fb(1),p.pc("id",n.id)("options",n.defaultOptions),p.Fb(1),p.pc("id",n.id)("options",n.defaultOptions.cityFreeInputOptions),p.Fb(1),p.pc("id",n.id)("options",n.defaultOptions.swiftCodeOptions),p.Fb(1),p.pc("id",n.id)("options",n.defaultOptions.bankNameOptions),p.Fb(1),p.pc("id",n.id)("options",n.defaultOptions.branchNameOptions))},directives:[l.a,f.a,m.a],styles:[""]}),e}()},UTjL:function(e,n,t){"use strict";t.d(n,"a",function(){return g});var o=t("fXoL"),i=t("ZyuK"),c=t("BYmO"),a=t("DFXC"),p=t("qEF5"),l=t("Q0Ba"),f=t("woXy"),h=t("zngb"),m=t("ofXK"),y=t("ilDp"),O=function(e){return{disableContent:e}};function d(e,n){if(1&e){var t=o.Yb();o.Xb(0,"ps-action-icon",3),o.fc("onClick",function(){return o.Fc(t),o.ic().getScannedData(!0)}),o.Wb()}if(2&e){var i=o.ic();o.pc("id","QrScannerIcon")("ngClass",o.sc(3,O,i.isInReadOnlyScreen))("options",i.actionOption)}}var v=function(e){return{colAcc:e}},g=function(){var e=function(e){function n(e,t,i,c){var a;return s(this,n),(a=u(this,n,[e,t])).omniPull=i,a.nav=c,a.getScannedQr=new o.o,a.actionOption={},a.custMode&&(a.options.showScannerIcon=!0),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){var e,n=this.common.returnOperCustomization();this.isInReadOnlyScreen=1==(null===(e=n.get(h.a.FORM_READONLY))||void 0===e?void 0:e.IS_READONLY),p.a.isNotNull(this.options)&&(this.options.hideValueOnError=!0),this.actionOption={iconName:"qr_code_scanner",allowCust:!0,group:this.options.group}}},{key:"onChangeEvent",value:function(e){this.onPsChange.emit(e)}},{key:"getScannedData",value:function(e){var n=this;this.custMode||(0==this.options.forceTriggerChange&&(this.options.forceTriggerChange=!0),this.commonProv.scanQRCode().then(function(t){var o,i;if(t){t=JSON.parse(t),n.commonProv.setValInsideNestedObj(n.options.fcName,null===(o=t.AccountRef)||void 0===o?void 0:o.split("-")[1],n.options.requestObject?n.options.requestObject:{});var c=Object.assign(Object.assign({},t),{accountNumber:null===(i=t.AccountRef)||void 0===i?void 0:i.split("-")[1]});n.getScannedQr.emit([c,e])}}).catch(function(e){n.logger.error("something went wrong",e),n.nav.navigateBackward()}))}}])}(c.a);return e.\u0275fac=function(n){return new(n||e)(o.Rb(l.a),o.Rb(a.a),o.Rb(i.a),o.Rb(f.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["ps-input-account-number"]],inputs:{options:"options"},outputs:{getScannedQr:"getScannedQr"},features:[o.Cb],decls:3,vars:6,consts:[[3,"ngClass"],[3,"id","options","onPsChange","onPsEmpty"],["class","scanQrIcon",3,"id","ngClass","options","onClick",4,"ngIf"],[1,"scanQrIcon",3,"id","ngClass","options","onClick"]],template:function(e,n){1&e&&(o.Xb(0,"div",0),o.Xb(1,"ps-keyin-input",1),o.fc("onPsChange",function(e){return n.onChangeEvent(e)})("onPsEmpty",function(e){return n.onEmpty(e)}),o.Wb(),o.Pc(2,d,1,5,"ps-action-icon",2),o.Wb()),2&e&&(o.pc("ngClass",o.sc(4,v,n.options.showScannerIcon||n.custMode)),o.Fb(1),o.pc("id",n.id)("options",n.options),o.Fb(1),o.pc("ngIf",n.options.showScannerIcon||n.custMode))},directives:[m.m,c.a,m.o,y.a],styles:[""]}),e}()},VEWP:function(t,o,c){"use strict";c.d(o,"a",function(){return k});var a=c("mrSG"),p=c("fXoL"),l=c("4lGw"),f=c("V0Fi"),h=c("ZyuK"),m=c("ZF3V"),y=c("EIUR"),O=c("DFXC"),d=c("zngb"),v=c("Q0Ba"),g=c("Isd1"),C=c("L0og"),A=["complexLookupComponentObj"],k=function(){var t=function(t){function o(e,n,t,i){var c;return s(this,o),(c=u(this,o,[e,n])).commonService=e,c.omniPull=t,c.accountsService=i,c.options={fromTo:"",requestObject:null},c.complexLookupOptions={requestObject:null,notFoundMessage:"no_valid_account_found_key",multiple:!!c.options.multiple&&c.options.multiple},c.onAccountChange=new p.o,c.onAccountDeleted=new p.o,c.labelValuesMap=new Map,c.psCurrency=new y.a,c.labelOptions={},c.allType=!1,c}return b(o,t),r(o,[{key:"ngOnInit",value:function(){this.loadAccounts(null),this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.allType=!!this.options.allType&&this.options.allType,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject}},{key:"ngOnChanges",value:function(e){this.complexLookupOptions.labelKey=this.options.labelKey,this.complexLookupOptions.placeHolder=this.options.placeHolder}},{key:"loadAccounts",value:function(e){return Object(a.b)(this,void 0,void 0,i().m(function n(){var t,o;return i().w(function(n){for(;;)switch(n.n){case 0:if(null!=e&&(this.options=e),this.options.listOfAccounts=[],void 0!==this.options.fromTo&&""!==this.options.fromTo){n.n=1;break}return n.a(2,void this.logger.error("lookup_from_to_missing_key"));case 1:t=this.commonService.session.getValueOf(d.a.USERINFO),o=this.prepareRequestData(t),this.returnAccountList(o);case 2:return n.a(2)}},n,this)}))}},{key:"returnAccountList",value:function(e){return Object(a.b)(this,void 0,void 0,i().m(function t(){var o,c,s,a,r=this;return i().w(function(t){for(;;)switch(t.n){case 0:return o=this.commonProv.session.getValueOf(f.a.PERSONALIZATION_CO),this.complexLookupOptions.listOfOptions=void 0,t.n=1,this.omniPull.returnAccounts(e).catch(function(e){r.complexLookupOptions.listOfOptions=[],r.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 1:if(!((c=t.v)&&c.gridModel.length>0)){t.n=4;break}if(!this.allType){t.n=3;break}return e.accountType="F",e.permittedGls="F",t.n=2,this.omniPull.returnAccounts(e).catch(function(e){r.logger.error("Error: While fetching accounts in PsComplexOwnAccountComponent :",e)});case 2:(s=t.v)&&s.gridModel.length>0&&(c.gridModel=[].concat(n(c.gridModel),n(s.gridModel)));case 3:this.options.listOfAccounts=c.gridModel,this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==r.options.accountNumber})),this.options.currency&&""!==this.options.currency&&(this.complexLookupOptions.listOfOptions=this.fetchAccountBasedOnCurrency(this.options.currency),this.options.accountNumber&&""!==this.options.accountNumber&&(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts.filter(function(e){return e.accountNumber!==r.options.accountNumber}))),null!=this.options.accountNumber&&""!==this.options.accountNumber||(this.complexLookupOptions.listOfOptions=this.options.listOfAccounts),this.complexLookupOptions.listOfOptions=this.populateCustomAccounts(this.complexLookupOptions.listOfOptions),this.complexLookupOptions.listOfOptions.map(function(e,n){return e.rowIndex=n}),this.allAccounts=Object.assign([],this.complexLookupOptions.listOfOptions),null==this.complexLookupOptions.selectedItems&&(this.complexLookupOptions.selectedItems=[]),this.complexLookupOptions.multiple&&this.handleMultipleSelection(),!this.options.requestObject[this.options.fcName]&&(this.options.defaultByPersonalizedAcc=null==this.options.defaultByPersonalizedAcc||this.options.defaultByPersonalizedAcc,"from"===this.options.fromTo&&this.options.defaultByPersonalizedAcc)&&(a="QR"===this.options.purpose?null==o?void 0:o.defaultQrPaymentAccKey:null==o?void 0:o.defaultTransferAccKey,this.complexLookupOptions.listOfOptions.map(function(e){e.personalizeKey&&e.personalizeKey===a&&(r.common.setValInsideNestedObj(r.options.fcName,e.lookupKey,r.options.requestObject),r.common.setValInsideNestedObj(r.options.fcName+"_lookupKey",e.lookupKey,r.options.requestObject))})),t.n=5;break;case 4:this.listOfAccounts=[],this.complexLookupOptions.listOfOptions=[];case 5:return t.a(2)}},t,this)}))}},{key:"populateCustomAccounts",value:function(n){var t,o=[],i=e(n);try{for(i.s();!(t=i.n()).done;){var c=t.value,s={briefNameEnglish:c.briefNameEnglish,cifShortNameEnglish:c.cifShortNameEnglish,accountNumber:c.accountNumber,balance:this.psCurrency.transform(null==c.balance?"0.0":c.balance,c.currencyDecimalPoints)+" "+(c.currencyBriefName||c.currencyBriefNameEnglish),availableBalance:this.psCurrency.transform(null==c.availableBalance?"0.0":c.availableBalance,c.currencyDecimalPoints)+" "+(c.currencyBriefName||c.currencyBriefNameEnglish),currencyBriefName:c.currencyBriefName||c.currencyBriefNameEnglish,currencyBriefNameEnglish:c.currencyBriefNameEnglish,currency:c.currency,accountTypeDesc:c.accountTypeDesc,additionalRef:c.additionalRef,ibanAccNo:c.ibanAccNo,accGl:c.accGl,serialNo:c.serialNo,branch:c.branch,cif:c.cif,formattedAccount:this.accountsService.returnFormattedAccount(c).formattedAccount,personalizeKey:c.personalizeKey,nickName:c.nickName,briefName:c.briefName,lookupKey:c.additionalRef,branchDescription:c.branchDescription?c.branchDescription:"",generalLedgerBriefNameEng:c.generalLedgerBriefNameEng?c.generalLedgerBriefNameEng:"",previewProperty:"accountNumber",status:c.statusDescription,statusCode:c.status,accountFormat:this.accountsService.returnFormattedAccount(c).accountFormat};this.options.multiple&&(s.excludeType=c.excludeType),o.push(s)}}catch(a){i.e(a)}finally{i.f()}return o}},{key:"prepareRequestData",value:function(e){var n={};if(e&&e.omniUserVO&&(n={userCifNo:e.omniUserVO.CIF_NO,type:"A"}),null!=this.options.queryParams&&void 0!==this.options.queryParams&&""!==this.options.queryParams&&(n={commonParametersList:this.options.queryParams}),null!=this.options.accountType&&void 0!==this.options.accountType&&""!==this.options.accountType&&(n.accountType=this.options.accountType),null!=this.options.glTypes&&void 0!==this.options.glTypes&&""!==this.options.glTypes&&(n.permittedGls=this.options.glTypes),null!=this.options.fromTo&&""!==this.options.fromTo&&(n.fromTo=this.options.fromTo),null!=this.options.endUserId&&""!==this.options.endUserId&&(n.endUserId=this.options.endUserId),null!=this.options.fromCurrency?n.fromCurrency=this.options.fromCurrency:null!=this.options.toCurrency&&(n.toCurrency=this.options.toCurrency),null!=this.options.accountAllowedCurrencies&&void 0!==this.options.accountAllowedCurrencies)if("string"==typeof this.options.accountAllowedCurrencies)n.accountAllowedCurrencies=this.options.accountAllowedCurrencies;else{var t="";for(var o in this.options.accountAllowedCurrencies)t+=this.options.accountAllowedCurrencies[o]+",";t=t.slice(0,t.lastIndexOf(",")),n.accountAllowedCurrencies=t}if(null!=this.options.accountAllowedTypes&&void 0!==this.options.accountAllowedTypes)if("string"==typeof this.options.accountAllowedTypes)n.accountAllowedTypes=this.options.accountAllowedTypes;else{var i="";for(var c in this.options.accountAllowedTypes)i+=this.options.accountAllowedTypes[c]+",";i=i.slice(0,i.lastIndexOf(",")),n.accountAllowedTypes=i}return n}},{key:"fetchAccountBasedOnCurrency",value:function(e){return this.options.listOfAccounts}},{key:"onChange",value:function(e){this.logger.log(e)}},{key:"populateOwnAccountMap",value:function(){var e,n,t;e={key:"accountNumber",value:"--- --- --- ---",isEdit:!1},n={key:"currentBalance",value:"0.0",isEdit:!1},t={key:"availableBalance",value:"0.0",isEdit:!1},this.labelValuesMap.set("account_key",e),this.labelValuesMap.set("balance_key",n),this.labelValuesMap.set("available_balance_key",t)}},{key:"onChangeItem",value:function(e){this.onAccountChange.emit(e)}},{key:"onDeleteItem",value:function(e){e&&this.onAccountDeleted.emit(e)}},{key:"handleMultipleSelection",value:function(){var e=this,n=this.options.setAllAccountsAsSelecetd?this.complexLookupOptions.listOfOptions:this.options.requestObject[this.options.fcName]?this.complexLookupOptions.listOfOptions.filter(function(n){return e.options.requestObject[e.options.fcName].some(function(e){return e.accountNumber==n.accountNumber})}):[];this.complexLookupOptions.selectedItems=n.filter(function(n){return e.options.setAllAccountsAsSelecetd&&(!n.excludeType||!(n.excludeType.includes(f.a.GENERAL_ACCOUNT_EXCLUDE_TYPE)||n.excludeType.includes(f.a.TERM_ACCOUNT_EXCLUDE_TYPE)))||!e.options.setAllAccountsAsSelecetd}).map(function(e){return Object.assign(Object.assign({item:e[e.previewProperty]},e),{itemLookup:e.lookupKey})}),this.complexLookupOptions.selectedItems.length>0&&this.complexLookupComponentObj.setSelectedItems(this.complexLookupOptions.selectedItems)}},{key:"removeAccount",value:function(e){e&&void 0!==this.allAccounts&&(this.complexLookupOptions.listOfOptions=this.allAccounts?this.allAccounts.filter(function(n){return e.accountNumber!=n.accountNumber}):[])}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}},{key:"refreshAcounts",value:function(e){this.complexLookupOptions.listOfOptions=Object.assign([],this.allAccounts),this.removeAccount(e)}}])}(m.a);return t.\u0275fac=function(e){return new(e||t)(p.Rb(v.a),p.Rb(O.a),p.Rb(h.a),p.Rb(l.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ps-lookup-own-accounts"]],viewQuery:function(e,n){var t;(1&e&&p.Wc(A,1),2&e)&&(p.Bc(t=p.gc())&&(n.complexLookupComponentObj=t.first))},inputs:{options:"options"},outputs:{onAccountChange:"onAccountChange",onAccountDeleted:"onAccountDeleted"},features:[p.Cb,p.Db],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem","onDeleteItem"],["complexLookupComponentObj",""]],template:function(e,n){1&e&&(p.Xb(0,"ps-container-complex",0),p.Xb(1,"ps-complex-lookup",1,2),p.fc("changeItem",function(e){return n.onChangeItem(e)})("onDeleteItem",function(e){return n.onDeleteItem(e)}),p.Wb(),p.Wb()),2&e&&(p.Fb(1),p.pc("id",n.id)("options",n.complexLookupOptions))},directives:[g.a,C.a],styles:[""]}),t}()},mpNL:function(e,n,t){"use strict";t.d(n,"a",function(){return f});var o=t("V0Fi"),i=t("ZF3V"),c=t("DFXC"),a=t("Q0Ba"),p=t("fXoL"),l=t("x91f"),f=function(){var e=function(e){function n(e,t){var o;return s(this,n),(o=u(this,n,[e,t])).options={},o.categoriesOptions={},o}return b(n,e),r(n,[{key:"ngOnInit",value:function(){this.categoriesOptions={type:o.a.CATEGORY_BANK,defaultLoad:!0,category:{labelKey:this.options.categoryLabelKey,placeHolder:this.options.categoryPlaceholderKey,fcName:this.options.categoryFcName,group:this.options.group},subCategory:{labelKey:this.options.subCategoryLabelKey,placeHolder:this.options.subCategoryPlaceholderKey,fcName:this.options.subCategoryFcName,group:this.options.group},requestObject:this.options.requestObject}}},{key:"onBankChanged",value:function(e){this.onPsChange.emit(e)}}])}(i.a);return e.\u0275fac=function(n){return new(n||e)(p.Rb(a.a),p.Rb(c.a))},e.\u0275cmp=p.Lb({type:e,selectors:[["ps-banks"]],inputs:{options:"options"},features:[p.Cb],decls:1,vars:1,consts:[[3,"options","onPsChange"]],template:function(e,n){1&e&&(p.Xb(0,"ps-category-sub-category",0),p.fc("onPsChange",function(e){return n.onBankChanged(e)}),p.Wb()),2&e&&p.pc("options",n.categoriesOptions)},directives:[l.a],styles:[""]}),e}()},uV3x:function(n,t,o){"use strict";o.r(t),o.d(t,"PaymentPage",function(){return kn});var c=o("3Pt+"),a=o("OVQh"),p=o("YaLh"),f=o("jXvJ"),m=o("/M2N"),y=o("UTjL"),O=o("fXoL"),d=o("ZF3V"),v=o("DFXC"),g=o("Q0Ba"),C=o("ofXK"),A=o("BygU");function k(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-container-lookup-option",2),O.fc("clickedCard",function(e){return O.Fc(t),O.ic(2).updateCard(e)}),O.Wb()}if(2&e){var o=n.$implicit,i=O.ic(2);O.pc("id","swift-account-list-"+i.id)("options",i.containerLookUpOptions)("itemCard",o)}}function N(e,n){if(1&e&&(O.Xb(0,"div"),O.Pc(1,k,1,3,"ps-container-lookup-option",1),O.Wb()),2&e){var t=O.ic();O.Fb(1),O.pc("ngForOf",t.options.itemList)}}var _,B,I,w,L,T,x,P,E,S,D=((_=function(e){function n(e,t,o){var i;return s(this,n),(i=u(this,n,[e,t])).cdRef=o,i.options={},i.onClickCard=new O.o,i.containerLookUpOptions={},i.labelValuesMap=new Map,i.headerMap=new Map,i.showSingleAccount=!1,i}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"ngOnInit",this,3)([]),this.populateAccountsMap(),null==this.options.showOnlyList&&(this.options.showOnlyList=!1),this.containerLookUpOptions.currencyFlag="currencyDesc",this.containerLookUpOptions.labelsValueMap=this.labelValuesMap,this.containerLookUpOptions.headerMap=this.headerMap,this.containerLookUpOptions.formGroup=this.options.group,this.containerLookUpOptions.isEditable=this.options.isEditable,this.options&&this.options.listOfOptions&&(this.options.listOfOptions.map(function(e,n){return e.rowIndex=n}),this.options.itemList=this.options.listOfOptions),this.containerLookUpOptions.statementOptions={}}},{key:"ngAfterViewChecked",value:function(){this.cdRef.markForCheck(),this.options&&null==this.options.itemList?(this.options.itemList=this.options.listOfOptions,this.showSingleAccount=!1):(this.options&&this.options.itemList&&1===this.options.itemList.length&&!1===this.showSingleAccount||this.options&&void 0===this.options.showItemPopUp)&&(this.options.itemList=this.options.listOfOptions),this.containerLookUpOptions.itemList=this.options.itemList,this.containerLookUpOptions.formGroup=this.options.group}},{key:"updateCard",value:function(e){e&&this.options.listOfOptions&&(this.options.itemList=this.options.listOfOptions.filter(function(n){return n===e}),this.options.item=this.options.itemList[0],this.showSingleAccount=!this.showSingleAccount,this.options.showItemPopUp=!this.options.showItemPopUp),this.onClickCard.emit(this.options)}},{key:"populateAccountsMap",value:function(){var e,n,t,o;e={key:"swiftAccountNumber",value:"--- --- ---",isEdit:!1},n={key:"swiftBankName",value:"------",isEdit:!1},t={key:"title",value:"swiftName",isEdit:!1},o={key:"subTitle",value:"swiftNameSub",isEdit:!0},this.labelValuesMap.set("swift_account_key",e),this.labelValuesMap.set("bank_name_key",n),this.headerMap.set("title",t),this.headerMap.set("subTitle",o)}}])}(d.a)).\u0275fac=function(e){return new(e||_)(O.Rb(g.a),O.Rb(v.a),O.Rb(O.i))},_.\u0275cmp=O.Lb({type:_,selectors:[["ps-swift-account"]],inputs:{options:"options"},outputs:{onClickCard:"onClickCard"},features:[O.Cb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"id","options","itemCard","clickedCard",4,"ngFor","ngForOf"],[3,"id","options","itemCard","clickedCard"]],template:function(e,n){1&e&&O.Pc(0,N,2,1,"div",0),2&e&&O.pc("ngIf",(null==n.options||null==n.options.itemList?null:n.options.itemList.length)>0)},directives:[C.o,C.n,A.a],styles:[""],changeDetection:0}),_),V=o("V0Fi"),R=o("Nnln"),F=o("fOh1"),j=o("zngb"),M=o("qEF5"),G=o("QZhd"),K=o("woXy"),Y=o("Zrkw"),q=o("ZI0R"),W=o("gKqT"),X=o("ZyuK"),H=o("mrSG"),U=o("WAnK"),Q=((B=function(e){function n(e,t,o){var i;return s(this,n),(i=u(this,n,[e,t])).omniPull=o,i.cifValidated=new O.o,i.cifNumberOptions={fcName:"cifAccount",labelKey:"cif_no_key",placeHolder:"enter_cif_no_key"},i}return b(n,e),r(n,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.cifNumberOptions,this.options),this.cifNumberOptions.forceTriggerChange=!0,h(n,"init",this,3)([])}},{key:"onCifChange",value:function(e){var n,t,o;return Object(H.b)(this,void 0,void 0,i().m(function e(){var c,s,a,r,p;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(c=this.options.group.controls[this.cifNumberOptions.fcName].value){e.n=1;break}return e.a(2,void M.a.presentFailureAlert(this.commonProv.translate("enter_value_before_proceed_key"),{autoHide:!0}));case 1:return s={commonParametersList:{userCifNo:c}},e.p=2,e.n=3,this.omniPull.returnCIFDetails(s);case 3:a=e.v,r=null===(t=null===(n=a.data.result)||void 0===n?void 0:n[0])||void 0===t?void 0:t.cifDetails,0===(null===(o=null==a?void 0:a.data)||void 0===o?void 0:o.outputCode)&&r&&Object.keys(r).length>0?this.cifValidated.emit(a.data):this.clearCifField("invalid_cif_key"),e.n=5;break;case 4:e.p=4,p=e.v,console.error("Error validating CIF:",p),this.clearCifField("invalid_cif_key");case 5:return e.a(2)}},e,this,[[2,4]])}))}},{key:"clearCifField",value:function(e){this.options.group.controls[this.cifNumberOptions.fcName].setValue(null),e&&M.a.presentFailureAlert(this.commonProv.translate(e))}},{key:"resetCifField",value:function(){this.clearCifField()}}])}(d.a)).\u0275fac=function(e){return new(e||B)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a))},B.\u0275cmp=O.Lb({type:B,selectors:[["ps-complex-cif-account"]],inputs:{options:"options"},outputs:{cifValidated:"cifValidated"},features:[O.Cb],decls:1,vars:1,consts:[["id","'userCifNo' + id",3,"options","onPsChange"]],template:function(e,n){1&e&&(O.Xb(0,"ps-input-numeric",0),O.fc("onPsChange",function(e){return n.onCifChange(e)}),O.Wb()),2&e&&O.pc("options",n.cifNumberOptions)},directives:[U.a],styles:[""]}),B),z=o("kRg/"),Z=o("uKCV"),J=o("sAFK"),$=o("+f2X"),ee=o("VEWP"),ne=o("b23T"),te=o("x91f"),oe=((I=function(e){function n(e,t){var o;return s(this,n),(o=u(this,n,[e,t])).options={},o.categoriesOptions={},o}return b(n,e),r(n,[{key:"ngOnInit",value:function(){this.categoriesOptions={defaultLoad:!0,category:{labelKey:this.options.categoryLabelKey,placeHolder:this.options.categoryPlaceholderKey,fcName:this.options.categoryFcName,group:this.options.group},subCategory:{labelKey:this.options.subCategoryLabelKey,placeHolder:this.options.subCategoryPlaceholderKey,fcName:this.options.subCategoryFcName,group:this.options.group},requestObject:this.options.requestObject}}}])}(d.a)).\u0275fac=function(e){return new(e||I)(O.Rb(g.a),O.Rb(v.a))},I.\u0275cmp=O.Lb({type:I,selectors:[["ps-remittance"]],inputs:{options:"options"},features:[O.Cb],decls:1,vars:1,consts:[[3,"options"]],template:function(e,n){1&e&&O.Sb(0,"ps-category-sub-category",0),2&e&&O.pc("options",n.categoriesOptions)},directives:[te.a],styles:[""]}),I),ie=o("+c6a"),ce=o("CKXk"),se=o("tC40"),ae=o("Isd1"),re=o("L0og"),pe=["complexLookupComponentObj"],ue=((w=function(e){function n(e,t,o,i){var a;return s(this,n),(a=u(this,n,[e,t])).commonService=e,a.omniPull=o,a.beneficiariesService=i,a.formGroup=new c.f({}),a.options={requestObject:null},a.complexLookupOptions={requestObject:null,notFoundMessage:"no_local_benef_found_key"},a.onBenificiaryChange=new O.o,a.labelValuesMap=new Map,a.beneficiariesRequestParam={},a.populateLocalBenificiaryMap(),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"init",this,3)([]),this.loadLocalBenificiaries(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.type=V.a.LOCAL_BENEFICIARY_TYPE,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:f.a}},{key:"loadLocalBenificiaries",value:function(){this.options.listOfBenificiaries=[],this.beneficiariesRequestParam={trxTypeParameterName:V.a.LOCAL_BENEFICIARY_TYPE,filterByOper:!0},this.returnLocalBenificiaries(this.beneficiariesRequestParam)}},{key:"returnLocalBenificiaries",value:function(e){return Object(H.b)(this,void 0,void 0,i().m(function n(){var t,o=this;return i().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.omniPull.returnBeneficiaries(e).catch(function(e){o.complexLookupOptions.listOfOptions=[],o.logger.error("Error: While fetching local beneficiaries in PsLookupBeneficiariesLocalComponent :",e)});case 1:(t=n.v)&&t.gridModel.length>0?this.complexLookupOptions.listOfOptions=this.populateCustomLocalBeneficiaries(t.gridModel):(this.listOfBenificiaries=[],this.complexLookupOptions.listOfOptions=[]);case 2:return n.a(2)}},n,this)}))}},{key:"populateLocalBenificiaryMap",value:function(){var e,n;e={key:"beneficiaryAccountNumber",value:"--- --- ---",isEdit:!1},n={key:"beneficiaryBankName",value:"------",isEdit:!1},this.labelValuesMap.set("beneficiary_key",e),this.labelValuesMap.set("bank_name_key",n)}},{key:"onChangeItem",value:function(e){this.onBenificiaryChange.emit(e)}},{key:"populateCustomLocalBeneficiaries",value:function(e){return this.beneficiariesService.populateLocalBeneficiaries(e)}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}}])}(d.a)).\u0275fac=function(e){return new(e||w)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a),O.Rb(se.a))},w.\u0275cmp=O.Lb({type:w,selectors:[["ps-lookup-beneficiaries-local"]],viewQuery:function(e,n){var t;1&e&&O.Wc(pe,1),2&e&&O.Bc(t=O.gc())&&(n.complexLookupComponentObj=t.first)},inputs:{options:"options"},outputs:{onBenificiaryChange:"onBenificiaryChange"},features:[O.Cb],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"],["complexLookupComponentObj",""]],template:function(e,n){1&e&&(O.Xb(0,"ps-container-complex",0),O.Xb(1,"ps-complex-lookup",1,2),O.fc("changeItem",function(e){return n.onChangeItem(e)}),O.Wb(),O.Wb()),2&e&&(O.Fb(1),O.pc("id",n.id)("options",n.complexLookupOptions))},directives:[ae.a,re.a],styles:[""]}),w),le=["complexLookupComponentObj"],fe=((L=function(e){function n(e,t,o,i){var a;return s(this,n),(a=u(this,n,[e,t])).commonService=e,a.omniPull=o,a.beneficiariesService=i,a.formGroup=new c.f({}),a.options={requestObject:null},a.complexLookupOptions={requestObject:null,notFoundMessage:"no_internal_benef_found_key"},a.onBenificiaryChange=new O.o,a.labelValuesMap=new Map,a.beneficiariesRequestParam={},a.populateInternalBenificiaryMap(),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"init",this,3)([]),this.loadInternalBenificiaries(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.type=V.a.INTERNAL_BENEFICIARY_TYPE,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:Y.a}},{key:"loadInternalBenificiaries",value:function(){this.options.listOfBenificiaries=[],this.beneficiariesRequestParam={trxTypeParameterName:V.a.INTERNAL_BENEFICIARY_TYPE,filterByOper:!0},this.returnInternalBenificiaries(this.beneficiariesRequestParam)}},{key:"returnInternalBenificiaries",value:function(e){return Object(H.b)(this,void 0,void 0,i().m(function n(){var t,o=this;return i().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.omniPull.returnBeneficiaries(e).catch(function(e){o.complexLookupOptions.listOfOptions=[],o.logger.error("Error: While fetching internal beneficiaries in PsLookupBeneficiariesInternalComponent: ",e)});case 1:(t=n.v)&&t.gridModel.length>0?this.complexLookupOptions.listOfOptions=this.populateCustomInternalBeneficiaries(t.gridModel):(this.listOfBenificiaries=[],this.complexLookupOptions.listOfOptions=[]);case 2:return n.a(2)}},n,this)}))}},{key:"populateInternalBenificiaryMap",value:function(){var e,n;e={key:"beneficiaryAccountNumber",value:"--- --- ---",isEdit:!1},n={key:"beneficiaryBankName",value:"------",isEdit:!1},this.labelValuesMap.set("beneficiary_key",e),this.labelValuesMap.set("bank_name_key",n)}},{key:"onChangeItem",value:function(e){this.onBenificiaryChange.emit(e)}},{key:"populateCustomInternalBeneficiaries",value:function(e){return this.beneficiariesService.populateInternalBeneficiaries(e)}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}}])}(d.a)).\u0275fac=function(e){return new(e||L)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a),O.Rb(se.a))},L.\u0275cmp=O.Lb({type:L,selectors:[["ps-lookup-beneficiaries-internal"]],viewQuery:function(e,n){var t;1&e&&O.Wc(le,1),2&e&&O.Bc(t=O.gc())&&(n.complexLookupComponentObj=t.first)},inputs:{options:"options"},outputs:{onBenificiaryChange:"onBenificiaryChange"},features:[O.Cb],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"],["complexLookupComponentObj",""]],template:function(e,n){1&e&&(O.Xb(0,"ps-container-complex",0),O.Xb(1,"ps-complex-lookup",1,2),O.fc("changeItem",function(e){return n.onChangeItem(e)}),O.Wb(),O.Wb()),2&e&&(O.Fb(1),O.pc("id",n.id)("options",n.complexLookupOptions))},directives:[ae.a,re.a],styles:[""]}),L),he=["complexLookupComponentObj"],me=((x=function(e){function n(e,t,o,i){var a;return s(this,n),(a=u(this,n,[e,t])).commonService=e,a.omniPull=o,a.beneficiariesService=i,a.formGroup=new c.f({}),a.options={requestObject:null},a.complexLookupOptions={requestObject:null,notFoundMessage:"no_international_benf_found_key"},a.onBenificiaryChange=new O.o,a.labelValuesMap=new Map,a.beneficiariesRequestParam={},a.populateInternationalBenificiaryMap(),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"init",this,3)([]),this.loadInternationalBenificiaries(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:q.a}},{key:"loadInternationalBenificiaries",value:function(){this.options.listOfBenificiaries=[],this.beneficiariesRequestParam={trxTypeParameterName:V.a.INTERNATIONAL,filterByOper:!0},this.returnInternationalBenificiaries(this.beneficiariesRequestParam)}},{key:"returnInternationalBenificiaries",value:function(e){return Object(H.b)(this,void 0,void 0,i().m(function n(){var t,o=this;return i().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.omniPull.returnBeneficiaries(e).catch(function(e){o.complexLookupOptions.listOfOptions=[],o.logger.error("Error: While fetching international beneficiaries in PsLookupBeneficiariesInternationalComponent :",e)});case 1:(t=n.v)&&t.gridModel.length>0?this.complexLookupOptions.listOfOptions=this.populateCustomInternationalBeneficiaries(t.gridModel):(this.listOfBenificiaries=[],this.complexLookupOptions.listOfOptions=[]);case 2:return n.a(2)}},n,this)}))}},{key:"populateInternationalBenificiaryMap",value:function(){var e,n;e={key:"beneficiaryAccountNumber",value:"--- --- ---",isEdit:!1},n={key:"bankName",value:"------",isEdit:!1},this.labelValuesMap.set("beneficiary_key",e),this.labelValuesMap.set("bank_name_key",n)}},{key:"onChangeItem",value:function(e){this.onBenificiaryChange.emit(e)}},{key:"populateCustomInternationalBeneficiaries",value:function(e){return this.beneficiariesService.populateInternationalBeneficiaries(e)}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}}])}(d.a)).\u0275fac=function(e){return new(e||x)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a),O.Rb(se.a))},x.\u0275cmp=O.Lb({type:x,selectors:[["ps-lookup-beneficiaries-international"]],viewQuery:function(e,n){var t;1&e&&O.Wc(he,1),2&e&&O.Bc(t=O.gc())&&(n.complexLookupComponentObj=t.first)},inputs:{options:"options"},outputs:{onBenificiaryChange:"onBenificiaryChange"},features:[O.Cb],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"],["complexLookupComponentObj",""]],template:function(e,n){1&e&&(O.Xb(0,"ps-container-complex",0),O.Xb(1,"ps-complex-lookup",1,2),O.fc("changeItem",function(e){return n.onChangeItem(e)}),O.Wb(),O.Wb()),2&e&&(O.Fb(1),O.pc("id",n.id)("options",n.complexLookupOptions))},directives:[ae.a,re.a],styles:[""]}),x),ye=((T=function(e){function n(e,t,o,i){var a;return s(this,n),(a=u(this,n,[e,t])).commonService=e,a.omniPull=o,a.beneficiariesService=i,a.formGroup=new c.f({}),a.options={requestObject:null},a.complexLookupOptions={requestObject:null,notFoundMessage:"no_cash_beneficiary_key"},a.onBenificiaryChange=new O.o,a.labelValuesMap=new Map,a.beneficiariesRequestParam={},a.populateCashBenificiaryMap(),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"init",this,3)([]),this.loadCashBenificiaries(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:p.a}},{key:"loadCashBenificiaries",value:function(){this.options.listOfBenificiaries=[],this.beneficiariesRequestParam={trxTypeParameterName:V.a.CASH_TRANSFER,filterByOper:!0},this.returnCashBenificiaries(this.beneficiariesRequestParam)}},{key:"returnCashBenificiaries",value:function(e){return Object(H.b)(this,void 0,void 0,i().m(function n(){var t,o=this;return i().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.omniPull.returnBeneficiaries(e).catch(function(e){o.complexLookupOptions.listOfOptions=[],o.logger.error("Error: While fetching cash beneficiaries in PsLookupBeneficiariesCashComponent :",e)});case 1:(t=n.v)&&t.gridModel.length>0?this.complexLookupOptions.listOfOptions=this.populateCustomCashBeneficiaries(t.gridModel):(this.listOfBenificiaries=[],this.complexLookupOptions.listOfOptions=[]);case 2:return n.a(2)}},n,this)}))}},{key:"populateCashBenificiaryMap",value:function(){var e,n;e={key:"idNumber",value:"--- --- ---",isEdit:!1},n={key:"benefName",value:"------",isEdit:!1},this.labelValuesMap.set("beneficiary_key",n),this.labelValuesMap.set("bank_name_key",e)}},{key:"onChangeItem",value:function(e){this.onBenificiaryChange.emit(e)}},{key:"populateCustomCashBeneficiaries",value:function(e){return this.beneficiariesService.populateCashTransfers(e)}}])}(d.a)).\u0275fac=function(e){return new(e||T)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a),O.Rb(se.a))},T.\u0275cmp=O.Lb({type:T,selectors:[["ps-lookup-beneficiaries-cash"]],inputs:{options:"options"},outputs:{onBenificiaryChange:"onBenificiaryChange"},features:[O.Cb],decls:2,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"]],template:function(e,n){1&e&&(O.Xb(0,"ps-container-complex",0),O.Xb(1,"ps-complex-lookup",1),O.fc("changeItem",function(e){return n.onChangeItem(e)}),O.Wb(),O.Wb()),2&e&&(O.Fb(1),O.pc("id",n.id)("options",n.complexLookupOptions))},directives:[ae.a,re.a],styles:[""]}),T),Oe=["complexLookupComponentObj"],be=((P=function(e){function n(e,t,o,i){var a;return s(this,n),(a=u(this,n,[e,t])).commonService=e,a.omniPull=o,a.beneficiariesService=i,a.formGroup=new c.f({}),a.options={requestObject:null},a.complexLookupOptions={requestObject:null,notFoundMessage:"no_bank_card_beneficiary_key"},a.onBenificiaryChange=new O.o,a.labelValuesMap=new Map,a.beneficiariesRequestParam={},a.populateBankCardBenificiaryMap(),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"init",this,3)([]),this.loadBankCardBenificiaries(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:Y.a}},{key:"loadBankCardBenificiaries",value:function(){this.options.listOfBenificiaries=[],this.beneficiariesRequestParam={trxTypeParameterName:V.a.BANK_CARD_BENEFICIARY_TYPE,filterByOper:!0},this.returnBankCardBenificiaries(this.beneficiariesRequestParam)}},{key:"returnBankCardBenificiaries",value:function(e){return Object(H.b)(this,void 0,void 0,i().m(function n(){var t,o=this;return i().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.omniPull.returnBeneficiaries(e).catch(function(e){o.complexLookupOptions.listOfOptions=[],o.logger.error("Error: While fetching bank card beneficiaries in PsLookupBeneficiariesBankCardComponent :",e)});case 1:(t=n.v)&&t.gridModel.length>0?this.complexLookupOptions.listOfOptions=this.populateCustomBankCardBeneficiaries(t.gridModel):(this.listOfBenificiaries=[],this.complexLookupOptions.listOfOptions=[]);case 2:return n.a(2)}},n,this)}))}},{key:"populateBankCardBenificiaryMap",value:function(){var e,n;e={key:"beneficiaryCardNumber",value:"--- --- ---",isEdit:!1},n={key:"beneficiaryBankName",value:"------",isEdit:!1},this.labelValuesMap.set("beneficiary_key",e),this.labelValuesMap.set("bank_name_key",n)}},{key:"onChangeItem",value:function(e){this.onBenificiaryChange.emit(e)}},{key:"populateCustomBankCardBeneficiaries",value:function(e){return this.beneficiariesService.populateBankCardBeneficiaries(e)}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}}])}(d.a)).\u0275fac=function(e){return new(e||P)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a),O.Rb(se.a))},P.\u0275cmp=O.Lb({type:P,selectors:[["ps-lookup-beneficiaries-bank-card"]],viewQuery:function(e,n){var t;1&e&&O.Wc(Oe,1),2&e&&O.Bc(t=O.gc())&&(n.complexLookupComponentObj=t.first)},inputs:{options:"options"},outputs:{onBenificiaryChange:"onBenificiaryChange"},features:[O.Cb],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"],["complexLookupComponentObj",""]],template:function(e,n){1&e&&(O.Xb(0,"ps-container-complex",0),O.Xb(1,"ps-complex-lookup",1,2),O.fc("changeItem",function(e){return n.onChangeItem(e)}),O.Wb(),O.Wb()),2&e&&(O.Fb(1),O.pc("id",n.id)("options",n.complexLookupOptions))},directives:[ae.a,re.a],styles:[""]}),P),de=["complexLookupComponentObj"],ve=((E=function(e){function n(e,t,o,i){var a;return s(this,n),(a=u(this,n,[e,t])).commonService=e,a.omniPull=o,a.beneficiariesService=i,a.formGroup=new c.f({}),a.options={requestObject:null},a.complexLookupOptions={requestObject:null,notFoundMessage:"no_local_card_beneficiary_key"},a.onBenificiaryChange=new O.o,a.labelValuesMap=new Map,a.beneficiariesRequestParam={},a.populateLocalCardBenificiaryMap(),a}return b(n,e),r(n,[{key:"ngOnInit",value:function(){h(n,"init",this,3)([]),this.loadLocalCardBenificiaries(),this.complexLookupOptions.title="title_key",this.complexLookupOptions.subTitle="sub_title_key",this.complexLookupOptions.labelsValueMap=this.labelValuesMap,this.commonProv.copyObject(this.complexLookupOptions,this.options,!1),this.complexLookupOptions.requestObject=this.options.requestObject,this.complexLookupOptions.component=this.options&&this.options.component?this.options.component:Y.a}},{key:"loadLocalCardBenificiaries",value:function(){this.options.listOfBenificiaries=[],this.beneficiariesRequestParam={trxTypeParameterName:V.a.LOCAL_CARD_BENEFICIARY_TYPE,filterByOper:!0},this.returnLocalCardBenificiaries(this.beneficiariesRequestParam)}},{key:"returnLocalCardBenificiaries",value:function(e){return Object(H.b)(this,void 0,void 0,i().m(function n(){var t,o=this;return i().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,this.omniPull.returnBeneficiaries(e).catch(function(e){o.complexLookupOptions.listOfOptions=[],o.logger.error("Error: While fetching local card beneficiaries in PsLookupBeneficiariesLocalCardComponent :",e)});case 1:(t=n.v)&&t.gridModel.length>0?this.complexLookupOptions.listOfOptions=this.populateCustomLocalCardBeneficiaries(t.gridModel):(this.listOfBenificiaries=[],this.complexLookupOptions.listOfOptions=[]);case 2:return n.a(2)}},n,this)}))}},{key:"populateLocalCardBenificiaryMap",value:function(){var e,n;e={key:"beneficiaryCardNumber",value:"--- --- ---",isEdit:!1},n={key:"beneficiaryLocalName",value:"------",isEdit:!1},this.labelValuesMap.set("beneficiary_key",e),this.labelValuesMap.set("local_name_key",n)}},{key:"onChangeItem",value:function(e){this.onBenificiaryChange.emit(e)}},{key:"populateCustomLocalCardBeneficiaries",value:function(e){return this.beneficiariesService.populateLocalCardBeneficiaries(e)}},{key:"reset",value:function(){this.complexLookupComponentObj.resetLookUp()}}])}(d.a)).\u0275fac=function(e){return new(e||E)(O.Rb(g.a),O.Rb(v.a),O.Rb(X.a),O.Rb(se.a))},E.\u0275cmp=O.Lb({type:E,selectors:[["ps-lookup-beneficiaries-local-card"]],viewQuery:function(e,n){var t;1&e&&O.Wc(de,1),2&e&&O.Bc(t=O.gc())&&(n.complexLookupComponentObj=t.first)},inputs:{options:"options"},outputs:{onBenificiaryChange:"onBenificiaryChange"},features:[O.Cb],decls:3,vars:2,consts:[[1,"ps-complex-own-account"],[3,"id","options","changeItem"],["complexLookupComponentObj",""]],template:function(e,n){1&e&&(O.Xb(0,"ps-container-complex",0),O.Xb(1,"ps-complex-lookup",1,2),O.fc("changeItem",function(e){return n.onChangeItem(e)}),O.Wb(),O.Wb()),2&e&&(O.Fb(1),O.pc("id",n.id)("options",n.complexLookupOptions))},directives:[ae.a,re.a],styles:[""]}),E),ge=o("mpNL"),Ce=o("BYmO"),Ae=o("/QlS"),ke=o("M1f2"),Ne=o("ggmK"),_e=o("GmwD"),Be=o("y70R"),Ie=o("7Cko"),we=o("x3b/"),Le=o("KuXP"),Te=o("3UFq"),xe=((S=function(e){function n(e,t){var o;return s(this,n),(o=u(this,n,[e,t])).options={},o.categoriesOptions={},o}return b(n,e),r(n,[{key:"ngOnInit",value:function(){this.categoriesOptions={type:V.a.CATEGORY_PURPSE,defaultLoad:!0,category:{labelKey:this.options.categoryLabelKey,placeHolder:this.options.categoryPlaceholderKey,fcName:this.options.categoryFcName,group:this.options.group},subCategory:{labelKey:this.options.subCategoryLabelKey,placeHolder:this.options.subCategoryPlaceholderKey,fcName:this.options.subCategoryFcName,group:this.options.group},requestObject:this.options.requestObject}}}])}(d.a)).\u0275fac=function(e){return new(e||S)(O.Rb(g.a),O.Rb(v.a))},S.\u0275cmp=O.Lb({type:S,selectors:[["ps-purpose"]],inputs:{options:"options"},features:[O.Cb],decls:1,vars:1,consts:[[3,"options"]],template:function(e,n){1&e&&O.Sb(0,"ps-category-sub-category",0),2&e&&O.pc("options",n.categoriesOptions)},directives:[te.a],styles:[""]}),S),Pe=o("+BRL"),Ee=o("GLCq"),Se=["accountNb"],De=["toAccountRef"],Ve=["fromAccountRef"],Re=["toCifAccountObj"],Fe=["exchangeRef"],je=["localBeneficiaryLookupComponentObj"],Me=["internalBeneficiaryLookupComponentObj"],Ge=["internationalBeneficiaryLookupComponentObj"],Ke=["bankCardBeneficiaryLookupComponentObj"],Ye=["localCardBeneficiaryLookupComponentObj"];function qe(e,n){if(1&e&&(O.Xb(0,"div"),O.Sb(1,"ps-remittance",16),O.Wb()),2&e){var t=O.ic(2);O.Fb(1),O.pc("options",t.remittanceOptions)}}function We(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-own-accounts",17,18),O.fc("onAccountChange",function(e){return O.Fc(t),O.ic(2).onToAccountChange(e)}),O.Wb()}if(2&e){var o=O.ic(2);O.pc("options",o.toaccountList)}}function Xe(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-beneficiaries-local",30,31),O.fc("onBenificiaryChange",function(e){return O.Fc(t),O.ic(3).localBeneficiaryChange(e)}),O.Wb()}if(2&e){var o=O.ic(3);O.pc("options",o.localBeneficiariesOptions)}}function He(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-beneficiaries-internal",32,33),O.fc("onBenificiaryChange",function(e){return O.Fc(t),O.ic(3).internalBeneficiaryChange(e)}),O.Wb()}if(2&e){var o=O.ic(3);O.pc("options",o.internalBeneficiariesOptions)}}function Ue(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-beneficiaries-international",34,35),O.fc("onBenificiaryChange",function(e){return O.Fc(t),O.ic(3).internationalBeneficiaryChange(e)}),O.Wb()}if(2&e){var o=O.ic(3);O.pc("options",o.internationalBeneficiariesOptions)}}function Qe(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-beneficiaries-cash",36),O.fc("onBenificiaryChange",function(e){return O.Fc(t),O.ic(3).cashBeneficiaryChange(e)}),O.Wb()}if(2&e){var o=O.ic(3);O.pc("options",o.cashBeneficiariesOptions)}}function ze(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-beneficiaries-bank-card",37,38),O.fc("onBenificiaryChange",function(e){return O.Fc(t),O.ic(3).bankCardBeneficiaryChange(e)}),O.Wb()}if(2&e){var o=O.ic(3);O.pc("options",o.bankCardBeneficiariesOptions)}}function Ze(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-lookup-beneficiaries-local-card",37,39),O.fc("onBenificiaryChange",function(e){return O.Fc(t),O.ic(3).localCardBeneficiaryChange(e)}),O.Wb()}if(2&e){var o=O.ic(3);O.pc("options",o.localCardBeneficiariesOptions)}}function Je(e,n){if(1&e){var t=O.Yb();O.Xb(0,"div"),O.Xb(1,"ps-banks",40),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(3).onBankChanged(e)}),O.Wb(),O.Sb(2,"ps-keyin-input",41),O.Sb(3,"ps-input-varchar",42),O.Wb()}if(2&e){var o=O.ic(3);O.Fb(1),O.pc("options",o.banksOptions),O.Fb(1),O.pc("options",o.branchOptions),O.Fb(1),O.pc("options",o.beneficiaryBvnOptions)}}function $e(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-complex-cif-account",46),O.fc("cifValidated",function(e){return O.Fc(t),O.ic(4).onCifValidated(e)}),O.Wb()}if(2&e){var o=O.ic(4);O.pc("options",o.cifAccountOptions)}}function en(e,n){if(1&e){var t=O.Yb();O.Xb(0,"div",47),O.Xb(1,"ps-lookup-own-accounts",48,49),O.fc("onAccountChange",function(e){return O.Fc(t),O.ic(4).onCifAccountSelected(e)}),O.Wb(),O.Wb()}if(2&e){var o=O.ic(4);O.Fb(1),O.pc("options",o.cifAccountList)}}function nn(e,n){if(1&e){var t=O.Yb();O.Xb(0,"div"),O.Xb(1,"ps-select-radio",43),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(3).onTransferFormatChanged(e)}),O.Wb(),O.Pc(2,$e,1,1,"ps-complex-cif-account",44),O.Pc(3,en,3,1,"div",45),O.Wb()}if(2&e){var o=O.ic(3);O.Fb(1),O.pc("options",o.transferFormatOptions),O.Fb(1),O.pc("ngIf",o.isCifFormatSelected),O.Fb(1),O.pc("ngIf",o.isCifValidated)}}function tn(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-input-varchar",56),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(4).onSwiftCodeChanged(e)}),O.Wb()}if(2&e){var o=O.ic(4);O.pc("options",o.swiftCodeOptions)}}function on(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-input-account-number",57,58),O.fc("getScannedQr",function(e){return O.Fc(t),O.ic(4).getScannedData(e)})("onPsChange",function(e){return O.Fc(t),O.ic(4).onAccountNumbChanged(e)})("onPsEmpty",function(e){return O.Fc(t),O.ic(4).onEmptyAccountNumb(e)}),O.Wb()}if(2&e){var o=O.ic(4);O.pc("options",o.toOtherAccountNumberOptions)}}function cn(e,n){if(1&e&&O.Sb(0,"ps-input-varchar",59),2&e){var t=O.ic(4);O.pc("options",t.accountNameOptions)}}function sn(e,n){if(1&e&&O.Sb(0,"ps-input-varchar",60),2&e){var t=O.ic(4);O.pc("options",t.benefNameOptions)}}function an(e,n){if(1&e&&O.Sb(0,"ps-input-varchar",61),2&e){var t=O.ic(4);O.pc("options",t.recipientNameOptions)}}function rn(e,n){if(1&e&&O.Sb(0,"ps-input-display-only",16),2&e){var t=O.ic(4);O.pc("options",t.beneficiaryOptions)}}function pn(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-dropdown-currencies",56),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(4).onBenefCurrencyChanged(e)}),O.Wb()}if(2&e){var o=O.ic(4);O.pc("options",o.benefCurrencyOptions)}}function un(e,n){if(1&e&&(O.Xb(0,"div"),O.Pc(1,tn,1,1,"ps-input-varchar",50),O.Pc(2,on,2,1,"ps-input-account-number",51),O.Pc(3,cn,1,1,"ps-input-varchar",52),O.Pc(4,sn,1,1,"ps-input-varchar",53),O.Pc(5,an,1,1,"ps-input-varchar",54),O.Pc(6,rn,1,1,"ps-input-display-only",55),O.Pc(7,pn,1,1,"ps-dropdown-currencies",50),O.Wb()),2&e){var t=O.ic(3);O.Fb(1),O.pc("ngIf",t.enableInternationalBeneficiary()),O.Fb(1),O.pc("ngIf",!t.isCifFormatSelected),O.Fb(1),O.pc("ngIf",t.isCifFormatSelected),O.Fb(1),O.pc("ngIf",t.enableRemittanceTransfer()&&(t.enableLocalBeneficiary()||t.enableInternationalBeneficiary())),O.Fb(1),O.pc("ngIf",t.enableLocalBeneficiary()||t.enableInternationalBeneficiary()),O.Fb(1),O.pc("ngIf",t.enableInternalBenef),O.Fb(1),O.pc("ngIf",t.enableLocalBeneficiary()||t.enableInternationalBeneficiary()||t.enableInternalBeneficiary())}}function ln(e,n){if(1&e&&(O.Xb(0,"div"),O.Sb(1,"ps-input-varchar",60),O.Sb(2,"ps-complex-id-details",62),O.Sb(3,"ps-entity-phone-number",16),O.Wb()),2&e){var t=O.ic(3);O.Fb(1),O.pc("options",t.benefNameOptions),O.Fb(1),O.pc("options",t.complexIdDetailsOptions),O.Fb(1),O.pc("options",t.benefPhoneOptions)}}function fn(e,n){if(1&e){var t=O.Yb();O.Xb(0,"div"),O.Xb(1,"ps-banks",40),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(4).onBankChanged(e)}),O.Wb(),O.Sb(2,"ps-keyin-input",41),O.Wb()}if(2&e){var o=O.ic(4);O.Fb(1),O.pc("options",o.banksOptions),O.Fb(1),O.pc("options",o.branchOptions)}}function hn(e,n){if(1&e&&(O.Xb(0,"div"),O.Pc(1,fn,3,2,"div",5),O.Sb(2,"ps-keyin-input",63),O.Sb(3,"ps-input-card-number",16),O.Wb()),2&e){var t=O.ic(3);O.Fb(1),O.pc("ngIf",t.enableLocalCardBeneficiary()),O.Fb(1),O.pc("options",t.beneficiaryNameOptions),O.Fb(1),O.pc("options",t.cardNumberOptions)}}function mn(e,n){if(1&e){var t=O.Yb();O.Xb(0,"div"),O.Xb(1,"ps-select-toggle",64),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(3).onSaveBenefChange(e)}),O.Wb(),O.Wb()}if(2&e){var o=O.ic(3);O.Fb(1),O.pc("id","showPersonalDet")("options",o.saveBenefToggleOptions)}}function yn(e,n){if(1&e&&(O.Xb(0,"ps-container-panel",65),O.Sb(1,"ps-complex-beneficiary-bank-details",16),O.Wb()),2&e){var t=O.ic(3);O.pc("options",t.panelOptionsBenfBankDetails),O.Fb(1),O.pc("options",t.bankDetailsOptions)}}function On(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-complex-segment",19),O.fc("complexSegmentButtonClicked",function(e){return O.Fc(t),O.ic(2).onClickSegment(e)}),O.Xb(1,"ps-content-segment",20),O.Xb(2,"ps-container-panel",21),O.Pc(3,Xe,2,1,"ps-lookup-beneficiaries-local",22),O.Pc(4,He,2,1,"ps-lookup-beneficiaries-internal",23),O.Pc(5,Ue,2,1,"ps-lookup-beneficiaries-international",24),O.Pc(6,Qe,1,1,"ps-lookup-beneficiaries-cash",25),O.Pc(7,ze,2,1,"ps-lookup-beneficiaries-bank-card",26),O.Pc(8,Ze,2,1,"ps-lookup-beneficiaries-local-card",26),O.Wb(),O.Wb(),O.Xb(9,"ps-content-segment",27),O.Xb(10,"ps-container-panel",28),O.Pc(11,Je,4,3,"div",5),O.Pc(12,nn,4,3,"div",5),O.Pc(13,un,8,7,"div",5),O.Pc(14,ln,4,3,"div",5),O.Pc(15,hn,4,3,"div",5),O.Pc(16,mn,2,2,"div",5),O.Wb(),O.Pc(17,yn,2,2,"ps-container-panel",29),O.Wb(),O.Wb()}if(2&e){var o=O.ic(2);O.pc("options",o.complexSegmentOptions),O.Fb(1),O.pc("id",o.complexSegmentOptions.segmentContainerOptions.namesofSegments[0]),O.Fb(1),O.pc("options",o.toBenefPanelOptions),O.Fb(1),O.pc("ngIf",o.enableLocalBeneficiary()&&o.showBeneficiaryDropdown),O.Fb(1),O.pc("ngIf",o.enableInternalBeneficiary()&&o.showBeneficiaryDropdown),O.Fb(1),O.pc("ngIf",o.enableInternationalBeneficiary()&&o.showBeneficiaryDropdown),O.Fb(1),O.pc("ngIf",o.enableCashBeneficiary()&&o.showBeneficiaryDropdown),O.Fb(1),O.pc("ngIf",o.enableBankCardBeneficiary()&&o.showBeneficiaryDropdown),O.Fb(1),O.pc("ngIf",o.enableLocalCardBeneficiary()&&o.showBeneficiaryDropdown),O.Fb(1),O.pc("id",o.complexSegmentOptions.segmentContainerOptions.namesofSegments[1]),O.Fb(1),O.pc("options",o.toOtherPanelOptions),O.Fb(1),O.pc("ngIf",o.enableLocalBeneficiary()),O.Fb(1),O.pc("ngIf",o.enableInternalBeneficiary()),O.Fb(1),O.pc("ngIf",!o.enableCashBeneficiary()&&!(o.enableBankCardBeneficiary()||o.enableLocalCardBeneficiary())),O.Fb(1),O.pc("ngIf",o.enableCashBeneficiary()),O.Fb(1),O.pc("ngIf",o.enableBankCardBeneficiary()||o.enableLocalCardBeneficiary()),O.Fb(1),O.pc("ngIf",o.enableLocalBeneficiary()||o.enableInternalBeneficiary()||o.enableInternationalBeneficiary()||o.enableLocalCardBeneficiary()||o.enableBankCardBeneficiary()||o.enableCashBeneficiary()),O.Fb(1),O.pc("ngIf",!o.enableRemittanceTransfer()&&o.enableInternationalBeneficiary())}}function bn(e,n){if(1&e&&O.Sb(0,"ps-purpose",66),2&e){var t=O.ic(2);O.pc("options",t.purposeOptionsDDLB)}}function dn(e,n){if(1&e&&O.Sb(0,"ps-input-free-text",67),2&e){var t=O.ic(2);O.pc("options",t.purposeOptions)}}function vn(e,n){if(1&e){var t=O.Yb();O.Xb(0,"ps-form-step",3),O.Xb(1,"ps-container-panel",4),O.Pc(2,qe,2,1,"div",5),O.Xb(3,"ps-lookup-own-accounts",6,7),O.fc("onAccountChange",function(e){return O.Fc(t),O.ic().onFromAccountChange(e)}),O.Wb(),O.Pc(5,We,2,1,"ps-lookup-own-accounts",8),O.Pc(6,On,18,18,"ps-complex-segment",9),O.Sb(7,"ps-complex-exchange",10,11),O.Pc(9,bn,1,1,"ps-purpose",12),O.Pc(10,dn,1,1,"ps-input-free-text",13),O.Wb(),O.Xb(11,"ps-container-panel",14),O.Sb(12,"ps-file-upload-bs",15),O.Wb(),O.Wb()}if(2&e){var o=O.ic();O.pc("id",o.stepperOptions.namesofSteps[0]),O.Fb(1),O.pc("options",o.panelOptions1Step2),O.Fb(1),O.pc("ngIf",o.enableRemittanceTransfer()),O.Fb(1),O.pc("options",o.fromAccountList),O.Fb(2),O.pc("ngIf",o.enableOwnAccountTransfer()),O.Fb(1),O.pc("ngIf",o.showSegment),O.Fb(1),O.pc("options",o.complexExchangeOptions),O.Fb(2),O.pc("ngIf",o.showPurpposeSubPurpose),O.Fb(1),O.pc("ngIf",!o.showPurpposeSubPurpose),O.Fb(1),O.pc("options",o.attachmentPanelOptions),O.Fb(1),O.pc("options",o.attachmentUploadOptions)}}function gn(e,n){if(1&e){var t=O.Yb();O.Vb(0),O.Xb(1,"ps-complex-recurring-scheduler",40),O.fc("onPsChange",function(e){return O.Fc(t),O.ic(2).onChangeSchedule(e)}),O.Wb(),O.Ub()}if(2&e){var o=O.ic(2);O.Fb(1),O.pc("options",o.schedulerOptions)}}function Cn(e,n){if(1&e&&(O.Xb(0,"ps-form-step",68),O.Pc(1,gn,2,1,"ng-container",69),O.Wb()),2&e){var t=O.ic();O.pc("id",t.step2Name),O.Fb(1),O.pc("psStep","step2")}}var An,kn=((An=function(n){function t(e,n,o,i){var r,h,m;return s(this,t),(r=u(this,t)).commonProvider=e,r.logger=n,r.nav=o,r.omniPull=i,r.formGroup=new c.f({}),r.exchangeRate="0.00",r.amountInToAccountAmount="0.00",r.ownAccountVO={},r.toBeneficiarySegment="to_benef",r.showPurpposeSubPurpose=!1,r.fromMultiLoader=!1,r.isCifValidated=!1,r.step2Name="payment_step2",r.defaultSegment={},r.stepperOptions={stepperName:"payment_stepper",isHorizontalStepper:!0,numberOfSteps:1,namesofSteps:["payment_step1"],group:r.formGroup,submitOptions:{group:r.formGroup,enableNavigateBack:!!(G.a.oper_ID===V.a.STOP_STANDING_ORDER||G.a.APP_ID==V.a.CORPORATE_APP_ID&&F.a.isChecker&&(null===(m=null===(h=r.nav.getAllParams())||void 0===h?void 0:h.ScreenVO)||void 0===m?void 0:m.status)==V.a.TODO_STATUS_PENDING),submitServiceUrl:F.a.serviceUrl.fundstransferEndPoint,postCallFunction:{func:function(e){var n=this;return new Promise(function(t,o){t(n.executionClass.navigateToBeneficiary(e))})},executionClass:l(r),params:[l(r)]},preCallFunction:{func:function(e){var n=this;return new Promise(function(t,o){t(n.executionClass.updateAccountVO(e))})},executionClass:l(r),params:[l(r)]}},requestObject:r.ownAccountVO},r.panelOptions1Step1={isExpandable:!0,labelKey:"own_account_transfer_key",iconName:"document",expanded:!0},r.panelOptions1Step2={isExpandable:!0,labelKey:"payment_details_key",iconName:"crop",expanded:!0},r.panelOptions2={isExpandable:!0,labelKey:"dynamic_fields_key",iconName:"crop",expanded:!0},r.attachmentPanelOptions={isExpandable:!0,labelKey:"attachments_key",iconName:"document",expanded:!1},r.attachmentUploadOptions={multiple:!0,fcName:"uploadedFiles",group:r.formGroup},r.toBenefPanelOptions={isExpandable:!1,labelKey:"to_beneficiary_transfer_details_key",iconName:"crop",expanded:!0},r.toOtherPanelOptions={isExpandable:!1,labelKey:"to_other_transfer_details_key",iconName:"crop",expanded:!0},r.panelOptionsBenfBankDetails={isExpandable:!0,labelKey:"beneficiary_bank_details_key",iconName:"",expanded:!0},r.fromAccountList={labelKey:"from_account_key",placeHolder:"select_from_account_key",component:a.a,group:r.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"fromAccount",accountType:"G",fromTo:"from",requestObject:r.ownAccountVO},r.toaccountList={labelKey:"to_account_key",placeHolder:"select_to_account_key",component:a.a,group:r.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"toAccount",accountType:"G",fromTo:"to",requestObject:r.ownAccountVO},r.currenciesOptions={labelKey:"currency_key",placeHolder:"select_currency_key",fcName:"currency",group:r.formGroup,currencySource:"to"},r.transferFormatOptions={group:r.formGroup,fcName:"transferFormat",listOfOptions:[{itemValue:"0",description:"By Account",checked:!1},{itemValue:"1",description:"By CIF",checked:!0}]},r.cifAccountOptions={labelKey:"cif_key",placeHolder:"enter_cif_key",fcName:"cifAccount",group:r.formGroup},r.cifAccountList={labelKey:"to_account_key",placeHolder:"select_to_account_key",component:a.a,group:r.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"toCif",accountType:"G",fromTo:"to",requestObject:r.ownAccountVO},r.amountOptions={labelKey:"amount_key",placeHolder:"enter_amount_key",fcName:"amountInFromAccount",group:r.formGroup},r.complexExchangeOptions={editableMode:!1,showToCurrencyOptions:!0,enableTwoWayExchange:!0,fromAmountOptions:{currency:"",currenciesOptions:{placeHolder:"currency_key",labelKey:"currency_key",fcName:"fromCurrency",group:r.formGroup,currencySource:"from"},amountOptions:{labelKey:"amount_key",placeHolder:"enter_amount_key",fcName:"transactionAmount",group:r.formGroup,type:"amount",decimalPoints:2},requestObject:r.ownAccountVO},toAmountOptions:{currency:"",currenciesOptions:{placeHolder:"exchange_currency_key",labelKey:"exchange_currency_key",fcName:"currency",group:r.formGroup,currencySource:"to"},amountOptions:{labelKey:"exchange_amount_key",placeHolder:"enter_amount_key",fcName:"toAmount",group:r.formGroup,type:"amount",decimalPoints:2},requestObject:r.ownAccountVO},requestObject:r.ownAccountVO,group:r.formGroup},r.schedulerOptions={fcName:"psScheduler",group:r.formGroup,periodaicityInputCountOptions:{fcName:"noOfPayments"},requestObject:r.ownAccountVO},r.localBeneficiariesOptions={labelKey:"to_beneficiary_key",placeHolder:"select_to_beneficiary_key",component:f.a,group:r.formGroup,fcName:"toBeneficiary",requestObject:r.ownAccountVO},r.internalBeneficiariesOptions={labelKey:"to_beneficiary_key",placeHolder:"select_to_beneficiary_key",component:Y.a,group:r.formGroup,fcName:"toAccount",requestObject:r.ownAccountVO},r.internationalBeneficiariesOptions={labelKey:"",placeHolder:"select_to_beneficiary_key",component:q.a,group:r.formGroup,fcName:"toBeneficiary",requestObject:r.ownAccountVO},r.cashBeneficiariesOptions={labelKey:"beneficiary_name_key",placeHolder:"select_beneficiary_key",component:p.a,group:r.formGroup,fcName:"toBeneficiary",requestObject:r.ownAccountVO},r.toSwiftList={labelKey:"to_swift_key",placeHolder:"select_to_swift_key",component:D,currency:"USD",group:r.formGroup,fcName:"toSwift"},r.bankCardBeneficiariesOptions={labelKey:"to_card_beneficiary_key",placeHolder:"select_to_beneficiary_key",component:Y.a,group:r.formGroup,fcName:"toBeneficiary",requestObject:r.ownAccountVO},r.localCardBeneficiariesOptions={labelKey:"to_beneficiary_key",placeHolder:"select_to_beneficiary_key",component:f.a,group:r.formGroup,fcName:"toBeneficiary",requestObject:r.ownAccountVO},r.purposeOptionsDDLB={categoryLabelKey:"purpose_key",categoryPlaceholderKey:"select_purpose_key",categoryFcName:"purpose",subCategoryLabelKey:"sub_purpose_key",subCategoryPlaceholderKey:"select_sub_purpose_key",subCategoryFcName:"subPurpose",group:r.formGroup,requestObject:r.ownAccountVO},r.purposeOptions={labelKey:"purpose_key",placeHolder:"add_transfer_purpose_key",group:r.formGroup,fcName:"purposeTxtDesc"},r.toAccountComponent={},r.saveBenefToggleOptions={labelKey:"save_beneficiary_key",placeHolder:"save_beneficiar_key",group:r.formGroup,fcName:"saveBenef",psClass:"toggleColor"},r.toOtherAccountNumberOptions={fcName:"accountNumber",labelKey:"iban_account_no_key",placeHolder:"enter_account_no_iban_key",group:r.formGroup,forceTriggerChange:!0,requestObject:r.ownAccountVO},r.complexSegmentOptions={group:r.formGroup,segmentOptions:{fcName:"beneficiarySegment",segmentList:[{selected:!0,itemValue:"to_benef",description:r.commonProv.translate("to_beneficiary_seg_key")},{selected:!0,itemValue:"to_others",description:r.commonProv.translate("to_other_key")}],defaultSegment:r.defaultSegment,group:r.formGroup},segmentContainerOptions:{numberOfSegments:2,namesofSegments:["beneficiary_segment","other_segment"]}},r.banksOptions={categoryLabelKey:"bank_key",categoryPlaceholderKey:"select_bank_key",categoryFcName:"bank",subCategoryLabelKey:"branch_key",subCategoryPlaceholderKey:"select_branch_key",subCategoryFcName:"branch",group:r.formGroup,requestObject:r.ownAccountVO},r.swiftCodeOptions={fcName:"swiftCode",labelKey:"bic_swift_code_key",placeHolder:"enter_swift_code_key",group:r.formGroup},r.benefCurrencyOptions={fcName:"benefCurrency",group:r.formGroup,labelKey:"beneficiary_currency_key",placeHolder:"select_currency_key",currencySource:"to"},r.remittanceOptions={categoryLabelKey:"remittance_category_key",categoryPlaceholderKey:"select_remittance_category_key",categoryFcName:"remittanceCategory",subCategoryLabelKey:"remittance_type_key",subCategoryPlaceholderKey:"select_remittance_type_key",subCategoryFcName:"remittanceType",group:r.formGroup,requestObject:r.ownAccountVO},r.benefNameOptions={fcName:"benefName",labelKey:"to_beneficiary_key",placeHolder:"add_beneficiary_full_name_key",group:r.formGroup},r.recipientNameOptions={fcName:"recipientName",labelKey:"recipient_name_key",placeHolder:"add_recipient_name_key",group:r.formGroup},r.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:r.formGroup},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber",group:r.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"idExpiryDate",group:r.formGroup},countriesOptions:{placeHolder:"country_of_issuance_key",labelKey:"country_of_issuance_key",fcName:"idCountry",group:r.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"idIssueDate",group:r.formGroup}},r.benefPhoneOptions={fcName:"benefPhone",labelKey:"mobile_no_key",placeHolder:"enter_mobile_no_key",group:r.formGroup},r.cardNumberOptions={group:r.formGroup,labelKey:"card_number_key",placeHolder:"add_card_number_key",fcName:"cardNumber"},r.bankDetailsOptions={swiftCodeOptions:{fcName:"swiftCode_child",labelKey:"bic_swift_code_key",placeHolder:"enter_swift_code_key",group:r.formGroup,iconOptions:null},countriesOptions:{labelKey:"country_key",placeHolder:"select_country_key",fcName:"country",group:r.formGroup,iconOptions:null},cityFreeInputOptions:{labelKey:"city_key",placeHolder:"enter_city_key",fcName:"cityDetails",group:r.formGroup},bankNameOptions:{labelKey:"bank_name_key",placeHolder:"enter_bank_name_key",fcName:"beneficaryBankName",group:r.formGroup,iconOptions:null},branchNameOptions:{labelKey:"branch_key",placeHolder:"enter_branch_key",fcName:"beneficaryBankBranch",group:r.formGroup,iconOptions:null},regionOptions:{labelKey:"region_key",placeHolder:"select_region_key",fcName:"region",selectedCountryCode:"",group:r.formGroup,iconOptions:null},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:"city",group:r.formGroup,iconOptions:null}},r.LocalTransfersBeneficiary=!1,r.LocalTransfersNonBeneficiary=!1,r.EnableLocalBeneficiaryApproval=!1,r.internationTransfersBeneficiary=!1,r.internationTransfersNonBeneficiary=!1,r.enableInternationBeneficiaryApproval=!1,r.transferBetweenBankAccountsBeneficiary=!1,r.transferBetweenBankAccountsNonBeneficiary=!1,r.scheduledLocalTransferBeneficiary=!1,r.scheduledLocalTransferNonBeneficiary=!1,r.scheduledInternationalTransferBeneficiary=!1,r.scheduledInternationalTransferNonBeneficiary=!1,r.showBeneficiaryDropdown=!1,r.showAccountNumber=!1,r.showBeneficiaryDetails=!0,r.showToOtherDetails=!1,r.containerItemOptions={},r.showSegment=!1,r.beneficiaryOptions={placeHolder:"recipinet_name_key",fcName:"benefName",labelKey:"recipient_name_key",group:r.formGroup},r.branchOptions={group:r.formGroup,fcName:"benefBranchTxt",labelKey:"branch_key",placeHolder:"enter_branch_key"},r.beneficiaryNameOptions={group:r.formGroup,fcName:"benefNameTxt",labelKey:"name_key",placeHolder:"enter_beneficiary_name_key"},r.beneficiaryBvnOptions={group:r.formGroup,fcName:"benefBvn",labelKey:"beneficiary_bvn_key",placeHolder:"enter_bvn_key"},r.accountNameOptions={labelKey:"account_name_key",placeHolder:"account_name_key",fcName:"accountName",group:r.formGroup},r.isCifFormatSelected=!1,r}return b(t,n),r(t,[{key:"ngOnInit",value:function(){var e,n,o;h(t,"init",this,3)([]),this.baseFormGroup=this.formGroup;var i=this.commonProv.session.getValueOf(j.a.USERINFO),s=null==i?void 0:i.businessProfiles.find(function(e){return e.operVO.OPER_ID===V.a.PAYMENT_SEC_OPER_ID});try{(null===(e=this.nav.getAllParams())||void 0===e?void 0:e.ScreenVO)?this.updateVOByNavParams(this.nav.getAllParams().ScreenVO):(this.toAccountComponent=this.nav.getAllParams(),this.initAccountVO()),s&&(this.toOtherAccountNumberOptions.showScannerIcon=G.a.oper_ID!==V.a.QR_PAYMENT_OPER_ID&&"MR"!==(null===(n=this.nav.getAllParams())||void 0===n?void 0:n.from)&&(null===(o=s.children)||void 0===o?void 0:o.some(function(e){return e.operVO.OPER_ID===V.a.QR_PAYMENT_OPER_ID})))}catch(r){this.logger.error("Payment Screen Error ! ",r)}switch(this.toAccountComponent&&this.toAccountComponent.scheduler&&(this.stepperOptions.namesofSteps.push(this.step2Name),this.stepperOptions.numberOfSteps=2,this.schedulerOptions.requestObject=this.ownAccountVO),this.toAccountComponent&&this.toAccountComponent.scheduler&&void 0===this.nav.getAllParams().ScreenVO&&this.commonProv.setValInsideNestedObj("periodicity","M",this.ownAccountVO),this.enableLocalBeneficiary()&&(this.LocalTransfersBeneficiary=!0,this.LocalTransfersNonBeneficiary=!0,this.EnableLocalBeneficiaryApproval=!1,this.scheduledLocalTransferBeneficiary=!0,this.scheduledLocalTransferNonBeneficiary=!0,this.enableLocalTransfer(),this.enableRemittanceTransfer()),this.enableInternationalBeneficiary()&&(this.internationTransfersBeneficiary=!0,this.internationTransfersNonBeneficiary=!0,this.enableInternationBeneficiaryApproval=!1,this.scheduledInternationalTransferBeneficiary=!0,this.scheduledInternationalTransferNonBeneficiary=!0,this.enableInternationalTransfer(),this.enableRemittanceTransfer()),this.enableInternalBeneficiary()&&(this.transferBetweenBankAccountsBeneficiary=!0,this.transferBetweenBankAccountsNonBeneficiary=!0,this.enableInternalTransfer(),this.enableRemittanceTransfer()),this.enableCashBeneficiary()&&(this.showSegment=!0,this.showBeneficiaryDropdown=!0),this.enableBankCardBeneficiary()&&(this.showSegment=!0,this.showBeneficiaryDropdown=!0),this.enableLocalCardBeneficiary()&&(this.showSegment=!0,this.showBeneficiaryDropdown=!0),G.a.oper_ID){case V.a.INTRA_BANK_REMITTANCE_TRANSFER:this.panelOptions1Step2.labelKey="intra_bank_remittance_details_key";break;case V.a.LOCAL_REMITTANCE_TRANSFER:this.panelOptions1Step2.labelKey="local_remittance_details_key";break;case V.a.INTERNATIONAL_REMITTANCE_TRANSFER:this.panelOptions1Step2.labelKey="international_remittance_details_key";break;case V.a.BANK_CREDIT_CARD_SETTLEMENT:this.panelOptions1Step2.labelKey="bank_credit_card_settlement_key";break;case V.a.LOCAL_CREDIT_CARD_SETTLEMENT:this.panelOptions1Step2.labelKey="local_credit_card_settlement_key";break;default:this.panelOptions1Step2.labelKey="payment_details_key"}this.fromMultiLoader&&(this.complexExchangeOptions.fromAmountOptions.isMulti=this.fromMultiLoader,this.complexExchangeOptions.toAmountOptions.isMulti=this.fromMultiLoader,this.complexSegmentOptions.segmentOptions.segmentList.pop(),this.complexSegmentOptions.segmentContainerOptions.namesofSegments.pop(),this.complexSegmentOptions.segmentContainerOptions.numberOfSegments=1,this.stepperOptions.group.addControl("operId",new c.d),this.stepperOptions.group.controls.operId.setValue(G.a.oper_ID),this.stepperOptions.requestObject.operId=G.a.oper_ID);var a=this.commonProvider.returnOperCustomization();this.readonlyMode=a.get(j.a.FORM_READONLY).IS_READONLY||!1}},{key:"ngAfterViewInit",value:function(){var e,n=null===(e=this.nav.getAllParams())||void 0===e?void 0:e.ScreenVO;n?(this.commonProv.setValInsideNestedObj(this.currenciesOptions.fcName,n.currency,this.ownAccountVO),n.accountNumber&&this.showSegment&&!this.enableCashBeneficiary()&&this.showToOtherDetails&&(this.ownAccountVO.toBeneficiary=null,this.ownAccountVO.toAccount=null,this.onAccountNumbChanged(n.accountNumber)),this.setSelectedSegment(!0===this.showBeneficiaryDetails?R.a.BENEFICIARY:R.a.OTHER),this.ownAccountVO.saveBenef="true"===n.saveBenef||!0===n.saveBenef):G.a.oper_ID==V.a.QR_PAYMENT_OPER_ID&&this.setSelectedSegment(R.a.OTHER),this.toAccountComponent&&this.toAccountComponent.scheduler&&(this.stepperOptions.schedulerStepIndex=1)}},{key:"ionViewDidEnter",value:function(){if(h(t,"ionViewDidEnter",this,3)([]),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.currenciesOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.saveBenefToggleOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.banksOptions.subCategoryFcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.complexSegmentOptions.segmentOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_READONLY,[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName,this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName],1),this.enableInternalBeneficiary()&&this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_READONLY,[this.benefCurrencyOptions.fcName],1),this.commonProv.setValInsideNestedObj(this.complexSegmentOptions.segmentOptions.fcName,this.complexSegmentOptions.segmentOptions.defaultSegment.itemValue,this.ownAccountVO),G.a.oper_ID===V.a.QR_PAYMENT_OPER_ID&&this.accountNb.getScannedData(!1),this.commonProv.valFromNestedObj("dataSaveId",this.ownAccountVO)||this.commonProv.valFromNestedObj(this.transferFormatOptions.fcName,this.ownAccountVO)||this.commonProv.setValInsideNestedObj(this.transferFormatOptions.fcName,V.a.ACCOUNT_FORMAT_RADIO_VALUE,this.ownAccountVO),this.readonlyMode||this.commonProv.valFromNestedObj(this.transferFormatOptions.fcName,this.ownAccountVO)){var e=this.ownAccountVO[this.transferFormatOptions.fcName];e===V.a.CIF_FORMAT_RADIO_VALUE||e&&e.itemValue===V.a.CIF_FORMAT_RADIO_VALUE?(this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.toOtherAccountNumberOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountOptions.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountList.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_READONLY,[this.accountNameOptions.fcName],1),this.isCifFormatSelected=!0):(this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.toOtherAccountNumberOptions.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountList.fcName],0),this.isCifFormatSelected=!1)}}},{key:"updateVOByNavParams",value:function(e){this.toAccountComponent={toAccountType:e.toAccountType,scheduler:"string"==typeof e.scheduler?"true"==e.scheduler:1==e.scheduler},this.showBeneficiaryDetails=e[this.complexSegmentOptions.segmentOptions.fcName]?"to_benef"==e[this.complexSegmentOptions.segmentOptions.fcName]:e.showBeneficiaryDetails||!e.showToOtherDetails,this.showToOtherDetails=!this.showBeneficiaryDetails,this.showToOtherDetails?(delete e.toBeneficiary,delete e.toBeneficiary_lookupKey):e.toBeneficiary&&(e.toBeneficiary_lookupKey=e.toBeneficiary),this.commonProv.copyObject(this.ownAccountVO,e),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_READONLY,[this.toOtherAccountNumberOptions.fcName,this.saveBenefToggleOptions.fcName,this.purposeOptions.fcName,this.complexExchangeOptions.fromAmountOptions.amountOptions.fcName],e.changeScannedDataToRO||!1)}},{key:"setSelectedSegment",value:function(e){e===R.a.BENEFICIARY?(this.defaultSegment={itemValue:"to_benef",description:this.commonProv.translate("to_beneficiary_seg_key")},this.showBeneficiaryDetails=!0):(this.defaultSegment={itemValue:"to_others",description:this.commonProv.translate("to_other_key")},this.showBeneficiaryDetails=!1,this.formGroup.controls.toAccount&&""==this.formGroup.controls.toAccount.value&&null!=this.ownAccountVO.toAccount&&(this.formGroup.controls.toAccount.setValue(this.ownAccountVO.toAccount),this.formGroup.controls.toAccount_lookupKey.setValue(this.ownAccountVO.toAccount))),this.showToOtherDetails=!this.showBeneficiaryDetails,this.commonProv.setValInsideNestedObj(this.complexSegmentOptions.segmentOptions.fcName,this.defaultSegment.itemValue,this.ownAccountVO),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,["toBeneficiary","toBeneficiary_lookupKey","toAccount","toAccount_lookupKey"],this.showBeneficiaryDetails?1:0),this.enableCashBeneficiary()&&this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.purposeOptions.fcName],this.showBeneficiaryDetails),this.complexSegmentOptions.segmentOptions.defaultSegment=this.defaultSegment}},{key:"onFromAccountChange",value:function(e){var n=this;this.onFromAccountCombinationValidation(e),this.complexExchangeOptions.fromAmountOptions.currency=e.currencyBriefNameEnglish,this.complexExchangeOptions.fromAmountOptions.currencyCode=e.currency,setTimeout(function(){n.stepperOptions.requestObject[n.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]=e.currency},1),this.purposeOnCurrencyChange(),this.enableOwnAccountTransfer()&&this.toAccountRef.removeAccount(e),this.enableCashBeneficiary()&&(this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency)}},{key:"onFromAccountCombinationValidation",value:function(e){if(e&&e[j.a.VALIDATE_COMBINATION]){var n={fromCurrency:+e.currency,listOfAffectedFields:[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef,this.exchangeRef]};this.toAccountComponent.toAccountType===j.a.COMPANY_ACC_TRANSFER?this.ownAccountVO[this.currenciesOptions.fcName]?(n.toCurrency=+this.ownAccountVO[this.currenciesOptions.fcName].itemValue,n.listOfAffectedFields.push(this.toOtherAccountNumberOptions.fcName),n.listOfAffectedFields.push(this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName)):this.ownAccountVO[this.internalBeneficiariesOptions.fcName]&&(n.toCurrency=+this.complexExchangeOptions.toAmountOptions.currencyCode,n.listOfAffectedFields.push(this.internalBeneficiariesOptions.fcName),n.listOfAffectedFields.push(this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName)):this.toAccountComponent.toAccountType===j.a.OWN_ACC_TRANSFER&&this.ownAccountVO[this.toaccountList.fcName]?(n.toCurrency=+this.ownAccountVO[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName].itemValue,n.listOfAccounts.push(this.toAccountRef),n.listOfAffectedFields.push(this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName)):this.toAccountComponent.toAccountType===j.a.BANK_LOCAL_TRANSFER&&this.ownAccountVO[this.localBeneficiariesOptions.fcName]&&(n.toCurrency=+this.ownAccountVO[this.localBeneficiariesOptions.fcName].currency,n.listOfAffectedFields.push(this.localBeneficiariesOptions.fcName)),this.callCurrencyCombinationValidateService(n)}}},{key:"onToAccountChange",value:function(e){var n=this;e&&e[j.a.VALIDATE_COMBINATION]&&this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]&&this.callCurrencyCombinationValidateService({fromCurrency:+(this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName].itemValue?this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName].itemValue:this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]),toCurrency:+e.currency,listOfAffectedFields:[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName,this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef,this.toAccountRef,this.exchangeRef]}),this.toAccountComponent.scheduler&&(G.a.oper_ID=V.a.OWN_ACCOUNT_STANDING_ORDER_OPER_ID),this.complexExchangeOptions.toAmountOptions.currency=e.currencyBriefNameEnglish,this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,setTimeout(function(){n.stepperOptions.requestObject[n.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency},1),this.showExchangeRate(),this.purposeOnCurrencyChange(),this.fromAccountRef.removeAccount(e)}},{key:"internalBeneficiaryChange",value:function(e){this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]&&this.callCurrencyCombinationValidateService({fromCurrency:+(this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName].itemValue?this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName].itemValue:this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]),toCurrency:+e.currency,listOfAffectedFields:[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName,this.internalBeneficiariesOptions.fcName,this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef,this.exchangeRef]}),void 0!==e&&(this.accountNumber=e.accountNumber,this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency,this.stepperOptions.requestObject[this.internalBeneficiariesOptions.fcName]=e),this.purposeOnCurrencyChange()}},{key:"localBeneficiaryChange",value:function(e){this.complexExchangeOptions.fromAmountOptions.currencyCode&&this.callCurrencyCombinationValidateService({fromCurrency:+this.complexExchangeOptions.fromAmountOptions.currencyCode,toCurrency:+e.currency,listOfAffectedFields:[this.fromAccountList.fcName,this.localBeneficiariesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef,this.exchangeRef]}),void 0!==e&&(this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency,this.stepperOptions.requestObject[this.localBeneficiariesOptions.fcName]=e),this.purposeOnCurrencyChange()}},{key:"internationalBeneficiaryChange",value:function(e){void 0!==e&&(this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency,this.stepperOptions.requestObject[this.internationalBeneficiariesOptions.fcName]=e),this.purposeOnCurrencyChange()}},{key:"cashBeneficiaryChange",value:function(e){}},{key:"localCardBeneficiaryChange",value:function(e){this.complexExchangeOptions.fromAmountOptions.currencyCode&&e.currency&&this.callCurrencyCombinationValidateService({fromCurrency:+this.complexExchangeOptions.fromAmountOptions.currencyCode,toCurrency:+e.currency,listOfAffectedFields:[this.fromAccountList.fcName,this.localCardBeneficiariesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef,this.exchangeRef]}),void 0!==e&&(this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency,this.stepperOptions.requestObject[this.localCardBeneficiariesOptions.fcName]=e),this.purposeOnCurrencyChange()}},{key:"bankCardBeneficiaryChange",value:function(e){this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]&&e.currency&&this.callCurrencyCombinationValidateService({fromCurrency:+(this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName].itemValue?this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName].itemValue:this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]),toCurrency:+e.currency,listOfAffectedFields:[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName,this.bankCardBeneficiariesOptions.fcName,this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef,this.exchangeRef]}),void 0!==e&&(this.complexExchangeOptions.toAmountOptions.currencyCode=e.currency,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.currency,this.stepperOptions.requestObject[this.bankCardBeneficiariesOptions.fcName]=e),this.purposeOnCurrencyChange()}},{key:"onInitialPurposeChange",value:function(e){}},{key:"onAmountChange",value:function(e){this.logger.log(e)}},{key:"onChangeSchedule",value:function(e){var n;void 0===this.nav.getAllParams().ScreenVO&&(void 0!==e&&("S"!==e.priodicityBy&&"M"!==e.priodicityBy||(n=e.startDate.getDay()+1,"S"===e.priodicityBy?this.ownAccountVO.submitType="4":(n=e.startDate.getDate(),this.ownAccountVO.submitType="5")),"W"===e.priodicityBy&&(n=e.startDate.getDay()+1,this.ownAccountVO.submitType="5")),this.ownAccountVO.day=n)}},{key:"showExchangeRate",value:function(){this.exchangeChild.showToCurrency()}},{key:"enableOwnAccountTransfer",value:function(){return this.enableOwnAccTrans="ownAccountTransfer"===this.toAccountComponent.toAccountType||"ownAccountStandingOrder"===this.toAccountComponent.toAccountType,this.enableOwnAccTrans}},{key:"enableLocalBeneficiary",value:function(){return this.enableLocalBenef="bankLocalTransfer"===this.toAccountComponent.toAccountType||"bankLocalStandingOrder"===this.toAccountComponent.toAccountType,this.enableLocalBenef}},{key:"enableInternalBeneficiary",value:function(){return this.enableInternalBenef="companyAccountTransfer"===this.toAccountComponent.toAccountType||"companyAccountStandingOrder"===this.toAccountComponent.toAccountType,this.enableInternalBenef}},{key:"enableRemittanceTransfer",value:function(){if(G.a.oper_ID===V.a.INTRA_BANK_REMITTANCE_TRANSFER||G.a.oper_ID===V.a.LOCAL_REMITTANCE_TRANSFER||G.a.oper_ID===V.a.INTERNATIONAL_REMITTANCE_TRANSFER)return this.enableRemittancetrans=!0}},{key:"enableInternationalBeneficiary",value:function(){return this.enableInternationBenef="internationalAccountTransfer"===this.toAccountComponent.toAccountType||"internationalAccountStandingOrder"===this.toAccountComponent.toAccountType,this.enableInternationBenef}},{key:"enableCashBeneficiary",value:function(){return"cashTransfer"===this.toAccountComponent.toAccountType||G.a.oper_ID==V.a.CASH_TRANSFER_OPER_ID||G.a.oper_ID==V.a.STOP_CASH_TRANSFER_OPER_ID}},{key:"enableBankCardBeneficiary",value:function(){return"bankCardSettlement"===this.toAccountComponent.toAccountType}},{key:"enableLocalCardBeneficiary",value:function(){return"localCardSettlement"===this.toAccountComponent.toAccountType}},{key:"onSaveBenefChange",value:function(e){this.ownAccountVO.saveBenef=e.newValue}},{key:"enableInternationalTransfer",value:function(){"internationalAccountStandingOrder"===this.toAccountComponent.toAccountType&&(this.internationTransfersBeneficiary=this.scheduledInternationalTransferBeneficiary,this.internationTransfersNonBeneficiary=this.scheduledInternationalTransferNonBeneficiary),this.internationTransfersBeneficiary&&this.internationTransfersNonBeneficiary&&!this.enableInternationBeneficiaryApproval?(this.showBeneficiaryDropdown=!0,this.internationalBeneficiariesOptions.labelKey="to_account_or_beneficiary_key",this.showSegment=!0):!this.internationTransfersBeneficiary||this.internationTransfersNonBeneficiary||this.enableInternationBeneficiaryApproval?this.internationTransfersBeneficiary&&this.internationTransfersNonBeneficiary&&this.enableInternationBeneficiaryApproval?(this.showBeneficiaryDropdown=!0,this.internationalBeneficiariesOptions.labelKey="to_beneficiary_key",this.showSegment=!0):this.internationTransfersBeneficiary&&!this.internationTransfersNonBeneficiary&&this.enableInternationBeneficiaryApproval?(this.showBeneficiaryDropdown=!0,this.internationalBeneficiariesOptions.labelKey="to_beneficiary_key"):this.internationTransfersBeneficiary||(this.showAccountNumber=!0):(this.showBeneficiaryDropdown=!0,this.internationalBeneficiariesOptions.labelKey="to_beneficiary_key")}},{key:"enableLocalTransfer",value:function(){"bankLocalStandingOrder"===this.toAccountComponent.toAccountType&&(this.LocalTransfersBeneficiary=this.scheduledLocalTransferBeneficiary,this.LocalTransfersNonBeneficiary=this.scheduledLocalTransferNonBeneficiary),this.LocalTransfersBeneficiary&&this.LocalTransfersNonBeneficiary&&!this.EnableLocalBeneficiaryApproval?(this.showBeneficiaryDropdown=!0,this.showSegment=!0):!this.LocalTransfersBeneficiary||this.LocalTransfersNonBeneficiary||this.EnableLocalBeneficiaryApproval?this.LocalTransfersBeneficiary&&this.LocalTransfersNonBeneficiary&&this.EnableLocalBeneficiaryApproval?(this.showBeneficiaryDropdown=!0,this.showSegment=!0):this.LocalTransfersBeneficiary&&!this.LocalTransfersNonBeneficiary&&this.EnableLocalBeneficiaryApproval?this.showBeneficiaryDropdown=!0:this.LocalTransfersBeneficiary||(this.showAccountNumber=!0):this.showBeneficiaryDropdown=!0}},{key:"enableInternalTransfer",value:function(){this.transferBetweenBankAccountsBeneficiary&&this.transferBetweenBankAccountsNonBeneficiary?(this.showBeneficiaryDropdown=!0,this.internalBeneficiariesOptions.labelKey="to_account_or_beneficiary_key",this.showSegment=!0):this.transferBetweenBankAccountsBeneficiary&&!this.transferBetweenBankAccountsNonBeneficiary?(this.showBeneficiaryDropdown=!0,this.internalBeneficiariesOptions.labelKey="to_beneficiary_key"):!this.transferBetweenBankAccountsBeneficiary&&this.transferBetweenBankAccountsNonBeneficiary&&(this.showAccountNumber=!0)}},{key:"navigateToBeneficiary",value:function(e){var n,t,o,i,c,s,a,r,p,u,l,f,h,m,y,O,b,d,v,g,C,A,k,N,_,B,I,w,L,T,x,P,E,S,D,R,F,j,M,G,K,Y,q,W,X,H,U,Q,z,Z,J;!0!==(null===(n=this.formGroup.controls[this.saveBenefToggleOptions.fcName])||void 0===n?void 0:n.value)||this.readonlyMode||(this.enableInternationalBeneficiary()&&(this.stepperOptions.nextPageOptions={operID:V.a.EXTERNAL_BENEFICIARY_OPER_ID,title:"international_beneficiary_key",component:"international-beneficiary",param:{accountNumber:this.accountNumber,benefName:null!==(o=null===(t=this.formGroup.controls[this.benefNameOptions.fcName])||void 0===t?void 0:t.value)&&void 0!==o?o:null===(i=this.formGroup.controls[this.recipientNameOptions.fcName])||void 0===i?void 0:i.value,swiftCode:null===(c=this.formGroup.controls[this.swiftCodeOptions.fcName])||void 0===c?void 0:c.value,country:null===(s=this.formGroup.controls[this.bankDetailsOptions.countriesOptions.fcName])||void 0===s?void 0:s.value,city:null===(a=this.formGroup.controls[this.bankDetailsOptions.cityOptions.fcName])||void 0===a?void 0:a.value,region:null===(r=this.formGroup.controls[this.bankDetailsOptions.regionOptions.fcName])||void 0===r?void 0:r.value,cityDetails:null===(p=this.formGroup.controls[this.bankDetailsOptions.cityFreeInputOptions.fcName])||void 0===p?void 0:p.value,bankName:null===(u=this.formGroup.controls[this.bankDetailsOptions.bankNameOptions.fcName])||void 0===u?void 0:u.value,branch:null===(l=this.formGroup.controls[this.bankDetailsOptions.branchNameOptions.fcName])||void 0===l?void 0:l.value,currency:null===(f=this.formGroup.controls[this.benefCurrencyOptions.fcName])||void 0===f?void 0:f.value,purpose:(null===(h=this.formGroup.controls[this.purposeOptions.fcName])||void 0===h?void 0:h.value)||(null===(m=this.formGroup.controls[this.purposeOptionsDDLB.categoryFcName])||void 0===m?void 0:m.value)}}),this.enableLocalBeneficiary()&&(this.stepperOptions.nextPageOptions={operID:V.a.LOCAL_BENEFICIARY_OPER_ID,title:"local_beneficiary_key",component:"local-beneficiary",param:{accountNumber:this.accountNumber,benefName:null!==(O=null===(y=this.formGroup.controls[this.benefNameOptions.fcName])||void 0===y?void 0:y.value)&&void 0!==O?O:null===(b=this.formGroup.controls[this.recipientNameOptions.fcName])||void 0===b?void 0:b.value,bank:null===(d=this.formGroup.controls[this.banksOptions.categoryFcName])||void 0===d?void 0:d.value,bankFullObj:this.selectedBank,benefBranchTxt:null===(v=this.formGroup.controls[this.branchOptions.fcName])||void 0===v?void 0:v.value,currency:null===(g=this.formGroup.controls[this.benefCurrencyOptions.fcName])||void 0===g?void 0:g.value,purpose:(null===(C=this.formGroup.controls[this.purposeOptions.fcName])||void 0===C?void 0:C.value)||(null===(A=this.formGroup.controls[this.purposeOptionsDDLB.categoryFcName])||void 0===A?void 0:A.value),benefBvn:null===(k=this.formGroup.controls[this.beneficiaryBvnOptions.fcName])||void 0===k?void 0:k.value}}),this.enableInternalBeneficiary()&&(this.stepperOptions.nextPageOptions={operID:V.a.INTERNAL_BENEFICIARY_OPER_ID,title:"internal_beneficiary_key",component:"internal-beneficiary",param:{accountNumber:this.accountNumber,purpose:(null===(N=this.formGroup.controls[this.purposeOptions.fcName])||void 0===N?void 0:N.value)||(null===(_=this.formGroup.controls[this.purposeOptionsDDLB.categoryFcName])||void 0===_?void 0:_.value),benefName:null!==(B=this.formGroup.controls.formData.value.benefName)&&void 0!==B?B:null===(I=this.formGroup.controls[this.recipientNameOptions.fcName])||void 0===I?void 0:I.value,currency:null===(w=this.formGroup.controls[this.benefCurrencyOptions.fcName])||void 0===w?void 0:w.value}}),this.enableLocalCardBeneficiary()&&(this.stepperOptions.nextPageOptions={operID:V.a.LOCAL_CARD_BENEFICIARY_OPER_ID,title:"local_card_beneficiary_key",component:"local-card-beneficiary",param:{cardNumber:null===(L=this.formGroup.controls[this.cardNumberOptions.fcName])||void 0===L?void 0:L.value,benefName:null!==(x=null===(T=this.formGroup.controls[this.beneficiaryNameOptions.fcName])||void 0===T?void 0:T.value)&&void 0!==x?x:null===(P=this.formGroup.controls[this.recipientNameOptions.fcName])||void 0===P?void 0:P.value,bank:null===(E=this.formGroup.controls[this.banksOptions.categoryFcName])||void 0===E?void 0:E.value,bankFullObj:this.selectedBank,benefBranchTxt:null===(S=this.formGroup.controls[this.branchOptions.fcName])||void 0===S?void 0:S.value,currency:null===(D=this.formGroup.controls[this.benefCurrencyOptions.fcName])||void 0===D?void 0:D.value,purpose:this.formGroup.controls[this.purposeOptions.fcName].value||this.formGroup.controls[this.purposeOptionsDDLB.categoryFcName].value}}),this.enableBankCardBeneficiary()&&(this.stepperOptions.nextPageOptions={operID:V.a.BANK_CARD_BENEFICIARY_OPER_ID,title:"bank_card_beneficiary_key",component:"internal-card-beneficiary",param:{cardNumber:null===(R=this.formGroup.controls[this.cardNumberOptions.fcName])||void 0===R?void 0:R.value,purpose:(null===(F=this.formGroup.controls[this.purposeOptions.fcName])||void 0===F?void 0:F.value)||this.formGroup.controls[this.purposeOptionsDDLB.categoryFcName].value,benefName:null!==(M=null===(j=this.formGroup.controls[this.beneficiaryNameOptions.fcName])||void 0===j?void 0:j.value)&&void 0!==M?M:null===(G=this.formGroup.controls[this.recipientNameOptions.fcName])||void 0===G?void 0:G.value,currency:null===(K=this.formGroup.controls[this.benefCurrencyOptions.fcName])||void 0===K?void 0:K.value}}),this.enableCashBeneficiary()&&(this.stepperOptions.nextPageOptions={operID:V.a.CASH_BENEFICIARY_OPER_ID,title:V.a.CASH_TRANSFER_DESC,component:"cash-transfer",param:{benefName:null!==(q=null===(Y=this.formGroup.controls[this.benefNameOptions.fcName])||void 0===Y?void 0:Y.value)&&void 0!==q?q:null===(W=this.formGroup.controls[this.recipientNameOptions.fcName])||void 0===W?void 0:W.value,benefPhone:null===(X=this.formGroup.controls[this.benefPhoneOptions.fcName])||void 0===X?void 0:X.value,idType:null===(H=this.formGroup.controls[this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName])||void 0===H?void 0:H.value,idNumber:null===(U=this.formGroup.controls[this.complexIdDetailsOptions.idNumberOptions.fcName])||void 0===U?void 0:U.value,idExpiryDate:null===(Q=this.formGroup.controls[this.complexIdDetailsOptions.dateExpiryOptions.fcName])||void 0===Q?void 0:Q.value,idIssueDate:null===(z=this.formGroup.controls[this.complexIdDetailsOptions.issueDateOptions.fcName])||void 0===z?void 0:z.value,purpose:(null===(Z=this.formGroup.controls[this.purposeOptions.fcName])||void 0===Z?void 0:Z.value)||(null===(J=this.formGroup.controls[this.purposeOptionsDDLB.categoryFcName])||void 0===J?void 0:J.value)}}))}},{key:"onClickSegment",value:function(e){this.setSelectedSegment(e===this.toBeneficiarySegment?R.a.BENEFICIARY:R.a.OTHER),this.resetSegmentData(e)}},{key:"resetSegmentData",value:function(e){var n,t;e===this.toBeneficiarySegment?(this.resetComponentVal([this.toOtherAccountNumberOptions.fcName]),this.enableLocalBeneficiary()?this.resetComponentVal([this.branchOptions.fcName,this.banksOptions.categoryFcName,this.benefCurrencyOptions.fcName,this.beneficiaryBvnOptions.fcName]):this.enableInternationalBeneficiary()?(this.resetComponentVal([this.swiftCodeOptions.fcName,this.benefCurrencyOptions.fcName]),this.commonProv.setValInsideNestedObj(this.benefNameOptions.fcName,null,this.ownAccountVO),this.commonProv.setValInsideNestedObj(this.bankDetailsOptions.countriesOptions.fcName,null,this.ownAccountVO),this.commonProv.setValInsideNestedObj(this.bankDetailsOptions.cityFreeInputOptions.fcName,null,this.ownAccountVO),this.commonProv.setValInsideNestedObj(this.bankDetailsOptions.bankNameOptions.fcName,null,this.ownAccountVO),this.commonProv.setValInsideNestedObj(this.bankDetailsOptions.branchNameOptions.fcName,null,this.ownAccountVO)):this.enableLocalCardBeneficiary()&&this.resetComponentVal([this.banksOptions.categoryFcName,this.branchOptions.fcName])):((null===(n=this.formGroup.controls.toBeneficiary)||void 0===n?void 0:n.value)||(null===(t=this.formGroup.controls.toAccount)||void 0===t?void 0:t.value))&&(this.enableLocalBeneficiary()?this.localBeneficiaryLookupComponentObj.reset():this.enableInternationalBeneficiary()?this.internationalBeneficiaryLookupComponentObj.reset():this.enableInternalBeneficiary()?this.internalBeneficiaryLookupComponentObj.reset():this.enableLocalCardBeneficiary()?this.localCardBeneficiaryLookupComponentObj.reset():this.enableBankCardBeneficiary(),this.bankCardBeneficiaryLookupComponentObj.reset())}},{key:"onEmptyAccountNumb",value:function(e){this.resetComponentVal([this.beneficiaryOptions.fcName,this.benefCurrencyOptions.fcName,this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]),this.complexExchangeOptions.toAmountOptions.currencyCode=void 0,this.exchangeChild.showToCurrency()}},{key:"onAccountNumbChanged",value:function(e){var n;this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]&&this.callCurrencyCombinationValidateService(),this.accountNumber=e?e.newValue?e.newValue:e:void 0,this.accountNumber&&""==(null===(n=this.formGroup.controls[this.internalBeneficiariesOptions.fcName])||void 0===n?void 0:n.value)&&this.formGroup.controls[this.toOtherAccountNumberOptions.fcName].setValue(this.accountNumber)}},{key:"callCurrencyCombinationValidateService",value:function(e){var n,t,o=this;e||(e={fromCurrency:+((null===(n=this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName])||void 0===n?void 0:n.itemValue)||this.ownAccountVO[this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName]),toCurrency:+((null===(t=this.ownAccountVO[this.benefCurrencyOptions.fcName])||void 0===t?void 0:t.itemValue)||this.ownAccountVO[this.benefCurrencyOptions.fcName]),listOfAffectedFields:[this.toOtherAccountNumberOptions.fcName,this.complexExchangeOptions.fromAmountOptions.currenciesOptions.fcName,this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName],screenVO:this.ownAccountVO,listOfAccounts:[this.fromAccountRef]}),e.fromCurrency&&e.toCurrency&&this.omniPull.validateCurrencyCombination(e).then(function(e){e||o.showToOtherDetails&&o.resetComponentVal([o.benefCurrencyOptions.fcName,o.beneficiaryOptions.fcName]),o.deleteNullPropsFromVO()})}},{key:"onBankChanged",value:function(e){e&&(this.selectedBank=e)}},{key:"onSwiftCodeChanged",value:function(e){}},{key:"onBenefCurrencyChanged",value:function(e){void 0!==e&&(this.enableInternalBeneficiary()||this.callCurrencyCombinationValidateService(),this.complexExchangeOptions.toAmountOptions.currency=e.selectedObj.briefDescription,this.complexExchangeOptions.toAmountOptions.currencyCode=e.itemValue,this.stepperOptions.requestObject[this.complexExchangeOptions.toAmountOptions.currenciesOptions.fcName]=e.itemValue,this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.complexExchangeOptions.toAmountOptions.fcName],0),this.showExchangeRate()),this.purposeOnCurrencyChange()}},{key:"purposeOnCurrencyChange",value:function(){void 0!==this.complexExchangeOptions.fromAmountOptions.currencyCode&&void 0!==this.complexExchangeOptions.toAmountOptions.currencyCode&&(this.commonProv.getLKCompany().isLK&&this.complexExchangeOptions.fromAmountOptions.currencyCode!==this.complexExchangeOptions.toAmountOptions.currencyCode&&this.complexExchangeOptions.toAmountOptions.currencyCode==this.commonProv.getLKCompany().currencyCode?(this.showPurpposeSubPurpose=!0,this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.purposeOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.purposeOptionsDDLB.categoryFcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.purposeOptionsDDLB.subCategoryFcName],1),this.ownAccountVO[this.purposeOptions.fcName]=null):(this.showPurpposeSubPurpose=!1,this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.purposeOptionsDDLB.categoryFcName],0),this.ownAccountVO[this.purposeOptionsDDLB.categoryFcName]=null,this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.purposeOptionsDDLB.subCategoryFcName],0),this.ownAccountVO[this.purposeOptionsDDLB.subCategoryFcName]=null))}},{key:"updateAccountVO",value:function(e){this.ownAccountVO.toAccountType=this.toAccountComponent.toAccountType,this.ownAccountVO.scheduler=this.toAccountComponent.scheduler,this.ownAccountVO[this.schedulerOptions.periodaicityInputCountOptions.fcName]==this.commonProv.translate("unlimited_key")&&this.commonProv.setValInsideNestedObj(this.schedulerOptions.periodaicityInputCountOptions.fcName,"Unlimited",this.ownAccountVO),this.fromMultiLoader||(G.a.oper_ID=e.ownAccountVO.operId||G.a.oper_ID),this.accountNumber=(this.formGroup.controls[this.toOtherAccountNumberOptions.fcName]?this.formGroup.controls[this.toOtherAccountNumberOptions.fcName].value:null)||this.accountNumber,this.accountNumber&&(this.enableInternalBeneficiary()&&(!this.ownAccountVO.toAccount&&M.a.isNotObject(this.ownAccountVO.toAccount)&&(this.ownAccountVO.toAccount={accountNumber:this.accountNumber}),this.ownAccountVO.accountNumber=this.accountNumber),!this.ownAccountVO.toBeneficiary&&M.a.isNotObject(this.ownAccountVO.toBeneficiary)&&(this.enableInternationalBeneficiary()&&(this.ownAccountVO.toBeneficiary={accountNumber:this.accountNumber,swiftCode:this.formGroup.controls[this.swiftCodeOptions.fcName].value,currency:this.formGroup.controls[this.benefCurrencyOptions.fcName].value}),this.enableLocalBeneficiary()&&(this.ownAccountVO.toBeneficiary={accountNumber:this.accountNumber,benefBankId:this.formGroup.controls[this.banksOptions.categoryFcName].value,currency:this.formGroup.controls[this.benefCurrencyOptions.fcName].value}))),this.deleteNullPropsFromVO()}},{key:"onCifValidated",value:function(e){var n=this;e.cifStatus===V.a.ACTIVE_CIF_STATUS?(this.isCifValidated=!0,this.cifAccountList.queryParams={userCifNo:e.cif},this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountList.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.cifAccountList.fcName],1),setTimeout(function(){var e;null===(e=n.toCifAccountObj)||void 0===e||e.loadAccounts()},0)):(this.formGroup.controls[this.cifAccountOptions.fcName].setValue(""),M.a.presentFailureAlert(this.commonProv.translate("cif_is_not_active_key")),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountList.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.cifAccountList.fcName],0))}},{key:"onCifAccountSelected",value:function(e){e&&(this.commonProv.setValInsideNestedObj(this.accountNameOptions.fcName,e.accountTypeDesc,this.ownAccountVO),this.commonProv.setValInsideNestedObj(this.benefCurrencyOptions.fcName,e.currency,this.ownAccountVO),this.accountNumber=e.accountNumber)}},{key:"onTransferFormatChanged",value:function(e){var n,t;null!=e&&void 0!==e&&(e.itemValue==V.a.ACCOUNT_FORMAT_RADIO_VALUE?(this.isCifFormatSelected=!1,this.isCifValidated=!1,this.ownAccountVO.cifAccount&&(null===(n=this.cifAccount)||void 0===n||n.resetCifField(),null===(t=this.toCifAccountObj)||void 0===t||t.reset(),this.commonProv.setValInsideNestedObj(this.accountNameOptions.fcName,null,this.ownAccountVO),this.commonProv.setValInsideNestedObj(this.benefCurrencyOptions.fcName,null,this.ownAccountVO)),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.toOtherAccountNumberOptions.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.toOtherAccountNumberOptions.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.cifAccountOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.cifAccountList.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountList.fcName],0)):e.itemValue==V.a.CIF_FORMAT_RADIO_VALUE&&(this.isCifFormatSelected=!0,this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.toOtherAccountNumberOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.toOtherAccountNumberOptions.fcName],0),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_MANDATORY,[this.cifAccountOptions.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_VISIBLE,[this.cifAccountOptions.fcName],1),this.commonProv.applyDynScreenDisplay(j.a.ACTION_TYPE_READONLY,[this.accountNameOptions.fcName],1)))}},{key:"deleteNullPropsFromVO",value:function(){for(var e in this.ownAccountVO)null!=this.ownAccountVO[e]&&""!==this.ownAccountVO[e]||delete this.ownAccountVO[e]}},{key:"initAccountVO",value:function(){this.ownAccountVO.toAccountType=this.toAccountComponent.toAccountType,this.ownAccountVO.scheduler=this.toAccountComponent.scheduler,this.ownAccountVO.saveBenef=!1}},{key:"getScannedData",value:function(e){e[1]||(this.showToOtherDetails=!0,this.showBeneficiaryDetails=!1,this.setSelectedSegment(R.a.OTHER)),e[0]&&(this.accountNumber=e[0].accountNumber,this.commonProv.copyObject(this.ownAccountVO,e[0]))}},{key:"resetComponentVal",value:function(n){var t,o=e(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;this.commonProv.setValInsideNestedObj(i,null,this.ownAccountVO)}}catch(c){o.e(c)}finally{o.f()}this.deleteNullPropsFromVO()}}])}(W.OmniBasePage)).\u0275fac=function(e){return new(e||An)(O.Rb(g.a),O.Rb(v.a),O.Rb(K.a),O.Rb(X.a))},An.\u0275cmp=O.Lb({type:An,selectors:[["app-payment"]],viewQuery:function(e,n){var t;1&e&&(O.Wc(m.a,1),O.Wc(Se,1),O.Wc(Q,1),O.Wc(De,1),O.Wc(Ve,1),O.Wc(Re,1),O.Wc(Fe,1),O.Wc(je,1),O.Wc(Me,1),O.Wc(Ge,1),O.Wc(Ke,1),O.Wc(Ye,1)),2&e&&(O.Bc(t=O.gc())&&(n.exchangeChild=t.first),O.Bc(t=O.gc())&&(n.accountNb=t.first),O.Bc(t=O.gc())&&(n.cifAccount=t.first),O.Bc(t=O.gc())&&(n.toAccountRef=t.first),O.Bc(t=O.gc())&&(n.fromAccountRef=t.first),O.Bc(t=O.gc())&&(n.toCifAccountObj=t.first),O.Bc(t=O.gc())&&(n.exchangeRef=t.first),O.Bc(t=O.gc())&&(n.localBeneficiaryLookupComponentObj=t.first),O.Bc(t=O.gc())&&(n.internalBeneficiaryLookupComponentObj=t.first),O.Bc(t=O.gc())&&(n.internationalBeneficiaryLookupComponentObj=t.first),O.Bc(t=O.gc())&&(n.bankCardBeneficiaryLookupComponentObj=t.first),O.Bc(t=O.gc())&&(n.localCardBeneficiaryLookupComponentObj=t.first))},features:[O.Cb],decls:3,vars:4,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"ngIf"],["step1","",3,"id"],["id","payment_panel",3,"options"],[4,"ngIf"],["id","'transferFrom'+ id",3,"options","onAccountChange"],["fromAccountRef",""],["id","'transferTo'+ id",3,"options","onAccountChange",4,"ngIf"],["class","transfer-select-segment","id","transferSegment",3,"options","complexSegmentButtonClicked",4,"ngIf"],["id","exchange",3,"options"],["exchangeRef",""],["id","purpose",3,"options",4,"ngIf"],["id","'purpose' + id",3,"options",4,"ngIf"],["id","attachment_panel",3,"options"],["id","ps-complex-file-upload",3,"options"],[3,"options"],["id","'transferTo'+ id",3,"options","onAccountChange"],["toAccountRef",""],["id","transferSegment",1,"transfer-select-segment",3,"options","complexSegmentButtonClicked"],["segment1","",3,"id"],["id","to-beneficiary-details",1,"payment-segment-panel",3,"options"],["id","'localbeneficiarytransferTo'+ id",3,"options","onBenificiaryChange",4,"ngIf"],["id","'internalbeneficiarytransferTo'+\n              id",3,"options","onBenificiaryChange",4,"ngIf"],["id","'internationalbeneficiarytransferTo'+ id",3,"options","onBenificiaryChange",4,"ngIf"],["id","'cashtransferTo'+ id",3,"options","onBenificiaryChange",4,"ngIf"],["id","'internalcardbeneficiarysettlementTo'+ id",3,"options","onBenificiaryChange",4,"ngIf"],["segment2","",3,"id"],["id","to-other-details",1,"payment-segment-panel",3,"options"],["id","bank_benef_panel",3,"options",4,"ngIf"],["id","'localbeneficiarytransferTo'+ id",3,"options","onBenificiaryChange"],["localBeneficiaryLookupComponentObj",""],["id","'internalbeneficiarytransferTo'+\n              id",3,"options","onBenificiaryChange"],["internalBeneficiaryLookupComponentObj",""],["id","'internationalbeneficiarytransferTo'+ id",3,"options","onBenificiaryChange"],["internationalBeneficiaryLookupComponentObj",""],["id","'cashtransferTo'+ id",3,"options","onBenificiaryChange"],["id","'internalcardbeneficiarysettlementTo'+ id",3,"options","onBenificiaryChange"],["bankCardBeneficiaryLookupComponentObj",""],["localCardBeneficiaryLookupComponentObj",""],[3,"options","onPsChange"],["id","branch_name",3,"options"],["id","beneficiaryBvn",3,"options"],[1,"radio-button",3,"options","onPsChange"],[3,"options","cifValidated",4,"ngIf"],["class","cif-account-lookup-container",4,"ngIf"],[3,"options","cifValidated"],[1,"cif-account-lookup-container"],[3,"options","onAccountChange"],["toCifAccountObj",""],["id","id",3,"options","onPsChange",4,"ngIf"],[3,"options","getScannedQr","onPsChange","onPsEmpty",4,"ngIf"],["id","accountName",3,"options",4,"ngIf"],["id","benefName",3,"options",4,"ngIf"],["id","recipientName",3,"options",4,"ngIf"],[3,"options",4,"ngIf"],["id","id",3,"options","onPsChange"],[3,"options","getScannedQr","onPsChange","onPsEmpty"],["accountNb",""],["id","accountName",3,"options"],["id","benefName",3,"options"],["id","recipientName",3,"options"],["id","complex_id_details1",3,"options"],["id","beneficiary_name",3,"options"],[3,"id","options","onPsChange"],["id","bank_benef_panel",3,"options"],["id","purpose",3,"options"],["id","'purpose' + id",3,"options"],["step2","",3,"id"],[4,"psStep"]],template:function(e,n){1&e&&(O.Xb(0,"ps-template-stepper",0),O.Pc(1,vn,13,11,"ps-form-step",1),O.Pc(2,Cn,2,2,"ps-form-step",2),O.Wb()),2&e&&(O.pc("options",n.stepperOptions)("id",n.stepperOptions.stepperName),O.Fb(1),O.pc("psStep","step1"),O.Fb(1),O.pc("ngIf",n.toAccountComponent.scheduler))},directives:[z.a,Z.a,C.o,J.a,$.a,ee.a,m.a,ne.a,oe,ie.a,ce.a,ue,fe,me,ye,be,ve,ge.a,Ce.a,Ae.a,ke.a,Q,y.a,Ne.a,_e.a,Be.a,Ie.a,we.a,Le.a,Te.a,xe,Pe.a,Ee.a],styles:[""]}),An)},"x3b/":function(e,n,t){"use strict";t.d(n,"a",function(){return p});var o=t("DFXC"),i=t("Q0Ba"),c=t("BYmO"),a=t("fXoL"),p=function(){var e=function(e){function n(e,t){var o;return s(this,n),(o=u(this,n,[e,t])).options={},o.defaultOptions={mask:{mask:"9999 9999 9999 9999"},labelKey:"card_number_key",placeHolder:"enter_your_card_number_key",type:"tel",imageOptions:{imageName:"",psClass:"card-action-image"}},o}return b(n,e),r(n,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultOptions,this.options,!1)}},{key:"changeCardIcon",value:function(e){var n=e.target.value;this.defaultOptions.imageOptions.imageName=n.startsWith("4")?"Visa-Curved.png":this.checkCard(52,55,n)||this.checkCard(2221,2720,n)?"Mastercard-Curved.png":n.startsWith("34")||n.startsWith("37")?"American-Express-Curved.png":n.startsWith("6011")||n.startsWith("65")?"Discover-Straight.png":n.startsWith("36")||n.startsWith("38")||this.checkCard(300,305,n)?"DinerClub.png":n.startsWith("35")||n.startsWith("2131")||n.startsWith("1800")?"jbc-card.jpg":""}},{key:"checkCard",value:function(e,n,t){var o=!1;if(t&&e&&n)for(var i=e;i<=n;i++)if(t.startsWith(i.toString())){o=!0;break}return o}}])}(c.a);return e.\u0275fac=function(n){return new(n||e)(a.Rb(i.a),a.Rb(o.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["ps-input-card-number"]],inputs:{options:"options"},features:[a.Cb],decls:1,vars:2,consts:[[1,"ps-input-card-number",3,"id","options","keyup"]],template:function(e,n){1&e&&(a.Xb(0,"ps-keyin-input",0),a.fc("keyup",function(e){return n.changeCardIcon(e)}),a.Wb()),2&e&&a.pc("id",n.id)("options",n.defaultOptions)},directives:[c.a],styles:[""]}),e}()}}])}();