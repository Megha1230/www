!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return e(t,i);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=Array(e);i<e;i++)o[i]=t[i];return o}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,s(o.key),o)}}function n(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function l(t,e,i){return e=u(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,i||[],u(t).constructor):e.apply(t,i))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p=function(){return!!t})()}function a(t,e,i,o){var n=c(u(1&o?t.prototype:t),e,i);return 2&o&&"function"==typeof n?function(t){return n.apply(i,t)}:n}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var o=r(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}}).apply(null,arguments)}function r(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[2,339,340,341,342,343,344,345,346,347,348,349],{L0og:function(e,o,s){"use strict";s.d(o,"a",function(){return J});var p=s("fXoL"),c=s("ZF3V"),r=s("DFXC"),u=s("zngb"),m=s("qEF5"),d=s("QZhd"),f=s("woXy"),O=s("Q0Ba"),v=s("ofXK"),b=s("F1Jl"),g=s("Isd1"),k=s("BYmO"),L=s("3Pt+"),y=s("K+6K"),I=s("ilDp");function w(t,e){if(1&t){var i=p.Yb();p.Xb(0,"div",11),p.Xb(1,"span"),p.Rc(2),p.Wb(),p.Xb(3,"ps-action-icon",12),p.fc("onClick",function(){p.Fc(i);var t=e.$implicit,o=e.index;return p.ic(3).deleteSingleItem(t,o,"multi-select-single-item-"+o)}),p.Wb(),p.Wb()}if(2&t){var o=e.$implicit,n=e.index,s=p.ic(3);p.qc("id","multi-select-single-item-"+n),p.Fb(2),p.Sc(o.item),p.Fb(1),p.pc("options",s.deleteSingleItemOptions)("id",s.id+"_stat")}}function D(t,e){if(1&t&&(p.Xb(0,"div"),p.Xb(1,"div",9),p.Rc(2),p.Wb(),p.Pc(3,w,4,4,"div",10),p.Wb()),2&t){var i=p.ic(2);p.Fb(2),p.Sc(i.labelSelectedItems),p.Fb(1),p.pc("ngForOf",i.options.selectedItems)}}function C(t,e){if(1&t){var i=p.Yb();p.Xb(0,"ps-action-icon",13),p.fc("onClick",function(){return p.Fc(i),p.ic(2).confirmMultipleSelection()}),p.Wb()}if(2&t){var o=p.ic(2);p.pc("options",o.saveMultipleOptions)("id",o.id+"_stat")}}function P(t,e){if(1&t){var i=p.Yb();p.Xb(0,"ps-action-icon",13),p.fc("onClick",function(){return p.Fc(i),p.ic(2).resetMultipleSelection()}),p.Wb()}if(2&t){var o=p.ic(2);p.pc("options",o.resetMultipleOptions)("id",o.id+"_stat")}}function S(t,e){if(1&t&&(p.Xb(0,"div",5),p.Pc(1,D,4,2,"div",6),p.Xb(2,"div",7),p.Pc(3,C,1,2,"ps-action-icon",8),p.Pc(4,P,1,2,"ps-action-icon",8),p.Wb(),p.Wb()),2&t){var i=p.ic();p.Fb(1),p.pc("ngIf",i.options.multiple),p.Fb(2),p.pc("ngIf",i.options.multiple),p.Fb(1),p.pc("ngIf",i.options.multiple)}}function N(t,e){if(1&t&&p.Sb(0,"ps-keyin-input",16),2&t){var i=p.ic(2);p.pc("options",i.disableSelectDropdownOptions)}}var A=function(t){return{"fixed-keyin-multiple-container":t,"ps-container-lookup-option-details lookup-card-margin-bottom":!0}};function E(t,e){if(1&t&&(p.Xb(0,"div",14),p.Pc(1,N,1,1,"ps-keyin-input",15),p.Wb()),2&t){var i=p.ic();p.pc("ngClass",p.sc(2,A,!0===i.options.multiple)),p.Fb(1),p.pc("ngIf",i.enableEmptyOpt)}}var R,F=function(t,e,i,o){return{"lookup-dropdown-content-show":t,"lookup-dropdown-content":e,"lookup-dropdown-content-show-popup":i,"lookup-dropdown-content-show-multiple":o}},_=function(t,e,i){return{"select-item-card":t,"lookup-dropdown-content-show lookup-dropdown-content":e,"lookup-dropdown-content-multiple":i}},M=((R=function(e){function o(t,e){var n;return i(this,o),(n=l(this,o,[t,e])).options={},n.changeItem=new p.o,n.onDeleteItem=new p.o,n.onPagination=new p.o,n.dynamicComponentOptions={},n.templateOptions=[],n.cardContentOptions=[],n.disableSelectDropdownOptions={},n.enableEmptyOpt=d.a.enableEmptyOpt,n.saveMultipleOptions={},n.resetMultipleOptions={},n.deleteSingleItemOptions={},n.totalNbRec=0,n.numberOfItrations=0,n.loadMoreData=!1,n.numberOfRowsToShow=5,n.tempItemList=[],n.tempNumberOfItrations=0,n.noCardClicked=!0,n.labelSelectedItems=n.commonProv.translate("selected_items_key"),n}return h(o,e),n(o,[{key:"ngOnInit",value:function(){a(o,"ngOnInit",this,3)([]),this.options.selectedItems=[],this.disableSelectDropdownOptions={labelKey:"",placeHolder:"",fcName:this.options.fcName,group:new L.f({}),disablePreview:!0,allowCust:!1},this.saveMultipleOptions={iconName:"checkmark-circle-outline",allowCust:!0,labelKey:"Confirm"},this.resetMultipleOptions={labelKey:"Reset",allowCust:!0,iconName:"close-circle"},this.deleteSingleItemOptions={labelKey:"delete",allowCust:!0,iconName:"trash"},this.dynamicComponentOptions.labelKey=this.options.labelKey,this.dynamicComponentOptions.component=this.options.component,this.dynamicComponentOptions.listOfOptions=this.options.listOfOptions,this.dynamicComponentOptions.group=this.options.group,this.dynamicComponentOptions=this.options,this.loadLabelsValueMap(),null==this.options.itemList&&(this.itemArraySize=2)}},{key:"onScroll",value:function(t){var e,i;if(!0===this.options.enableListPagination){var o=(null===(e=this.options.selectedItems)||void 0===e?void 0:e.length)>1&&(null===(i=this.options.itemList)||void 0===i?void 0:i.length)===this.options.selectedItems.length;if(!this.totalNbRec||o)return;var n=t.target,s=this.options.itemList.length!==this.options.listOfOptions.length||this.options.itemList.length<this.totalNbRec,l=this.lastClickedIndex===(this.tempItemList?this.tempItemList.length:0)-1;n.scrollTop+n.clientHeight>=n.scrollHeight-5&&s&&(this.noCardClicked||l)&&(this.numberOfItrations++,this.tempNumberOfItrations=this.numberOfItrations,this.loadData())}}},{key:"loadData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadMoreData||(this.loadMoreData=!0,this.applyPagination(t))}},{key:"applyPagination",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.totalNbRec=this.options.listOfOptions?this.options.listOfOptions.length:0,this.totalNbRec>0){var i;if(this.noCardClicked=!0,e&&(this.options.itemList=[]),this.options.enableListPagination){var o,n,s;s=0==this.numberOfItrations?this.numberOfItrations*this.numberOfRowsToShow:this.tempNumberOfItrations*this.numberOfRowsToShow;var l=this.options.listOfOptions.slice(s,s+this.numberOfRowsToShow);this.tempItemList.length>0?((o=this.tempItemList).push.apply(o,t(l)),this.options.itemList=this.tempItemList):((n=this.options.itemList).push.apply(n,t(l)),this.tempItemList=this.options.itemList)}else(i=this.options.itemList).push.apply(i,t(this.options.listOfOptions));this.onPagination.emit(this.options.itemList),this.loadMoreData=!1}}},{key:"updateLastClickedIndex",value:function(t){if(t){var e=this.options.itemList.findIndex(function(e){return e.lookupKey===t.lookupKey});this.lastClickedIndex=e}}},{key:"onClickCard",value:function(t){this.options.enableListPagination&&(this.options.itemList=this.tempItemList,this.updateLastClickedIndex(null==t?void 0:t.item)),this.options.multiple?this.onclickCardMultiple(t):(t&&t.itemList&&(this.options.enableListPagination||(this.options.itemList=t.itemList),this.options.showSelectedCard=!0),t&&t.itemList&&1===t.itemList.length?(this.itemArraySize=1,this.options.showDefaultTemplate=!1):t&&t.itemList&&t.itemList.length>1&&(this.itemArraySize=2),this.changeItem.emit(t))}},{key:"onclickCardMultiple",value:function(t){if(this.options.multiple){var e=!1;this.itemArraySize=2,this.options.enableListPagination||(this.options.itemList=t.listOfOptions),this.options.selectedItems.forEach(function(i){i.itemLookup===t.item.lookupKey&&(e=!0)}),e||this.options.selectedItems.push({item:t.item[t.item.previewProperty],itemDetailed:t.item,itemLookup:t.item.lookupKey})}}},{key:"changeMarginOnItemChange",value:function(){this.options.multiple&&(document.getElementById("ps-option-list-component-dropdown").style.marginTop=(40*this.options.selectedItems.length).toString()+"px")}},{key:"deleteSingleItem",value:function(t,e,i){var o=this;document.getElementById(i).classList.remove("multiSelectSingleItemInAnimation"),document.getElementById(i).classList.add("multipleSelectSingleItemDeleteAnimation"),setTimeout(function(){o.options.selectedItems.splice(e,1),o.changeMarginOnItemChange()},600),this.onDeleteItem.emit(t)}},{key:"showSelectedDiv",value:function(t){this.options.multiple&&(this.itemArraySize=t?2:1)}},{key:"loadLabelsValueMap",value:function(){var t=this;Array.from(this.options.labelsValueMap).forEach(function(e){t.templateOptions.push({key:e[0],value:e[1].value})})}},{key:"confirmMultipleSelection",value:function(){this.noCardClicked=!1,this.options.selectedItems.length>0?(this.itemArraySize=1,this.changeItem.emit({confirmMultiple:!0,itemList:this.options.selectedItems})):(this.itemArraySize=1,this.options.selectedItems=[])}},{key:"resetMultipleSelection",value:function(){var t=this;this.common.presentPsAlert({header:"are_you_sure_key",buttons:[{options:{labelKey:"no_key",group:null},handler:function(){m.a.dismissAllModals()}},{options:{labelKey:"yes_key",group:null},handler:function(){m.a.dismissAllModals(),t.options.selectedItems=[],t.itemArraySize=1,t.options.itemList=null}}]},"confirm_reset")}},{key:"ngOnChanges",value:function(){this.dynamicComponentOptions.component=this.options.component,this.dynamicComponentOptions.listOfOptions=this.options.listOfOptions,this.dynamicComponentOptions.showItemPopUp=this.options.showItemPopUp,this.dynamicComponentOptions.group=this.options.group,(null==this.options.itemList||this.options.itemList.length>0||this.options.multiple&&this.options.showSelectedCard)&&(this.itemArraySize=2)}}])}(c.a)).\u0275fac=function(t){return new(t||R)(p.Rb(O.a),p.Rb(r.a))},R.\u0275cmp=p.Lb({type:R,selectors:[["ps-select-lookup-option-list"]],inputs:{options:"options"},outputs:{changeItem:"changeItem",onDeleteItem:"onDeleteItem",onPagination:"onPagination"},features:[p.Cb,p.Db],decls:5,vars:14,consts:[[3,"ngClass","scroll"],[3,"ngClass"],["id","scrollableContent","class","fixed-keyin-multiple-container-selected fixed-keyin-multiple-container ps-container-lookup-option-details lookup-card-margin-bottom",4,"ngIf"],["id","ps-option-list-component-dropdown","class","ps-option-list-component-dropdown",3,"ngClass",4,"ngIf"],[3,"options","onClickCard"],["id","scrollableContent",1,"fixed-keyin-multiple-container-selected","fixed-keyin-multiple-container","ps-container-lookup-option-details","lookup-card-margin-bottom"],[4,"ngIf"],[1,"inline-buttons-group"],["class","inline-multiple-buttons",3,"options","id","onClick",4,"ngIf"],[1,"selected-items-label"],["class","selected-items-values multiSelectSingleItemInAnimation",3,"id",4,"ngFor","ngForOf"],[1,"selected-items-values","multiSelectSingleItemInAnimation",3,"id"],[1,"single-item-delete-buttons",3,"options","id","onClick"],[1,"inline-multiple-buttons",3,"options","id","onClick"],["id","ps-option-list-component-dropdown",1,"ps-option-list-component-dropdown",3,"ngClass"],[3,"options",4,"ngIf"],[3,"options"]],template:function(t,e){1&t&&(p.Xb(0,"div",0),p.fc("scroll",function(t){return e.onScroll(t)}),p.Xb(1,"div",1),p.Pc(2,S,5,3,"div",2),p.Pc(3,E,2,4,"div",3),p.Xb(4,"ps-dynamic-component-loader",4),p.fc("onClickCard",function(t){return e.onClickCard(t)}),p.Wb(),p.Wb(),p.Wb()),2&t&&(p.pc("ngClass",p.vc(5,F,e.options.showSelectedCard,!e.options.showSelectedCard,e.dynamicComponentOptions.itemList==e.dynamicComponentOptions.listOfOptions,!0===e.options.multiple)),p.Fb(1),p.pc("ngClass",p.uc(10,_,1===e.itemArraySize,e.itemArraySize>1,!0===e.options.multiple)),p.Fb(1),p.pc("ngIf",e.options.multiple&&e.itemArraySize>1),p.Fb(1),p.pc("ngIf",e.itemArraySize>1),p.Fb(1),p.pc("options",e.dynamicComponentOptions))},directives:[v.m,v.o,y.a,v.n,I.a,k.a],styles:[""]}),R),U=s("KVmc"),T=s("5oTP"),V=s("BqtM"),j=["selectLookUpRef"];function W(t,e){if(1&t&&(p.Xb(0,"div",3),p.Sb(1,"ps-icon-customization",4),p.Wb()),2&t){var i=p.ic();p.Fb(1),p.pc("options",i.custIconOptions)}}function K(t,e){if(1&t&&p.Sb(0,"ps-label",18),2&t){var i=p.ic(2);p.pc("options",i.noValidAccountsLabelOptions)}}function X(t,e){1&t&&(p.Xb(0,"div"),p.Xb(1,"p",19),p.Rc(2),p.jc(3,"translate"),p.Wb(),p.Wb()),2&t&&(p.Fb(2),p.Tc(" ",p.kc(3,1,"selected_value_not_exist_key")," "))}function B(t,e){if(1&t){var i=p.Yb();p.Xb(0,"ps-keyin-input",20),p.fc("onPsChange",function(t){return p.Fc(i),p.ic(2).onChangeItem(t)}),p.Wb()}if(2&t){var o=p.ic(2);p.pc("options",o.lookupDropDownOptions)("hidden",!0)}}var x=function(t,e,i){return{label:t,labelSelected:e,disableContent:i}},z=function(t,e){return{"is-expanded":t,"item-was-selected":e}},q=function(t,e){return{"no-value-selected":t,"value-selected":e}};function Y(t,e){if(1&t){var i=p.Yb();p.Xb(0,"ps-container-complex",5),p.Xb(1,"div",6),p.Xb(2,"div",7),p.Xb(3,"div",8),p.fc("click",function(){return p.Fc(i),p.ic().presentLoader()}),p.Sb(4,"ps-keyin-input",9,10),p.Xb(6,"div",11),p.Sb(7,"div",12),p.Wb(),p.Wb(),p.Xb(8,"ps-select-lookup-option-list",13,14),p.fc("changeItem",function(t){return p.Fc(i),p.ic().emitItemDetails(t)})("onDeleteItem",function(t){return p.Fc(i),p.ic().deletedItem(t)})("onPagination",function(t){return p.Fc(i),p.ic().fillPaginationList(t)}),p.Wb(),p.Wb(),p.Wb(),p.Pc(10,K,1,1,"ps-label",15),p.Pc(11,X,4,3,"div",16),p.Pc(12,B,1,2,"ps-keyin-input",17),p.Wb()}if(2&t){var o=p.ic();p.pc("id",o.id),p.Fb(2),p.pc("ngClass",p.uc(10,x,(null==o.selectLookUpOptions||null==o.selectLookUpOptions.itemList?null:o.selectLookUpOptions.itemList.length)>=0,1===(null==o.selectLookUpOptions||null==o.selectLookUpOptions.itemList?null:o.selectLookUpOptions.itemList.length),o.disableLookup)),p.Fb(1),p.pc("ngClass",p.tc(14,z,o.toggleCardList,o.previewList.length>0)),p.Fb(1),p.pc("ngClass",p.tc(17,q,!o.hidePlaceholder(),o.hidePlaceholder()))("options",o.lookupOptions),p.Fb(4),p.pc("id",o.id)("options",o.selectLookUpOptions),p.Fb(2),p.pc("ngIf",!o.bAccountsFound),p.Fb(1),p.pc("ngIf",o.showWarning),p.Fb(1),p.pc("ngIf",(null==o.selectLookUpOptions.listOfOptions?null:o.selectLookUpOptions.listOfOptions.length)>0)}}function H(t,e){if(1&t&&p.Sb(0,"ps-label-input",25),2&t){var i=p.ic(2);p.pc("id","lbl_"+i.id)("options",i.selectLookUpOptions)}}function G(t,e){if(1&t&&(p.Xb(0,"div",21),p.Pc(1,H,1,2,"ps-label-input",22),p.Sb(2,"span",23),p.Sb(3,"ps-label-input",24),p.Wb()),2&t){var i=p.ic();p.Fb(1),p.pc("ngIf",i.selectLookUpOptions.labelKey),p.Fb(1),p.pc("innerHTML",i.delimiter,p.Gc),p.Fb(1),p.pc("id","value_preview_"+i.id)("options",i.previewValOptions)}}var Q,J=((Q=function(t){function e(t,o,n,s){var a;return i(this,e),(a=l(this,e,[t,o])).elementRef=n,a.navigationServices=s,a.options={requestObject:null,notFoundMessage:""},a.selectLookUpOptions={},a.changeItem=new p.o,a.onDeleteItem=new p.o,a.clickElsewhere=new p.o,a.bAccountsFound=!0,a.lookupOptions={},a.tempLookupDropDownOptions={},a.toggleCardList=!1,a.noValidAccountsLabelOptions={},a.tempItemList=[],a.lookupDropDownMultipleOptions={},a.previewList=[],a.labelValueMap="",a.itemLookupKeyArray=[],a}return h(e,t),n(e,[{key:"lookupDropDownOptions",get:function(){if(this.options&&this.options.listOfOptions&&this.options.listOfOptions.length>0){var t=this.options.listOfOptions[0];if(t){var e=m.a.extractPropertyNames(t,this.options.fcName+".");e&&e.length>0&&(this.options.group.controls[this.options.fcName][u.a.CONTROLLER_EXTRA_OPTION_DETAILS]=e)}}return this.tempLookupDropDownOptions}},{key:"disableLookup",get:function(){this.lookupOptions.labelKey=this.options.labelKey,this.lookupOptions.placeHolder=this.options.placeHolder,this.lookupOptions.allowCust=!1;var t=this.commonProv.getElementValidations(this.lookupOptions.fcName),e=this.lookupOptions.group.controls[this.options.fcName].value;return e&&Object.keys(e),!(!t||1!==t.IS_READONLY)}},{key:"showDropdownIcon",get:function(){var t=this.commonProv.getElementValidations(this.lookupOptions.fcName);return(!t||0!==t.IS_VISIBLE)&&d.a.showDropdownIcon}},{key:"ngOnInit",value:function(){this.commonProv.addComponentValidator(this.options.group,this.options.fcName,this.common.prepareValidation(!1,null,null,null,null,null,null,null,[this.commonProv.custOnlyObjectAllowed()])),a(e,"init",this,3)([]),this.lookupOptions={labelKey:this.options.labelKey,placeHolder:this.options.placeHolder,fcName:this.options.fcName,group:this.options.group,disablePreview:!0},this.tempLookupDropDownOptions={labelKey:this.options.labelKey,placeHolder:this.options.placeHolder,fcName:this.options.fcName+"_lookupKey",group:this.options.group,type:this.options.multiple?void 0:"true",disablePreview:!0,forceTriggerChange:!0},this.custIconOptions.component=e,this.custIconOptions.componentOptions=this.options,this.custIconOptions.allowCust=!1,this.custIconOptions.availableCustomization.IS_MANDATORY=!0,this.custIconOptions.availableCustomization.PLACEHOLDER_LABEL_ID=!0,this.lookupOptions.allowCust=!this.custMode,this.noValidAccountsLabelOptions={labelKey:""!==this.options.notFoundMessage?this.options.notFoundMessage:"no_data_found_key",translate:!0},this.loadOptions(),this.commonProv.applyDynScreenDisplay(u.a.ACTION_TYPE_MANDATORY,[this.tempLookupDropDownOptions.fcName],0)}},{key:"previewValOptions",get:function(){return{labelKey:this.fcValueDesc,psClass:"ps-value-preview",previewMode:!0}}},{key:"fcValueDesc",get:function(){return this.labelValueMap}},{key:"popListUp",value:function(){this.disableLookup||(this.options&&this.options.listOfOptions&&this.options.listOfOptions.length>0&&this.toggleCardList?(this.options.listOfOptions.map(function(t,e){return t.rowIndex=e}),this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName,null,this.options.requestObject),this.commonProv.setValInsideNestedObj(this.lookupDropDownOptions.fcName,null,this.options.requestObject),this.bAccountsFound=!0,this.selectLookUpOptions={},this.options.showDefaultTemplate=!1,this.selectLookUpOptions=this.options,this.options.enableListPagination?this.resetPagination():this.selectLookUpOptions.itemList=this.options.listOfOptions,this.selectLookUpOptions.showSelectedCard=!0,this.selectLookUpOptions.multiple=!!this.options.multiple&&this.options.multiple,this.selectLookUpRef.showSelectedDiv(!0),this.toggleSearchElement()):this.options&&void 0!==this.options.itemList&&this.options.itemList.length>=1?(this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName,null,this.options.requestObject),this.commonProv.setValInsideNestedObj(this.lookupDropDownOptions.fcName,null,this.options.requestObject),this.toggleCardList=!this.toggleCardList,this.options.enableListPagination?this.resetPagination():this.selectLookUpOptions.itemList=this.options.listOfOptions):this.toggleCardList&&this.options.listOfOptions&&0===this.options.listOfOptions.length&&(this.bAccountsFound=!1),this.toggleCardList=!this.toggleCardList)}},{key:"toggleSearchElement",value:function(t){if(this.selectLookUpElRef.nativeElement){var e=this.selectLookUpElRef.nativeElement.querySelector("ps-input-search-html");t&&e?(e.querySelector("*[psFcName]").value="",e.classList.add("hide-search-element")):e&&e.classList.remove("hide-search-element")}}},{key:"resetPagination",value:function(){this.selectLookUpRef.numberOfItrations=0,this.selectLookUpRef.tempNumberOfItrations=0,this.selectLookUpRef.tempItemList=[],this.selectLookUpOptions.itemList=[],this.selectLookUpRef.options.itemList&&0!==this.selectLookUpRef.options.itemList.length||this.selectLookUpRef.applyPagination(!0)}},{key:"fillPaginationList",value:function(t){this.selectLookUpOptions.itemList=t}},{key:"presentLoader",value:function(){var t=this;this.commonProv.presentLoading(),setTimeout(function(){t.checkOnListOfOptions()},500)}},{key:"checkOnListOfOptions",value:function(){var t=this;if(this.options&&void 0!==this.options.listOfOptions)return this.toggleCardList=!0,this.commonProv.dismissLoading(),void this.popListUp();setTimeout(function(){t.checkOnListOfOptions()},1e3)}},{key:"onDocumentClick",value:function(t){var e=t.target;!e||this.elementRef.nativeElement.contains(e)||"showMore"===e.id||"showLess"===e.id||this.options.multiple||(this.options&&this.selectLookUpOptions&&this.selectLookUpOptions.itemList&&(1===this.selectLookUpOptions.itemList.length||this.options.multiple)?(this.selectLookUpOptions.showSelectedCard=!0,this.selectLookUpOptions.showDefaultTemplate=d.a.showDefaultTemplateOption):(this.selectLookUpOptions.showSelectedCard=!1,this.selectLookUpOptions.showDefaultTemplate=d.a.showDefaultTemplateOption))}},{key:"emitItemDetails",value:function(t){if(this.toggleSearchElement(!0),this.options.multiple)t&&t.confirmMultiple&&this.setSelectedItems(t.itemList);else if(t&&void 0!==t.item){this.commonProv.setValInsideNestedObj(this.tempLookupDropDownOptions.fcName,t.item.lookupKey,this.options.requestObject);var e=this.options.listOfOptions.filter(function(e){return e.lookupKey===t.item.lookupKey}).shift();this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName,e,this.options.requestObject),e[u.a.VALIDATE_COMBINATION]=!1,this.options.group.controls[this.tempLookupDropDownOptions.fcName].value||this.options.group.controls[this.tempLookupDropDownOptions.fcName][u.a.OLD_VALUE]!=t.item.lookupKey||(e[u.a.VALIDATE_COMBINATION]=!0,this.changeItem.emit(e))}}},{key:"setSelectedItems",value:function(t){var e=[];t.forEach(function(t){e.push(t.lookupKey||t.itemLookup)}),this.commonProv.setValInsideNestedObj(this.tempLookupDropDownOptions.fcName,e,this.options.requestObject)}},{key:"loadOptions",value:function(){this.options.showDefaultTemplate=d.a.showDefaultTemplateOption,this.selectLookUpOptions=this.options,this.selectLookUpOptions.multiple=!!this.options.multiple&&this.options.multiple}},{key:"onChangeItem",value:function(t){if(this.toggleCardList=!1,void 0!==t&&void 0!==this.options.listOfOptions)if(this.selectLookUpOptions.multiple)this.multiSelectObject(t);else{var e=this.options.listOfOptions.filter(function(e){return e.lookupKey==t.newValue}).shift();e?(this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName,e,this.options.requestObject),this.options.itemList=[],this.previewList=[],this.selectLookUpOptions.itemList[0]=e,this.previewList.push(e[e.previewProperty]),this.selectLookUpRef.onClickCard(this.selectLookUpOptions),e[u.a.VALIDATE_COMBINATION]=!0,this.changeItem.emit(e),this.previewBuilder(),this.showWarning=!1):(this.options.itemList=[],this.showWarning=!0)}}},{key:"multiSelectObject",value:function(t){var e=this,i=[];"string"==typeof t.newValue?i.push(t.newValue):i=t.newValue,this.tempItemList=[],this.previewList=[],i.forEach(function(t){var i=e.options.listOfOptions.filter(function(e){return e.lookupKey===t}).shift();i&&(e.previewList.push(i[i.previewProperty]),e.tempItemList.push(i))}),this.options.itemList=this.tempItemList,this.selectLookUpOptions.itemList=this.tempItemList,this.selectLookUpOptions.showSelectedCard=!0,this.selectLookUpRef.showSelectedDiv(!1),this.commonProv.setValInsideNestedObj(this.lookupOptions.fcName,this.tempItemList,this.options.requestObject),this.tempItemList.length>0?(this.showWarning=!1,this.changeItem.emit(this.tempItemList)):(this.options.itemList=[],this.showWarning=!0),this.previewBuilder()}},{key:"previewBuilder",value:function(){if(this.labelValueMap="",this.selectLookUpOptions.multiple){if(this.previewList.length>=1)for(var t=0;t<this.previewList.length;t++){var e=this.previewList[t];this.labelValueMap+=t+1===this.previewList.length?e:e+", "}}else this.labelValueMap=this.previewList[0]}},{key:"deletedItem",value:function(t){t&&void 0!==t&&this.onDeleteItem.emit(t)}},{key:"resetLookUp",value:function(){var t;this.options.selectedItems=[],this.options.itemList=null,this.common.setValInsideNestedObj(this.options.fcName,null,this.options.requestObject),this.common.setValInsideNestedObj(this.lookupDropDownOptions.fcName,null,this.options.requestObject),null===(t=this.options.group.controls[this.lookupDropDownOptions.fcName])||void 0===t||t.reset()}},{key:"hidePlaceholder",value:function(){var t,e,i,o,n,s,l,p,a;return(null===(e=null===(t=this.selectLookUpOptions)||void 0===t?void 0:t.itemList)||void 0===e?void 0:e.length)>=1?Array.isArray(null===(i=this.options)||void 0===i?void 0:i.requestObject[this.lookupDropDownOptions.fcName])?(null===(n=null===(o=this.options)||void 0===o?void 0:o.requestObject[this.lookupDropDownOptions.fcName])||void 0===n?void 0:n.length)==(null===(l=null===(s=this.selectLookUpOptions)||void 0===s?void 0:s.itemList)||void 0===l?void 0:l.length):(null===(p=this.options)||void 0===p?void 0:p.requestObject[this.lookupDropDownOptions.fcName])==(null===(a=this.selectLookUpOptions)||void 0===a?void 0:a.itemList[0].lookupKey):0}}])}(c.a)).\u0275fac=function(t){return new(t||Q)(p.Rb(O.a),p.Rb(r.a),p.Rb(p.m),p.Rb(f.a))},Q.\u0275cmp=p.Lb({type:Q,selectors:[["ps-complex-lookup"]],viewQuery:function(t,e){var i;1&t&&(p.Wc(j,1),p.Wc(j,1,p.m)),2&t&&(p.Bc(i=p.gc())&&(e.selectLookUpRef=i.first),p.Bc(i=p.gc())&&(e.selectLookUpElRef=i.first))},hostBindings:function(t,e){1&t&&p.fc("click",function(t){return e.onDocumentClick(t)},!1,p.Dc)},inputs:{options:"options"},outputs:{changeItem:"changeItem",onDeleteItem:"onDeleteItem",clickElsewhere:"clickElsewhere"},features:[p.Cb],decls:3,vars:3,consts:[["class","ps-keyin-input-label-cust",4,"ngIf"],["class","ps-complex-lookup",3,"id",4,"ngIf"],["class","ps-custom-component-preview","psPreviewEngine","",4,"ngIf"],[1,"ps-keyin-input-label-cust"],[3,"options"],[1,"ps-complex-lookup",3,"id"],[1,"select-card-dropDown"],[3,"ngClass"],[1,"select-lookup-input-wrapper",3,"ngClass","click"],[3,"ngClass","options"],["inputRef",""],[1,"ps-select-lookup-arrow-wrapper"],["id","dropdonwArrow",1,"mat-select-arrow","dropdown-arrow"],[3,"id","options","changeItem","onDeleteItem","onPagination"],["selectLookUpRef",""],["class","no-account-found-message",3,"options",4,"ngIf"],[4,"ngIf"],[3,"options","hidden","onPsChange",4,"ngIf"],[1,"no-account-found-message",3,"options"],[1,"validation-message"],[3,"options","hidden","onPsChange"],["psPreviewEngine","",1,"ps-custom-component-preview"],["class","ps-lbl-preview",3,"id","options",4,"ngIf"],[3,"innerHTML"],[1,"ps-value-preview",3,"id","options"],[1,"ps-lbl-preview",3,"id","options"]],template:function(t,e){1&t&&(p.Pc(0,W,2,1,"div",0),p.Pc(1,Y,13,20,"ps-container-complex",1),p.Pc(2,G,4,4,"div",2)),2&t&&(p.pc("ngIf",e.custMode),p.Fb(1),p.pc("ngIf",e.showDropdownIcon||e.custMode),p.Fb(1),p.pc("ngIf",e.previewMode&&e.visible))},directives:[v.o,b.a,g.a,v.m,k.a,M,U.a,T.a],pipes:[V.a],styles:[""]}),Q)},gKqT:function(t,e,o){"use strict";o.r(e),o.d(e,"OmniBasePage",function(){return m});var s=o("oS+F"),l=o("zngb"),p=o("QZhd"),a=o("woXy"),c=o("qEF5"),r=o("Q0Ba"),u=o("lE2x"),h=o("fXoL"),m=function(){var t=function(){return n(function t(){i(this,t),this.isPageDisabled=!1,this.commonProv=c.a.injectionHandler(r.a),this.navigationServices=c.a.injectionHandler(a.a)},[{key:"init",value:function(){this.currentOperID=p.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();var t=this.navigationServices.getAllParams(),e={};t&&!0===t.readOnlypage?(e.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(l.a.FORM_READONLY,e)):this.customizationMap&&(e.IS_READONLY=0,this.customizationMap.set(l.a.FORM_READONLY,e)),this.screenTranslationOperIds=u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}},{key:"ngOnInit",value:function(){this.init()}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter()}},{key:"ionViewWillLeave",value:function(){this.viewWillLeave()}},{key:"ionViewWillEnter",value:function(){this.viewWillEnter()}},{key:"viewWillEnter",value:function(){}},{key:"disableForm",value:function(t){var e=this;if(void 0!==t&&this.customizationMap){var i=this.customizationMap.get(l.a.FORM_READONLY);i&&1===i.IS_READONLY&&"DISABLED"!=t.status&&(t.disable(),Object.keys(t.controls).forEach(function(t){e.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[t],1)}))}}},{key:"viewDidEnter",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:p.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:p.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),s.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}},{key:"viewWillLeave",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:p.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:p.a.oper_ID,{value:!0,page:this,willLeave:!0})}},{key:"ngAfterViewChecked",value:function(){var t=this;this.isPageDisabled||setTimeout(function(){t.disableForm(t.baseFormGroup),t.isPageDisabled=!0},300)}},{key:"getScreenTranslations",value:function(t){var e=t||2222,i=p.a.activeLanguge?p.a.activeLanguge:"EN";e&&i&&this.commonProv.language.getOperTranslation(i,e)}}])}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Lb({type:t,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(t,e){2&t&&h.Hb(e.psClass)},decls:0,vars:0,template:function(t,e){},styles:[""]}),t}()}}])}();