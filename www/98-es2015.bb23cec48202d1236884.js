(window.webpackJsonp=window.webpackJsonp||[]).push([[98,339,340,341,342,343,344,345,346,347,348,349],{HHWS:function(e,t,i){"use strict";i.r(t),i.d(t,"CifOpeningPage",function(){return z});var o=i("3Pt+"),s=i("V0Fi"),n=i("fOh1"),a=i("0CJq"),p=i("ZyuK"),r=i("f42Q"),l=i("DFXC"),c=i("zngb"),m=i("woXy"),f=i("Q0Ba"),u=i("gKqT"),h=i("QZhd"),d=i("fXoL"),O=i("kRg/"),y=i("uKCV"),b=i("sAFK"),_=i("+f2X"),N=i("7XXa"),g=i("WAnK"),k=i("/QlS"),D=i("YgGx"),C=i("b46R"),I=i("rqw/"),S=i("ofXK"),P=i("CUOr"),E=i("SsJY"),F=i("41l2");let v=(()=>{class e extends F.a{constructor(e,t){super(e,t),this.defaultSelectOptions={iconLocation:n.a.ICON_LOCATION_GENERAL,lovTypeId:s.a.RESIDENCY_LOV_TYPE_ID}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options),this.defaultSelectOptions.labelKey=this.commonProv.translate("residency_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("residency_key")}onChangeLov(e){this.loggerP.log("onResidencyChange"+e),this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(f.a),d.Rb(l.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["ps-lov-residency"]],inputs:{options:"options"},features:[d.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(d.Xb(0,"ps-dropdown-lov",0),d.fc("onPsChange",function(e){return t.onChangeLov(e)}),d.Wb()),2&e&&d.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[F.a],styles:[""]}),e})();var T=i("7/W0"),G=i("sV6Y"),A=i("BYmO"),K=i("7Cko"),x=i("ULj9"),H=i("WyFo"),V=i("ZF3V"),B=i("Isd1"),L=i("P7Z/");let w=(()=>{class e extends V.a{constructor(e,t){super(e,t),this.commonProv=e,this.loggerP=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(f.a),d.Rb(l.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["ps-complex-user-contact"]],inputs:{options:"options"},features:[d.Cb],decls:3,vars:2,consts:[[3,"options"]],template:function(e,t){1&e&&(d.Xb(0,"ps-container-complex"),d.Sb(1,"ps-input-email",0),d.Sb(2,"ps-entity-phone-number",0),d.Wb()),2&e&&(d.Fb(1),d.pc("options",t.options.emailBankOptions),d.Fb(1),d.pc("options",t.options.phoneNumberBankOptions))},directives:[B.a,L.a,K.a],styles:[""]}),e})();var R=i("b23T"),Y=i("ggmK"),X=i("iTqn");function M(e,t){if(1&e&&d.Sb(0,"ps-dropdown-country",13),2&e){const e=d.ic(2);d.pc("options",e.birthCountriesOptions)}}function W(e,t){if(1&e){const e=d.Yb();d.Xb(0,"ps-form-step",4),d.Xb(1,"ps-container-panel",5),d.Xb(2,"ps-complex-cif-id-types",6),d.fc("onPsChange",function(t){return d.Fc(e),d.ic().onCifTypeSelected(t)}),d.Wb(),d.Sb(3,"ps-input-numeric",7),d.Wb(),d.Xb(4,"ps-container-panel",5),d.Vb(5),d.Xb(6,"div",8),d.Xb(7,"ps-input-varchar",6),d.fc("onPsChange",function(t){return d.Fc(e),d.ic().onNameChange(t)}),d.Wb(),d.Sb(8,"ps-input-varchar",5),d.Xb(9,"ps-input-varchar",6),d.fc("onPsChange",function(t){return d.Fc(e),d.ic().onNameChange(t)}),d.Wb(),d.Sb(10,"ps-input-varchar",5),d.Sb(11,"ps-input-varchar",5),d.Wb(),d.Xb(12,"div",8),d.Sb(13,"ps-input-varchar",5),d.Sb(14,"ps-input-varchar",5),d.Wb(),d.Ub(),d.Sb(15,"ps-input-varchar",5),d.Sb(16,"ps-input-varchar",5),d.Sb(17,"ps-input-varchar",5),d.Wb(),d.Xb(18,"ps-container-panel",5),d.Sb(19,"ps-complex-personal-details",5),d.Sb(20,"ps-lov-gender",5),d.Sb(21,"ps-dropdown-legal-status",9),d.Pc(22,M,1,1,"ps-dropdown-country",10),d.Sb(23,"ps-dropdown-ranking",5),d.Sb(24,"ps-complex-eco-sector",11),d.Wb(),d.Xb(25,"ps-container-panel",5),d.Xb(26,"ps-lov-residency",12),d.fc("onPsChange",function(t){return d.Fc(e),d.ic().onResidencyChange(t)}),d.Wb(),d.Sb(27,"ps-dropdown-country",13),d.Sb(28,"ps-complex-cif-details",5),d.Sb(29,"ps-keyin-input",5),d.Sb(30,"ps-entity-phone-number",5),d.Wb(),d.Xb(31,"ps-container-panel",14),d.Xb(32,"ps-complex-select-branch",6),d.fc("onPsChange",function(t){return d.Fc(e),d.ic().onSelectBranch(t)}),d.Wb(),d.Wb(),d.Wb()}if(2&e){const e=d.ic();d.pc("id",e.stepperOptions.namesofSteps[0]),d.Fb(1),d.pc("options",e.panelIdDetailsOptions),d.Fb(1),d.pc("options",e.cifOptions),d.Fb(1),d.pc("options",e.tinNumberOptions),d.Fb(1),d.pc("options",e.panelCifInformationOptions),d.Fb(2),d.pc("hidden",e.isInstitutionType),d.Fb(1),d.pc("options",e.firstNameOptions),d.Fb(1),d.pc("options",e.middleNameOptions),d.Fb(1),d.pc("options",e.lastNameOptions),d.Fb(1),d.pc("options",e.motherFirstNameOptions),d.Fb(1),d.pc("options",e.motherLastNameOptions),d.Fb(1),d.pc("hidden",!e.isInstitutionType),d.Fb(1),d.pc("options",e.longNameOptions),d.Fb(1),d.pc("options",e.shortNameOptions),d.Fb(1),d.pc("options",e.shortNameArabicOptions),d.Fb(1),d.pc("options",e.longNameArabicOptions),d.Fb(1),d.pc("options",e.customerNameValOptions),d.Fb(1),d.pc("options",e.panelAditionalInformationOptions),d.Fb(1),d.pc("options",e.defaultPersonalDetailsOptions),d.Fb(1),d.pc("options",e.genderOptions),d.Fb(1),d.pc("options",e.lstatusOptions),d.Fb(1),d.pc("ngIf",!e.isInstitutionType),d.Fb(1),d.pc("options",e.rankingOptions),d.Fb(1),d.pc("options",e.complexEcoSectorOptions),d.Fb(1),d.pc("options",e.panelCifAddressOptions),d.Fb(1),d.pc("options",e.residencyOptions),d.Fb(1),d.pc("options",e.countriesOptions),d.Fb(1),d.pc("options",e.defaultCifDetailsOptions),d.Fb(1),d.pc("options",e.moreAddressDetailsInputOptions),d.Fb(1),d.pc("options",e.mobileNumberOptions),d.Fb(1),d.pc("options",e.panelSelectBranch),d.Fb(1),d.pc("options",e.selectBranchOptions)}}function j(e,t){if(1&e&&(d.Xb(0,"ps-container-panel",5),d.Sb(1,"ps-input-display-only",20),d.Wb()),2&e){const e=d.ic(2);d.pc("options",e.panelAccountOptions),d.Fb(1),d.pc("options",e.branchOptions)}}function U(e,t){if(1&e&&(d.Xb(0,"ps-form-step",15),d.Xb(1,"ps-container-panel",16),d.Sb(2,"ps-complex-employment-details",5),d.Wb(),d.Xb(3,"ps-container-panel",17),d.Sb(4,"ps-complex-user-contact",5),d.Wb(),d.Pc(5,j,2,2,"ps-container-panel",18),d.Xb(6,"ps-container-panel",5),d.Sb(7,"ps-file-upload-bs",19),d.Sb(8,"ps-input-varchar",5),d.Wb(),d.Wb()),2&e){const e=d.ic();d.pc("id",e.stepperOptions.namesofSteps[1]),d.Fb(1),d.pc("options",e.panelEmployementDetailsOptions),d.Fb(1),d.pc("options",e.defaultEmployeeOptions),d.Fb(1),d.pc("options",e.panelBankRegisterOptions),d.Fb(1),d.pc("options",e.userContactOptions),d.Fb(1),d.pc("ngIf",e.enableCifBranch),d.Fb(1),d.pc("options",e.panelAttachementOptions),d.Fb(1),d.pc("options",e.fileUploadOptions),d.Fb(1),d.pc("options",e.commentOptions)}}function q(e,t){if(1&e&&(d.Xb(0,"ps-form-step",21),d.Sb(1,"ps-map-atm-branches",22),d.Wb()),2&e){const e=d.ic();d.pc("id",e.stepperOptions.namesofSteps[2]),d.Fb(1),d.pc("options",e.mapAtmBranchesOptions)}}let z=(()=>{class e extends u.OmniBasePage{constructor(e,t,i,s,a,p){super(),this.commonService=e,this.omniPull=t,this.navService=i,this.loggerP=s,this.eventEmitterService=a,this.common=p,this.formGroup=new o.f({}),this.enableCifBranch=!1,this.cifOpeningVO={},this.isInstitutionType=!1,this.stepperOptions={stepperName:"cif_open_stepper",isHorizontalStepper:!0,numberOfSteps:3,namesofSteps:["cif_open_step1","cif_open_step2","cif_open_step3"],group:this.formGroup,submitOptions:{extraParams:{},submitServiceUrl:n.a.serviceUrl.cifOpeningRequest,group:this.formGroup},requestObject:this.cifOpeningVO},this.cifOptions={group:this.formGroup,cifTypeOptions:{group:this.formGroup,fcName:"cifType"},complexIdDetailsOptions:{dropdownIdTypesOptions:{group:this.formGroup},idNumberOptions:{group:this.formGroup},dateExpiryOptions:{group:this.formGroup},countriesOptions:{group:this.formGroup},issueDateOptions:{group:this.formGroup}},complexIdDetailsOptions1:{dropdownIdTypesOptions:{group:this.formGroup},idNumberOptions:{group:this.formGroup},dateExpiryOptions:{group:this.formGroup},countriesOptions:{group:this.formGroup},issueDateOptions:{group:this.formGroup}},requestObject:this.cifOpeningVO},this.options={group:this.formGroup},this.panelIdDetailsOptions={isExpandable:!0,labelKey:"id_details_key",expanded:!0},this.panelAddressDetailsOptions={isExpandable:!0,labelKey:"address_key",expanded:!0},this.panelAccountOptions={isExpandable:!0,labelKey:"account_request_key",expanded:!1},this.panelAttachementOptions={isExpandable:!0,labelKey:"attachement_key",expanded:!1},this.panelCifInformationOptions={isExpandable:!0,labelKey:"name_details_key",expanded:!1},this.panelAditionalInformationOptions={isExpandable:!0,labelKey:"additional_information_key",expanded:!1},this.shortNameArabicOptions={group:this.formGroup,fcName:"briefNameArabic",labelKey:"arabic_brief_name_key",placeHolder:"enter_arabic_brief_name_key",iconOptions:{iconName:"clipboard"}},this.longNameArabicOptions={group:this.formGroup,fcName:"longNameArabic",labelKey:"arabic_long_name_key",placeHolder:"enter_arabic_long_name_key",iconOptions:{iconName:"clipboard"}},this.customerNameValOptions={group:this.formGroup,fcName:"customerName",labelKey:"customer_name_key",placeHolder:"enter_customer_name_key",iconOptions:{iconName:"clipboard"}},this.defaultPersonalDetailsOptions={psDobOptions:{group:this.formGroup,fcName:"birthDate",labelKey:"date_of_birth_key",placeHolder:"select_date_of_birth_key"},nationalityOptions:{labelKey:"nationality_key",placeHolder:"select_nationality_key",fcName:"nationality",group:this.formGroup,iconOptions:{iconName:"clipboard"}},maritalstatusOptions:{labelKey:"marital_status_key",placeHolder:"select_maritial_status_key",fcName:"martialStatus",group:this.formGroup,iconOptions:{iconName:"clipboard"}}},this.firstNameOptions={group:this.formGroup,fcName:"firstName",labelKey:"english_first_name_key",placeHolder:"enter_english_first_name_key",iconOptions:{iconName:"clipboard"}},this.middleNameOptions={group:this.formGroup,fcName:"middleName",labelKey:"english_middle_name_key",placeHolder:"enter_english_middle_name_key",iconOptions:{iconName:"clipboard"}},this.lastNameOptions={group:this.formGroup,fcName:"lastName",labelKey:"english_last_name_key",placeHolder:"enter_english_last_name_key",iconOptions:{iconName:"clipboard"}},this.motherFirstNameOptions={group:this.formGroup,fcName:"motherFirstName",labelKey:"mother_first_name_key",placeHolder:"enter_mother_first_name_key",iconOptions:{iconName:"clipboard"}},this.motherLastNameOptions={group:this.formGroup,fcName:"motherLastName",labelKey:"mother_last_name_key",placeHolder:"enter_mother_last_name_key",iconOptions:{iconName:"clipboard"}},this.longNameOptions={group:this.formGroup,fcName:"longName",labelKey:"english_long_name_key",placeHolder:"enter_english_long_name_key",iconOptions:{iconName:"clipboard"}},this.shortNameOptions={group:this.formGroup,fcName:"shortName",labelKey:"english_short_name_key",placeHolder:"enter_english_short_name_key",iconOptions:{iconName:"clipboard"}},this.postalCodeOptions={labelKey:"select_postal_code_key",placeHolder:"please_select_postal_code_key",fcName:"postalCode",group:this.formGroup,iconOptions:{iconName:"clipboard"}},this.genderOptions={group:this.formGroup,fcName:"gender"},this.panelEmployementDetailsOptions={isExpandable:!0,labelKey:"employement_details_key",expanded:!0},this.lstatusOptions={labelKey:"legal_status_key",placeHolder:"legal_status_key",group:this.formGroup,fcName:"lstatus",iconOptions:{iconName:"clipboard"}},this.panelBankRegisterOptions={isExpandable:!0,labelKey:"bank_register_key",expanded:!1},this.userContactOptions={emailBankOptions:{labelKey:"email_key",placeHolder:"email_key",fcName:"userBankEmail",group:this.formGroup},phoneNumberBankOptions:{fcName:"omniUserCO.omniUserVO.MOBILE_NUMBER",group:this.formGroup}},this.addressOptions={areaOptions:{labelKey:"area_key",placeHolder:"enter_area_key",fcName:"employeearea",group:this.formGroup},wayOptions:{labelKey:"way_key",placeHolder:"enter_way_key",fcName:"employeeway",group:this.formGroup},buildingOptions:{labelKey:"building_no_key",placeHolder:"enter_building_no_key",fcName:"employeebuilding",group:this.formGroup},poBoxOptions:{regionOptions:{labelKey:"region_key",placeHolder:"select_region_key",fcName:"region",selectedCountryCode:"",iconOptions:{iconName:"clipboard"}},poBoxInputOptions:{labelKey:"pobox_key",placeHolder:"enter_pobox_key",fcName:"poboxinput",iconOptions:{iconName:"clipboard"}}},streetOptions:{labelKey:"street_key",placeHolder:"enter_street_key",fcName:"employeestreet",group:this.formGroup},countriesOptions:{labelKey:"country_key",placeHolder:"select_country_key",fcName:"employeecountry",group:this.formGroup},regionOptions:{labelKey:"region_key",placeHolder:"select_region_key",fcName:"employeeregion",group:this.formGroup},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:"employeecity",group:this.formGroup},postalCodesOptions:{labelKey:"postal_code",placeHolder:"select_postal_code_key",fcName:"postalcode",group:this.formGroup,iconOptions:{iconName:"clipboard"}}},this.fileUploadOptions={multiple:!0,fcName:"selectedFileData",group:this.formGroup},this.commentOptions={group:this.formGroup,fcName:"comment",labelKey:"file_comment_key",placeHolder:"enter_file_comment_key",iconOptions:{iconName:"clipboard"}},this.complexEcoSectorOptions={fcName:"ecoSector",group:this.formGroup},this.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:this.formGroup,labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key"},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber",group:this.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate",group:this.formGroup},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",fcName:"issuanceCountry",iconOptions:{iconName:"clipboard"},group:this.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate",group:this.formGroup}},this.tinNumberOptions={fcName:"tinNumber",group:this.formGroup,labelKey:"tin_number_key",placeHolder:"enter_tin_number_key",iconOptions:{iconName:"clipboard"}},this.birthCountriesOptions={labelKey:"country_of_birth_key",placeHolder:"select_country_key",fcName:"birthCountry",group:this.formGroup,iconOptions:{iconName:"clipboard"}},this.countriesOptions={labelKey:"country_key",placeHolder:"select_country_key",fcName:"addressDetailsCountry",group:this.formGroup,iconOptions:{iconName:"clipboard"}},this.branchOptions={placeHolder:"get_cif_branch_frm_session_key",labelKey:"branch_key",group:this.formGroup,fcName:"branch_name"},this.cifTypeOptions={labelKey:"cif",placeHolder:"select_cif_type_key",fcName:"cifType",group:this.formGroup,iconOptions:{iconName:"clipboard"}},this.defaultEmployeeOptions={employerNameOptions:{group:this.formGroup,fcName:"employeename",labelKey:"company_name_key",placeHolder:"enter_company_name_key",iconOptions:{iconName:"clipboard"}},occupationOptions:{group:this.formGroup,fcName:"position",labelKey:"position_key",placeHolder:"enter_occupation_key",iconOptions:{iconName:"clipboard"}},dateOfJoiningDivisionOptions:{group:this.formGroup,fcName:"dateofjoining",labelKey:"date_of_joining_key",placeHolder:"enter_date_of_joining_key"},addressOptions:{areaOptions:{labelKey:"area_key",placeHolder:"enter_area_key",fcName:"employeearea",group:this.formGroup},wayOptions:{labelKey:"way_key",placeHolder:"enter_way_key",fcName:"employeeway",group:this.formGroup},buildingOptions:{labelKey:"building_no_key",placeHolder:"enter_building_no_key",fcName:"employeebuilding",group:this.formGroup},postalCodesOptions:{labelKey:"postal_code",placeHolder:"select_postal_code_key",fcName:"employeePostalcode",group:this.formGroup,iconOptions:{iconName:"clipboard"}},streetOptions:{labelKey:"street_key",placeHolder:"enter_street_key",fcName:"employeestreet",group:this.formGroup},countriesOptions:{labelKey:"country_key",placeHolder:"select_country_key",fcName:"employeecountry",group:this.formGroup},regionOptions:{labelKey:"region_key",placeHolder:"select_region_key",fcName:"employeeregion",group:this.formGroup},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:"employeecity",group:this.formGroup},poBoxInputOptions:{group:this.formGroup,fcName:"pobox",labelKey:"pobox_key",placeHolder:"enter_pobox_key",iconOptions:{iconName:"clipboard"}}},officeTelPhoneNumberOptions:{fcName:"empOfficeTelPhoneNumber",group:this.formGroup,labelKey:"office_tel_key"},handPhoneNumberOptions:{fcName:"empHandPhoneNumber",group:this.formGroup,labelKey:"hand_phone_number_key"},faxOptions:{fcName:"empFaxNumber",group:this.formGroup,labelKey:"fax_key"},establishmentDateOptions:{group:this.formGroup,fcName:"establishmentDate",labelKey:"establishment_date_key",placeHolder:"enter_establishment_date_key"}},this.panelCifAddressOptions={isExpandable:!0,labelKey:"address_details_key",expanded:!1},this.panelSelectBranch={isExpandable:!0,labelKey:"select_branch_key",iconName:"document",expanded:!0},this.defaultCifDetailsOptions={mobileNumberOptions:{fcName:"personalMobileNo",group:this.formGroup,labelKey:"personal_tel_key"},residentialTelOptions:{fcName:"residentialMobileNo",group:this.formGroup,labelKey:"residential_tel_key"},faxOptions:{fcName:"faxNumber",group:this.formGroup,labelKey:"fax_key"},emailOptions:{labelKey:"email_key",placeHolder:"enter_email_key",fcName:"personalEmail",group:this.formGroup},addressOptions:{areaOptions:{labelKey:"area_key",placeHolder:"enter_area_key",fcName:"area",group:this.formGroup},wayOptions:{labelKey:"way_key",placeHolder:"enter_way_key",fcName:"way",group:this.formGroup},buildingOptions:{labelKey:"building_no_key",placeHolder:"enter_building_no_key",fcName:"building",group:this.formGroup},postalCodesOptions:{labelKey:"postal_code",placeHolder:"select_postal_code_key",fcName:"postalcode",group:this.formGroup,iconOptions:{iconName:"clipboard"}},streetOptions:{labelKey:"street_key",placeHolder:"enter_street_key",fcName:"street",group:this.formGroup,iconOptions:{iconName:"clipboard"}},countriesOptions:{labelKey:"country_key",placeHolder:"select_country_key",fcName:"contactBirthCountry",group:this.formGroup,iconOptions:{iconName:"clipboard"}},regionOptions:{labelKey:"region_key",placeHolder:"region_key",fcName:"region",group:this.formGroup,iconOptions:{iconName:"clipboard"}},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:"city",group:this.formGroup,iconOptions:{iconName:"clipboard"}},poBoxInputOptions:{group:this.formGroup,fcName:"pobox",labelKey:"pobox_key",placeHolder:"enter_pobox_key",iconOptions:{iconName:"clipboard"}}}},this.moreAddressDetailsInputOptions={labelKey:"more_address_details_key",placeHolder:"more_adress_details_key",fcName:"moreAddressDetails",group:this.formGroup},this.mobileNumberOptions={labelKey:"mobile_key",fcName:"mobileNumber",group:this.formGroup},this.rankingOptions={labelKey:"ranking_key",placeHolder:"ranking_key",fcName:"ranking",group:this.formGroup},this.selectBranchOptions={fcName:"mapAtmBranchesDropdown",group:this.formGroup},this.residencyOptions={fcName:"residency",group:this.formGroup},this.showAddress=!1}ngOnInit(){super.init(),this.mapAtmBranchesOptions={group:this.formGroup,fcName:"mapAtmBranches",labelKey:"map_atm_branch_key",mapOptions:{labelKey:"map"},showSegments:!1,mapTypesInclude:"'A','B','C'",branchIds:"1,3,5",parameterToCheck:s.a.CIF_BRANCH,requestVO:this.cifOpeningVO},this.cifInfo=this.commonService.session.getValueOf(c.a.USERINFO),"{}"!==JSON.stringify(this.navService.getAllParams())&&(this.commonProv.copyObject(this.cifOpeningVO,this.navService.getAllParams(),!0,!1),this.cifOpeningVO.ScreenVO&&this.cifOpeningVO.ScreenVO.userCifNo&&(this.cifOpeningVO.ScreenVO.userCifNo=this.cifInfo.omniUserVO.CIF_NO)),this.omniPull.getParamValOf(s.a.CIF_MAX_NUMBER_OF_ATTACHMENTS,s.a.CIF_BRANCH).then(e=>{e&&(this.fileUploadOptions.maxNbFiles=e[s.a.CIF_MAX_NUMBER_OF_ATTACHMENTS]),e[s.a.CIF_BRANCH]===s.a.OTHER?(this.enableCifBranch=!1,this.common.branchSelectionAndMapControl(1,[{fcName:this.stepperOptions.namesofSteps[2]},{fcName:this.mapAtmBranchesOptions.fcName},{fcName:"cif_opening_panel3"}],!0)):(this.enableCifBranch=!0,this.common.branchSelectionAndMapControl(0,[{fcName:this.stepperOptions.namesofSteps[2]},{fcName:this.mapAtmBranchesOptions.fcName},{fcName:"cif_opening_panel3"}],!0),this.loadBranch())}).catch(e=>{}),this.baseFormGroup=this.formGroup}ionViewDidEnter(){super.ionViewDidEnter(),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.defaultPersonalDetailsOptions.nationalityOptions.fcName],1),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.birthCountriesOptions.fcName],1)}ngAfterViewInit(){}onSelectBranch(e){void 0!==e.itemValue&&(this.formGroup.controls[this.selectBranchOptions.fcName].setValue(e),this.commonProv.setValInsideNestedObj(this.selectBranchOptions.fcName,e.selectedObj,this.cifOpeningVO))}loadBranch(){try{this.omniPull.returnBranchesList({branchesIdList:this.cifInfo.cifBranch?this.cifInfo.cifBranch:""}).then(e=>{e&&null!=e.gridModel&&e.gridModel.length>0?this.branchOptions.group.controls[this.branchOptions.fcName].setValue(this.cifInfo.cifBranch?this.cifInfo.cifBranch+" - "+e.gridModel[0].longDesc:""):this.loggerP.warn(e,"empty response")}).catch(e=>{})}catch(e){}}onNameChange(e){this.cifOpeningVO[this.firstNameOptions.fcName]&&this.cifOpeningVO[this.lastNameOptions.fcName]&&(this.cifOpeningVO[this.customerNameValOptions.fcName]=this.cifOpeningVO[this.firstNameOptions.fcName]+" "+this.cifOpeningVO[this.lastNameOptions.fcName])}onResidencyChange(e){e&&e.selectedObj&&(e.selectedObj.itemValue===s.a.RESIDENT_CODE?(this.showAddress=!0,this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.countriesOptions.fcName],s.a.INVISIBLE_FIELD),this.commonProv.setValInsideNestedObj(this.defaultCifDetailsOptions.addressOptions.countriesOptions.fcName,s.a.SUDAN_COUNTRY_CODE,this.cifOpeningVO),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.defaultCifDetailsOptions.addressOptions.countriesOptions.fcName,this.defaultCifDetailsOptions.addressOptions.regionOptions.fcName,this.defaultCifDetailsOptions.addressOptions.cityOptions.fcName,this.defaultCifDetailsOptions.addressOptions.streetOptions.fcName,this.defaultCifDetailsOptions.addressOptions.postalCodesOptions.fcName],s.a.VISIBLE_FIELD),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_READONLY,[this.defaultCifDetailsOptions.addressOptions.countriesOptions.fcName],s.a.VISIBLE_FIELD),this.cifOpeningVO[this.countriesOptions.fcName]=""):(this.showAddress=!1,this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.countriesOptions.fcName],s.a.VISIBLE_FIELD),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.defaultCifDetailsOptions.addressOptions.countriesOptions.fcName,this.defaultCifDetailsOptions.addressOptions.regionOptions.fcName,this.defaultCifDetailsOptions.addressOptions.cityOptions.fcName,this.defaultCifDetailsOptions.addressOptions.streetOptions.fcName,this.defaultCifDetailsOptions.addressOptions.postalCodesOptions.fcName],s.a.INVISIBLE_FIELD),this.cifOpeningVO[this.defaultCifDetailsOptions.addressOptions.countriesOptions.fcName]="",this.cifOpeningVO[this.defaultCifDetailsOptions.addressOptions.regionOptions.fcName]="",this.cifOpeningVO[this.defaultCifDetailsOptions.addressOptions.cityOptions.fcName]="",this.cifOpeningVO[this.defaultCifDetailsOptions.addressOptions.streetOptions.fcName]="",this.cifOpeningVO[this.defaultCifDetailsOptions.addressOptions.postalCodesOptions.fcName]=""))}onCifTypeSelected(e){e&&e.selectedObj&&(e.selectedObj.vtIndicator&&e.selectedObj.vtIndicator===s.a.INSTITUTION_VT_INDICATOR?(this.isInstitutionType=!0,this.defaultPersonalDetailsOptions.isInstitutionType=!0,this.defaultEmployeeOptions.isInstitutionType=!0,this.defaultCifDetailsOptions.isInstitutionType=!0,this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_LABEL,["cif_open_employment_details_panel"],"institution_details_key"),h.a.APP_ID===c.a.AGENT_APPLICATION_APP_ID?(this.defaultPersonalDetailsOptions.nationalityOptions.labelKey="nationality_key",this.defaultPersonalDetailsOptions.nationalityOptions.placeHolder="select_nationality_key"):(this.defaultPersonalDetailsOptions.nationalityOptions.labelKey="country_of_establishment_key",this.defaultPersonalDetailsOptions.nationalityOptions.placeHolder="country_of_establishment_key"),this.defaultCifDetailsOptions.mobileNumberOptions={fcName:"personalMobileNo",group:this.formGroup,labelKey:"telephone_key"},this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.firstNameOptions.fcName,this.middleNameOptions.fcName,this.lastNameOptions.fcName,this.motherFirstNameOptions.fcName,this.motherLastNameOptions.fcName,this.genderOptions.fcName,this.customerNameValOptions.fcName,this.defaultPersonalDetailsOptions.psDobOptions.fcName,this.defaultPersonalDetailsOptions.maritalstatusOptions.fcName,this.birthCountriesOptions.fcName,this.defaultEmployeeOptions.employerNameOptions.fcName,this.defaultEmployeeOptions.occupationOptions.fcName],0),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.longNameOptions.fcName,this.shortNameOptions.fcName,this.defaultEmployeeOptions.establishmentDateOptions.fcName],1),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.defaultCifDetailsOptions.residentialTelOptions.fcName,this.defaultCifDetailsOptions.residentialTelOptions.fcName+"countriesFcName",this.defaultCifDetailsOptions.residentialTelOptions.fcName+"numberFcName",this.defaultCifDetailsOptions.faxOptions.fcName,this.defaultCifDetailsOptions.faxOptions.fcName+"countriesFcName",this.defaultCifDetailsOptions.faxOptions.fcName+"numberFcName",this.genderOptions.fcName,this.customerNameValOptions.fcName],0),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.defaultCifDetailsOptions.mobileNumberOptions.fcName,this.defaultCifDetailsOptions.mobileNumberOptions.fcName+"countriesFcName",this.defaultCifDetailsOptions.mobileNumberOptions.fcName+"numberFcName"],1)):(this.isInstitutionType=!1,this.defaultPersonalDetailsOptions.isInstitutionType=!1,this.defaultEmployeeOptions.isInstitutionType=!1,this.defaultCifDetailsOptions.isInstitutionType=!1,this.defaultPersonalDetailsOptions.nationalityOptions.labelKey="nationality_key",this.defaultPersonalDetailsOptions.nationalityOptions.placeHolder="select_nationality_key",this.defaultCifDetailsOptions.mobileNumberOptions={fcName:"personalMobileNo",group:this.formGroup,labelKey:"personal_tel_key"},this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_LABEL,["cif_open_employment_details_panel"],"employement_details_key"),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.firstNameOptions.fcName,this.middleNameOptions.fcName,this.lastNameOptions.fcName,this.motherFirstNameOptions.fcName,this.motherLastNameOptions.fcName,this.genderOptions.fcName,this.customerNameValOptions.fcName,this.defaultPersonalDetailsOptions.psDobOptions.fcName,this.defaultPersonalDetailsOptions.maritalstatusOptions.fcName,this.birthCountriesOptions.fcName,this.defaultEmployeeOptions.employerNameOptions.fcName,this.defaultEmployeeOptions.occupationOptions.fcName],1),this.onNameChange(null),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.longNameOptions.fcName,this.shortNameOptions.fcName,this.defaultEmployeeOptions.establishmentDateOptions.fcName],0),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_VISIBLE,[this.defaultCifDetailsOptions.residentialTelOptions.fcName,this.defaultCifDetailsOptions.residentialTelOptions.fcName+"countriesFcName",this.defaultCifDetailsOptions.residentialTelOptions.fcName+"numberFcName",this.defaultCifDetailsOptions.mobileNumberOptions.fcName,this.defaultCifDetailsOptions.mobileNumberOptions.fcName+"countriesFcName",this.defaultCifDetailsOptions.mobileNumberOptions.fcName+"numberFcName",this.defaultCifDetailsOptions.faxOptions.fcName,this.defaultCifDetailsOptions.faxOptions.fcName+"countriesFcName",this.defaultCifDetailsOptions.faxOptions.fcName+"numberFcName",this.genderOptions.fcName,this.customerNameValOptions.fcName],1),this.onNameChange(null)))}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(f.a),d.Rb(p.a),d.Rb(m.a),d.Rb(l.a),d.Rb(r.a),d.Rb(a.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["cif-opening"]],features:[d.Cb],decls:4,vars:5,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step3","",3,"id",4,"psStep"],["step1","",3,"id"],[3,"options"],[3,"options","onPsChange"],["id","input_free_text",3,"options"],[3,"hidden"],["id","'lstatus' + id",3,"options"],["id","countries",3,"options",4,"ngIf"],["id","ps-complex-eco-sector-id",3,"options"],["id","residencies",3,"options","onPsChange"],["id","countries",3,"options"],["id","cif_opening_panel3",3,"options"],["step2","",3,"id"],["id","cif_open_employment_details_panel",3,"options"],["id","panel_bank_register",3,"options"],[3,"options",4,"ngIf"],["id","ps-file-upload",3,"options"],["id","'accountCifBranch' + id",3,"options"],["step3","",3,"id"],[1,"component-map-container",3,"options"]],template:function(e,t){1&e&&(d.Xb(0,"ps-template-stepper",0),d.Pc(1,W,33,32,"ps-form-step",1),d.Pc(2,U,9,9,"ps-form-step",2),d.Pc(3,q,2,2,"ps-form-step",3),d.Wb()),2&e&&(d.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),d.Fb(1),d.pc("psStep","step1"),d.Fb(1),d.pc("psStep","step2"),d.Fb(1),d.pc("psStep","step3"))},directives:[O.a,y.a,b.a,_.a,N.a,g.a,k.a,D.a,C.a,I.a,S.o,P.a,E.a,v,T.a,G.a,A.a,K.a,x.a,H.a,w,R.a,Y.a,X.a],styles:[""]}),e})()},gKqT:function(e,t,i){"use strict";i.r(t),i.d(t,"OmniBasePage",function(){return m});var o=i("oS+F"),s=i("zngb"),n=i("QZhd"),a=i("woXy"),p=i("qEF5"),r=i("Q0Ba"),l=i("lE2x"),c=i("fXoL");let m=(()=>{class e{constructor(){this.isPageDisabled=!1,this.commonProv=p.a.injectionHandler(r.a),this.navigationServices=p.a.injectionHandler(a.a)}init(){this.currentOperID=n.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const e=this.navigationServices.getAllParams(),t={};e&&!0===e.readOnlypage?(t.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(s.a.FORM_READONLY,t)):this.customizationMap&&(t.IS_READONLY=0,this.customizationMap.set(s.a.FORM_READONLY,t)),this.screenTranslationOperIds=l.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?l.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(e){if(void 0!==e&&this.customizationMap){const t=this.customizationMap.get(s.a.FORM_READONLY);t&&1===t.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(e=>{this.commonProv.applyDynScreenDisplay(s.a.ACTION_TYPE_READONLY,[e],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(e){const t=e||2222,i=n.a.activeLanguge?n.a.activeLanguge:"EN";t&&i&&this.commonProv.language.getOperTranslation(i,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,t){2&e&&c.Hb(t.psClass)},decls:0,vars:0,template:function(e,t){},styles:[""]}),e})()},sV6Y:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var o=i("ZF3V"),s=i("DFXC"),n=i("Q0Ba"),a=i("fXoL"),p=i("Isd1"),r=i("V52E"),l=i("7Cko"),c=i("P7Z/");let m=(()=>{class e extends o.a{constructor(e,t){super(e,t),this.commonProv=e,this.loggerP=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(n.a),a.Rb(s.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["ps-complex-cif-details"]],inputs:{options:"options"},features:[a.Cb],decls:6,vars:5,consts:[[3,"options"]],template:function(e,t){1&e&&(a.Xb(0,"ps-container-complex"),a.Sb(1,"ps-complex-address",0),a.Sb(2,"ps-entity-phone-number",0),a.Sb(3,"ps-entity-phone-number",0),a.Sb(4,"ps-entity-phone-number",0),a.Sb(5,"ps-input-email",0),a.Wb()),2&e&&(a.Fb(1),a.pc("options",t.options.addressOptions),a.Fb(1),a.pc("options",t.options.mobileNumberOptions),a.Fb(1),a.pc("options",t.options.residentialTelOptions),a.Fb(1),a.pc("options",t.options.faxOptions),a.Fb(1),a.pc("options",t.options.emailOptions))},directives:[p.a,r.a,l.a,c.a],styles:[""]}),e})()}}]);