(window.webpackJsonp=window.webpackJsonp||[]).push([[78,339,340,341,342,343,344,345,346,347,348,349],{"3t/l":function(e,t,i){"use strict";i.r(t),i.d(t,"HardCopyStatementRequestPage",function(){return M});var o=i("3Pt+"),s=i("V0Fi"),a=i("ZyuK"),n=i("f42Q"),r=i("DFXC"),p=i("zngb"),l=i("QZhd"),c=i("woXy"),m=i("gKqT"),d=i("fXoL"),u=i("kRg/"),h=i("uKCV"),y=i("sAFK"),f=i("+f2X"),_=i("ofXK"),b=i("Kk3n"),O=i("+9hN"),D=i("pvj/"),g=i("OEOT"),v=i("mn4d"),N=i("KuXP"),C=i("b23T"),T=i("BygU"),A=i("/QlS"),k=i("y70R"),I=i("iTqn");function P(e,t){if(1&e&&d.Sb(0,"ps-container-lookup-option",19),2&e){const e=d.ic(2);d.pc("options",e.lookupDetails)("itemCard",e.accountCardItem)}}function E(e,t){if(1&e&&(d.Vb(0),d.Sb(1,"ps-input-varchar",12),d.Sb(2,"ps-complex-id-details",20),d.Ub()),2&e){const e=d.ic(2);d.Fb(1),d.pc("options",e.collectorNameOptions),d.Fb(1),d.pc("options",e.complexIdDetailsOptions)}}function R(e,t){if(1&e){const e=d.Yb();d.Xb(0,"ps-form-step",3),d.Xb(1,"ps-container-panel",4),d.Pc(2,P,1,2,"ps-container-lookup-option",5),d.Wb(),d.Xb(3,"ps-container-panel",6),d.Sb(4,"ps-complex-date-filter",7),d.Sb(5,"ps-keyin-textarea",8),d.Wb(),d.Xb(6,"ps-container-panel",9),d.Xb(7,"ps-complex-location",10),d.fc("parentFun",function(){return d.Fc(e),d.ic().hideMapStep()}),d.Wb(),d.Sb(8,"ps-date-day-month-year-future",11),d.Sb(9,"ps-complex-time-range",12),d.Sb(10,"ps-keyin-textarea",13),d.Wb(),d.Xb(11,"ps-container-panel",14),d.Xb(12,"ps-select-toggle",15),d.fc("onPsChange",function(t){return d.Fc(e),d.ic().toggleChanged(t)}),d.Wb(),d.Pc(13,E,3,2,"ng-container",16),d.Wb(),d.Xb(14,"ps-container-panel",17),d.Sb(15,"ps-file-upload-bs",18),d.Wb(),d.Wb()}if(2&e){const e=d.ic();d.pc("id",e.options.namesofSteps[0]),d.Fb(1),d.pc("options",e.panelOptions1),d.Fb(1),d.pc("ngIf",e.accountCardItem),d.Fb(1),d.pc("options",e.panelOptions2),d.Fb(1),d.pc("options",e.filterDate),d.Fb(1),d.pc("options",e.additionalCommentsOptions),d.Fb(1),d.pc("options",e.panelOptions3),d.Fb(1),d.pc("options",e.deliveryAddressDetails),d.Fb(1),d.pc("options",e.deliveryDateOptions),d.Fb(1),d.pc("options",e.timeDeliveryOptions),d.Fb(1),d.pc("options",e.deliveryAdditionalCommentsOptions),d.Fb(1),d.pc("options",e.panelOptions4),d.Fb(1),d.pc("options",e.collectedByCifOptions),d.Fb(1),d.pc("ngIf",!e.HardCopyRequestVO.isAmountCollectedByCif),d.Fb(1),d.pc("options",e.panelOptions5),d.Fb(1),d.pc("options",e.fileUploadOptions)}}function S(e,t){if(1&e&&(d.Xb(0,"ps-form-step",21),d.Sb(1,"ps-map-atm-branches",22),d.Wb()),2&e){const e=d.ic();d.pc("id",e.options.namesofSteps[1]),d.Fb(1),d.pc("options",e.mapAtmBranchesOptions)}}let M=(()=>{class e extends m.OmniBasePage{constructor(e,t,i,a){super(),this.logger=e,this.omniPull=t,this.navService=i,this.eventEmitterService=a,this.HardCopyRequestVO={},this.filterDate={},this.lookupDetails={singleLookup:!0,labelKey:"account_name_key"},this.labelValuesMap=new Map,this.headerMap=new Map,this.requestMap=new Map,this.editRequestMap=new Map,this.sysParamScreenDispList=new Map,this.formGroup=new o.f({}),this.options={stepperName:"hard_copy_request_stepper",numberOfSteps:2,group:this.formGroup,submitOptions:{submitServiceUrl:l.a.serviceUrl.commonSubmitAction,group:this.formGroup,preCallFunction:{func(e){return new Promise((t,i)=>{t(this.executionClass.updateAccountVO(e))})},executionClass:this,params:[this]}},requestObject:this.HardCopyRequestVO,isHorizontalStepper:!0,namesofSteps:["hard_copy_statement_step_1","map_hard_copy_statement_step_2"]},this.panelOptions1={isExpandable:!0,labelKey:"account_details_key",iconName:"document",expanded:!0},this.panelOptions2={isExpandable:!0,labelKey:"statement_details_key",iconName:"document",expanded:!0},this.panelOptions3={isExpandable:!0,labelKey:"collection_delivery_key",iconName:"box",expanded:!0},this.panelOptions4={isExpandable:!0,labelKey:"collector_receiver_key",iconName:"document",expanded:!0},this.panelOptions5={isExpandable:!0,labelKey:"attachment_key",iconName:"file",expanded:!0},this.panelOptionsStep2={isExpandable:!0,labelKey:"collection_deliv_branch_key",iconName:"file",expanded:!0},this.additionalCommentsOptions={labelKey:"additional_comments_key",placeHolder:"enter_additional_comments_key",rows:"3",cols:"10",fcName:"additionalComments",group:this.formGroup},this.deliveryAdditionalCommentsOptions={labelKey:"delivery_additional_cmnts_key",placeHolder:"enter_delivery_cmnts_key",rows:"3",cols:"10",fcName:"deliveryAdditionalComments",group:this.formGroup},this.collectorNameOptions={group:this.formGroup,fcName:"collectorName",labelKey:"collector_name_key",placeHolder:"enter_collector_name_key"},this.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:this.formGroup},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber",group:this.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"idExpiryDate",group:this.formGroup},countriesOptions:{placeHolder:"country_of_issuance_key",labelKey:"country_of_issuance_key",fcName:"idCountryOfIssuance",group:this.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"idIssueDate",group:this.formGroup}},this.collectedByCifOptions={labelKey:"collecting_toggle_message_key",group:this.formGroup,fcName:"isAmountCollectedByCif",psClass:"toggleColor"},this.fileUploadOptions={multiple:!1,fcName:"uploadedFiles",uploadIconName:"attach",group:this.formGroup},this.timeDeliveryOptions={fromTime:{fcName:"deliveryTimeFrom",group:this.formGroup,labelKey:"from_time_key",placeHolder:"select_from_time_key"},toTime:{fcName:"deliveryTimeTo",group:this.formGroup,labelKey:"to_time_key",placeHolder:"select_to_time_key"},group:this.formGroup},this.deliveryAddressDetails={collectionModeOptions:{group:this.formGroup,fcName:"collectionMode"},branchLocationOptions:{fcName:"mapAtmBranchesDropdown",group:this.formGroup},homeAddressOptions:{placeHolder:"home_address_key",labelKey:"home_address_key",group:this.formGroup,fcName:"deliveryHomeAddress",requestVO:this.HardCopyRequestVO},workAddressOptions:{placeHolder:"work_address_key",labelKey:"work_address_key",group:this.formGroup,fcName:"deliveryWorkAddress",requestVO:this.HardCopyRequestVO},otherAddressOptions:{placeHolder:"enter_address_key",labelKey:"other_address_key",group:this.formGroup,fcName:"deliveryOtherAddress"},cifBranchChecking:!1},this.deliveryDateOptions={labelKey:"delivery_date_key",placeHolder:"select_delivery_date_key",group:this.formGroup,fcName:"deliveryDate"},this.mapAtmBranchesOptions={group:this.formGroup,fcName:"mapAtmBranches",labelKey:"map_atm_branch_key",mapOptions:{labelKey:"map"},showSegments:!1,mapTypesInclude:"'B'",branchIds:"1,3,5",parameterToCheck:s.a.RequestBranch,requestVO:this.HardCopyRequestVO}}ngOnInit(){super.init(),this.baseFormGroup=this.formGroup,this.sysParamScreenDispList=this.commonProv.initialScreenDisplayParams.get(l.a.oper_ID),this.commonProv.copyObject(this.HardCopyRequestVO,this.navService.getAllParams()?this.navService.getAllParams().ScreenVO?this.navService.getAllParams().ScreenVO:this.navService.getAllParams():{},!0,!1),this.hideMapStep(),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_VISIBLE,[this.options.namesofSteps[1]],0),this.HardCopyRequestVO&&null!=this.HardCopyRequestVO.isAmountCollectedByCif||(this.HardCopyRequestVO.isAmountCollectedByCif=!0);const e=this.omniPull.omniCommon.session.getValueOf(p.a.preLoginResponse).parameters,t=e.DefaultDateFormat?e.DefaultDateFormat.parameterVal:"DD/MM/YYYY";this.filterDate={fromDate:{group:this.formGroup,fcName:"fromDate",displayFormat:t,placeHolder:"from_date_key"},toDate:{group:this.formGroup,fcName:"toDate",displayFormat:t,placeHolder:"to_date_key"}},this.populateAccountsMap()}ionViewDidEnter(){super.ionViewDidEnter(),this.commonProv.setValInsideNestedObj(this.collectedByCifOptions.fcName,!0,this.HardCopyRequestVO),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.collectorNameOptions.fcName],0,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.collectedByCifOptions.fcName],0,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.complexIdDetailsOptions.idNumberOptions.fcName],0,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],0,!0)}balanceMapping(){return[{key:"current_balance_key",value:"balance"},{key:"available_balance_key",value:"availableBalance"},{key:"currency_iso_key",value:"currencyBriefNameEnglish"}]}populateAccountsMap(){let e={},t={},i={},o={},s={},a={},n={},r={},l={},c={},m={},d={};e={key:"formattedAccount",value:"--- --- --- ---",isEdit:!1},t={key:"balance",value:"0.0",isEdit:!1},i={key:"investmentCapital",value:"0",isEdit:!1},o={key:"profitRate",value:"0",isEdit:!1},s={key:"tenor",value:"0",isEdit:!1},a={key:"maturityDate",value:"0",isEdit:!1},n={key:"dividendsPaid",value:"0",isEdit:!1},r={key:"accruedDividends",value:"0",isEdit:!1},l={key:"renew",value:"0",isEdit:!1},c={key:"renewWithSame",value:"0",isEdit:!1},m={key:"title",value:"generalLedgerBriefNameEng",isEdit:!1},d={key:"subTitle",value:"briefName",isEdit:!0,formGroupMap:{placeHolder:"enter_account_nick",fcName:"briefName"}},this.labelValuesMap.set("account_key",e),this.HardCopyRequestVO.isFMA&&void 0!==this.commonProv.getPageByOperId(p.a.MATURITY_UPDATE_OPER_ID)&&(this.labelValuesMap.set("investment_capital_key",i),this.labelValuesMap.set("profit_rate_key",o),this.labelValuesMap.set("tenor_key",s),this.labelValuesMap.set("maturity_date_key",a),this.labelValuesMap.set("dividends_paid_key",n),this.labelValuesMap.set("accrued_dividends_key",r),this.labelValuesMap.set("renew_key",l),this.labelValuesMap.set("renew_new_balance_within_same_account_key",c)),this.headerMap.set("title",m),this.headerMap.set("subTitle",d),this.requestMap.set("nickNameNumber","key"),this.requestMap.set("oldNickName","briefName"),this.editRequestMap.set("newNickName","briefName"),this.editRequestMap.set("type","A"),this.lookupDetails.fcName="fromAccount",this.lookupDetails.currencyFlag="currencyBriefNameEnglish",this.lookupDetails.labelsValueMap=this.labelValuesMap,this.lookupDetails.headerMap=this.headerMap,this.lookupDetails.formGroup=this.options.group,this.lookupDetails.balanceMapping=this.balanceMapping(),this.lookupDetails.isEditable=!1,this.lookupDetails.requestMap=this.requestMap,this.lookupDetails.editRequestMap=this.editRequestMap,this.lookupDetails.actionDetailsOptions=[],this.lookupDetails.statementOptions={},this.accountCardItem=this.HardCopyRequestVO}hideMapStep(){let e=this.options.namesofSteps[1],t=this.HardCopyRequestVO?this.HardCopyRequestVO[this.deliveryAddressDetails.collectionModeOptions.fcName]:{};t&&(null==t?void 0:t.itemValue)===s.a.SPECIFIC_BRANCH_VALUE||t===s.a.SPECIFIC_BRANCH_VALUE||void 0===t?this.sysParamScreenDispList&&this.sysParamScreenDispList.get(e)&&0==this.sysParamScreenDispList.get(e).IS_VISIBLE||(this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_VISIBLE,[e],1,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,["mapAtmBranches"],1,!0)):void 0!==t&&this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_VISIBLE,[e],0,!0)}toggleChanged(e){1==e.newValue?(this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.collectorNameOptions.fcName],0,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.collectorNameOptions.fcName],0,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.complexIdDetailsOptions.idNumberOptions.fcName],0,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],0,!0)):(this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.collectorNameOptions.fcName],1,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.collectorNameOptions.fcName],1,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.complexIdDetailsOptions.idNumberOptions.fcName],1,!0),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_MANDATORY,[this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],1,!0))}updateAccountVO(e){this.HardCopyRequestVO.fromAccount=Object.assign({},this.HardCopyRequestVO)}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(r.a),d.Rb(a.a),d.Rb(c.a),d.Rb(n.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["hard-copy-statement-request"]],features:[d.Cb],decls:3,vars:4,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step1","",3,"id"],["id","hard-request-panel-1",3,"options"],["id","from_account",3,"options","itemCard",4,"ngIf"],["id","hard-request-panel-2",3,"options"],["id","filterDate",3,"options"],["id","keyin_textarea",3,"options"],["id","hard-request-panel-3",3,"options"],[3,"options","parentFun"],["id","delivery-Date",3,"options"],[3,"options"],["id","delivery_textarea",3,"options"],["id","hard-request-panel-4",3,"options"],["id","collectedByCif",3,"options","onPsChange"],[4,"ngIf"],["id","hard-request-panel-5",3,"options"],["id","ps-file-upload",3,"options"],["id","from_account",3,"options","itemCard"],["id","complex_id_details",3,"options"],["step2","",3,"id"],[1,"component-map-container",3,"options"]],template:function(e,t){1&e&&(d.Xb(0,"ps-template-stepper",0),d.Pc(1,R,16,16,"ps-form-step",1),d.Pc(2,S,2,2,"ps-form-step",2),d.Wb()),2&e&&(d.pc("options",t.options)("id",t.options.stepperName),d.Fb(1),d.pc("psStep","step1"),d.Fb(1),d.pc("psStep","step2"))},directives:[u.a,h.a,y.a,f.a,_.o,b.a,O.a,D.a,g.a,v.a,N.a,C.a,T.a,A.a,k.a,I.a],encapsulation:2}),e})()},Kk3n:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var o=i("mrSG"),s=i("ZyuK"),a=i("JpVU"),n=i("DFXC"),r=i("zngb"),p=i("Q0Ba"),l=i("r40+"),c=i("fXoL"),m=i("BcCD");let d=(()=>{class e extends a.a{constructor(e,t,i,o){super(e,t,o),this.commonC=e,this.loggerC=t,this.omniPull=i,this.filterFromDate={},this.filterToDate={}}ngOnInit(){return Object(o.b)(this,void 0,void 0,function*(){this.filterFromDate={labelKey:"from_date_key",fcName:this.options.fromDate.fcName,group:this.options.fromDate.group,placeHolder:this.options.fromDate.placeHolder,overrideDefaultCust:this.options.fromDate.overrideDefaultCust},this.filterToDate={labelKey:"to_date_key",fcName:this.options.toDate.fcName,group:this.options.toDate.group,placeHolder:this.options.toDate.placeHolder,overrideDefaultCust:this.options.toDate.overrideDefaultCust};const e=yield this.omniPull.getParamValOf("DefaultDateFormat").catch(e=>this.logger.log(e));e&&(this.filterFromDate.displayFormat=e.DefaultDateFormat?e.DefaultDateFormat:r.a.PREV_DATE_FORMAT,this.filterToDate.displayFormat=e.DefaultDateFormat?e.DefaultDateFormat:r.a.PREV_DATE_FORMAT)})}fromDateChange(e){this.filterToDate.min=e.newValue,this.filterToDate=Object.assign({},this.filterToDate)}toDateChange(e){this.filterFromDate.max=e.newValue,this.filterFromDate=Object.assign({},this.filterFromDate)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(p.a),c.Rb(n.a),c.Rb(s.a),c.Rb(l.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-complex-date-filter"]],inputs:{options:"options"},features:[c.Cb],decls:2,vars:4,consts:[[3,"options","id","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-date-day-month-year",0),c.fc("onPsChange",function(e){return t.fromDateChange(e)}),c.Wb(),c.Xb(1,"ps-date-day-month-year",0),c.fc("onPsChange",function(e){return t.toDateChange(e)}),c.Wb()),2&e&&(c.pc("options",t.filterFromDate)("id",t.id+"_from_date"),c.Fb(1),c.pc("options",t.filterToDate)("id",t.id+"_to_date"))},directives:[m.a],styles:[""]}),e})()},gKqT:function(e,t,i){"use strict";i.r(t),i.d(t,"OmniBasePage",function(){return m});var o=i("oS+F"),s=i("zngb"),a=i("QZhd"),n=i("woXy"),r=i("qEF5"),p=i("Q0Ba"),l=i("lE2x"),c=i("fXoL");let m=(()=>{class e{constructor(){this.isPageDisabled=!1,this.commonProv=r.a.injectionHandler(p.a),this.navigationServices=r.a.injectionHandler(n.a)}init(){this.currentOperID=a.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const e=this.navigationServices.getAllParams(),t={};e&&!0===e.readOnlypage?(t.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(s.a.FORM_READONLY,t)):this.customizationMap&&(t.IS_READONLY=0,this.customizationMap.set(s.a.FORM_READONLY,t)),this.screenTranslationOperIds=l.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?l.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(e){if(void 0!==e&&this.customizationMap){const t=this.customizationMap.get(s.a.FORM_READONLY);t&&1===t.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(e=>{this.commonProv.applyDynScreenDisplay(s.a.ACTION_TYPE_READONLY,[e],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:a.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(e){const t=e||2222,i=a.a.activeLanguge?a.a.activeLanguge:"EN";t&&i&&this.commonProv.language.getOperTranslation(i,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,t){2&e&&c.Hb(t.psClass)},decls:0,vars:0,template:function(e,t){},styles:[""]}),e})()},mn4d:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var o=i("ZF3V"),s=i("DFXC"),a=i("zngb"),n=i("qEF5"),r=i("Q0Ba"),p=i("QZhd"),l=i("fXoL"),c=i("ofXK"),m=i("D2x8"),d=i("38QA"),u=i("KVmc");const h=function(e){return{labelKey:e}};function y(e,t){if(1&e&&(l.Xb(0,"p",4),l.Sb(1,"ps-label",5),l.Wb()),2&e){const e=l.ic(2);l.Fb(1),l.pc("options",l.sc(1,h,e.errorMsg))}}function f(e,t){if(1&e){const e=l.Yb();l.Xb(0,"ps-container-item",1),l.Xb(1,"ps-date-time-only",2),l.fc("onPsChange",function(t){return l.Fc(e),l.ic().fromTimeChanged(t)}),l.Wb(),l.Xb(2,"ps-date-time-only",2),l.fc("onPsChange",function(t){return l.Fc(e),l.ic().toTimedChanged(t)}),l.Wb(),l.Vb(3),l.Pc(4,y,2,3,"p",3),l.Ub(),l.Wb()}if(2&e){const e=l.ic();l.pc("id","time_range"+e.id),l.Fb(1),l.pc("options",e.options.fromTime),l.Fb(1),l.pc("options",e.options.toTime),l.Fb(2),l.pc("ngIf",e.errorMsg)}}let _=(()=>{class e extends o.a{constructor(e,t){super(e,t),this.commonProv=e,this.showContainer=!1}ngOnInit(){var e,t;super.ngOnInit();const i=this.common.initialScreenDisplayParams.get(p.a.oper_ID)?this.common.initialScreenDisplayParams.get(p.a.oper_ID):new Map;this.showContainer=1==(null===(e=i.get(this.options.fromTime.fcName))||void 0===e?void 0:e.IS_VISIBLE)||1==(null===(t=i.get(this.options.toTime.fcName))||void 0===t?void 0:t.IS_VISIBLE),this.options.fromTime.labelKey=this.options.fromTime.labelKey?this.options.fromTime.labelKey:"time_key",this.options.toTime.labelKey=this.options.toTime.labelKey?this.options.toTime.labelKey:"time_key"}fromTimeChanged(e){this.errorMsg="",this.startdate=e.newValue,this.options.group.controls[a.a.CONTROLLER_FORM_DATA].value[this.options.toTime.fcName]&&(this.enddate=this.options.group.controls[a.a.CONTROLLER_FORM_DATA].value[this.options.toTime.fcName],-1!=n.a.compareTime(this.startdate,this.enddate)&&(this.errorMsg=this.commonProv.translate("invalid_time_range_key"),this.options.group.controls[this.options.fromTime.fcName].setValue(""),this.options.group.controls[a.a.CONTROLLER_FORM_DATA].value[this.options.fromTime.fcName]=null)),this.onPsChange.emit(e)}toTimedChanged(e){this.errorMsg="",this.enddate=e.newValue,this.options.group.controls[a.a.CONTROLLER_FORM_DATA].value[this.options.fromTime.fcName]&&(this.startdate=this.options.group.controls[a.a.CONTROLLER_FORM_DATA].value[this.options.fromTime.fcName],-1!=n.a.compareTime(this.startdate,this.enddate)&&(this.errorMsg=this.commonProv.translate("invalid_time_range_key"),this.options.group.controls[this.options.toTime.fcName].setValue(""),this.options.group.controls[a.a.CONTROLLER_FORM_DATA].value[this.options.toTime.fcName]=null)),this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(r.a),l.Rb(s.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["ps-complex-time-range"]],inputs:{options:"options"},features:[l.Cb],decls:1,vars:1,consts:[["class","ps-field-item-wrapper ps-complex-time-range",3,"id",4,"ngIf"],[1,"ps-field-item-wrapper","ps-complex-time-range",3,"id"],[1,"ps-date-time-only-wrapper",3,"options","onPsChange"],["class","validation-message",4,"ngIf"],[1,"validation-message"],[1,"label-timerange-validation",3,"options"]],template:function(e,t){1&e&&l.Pc(0,f,5,4,"ps-container-item",0),2&e&&l.pc("ngIf",t.options.fromTime&&t.options.toTime&&t.showContainer||t.custMode)},directives:[c.o,m.a,d.a,u.a],styles:[""]}),e})()}}]);