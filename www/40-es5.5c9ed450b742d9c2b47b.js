!function(){function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var o,n,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",r=i.toStringTag||"@@toStringTag";function a(t,i,s,r){var a=i&&i.prototype instanceof p?i:p,l=Object.create(a.prototype);return e(l,"_invoke",function(t,e,i){var s,r,a,p=0,l=i||[],u=!1,d={p:0,n:0,v:o,a:h,f:h.bind(o,4),d:function(t,e){return s=t,r=0,a=o,d.n=e,c}};function h(t,e){for(r=t,a=e,n=0;!u&&p&&!i&&n<l.length;n++){var i,s=l[n],h=d.p,f=s[2];t>3?(i=f===e)&&(a=s[(r=s[4])?5:(r=3,3)],s[4]=s[5]=o):s[0]<=h&&((i=t<2&&h<s[1])?(r=0,d.v=e,d.n=s[1]):h<f&&(i=t<3||s[0]>e||e>f)&&(s[4]=t,s[5]=e,d.n=f,r=0))}if(i||t>1)return c;throw u=!0,e}return function(i,l,f){if(p>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),r=l,a=f;(n=r<2?o:a)||!u;){s||(r?r<3?(r>1&&(d.n=-1),h(r,a)):d.n=a:d.v=a);try{if(p=2,s){if(r||(i="next"),n=s[i]){if(!(n=n.call(s,a)))throw TypeError("iterator result is not an object");if(!n.done)return n;a=n.value,r<2&&(r=0)}else 1===r&&(n=s.return)&&n.call(s),r<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),r=1);s=o}else if((n=(u=d.n<0)?a:t.call(e,d))!==c)break}catch(n){s=o,r=1,a=n}finally{p=1}}return{value:n,done:u}}}(t,s,r),!0),l}var c={};function p(){}function l(){}function u(){}n=Object.getPrototypeOf;var d=[][s]?n(n([][s]())):(e(n={},s,function(){return this}),n),h=u.prototype=p.prototype=Object.create(d);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,e(t,r,"GeneratorFunction")),t.prototype=Object.create(h),t}return l.prototype=u,e(h,"constructor",u),e(u,"constructor",l),l.displayName="GeneratorFunction",e(u,r,"GeneratorFunction"),e(h),e(h,r,"Generator"),e(h,s,function(){return this}),e(h,"toString",function(){return"[object Generator]"}),(t=function(){return{w:a,m:f}})()}function e(t,o,n,i){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}(e=function(t,o,n,i){function r(o,n){e(t,o,function(t){return this._invoke(o,n,t)})}o?s?s(t,o,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[o]=n:(r("next",0),r("throw",1),r("return",2))})(t,o,n,i)}function o(t,e,o,i){var s=n(u(1&i?t.prototype:t),e,o);return 2&i&&"function"==typeof s?function(t){return s.apply(o,t)}:s}function n(){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=i(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(arguments.length<3?t:o):s.value}}).apply(null,arguments)}function i(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function a(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function p(t,e,o){return e=u(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,o||[],u(t).constructor):e.apply(t,o))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[40,339,340,341,342,343,344,345,346,347,348,349],{BcCD:function(t,e,o){"use strict";o.d(e,"a",function(){return m});var n=o("zngb"),i=o("JpVU"),r=o("DFXC"),c=o("qEF5"),l=o("Q0Ba"),u=o("ZyuK"),h=o("r40+"),f=o("fXoL"),m=function(){var t=function(t){function e(t,o,n){var i;return s(this,e),(i=p(this,e,[t,o,n])).commonProv=t,i.dateOptions={},i.omniPull=c.a.injectionHandler(u.a),i}return d(e,t),a(e,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.dateOptions,this.options,!1);var t=this.omniPull.omniCommon.session.getValueOf(n.a.preLoginResponse).parameters;this.dateOptions.displayFormat=t.DefaultDateFormat?t.DefaultDateFormat.parameterVal:"DD/MM/YYYY",this.dateOptions.pickerFormat=this.dateOptions.displayFormat}},{key:"ngOnChanges",value:function(){this.options&&this.options.min&&(this.dateOptions.min=this.options.min),this.options&&this.options.max&&(this.dateOptions.max=this.options.max)}},{key:"dateChanged",value:function(t){this.onPsChange.emit(t)}}])}(i.a);return t.\u0275fac=function(e){return new(e||t)(f.Rb(l.a),f.Rb(r.a),f.Rb(h.a))},t.\u0275cmp=f.Lb({type:t,selectors:[["ps-date-day-month-year"]],inputs:{options:"options"},features:[f.Cb,f.Db],decls:1,vars:2,consts:[[1,"ps-day-month-year",3,"options","id","onPsChange","onPsInit"]],template:function(t,e){1&t&&(f.Xb(0,"ps-keyin-date",0),f.fc("onPsChange",function(t){return e.dateChanged(t)})("onPsInit",function(t){return e.onInit(t)}),f.Wb()),2&t&&f.pc("options",e.dateOptions)("id",e.id)},directives:[i.a],styles:[""]}),t}()},EZLY:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("fXoL"),r=n("uqA0"),c=n("xV2m"),l=n("KVmc"),u=["templateList"],h=function(){return{labelKey:"no_matching_found_key",translate:!0}},f=["*"],m=function(){var t=function(t){function e(){var t;return s(this,e),(t=p(this,e)).searchOptions={contentReference:"container-lookup-option",selectors:"ion-label,span:not(:has(ps-label,ion-label),.highlight)",actionType:"filter"},t}return d(e,t),a(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){o(e,"init",this,3)([])}},{key:"ngAfterViewInit",value:function(){this.searchOptions.templateRef=this.templateList}}])}(r.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-template-list"]],viewQuery:function(t,e){var o;(1&t&&i.Wc(u,1,i.m),2&t)&&(i.Bc(o=i.gc())&&(e.templateList=o.first))},features:[i.Cb],ngContentSelectors:f,decls:7,vars:3,consts:[[1,"ps-template-list-searchbar-wrapper"],["id","search_in_template_list",3,"options"],[1,"ps-template-list-container"],["templateList",""],[1,"no-matching-found",3,"options"],["id","ps-template-list-main-content"]],template:function(t,e){1&t&&(i.oc(),i.Xb(0,"div",0),i.Sb(1,"ps-input-search-html",1),i.Wb(),i.Xb(2,"div",2,3),i.Sb(4,"ps-label",4),i.Xb(5,"div",5),i.nc(6),i.Wb(),i.Wb()),2&t&&(i.Fb(1),i.pc("options",e.searchOptions),i.Fb(3),i.pc("options",i.rc(2,h)))},directives:[c.a,l.a],encapsulation:2}),t}()},HAMJ:function(t,e,n){"use strict";n.d(e,"a",function(){return S});var i=n("zngb"),r=n("qEF5"),c=n("lE2x"),l=n("QZhd"),u=n("uqA0"),h=n("fXoL"),f=n("ofXK"),m=n("GmoW"),b=n("ilDp"),v=n("+U2o"),g=n("Mapq");function w(t,e){if(1&t){var o=h.Yb();h.Xb(0,"div",5),h.Xb(1,"ps-action-icon",6),h.fc("onClick",function(){return h.Fc(o),h.ic().onBackIconClicked()}),h.Wb(),h.Xb(2,"ps-action-icon",7),h.fc("onClick",function(){return h.Fc(o),h.ic().openPage()}),h.Wb(),h.Wb()}if(2&t){var n=h.ic();h.Fb(1),h.pc("options",n.arrowIconOptios),h.Fb(1),h.pc("options",n.homeOptions)}}function O(t,e){if(1&t&&h.Sb(0,"ps-action-icon",11),2&t){var o=h.ic(2);h.pc("options",o.headerIconOptions)}}function D(t,e){if(1&t&&(h.Xb(0,"div",8),h.Pc(1,O,1,1,"ps-action-icon",9),h.Sb(2,"ps-label-header",10),h.Wb()),2&t){var o=h.ic();h.Fb(1),h.pc("ngIf",o.headerIconOptions.iconName),h.Fb(1),h.pc("options",o.optionsHeader)}}function y(t,e){if(1&t){var o=h.Yb();h.Xb(0,"ps-action-icon",16),h.fc("click",function(){return h.Fc(o),h.ic(2).showLess()}),h.Wb()}if(2&t){var n=h.ic(2);h.pc("options",n.collapseOptions)}}function P(t,e){if(1&t&&(h.Xb(0,"div",17),h.Sb(1,"ps-complex-menu",10),h.Wb()),2&t){var o=h.ic(2);h.Fb(1),h.pc("options",o.quickMenuHeader)}}function k(t,e){if(1&t){var o=h.Yb();h.Xb(0,"ps-action-icon",18),h.fc("click",function(){return h.Fc(o),h.ic(2).showMore()}),h.Wb()}if(2&t){var n=h.ic(2);h.pc("options",n.expandOptions)}}var I=function(t){return{collapsed:t}};function C(t,e){if(1&t&&(h.Xb(0,"div",12),h.Pc(1,y,1,1,"ps-action-icon",13),h.Pc(2,P,2,1,"div",14),h.Pc(3,k,1,1,"ps-action-icon",15),h.Wb()),2&t){var o=h.ic();h.pc("ngClass",h.sc(4,I,o.collapsed)),h.Fb(1),h.pc("ngIf",!o.collapsed),h.Fb(1),h.pc("ngIf",!o.collapsed),h.Fb(1),h.pc("ngIf",o.collapsed)}}var F=[[["","saveAsDraftButton",""]],[["","extraHeader",""]],"*",[["","psFooter",""]]],L=function(t){return{"center-header":t}},_=["[saveAsDraftButton]","[extraHeader]","*","[psFooter]"],S=function(){var t=function(t){function e(){var t;return s(this,e),(t=p(this,e)).collapseOptions={iconName:"arrow-down",labelOptions:{labelKey:"show_more_key"}},t.expandOptions={iconName:"arrow-up",labelOptions:{labelKey:"show_less_key"}},t.helpLabelOptions={labelKey:"help_key"},t.menuIcon={iconName:"menu"},t.closeIcon={iconName:"close"},t.arrowIconOptios={iconName:"arrow-back",allowCust:!0},t.homeOptions={iconName:"lock"},t.optionsHeader={},t.headerIconOptions={},t.quickMenuHeader={quicklinkMenu:!0},t.collapsed=!1,t.operId="operId_"+l.a.oper_ID,t.iconShouldBePresent=!1,t.iconShouldBeChecked=!1,t.hasSubscribed=!1,t}return d(e,t),a(e,[{key:"ngOnInit",value:function(){var t,n=this;this.landingType=c.a.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.LANDING_UI_TYPE,(null===(t=this.screenOptions)||void 0===t?void 0:t.quickMenuCollapsed)&&(this.collapsed=!0),this.isMobile=this.commonProv.isMobileLayout(),o(e,"init",this,3)([]),this.navService.isUserLoggedIn&&(this.homeOptions.iconName="menu"),this.checkViewSubscriptionC=this.commonProv.getCheckViewByOper(l.a.oper_ID>0?l.a.oper_ID:i.a.DEFAULT_FALLBACK_OPER).subscribe(function(t){if(t){if(n.activePageSubscription&&n.activePageSubscription.unsubscribe(),t&&t.didEnter){n.hasSubscribed=!0;var e=n.navService.activePage;e&&n.updateHeader(e)}t&&t.willLeave&&n.hasSubscribed&&n.checkViewSubscriptionC&&n.checkViewSubscriptionC.unsubscribe()}else n.activePageSubscription=n.commonProv.activePage.subscribe(function(t){t?setTimeout(function(){n.updateHeader(t)},500):n.activePageSubscription&&n.activePageSubscription.unsubscribe()})}),(this.commonProv.isWebLayout()||4==this.landingType)&&this.navService.isUserLoggedIn?this.iconShouldBeChecked=!0:this.iconShouldBePresent=!0}},{key:"updateHeader",value:function(t){this.optionsHeader.labelKey="",this.headerIconOptions.iconName=null,this.optionsHeader.labelKey=t.title,this.headerIconOptions.iconName=t.icon}},{key:"openPage",value:function(){this.navService.navigateToMain()}},{key:"onBackIconClicked",value:function(){var t=this;this.navService.onCancelClicked().then(function(e){e&&t.screenOptions.nextPageOptions&&t.navService.openPage(t.screenOptions.nextPageOptions)})}},{key:"ngOnDestroy",value:function(){this.checkViewSubscriptionC&&this.checkViewSubscriptionC.unsubscribe()}},{key:"ifHomePage",get:function(){var t=c.a.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.LANDING_PAGE_OPER;return this.iconShouldBeChecked=!1,this.iconShouldBePresent=!r.a.isNotNull(t)||t!==l.a.oper_ID,this.iconShouldBePresent}},{key:"showMore",value:function(){this.collapsed=!1}},{key:"showLess",value:function(){this.collapsed=!0}}])}(u.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Lb({type:t,selectors:[["ps-template-screen"]],hostVars:2,hostBindings:function(t,e){2&t&&h.Hb(e.operId)},inputs:{screenOptions:"screenOptions"},features:[h.Cb],ngContentSelectors:_,decls:11,vars:6,consts:[["psHeader",""],[1,"widget-style",3,"ngClass"],["class","widget-menu-icon widget-menu-icon-back",4,"ngIf"],["class","widget-header-title",4,"ngIf"],["class","common-quick-menu",3,"ngClass",4,"ngIf"],[1,"widget-menu-icon","widget-menu-icon-back"],["id","back_icon",1,"menu-icon","arrow_icon",3,"options","onClick"],[1,"menu-icon","home_icon",3,"options","onClick"],[1,"widget-header-title"],["class","menu-icon widget-header-icon",3,"options",4,"ngIf"],[3,"options"],[1,"menu-icon","widget-header-icon",3,"options"],[1,"common-quick-menu",3,"ngClass"],["class","material-icons show-more-less-icon expanded home-quick-links-expanded",3,"options","click",4,"ngIf"],["class","home-quick-links",4,"ngIf"],["class","material-icons show-more-less-icon collapsed home-quick-links-collapsed",3,"options","click",4,"ngIf"],[1,"material-icons","show-more-less-icon","expanded","home-quick-links-expanded",3,"options","click"],[1,"home-quick-links"],[1,"material-icons","show-more-less-icon","collapsed","home-quick-links-collapsed",3,"options","click"]],template:function(t,e){1&t&&(h.oc(F),h.Xb(0,"ps-template-base"),h.Vb(1,0),h.Xb(2,"div",1),h.Pc(3,w,3,2,"div",2),h.Pc(4,D,3,2,"div",3),h.nc(5),h.Wb(),h.nc(6,1),h.Ub(),h.Xb(7,"ps-container-form"),h.nc(8,2),h.Wb(),h.nc(9,3,["psFooter",""]),h.Pc(10,C,4,6,"div",4),h.Wb()),2&t&&(h.Fb(2),h.pc("ngClass",h.sc(4,L,!e.iconShouldBePresent)),h.Fb(1),h.pc("ngIf",e.iconShouldBeChecked&&!e.ifHomePage||e.iconShouldBePresent),h.Fb(1),h.pc("ngIf",e.optionsHeader.labelKey),h.Fb(6),h.pc("ngIf",e.navService.isUserLoggedIn&&e.showQuickMenu))},directives:[u.a,f.m,f.o,m.a,b.a,v.a,g.a],styles:[""]}),t}()},Kk3n:function(e,o,n){"use strict";n.d(o,"a",function(){return v});var i=n("mrSG"),r=n("ZyuK"),c=n("JpVU"),l=n("DFXC"),u=n("zngb"),h=n("Q0Ba"),f=n("r40+"),m=n("fXoL"),b=n("BcCD"),v=function(){var e=function(e){function o(t,e,n,i){var r;return s(this,o),(r=p(this,o,[t,e,i])).commonC=t,r.loggerC=e,r.omniPull=n,r.filterFromDate={},r.filterToDate={},r}return d(o,e),a(o,[{key:"ngOnInit",value:function(){return Object(i.b)(this,void 0,void 0,t().m(function e(){var o,n=this;return t().w(function(t){for(;;)switch(t.n){case 0:return this.filterFromDate={labelKey:"from_date_key",fcName:this.options.fromDate.fcName,group:this.options.fromDate.group,placeHolder:this.options.fromDate.placeHolder,overrideDefaultCust:this.options.fromDate.overrideDefaultCust},this.filterToDate={labelKey:"to_date_key",fcName:this.options.toDate.fcName,group:this.options.toDate.group,placeHolder:this.options.toDate.placeHolder,overrideDefaultCust:this.options.toDate.overrideDefaultCust},t.n=1,this.omniPull.getParamValOf("DefaultDateFormat").catch(function(t){return n.logger.log(t)});case 1:(o=t.v)&&(this.filterFromDate.displayFormat=o.DefaultDateFormat?o.DefaultDateFormat:u.a.PREV_DATE_FORMAT,this.filterToDate.displayFormat=o.DefaultDateFormat?o.DefaultDateFormat:u.a.PREV_DATE_FORMAT);case 2:return t.a(2)}},e,this)}))}},{key:"fromDateChange",value:function(t){this.filterToDate.min=t.newValue,this.filterToDate=Object.assign({},this.filterToDate)}},{key:"toDateChange",value:function(t){this.filterFromDate.max=t.newValue,this.filterFromDate=Object.assign({},this.filterFromDate)}}])}(c.a);return e.\u0275fac=function(t){return new(t||e)(m.Rb(h.a),m.Rb(l.a),m.Rb(r.a),m.Rb(f.a))},e.\u0275cmp=m.Lb({type:e,selectors:[["ps-complex-date-filter"]],inputs:{options:"options"},features:[m.Cb],decls:2,vars:4,consts:[[3,"options","id","onPsChange"]],template:function(t,e){1&t&&(m.Xb(0,"ps-date-day-month-year",0),m.fc("onPsChange",function(t){return e.fromDateChange(t)}),m.Wb(),m.Xb(1,"ps-date-day-month-year",0),m.fc("onPsChange",function(t){return e.toDateChange(t)}),m.Wb()),2&t&&(m.pc("options",e.filterFromDate)("id",e.id+"_from_date"),m.Fb(1),m.pc("options",e.filterToDate)("id",e.id+"_to_date"))},directives:[b.a],styles:[""]}),e}()},Sx1r:function(e,o,n){"use strict";n.d(o,"a",function(){return C});var i=n("mrSG"),r=n("fXoL"),c=n("ZF3V"),l=n("DFXC"),u=n("zngb"),h=n("Q0Ba"),f=n("TEn/"),m=n("Isd1"),b=n("ofXK"),v=n("KVmc"),g=n("ilDp"),w=n("qNfM"),O=n("BqtM");function D(t,e){if(1&t){var o=r.Yb();r.Xb(0,"div",8),r.Xb(1,"ps-action-icon",9),r.fc("onClick",function(){return r.Fc(o),r.ic(2).onBackIconClicked()}),r.Wb(),r.Wb()}if(2&t){var n=r.ic(2);r.Fb(1),r.pc("options",n.backIconOptions)}}var y=function(t,e){return[t,e]};function P(t,e){if(1&t){var o=r.Yb();r.Vb(0),r.Xb(1,"ps-select-dropdown-widget",10),r.fc("onPsChange",function(t){return r.Fc(o),r.ic(2).onItemSelected(t)}),r.Wb(),r.Ub()}if(2&t){var n=e.$implicit,i=e.index;r.Fb(1),r.pc("options",n)("ngClass",r.tc(2,y,n&&n.psClass?n.psClass:"","level-"+i))}}function k(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",3),r.Pc(2,D,2,1,"div",4),r.Xb(3,"div",5),r.Sb(4,"ps-label",6),r.Wb(),r.Wb(),r.Pc(5,P,2,5,"ng-container",7),r.Ub()),2&t){var o=r.ic();r.Fb(2),r.pc("ngIf",o.showIcon),r.Fb(2),r.pc("options",o.headerLabelOptions),r.Fb(1),r.pc("ngForOf",o.options.dropdowns)}}function I(t,e){if(1&t&&(r.Xb(0,"p",11),r.Rc(1),r.jc(2,"translate"),r.Wb()),2&t){var o=r.ic();r.Fb(1),r.Sc(r.kc(2,1,o.selectionErrorMessage))}}var C=function(){var e=function(e){function o(t,e,n){var i;return s(this,o),(i=p(this,o,[t,e])).commonProv=t,i.loggerP=e,i.modalController=n,i.onSecondValueChange=new r.o,i.numberOfDropdowns=0,i.currentDropdownPosition=0,i.selectedItemsList=[],i.selectReportsError=!1,i.selectionErrorMessage="no_selected_reports_key",i.headerLabelOptions={},i.backIconOptions={iconName:"arrow-back"},i.backClicked=!1,i.showIcon=!1,i.isPreviouslySelected=!1,i}return d(o,e),a(o,[{key:"ngOnInit",value:function(){this.options.dropdowns&&this.options.dropdowns.length>0&&(this.numberOfDropdowns=this.options.dropdowns.length,this.options.dropdowns[0].renderDropdown=!0,this.currentDropdownPosition=1,this.headerLabelOptions.labelKey=this.options.dropdowns[0].labelKey)}},{key:"onItemSelected",value:function(t){var e=this;if(this.options.requestObject&&this.options.requestObject[this.options.dropdowns[this.currentDropdownPosition-1].fcName]&&t.itemValue===this.options.requestObject[this.options.dropdowns[this.currentDropdownPosition-1].fcName].itemValue&&this.options.dropdowns[this.currentDropdownPosition]&&this.options.dropdowns[this.currentDropdownPosition].listOfOptions&&this.options.dropdowns[this.currentDropdownPosition].listOfOptions.length>0)this.options.dropdowns.length>this.currentDropdownPosition&&(this.options.dropdowns[this.currentDropdownPosition-1].psClass="hide-dropdown",this.options.dropdowns[this.currentDropdownPosition].psClass="show-dropdown",this.currentDropdownPosition++,this.showIcon=!0);else if(this.options.dropdowns.length>1||1==this.options.dropdowns.length&&this.options.dropdowns[0].asyncURL)this.isPreviouslySelected=!(!this.options.requestObject[this.options.dropdowns[this.currentDropdownPosition-1].fcName]||!this.options.requestObject[u.a.HEADER_LABEL]),this.commonProv.setValInsideNestedObj(this.options.dropdowns[this.currentDropdownPosition-1].fcName,t,this.options.requestObject),this.options.dropdowns.length>this.currentDropdownPosition?(this.backClicked&&(this.commonProv.setValInsideNestedObj(this.options.dropdowns[this.currentDropdownPosition].fcName,null,this.options.requestObject),this.options.dropdowns[this.currentDropdownPosition].renderDropdown=!1,this.options.dropdowns[this.currentDropdownPosition]={group:this.options.dropdowns[this.currentDropdownPosition].group,fcName:this.options.dropdowns[this.currentDropdownPosition].fcName,labelKey:this.options.dropdowns[this.currentDropdownPosition].labelKey,asyncURL:this.options.dropdowns[this.currentDropdownPosition].asyncURL,mapResponseProperties:this.options.dropdowns[this.currentDropdownPosition].mapResponseProperties,enablePagination:this.options.dropdowns[this.currentDropdownPosition].enablePagination,listOfOptions:[],componentInstance:this.options.dropdowns[this.currentDropdownPosition].componentInstance},this.headerLabelOptions.labelKey=this.options.dropdowns[this.currentDropdownPosition-1].labelKey),this.options.dropdowns[this.currentDropdownPosition].serviceRequestObj?this.options.dropdowns[this.currentDropdownPosition].serviceRequestObj.commonParametersList=t.selectedObj:this.options.dropdowns[this.currentDropdownPosition].serviceRequestObj={commonParametersList:t.selectedObj},this.options.dropdowns[this.currentDropdownPosition].renderDropdown=!0,this.options.dropdowns[this.currentDropdownPosition-1].psClass="hide-dropdown",-1!==this.headerLabelOptions.labelKey.indexOf("-")?(this.headerLabelOptions.labelKey=this.headerLabelOptions.labelKey.slice(0,this.headerLabelOptions.labelKey.lastIndexOf("-")+1),this.headerLabelOptions.labelKey.replace(this.commonProv.translate(this.options.dropdowns[this.currentDropdownPosition-1].fcName),t.description),this.headerLabelOptions.labelKey.endsWith("-")&&(this.headerLabelOptions.labelKey=this.headerLabelOptions.labelKey.slice(0,-1)),this.headerLabelOptions.labelKey+=" - "+this.options.dropdowns[this.currentDropdownPosition].fcName):(this.headerLabelOptions.labelKey=t.description,this.headerLabelOptions.labelKey+=" - "+this.options.dropdowns[this.currentDropdownPosition].fcName),this.showIcon=!0,this.currentDropdownPosition++,this.options.group.controls[this.options.dropdowns[this.currentDropdownPosition-1].fcName].reset(),this.options.dropdowns[this.currentDropdownPosition-1].componentInstance.callService()):this.options.dropdowns.length===this.currentDropdownPosition&&(this.headerLabelOptions.labelKey=this.headerLabelOptions.labelKey.slice(0,this.isPreviouslySelected?this.headerLabelOptions.labelKey.indexOf("-")+1:this.headerLabelOptions.labelKey.lastIndexOf("-")+1),this.headerLabelOptions.labelKey+=t.description,this.options.requestObject[u.a.HEADER_LABEL]=this.headerLabelOptions.labelKey,this.common.presentLoading(),setTimeout(function(){e.onSecondValueChange.emit(e.options.requestObject),e.common.dismissLoading()},500),this.showDescriptionModal(t));else if(1==this.options.dropdowns.length&&!this.options.dropdowns[0].asyncURL){var o=!1;this.selectReportsError=!1;var n=this.options.dropdowns[0].fcName;this.selectedItemsList.forEach(function(n,i){n.itemValue==t.itemValue&&(o=!0,n.selected=!1,e.selectedItemsList.splice(i,1))}),o||this.selectedItemsList.push(t),0==this.selectedItemsList.length&&(this.selectReportsError=!0,this.options.group.controls[n].setValue([]),this.options.group.get(n).setValue([])),this.selectedItemsList.forEach(function(t){t.selected=!0}),this.options.group.controls[n].setValue(this.selectedItemsList),this.options.group.get(n).setValue(this.selectedItemsList),this.commonProv.setValInsideNestedObj(this.options.dropdowns[0].fcName,this.selectedItemsList,this.options.requestObject)}}},{key:"showDescriptionModal",value:function(e){return Object(i.b)(this,void 0,void 0,t().m(function o(){var n,i;return t().w(function(t){for(;;)switch(t.n){case 0:if(!this.options.detailsObject){t.n=2;break}return n=this.options.detailsObject.detailsModalId,t.n=1,this.modalController.create({component:this.options.detailsObject.detailsModal,componentProps:{data:Object.assign({},e.selectedObj),actions:this.options.detailsObject.detailsActionsList},cssClass:this.options.detailsObject.detailsModalClass,animated:!1,id:n});case 1:return i=t.v,t.n=2,i.present();case 2:return t.a(2)}},o,this)}))}},{key:"onBackIconClicked",value:function(){this.backClicked=!0,this.options.group.controls[this.options.dropdowns[this.currentDropdownPosition-1].fcName].invalid&&this.options.group.controls[this.options.dropdowns[this.currentDropdownPosition-1].fcName].reset(),this.options.dropdowns[this.currentDropdownPosition-1].psClass="hide-dropdown",this.options.dropdowns[this.currentDropdownPosition-2].psClass="show-dropdown",this.currentDropdownPosition--,1===this.currentDropdownPosition&&(this.showIcon=!1)}},{key:"resetSelections",value:function(){var t=this.options.dropdowns[0].fcName;this.selectedItemsList.forEach(function(t){t.selected=!1}),this.selectedItemsList=[],this.options.group.controls[t].setValue([]),this.options.group.get(t).setValue(this.selectedItemsList),this.commonProv.setValInsideNestedObj(this.options.dropdowns[0].fcName,this.selectedItemsList,this.options.requestObject),this.selectReportsError=!0}}])}(c.a);return e.\u0275fac=function(t){return new(t||e)(r.Rb(h.a),r.Rb(l.a),r.Rb(f.N))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-complex-widget-dropdowns"]],inputs:{options:"options"},outputs:{onSecondValueChange:"onSecondValueChange"},features:[r.Cb],decls:3,vars:2,consts:[[1,"ps-complex-widget-dropdowns"],[4,"ngIf"],["class","select-documents-validation-message",4,"ngIf"],[1,"ps-complex-widget-dropdowns_header"],["class","ps-complex-widget-dropdowns_header-back",4,"ngIf"],[1,"ps-complex-widget-dropdowns_header-label"],[3,"options"],[4,"ngFor","ngForOf"],[1,"ps-complex-widget-dropdowns_header-back"],[3,"options","onClick"],[3,"options","ngClass","onPsChange"],[1,"select-documents-validation-message"]],template:function(t,e){1&t&&(r.Xb(0,"ps-container-complex",0),r.Pc(1,k,6,3,"ng-container",1),r.Pc(2,I,3,3,"p",2),r.Wb()),2&t&&(r.Fb(1),r.pc("ngIf",(null==e.options?null:e.options.dropdowns.length)>0),r.Fb(1),r.pc("ngIf",e.selectReportsError))},directives:[m.a,b.o,v.a,b.n,g.a,w.a,b.m],pipes:[O.a],encapsulation:2}),e}()},gKqT:function(t,e,o){"use strict";o.r(e),o.d(e,"OmniBasePage",function(){return h});var n=o("oS+F"),i=o("zngb"),r=o("QZhd"),c=o("woXy"),p=o("qEF5"),l=o("Q0Ba"),u=o("lE2x"),d=o("fXoL"),h=function(){var t=function(){return a(function t(){s(this,t),this.isPageDisabled=!1,this.commonProv=p.a.injectionHandler(l.a),this.navigationServices=p.a.injectionHandler(c.a)},[{key:"init",value:function(){this.currentOperID=r.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();var t=this.navigationServices.getAllParams(),e={};t&&!0===t.readOnlypage?(e.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(i.a.FORM_READONLY,e)):this.customizationMap&&(e.IS_READONLY=0,this.customizationMap.set(i.a.FORM_READONLY,e)),this.screenTranslationOperIds=u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?u.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}},{key:"ngOnInit",value:function(){this.init()}},{key:"ionViewDidEnter",value:function(){this.viewDidEnter()}},{key:"ionViewWillLeave",value:function(){this.viewWillLeave()}},{key:"ionViewWillEnter",value:function(){this.viewWillEnter()}},{key:"viewWillEnter",value:function(){}},{key:"disableForm",value:function(t){var e=this;if(void 0!==t&&this.customizationMap){var o=this.customizationMap.get(i.a.FORM_READONLY);o&&1===o.IS_READONLY&&"DISABLED"!=t.status&&(t.disable(),Object.keys(t.controls).forEach(function(t){e.commonProv.applyDynScreenDisplay(i.a.ACTION_TYPE_READONLY,[t],1)}))}}},{key:"viewDidEnter",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:r.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:r.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),n.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}},{key:"viewWillLeave",value:function(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:r.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:r.a.oper_ID,{value:!0,page:this,willLeave:!0})}},{key:"ngAfterViewChecked",value:function(){var t=this;this.isPageDisabled||setTimeout(function(){t.disableForm(t.baseFormGroup),t.isPageDisabled=!0},300)}},{key:"getScreenTranslations",value:function(t){var e=t||2222,o=r.a.activeLanguge?r.a.activeLanguge:"EN";e&&o&&this.commonProv.language.getOperTranslation(o,e)}}])}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Lb({type:t,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(t,e){2&t&&d.Hb(e.psClass)},decls:0,vars:0,template:function(t,e){},styles:[""]}),t}()},kAgI:function(t,e,n){"use strict";n.r(e),n.d(e,"DocumentsPage",function(){return M});var i=n("3Pt+"),r=n("wd/R"),c=n.n(r),l=n("Sx1r"),u=n("0CJq"),h=n("ZyuK"),f=n("BygU"),m=n("zngb"),b=n("DUM0"),v=n("gKqT"),g=n("qEF5"),w=n("fXoL"),O=n("HAMJ"),D=n("+f2X"),y=n("Kk3n"),P=n("CRGX"),k=n("LYvI"),I=n("EZLY"),C=n("ofXK"),F=n("Wp6s"),L=n("5YYs"),_=n("BqtM");function S(t,e){if(1&t&&(w.Xb(0,"mat-card-subtitle",8),w.Rc(1),w.jc(2,"translate"),w.Wb()),2&t){var o=w.ic(3);w.Fb(1),w.Sc(w.kc(2,1,o.noDataMessage))}}function N(t,e){if(1&t){var o=w.Yb();w.Xb(0,"mat-card-content",9),w.Xb(1,"ps-action-image",10),w.fc("click",function(){w.Fc(o);var t=w.ic().$implicit;return w.ic(2).export(1,t)}),w.Wb(),w.Xb(2,"ps-action-image",10),w.fc("click",function(){w.Fc(o);var t=w.ic().$implicit;return w.ic(2).export(2,t)}),w.Wb(),w.Wb()}if(2&t){var n=w.ic(3);w.Fb(1),w.pc("options",n.pdfOptions),w.Fb(1),w.pc("options",n.excelOptions)}}function E(t,e){if(1&t&&(w.Xb(0,"div"),w.Xb(1,"mat-card",4),w.Xb(2,"mat-card-header",5),w.Xb(3,"mat-card-title"),w.Rc(4),w.jc(5,"translate"),w.Wb(),w.Pc(6,S,3,3,"mat-card-subtitle",6),w.Wb(),w.Pc(7,N,3,2,"mat-card-content",7),w.Wb(),w.Wb()),2&t){var o=e.$implicit;w.Fb(4),w.Sc(w.kc(5,3,o.documentName)),w.Fb(2),w.pc("ngIf",!o.showExports),w.Fb(1),w.pc("ngIf",o.showExports)}}function R(t,e){if(1&t&&(w.Xb(0,"ps-template-list",2),w.Pc(1,E,8,5,"div",3),w.Wb()),2&t){var o=w.ic();w.Fb(1),w.pc("ngForOf",o.options.itemList)}}function W(t,e){if(1&t&&(w.Xb(0,"div"),w.Xb(1,"p",11),w.Rc(2),w.jc(3,"translate"),w.Wb(),w.Wb()),2&t){var o=w.ic();w.Fb(2),w.Sc(w.kc(3,1,o.noFilteredReportsMessage))}}var j,T,x=((j=function(t){function e(t,o){var n;return s(this,e),(n=p(this,e)).omniCommonService=t,n.cdRef=o,n.noDataMessage="no_data_found_key",n.noFilteredReportsMessage="no_filtered_details_found_key",n.pdfOptions={imageName:"pdf.png",imagePath:"assets/branding/default_theme/imgs/"},n.excelOptions={imageName:"excel.png",imagePath:"assets/branding/default_theme/imgs/"},n}return d(e,t),a(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){o(e,"ngOnDestroy",this,3)([])}},{key:"ngAfterViewChecked",value:function(){this.cdRef.detectChanges()}},{key:"export",value:function(t,e){var o=this.options.itemCard;o.repFltfilterFromDate=this.options.fromDate,o.repFltfilterToDate=this.options.toDate,this.omniCommonService.exportData(1==t?b.f.PDF:b.f.EXCEL,o,e.operId)}}])}(I.a)).\u0275fac=function(t){return new(t||j)(w.Rb(u.a),w.Rb(w.i))},j.\u0275cmp=w.Lb({type:j,selectors:[["ps-documents-list"]],inputs:{options:"options"},features:[w.Cb],decls:2,vars:2,consts:[["class","documents-reports-list",4,"ngIf"],[4,"ngIf"],[1,"documents-reports-list"],[4,"ngFor","ngForOf"],[1,"matCard"],[1,"document-info"],["class","doc-validation-message",4,"ngIf"],["class","document-exports",4,"ngIf"],[1,"doc-validation-message"],[1,"document-exports"],[1,"export-action",3,"options","click"],[1,"noFiltered"]],template:function(t,e){1&t&&(w.Pc(0,R,2,1,"ps-template-list",0),w.Pc(1,W,4,3,"div",1)),2&t&&(w.pc("ngIf",(null==e.options||null==e.options.itemList?null:e.options.itemList.length)>0),w.Fb(1),w.pc("ngIf",0==(null==e.options||null==e.options.itemList?null:e.options.itemList.length)))},directives:[C.o,I.a,C.n,F.a,F.d,F.g,F.f,F.b,L.a],pipes:[_.a],styles:[""]}),j),V=["productDetails"],X=["documentsDropdownWidget"],M=((T=function(t){function e(t,o){var n;return s(this,e),(n=p(this,e)).omniPull=t,n.omniCommonService=o,n.formGroup=new i.f({}),n.documentsPageData={},n.panelOptions1={isExpandable:!0,iconName:"document",expanded:!0},n.panelOptions2={isExpandable:!0,labelKey:"documents_filter_key",iconName:"document",expanded:!0},n.panelOptions3={isExpandable:!0,labelKey:"documents_key",iconName:"document",expanded:!0},n.filterDate={},n.resetOptions={labelKey:"reset_key",group:n.formGroup},n.filterOptions={labelKey:"filter_key",group:n.formGroup},n.widgetDropdownsOptions={group:n.formGroup,requestObject:n.documentsPageData,dropdowns:[{group:n.formGroup,fcName:"documentsDropdown",enablePagination:!1,requestObject:n.documentsPageData}]},n.documentListOptions={itemList:[]},n}return d(e,t),a(e,[{key:"ngOnInit",value:function(){this.baseFormGroup=this.formGroup;var t=this.omniPull.omniCommon.session.getValueOf(m.a.preLoginResponse).parameters,e=t.DefaultDateFormat?t.DefaultDateFormat.parameterVal:"DD/MM/YYYY";this.filterDate={fromDate:{group:this.formGroup,fcName:"fromDate",displayFormat:e,placeHolder:"from_date_key"},toDate:{group:this.formGroup,fcName:"toDate",displayFormat:e,placeHolder:"to_date_key"}},this.lookup.showDocuments=!1,this.cardOptions=this.navigationServices.getParamKey("options"),this.cardOptions.isEditable=!1,this.cardOptions.actionDetailsOptions=null,this.cardOptions.listOfStatementOptions=null,this.itemCard=this.navigationServices.getParamKey("itemCard");var o=this.navigationServices.getParamKey("fromOperName"),n=o;n.startsWith("My")&&(n=n.replace("My ","")),n=n.replace(" Documents",""),o.startsWith("My")&&n.endsWith("s")&&(n=n.replace("s","")),this.panelOptions1.labelKey=n+" Details",this.parentDocuments=this.getParentDocumentsList()}},{key:"ionViewDidEnter",value:function(){o(e,"ionViewDidEnter",this,3)([]),this.fromDateCtrlFormat=this.formGroup.controls[this.filterDate.fromDate.fcName][m.a.CONTROLLER_DATE_FORMAT],this.toDateCtrlFormat=this.formGroup.controls[this.filterDate.toDate.fcName][m.a.CONTROLLER_DATE_FORMAT]}},{key:"resetFilter",value:function(){this.documentsComplexWidget.resetSelections(),this.formGroup.get(this.filterDate.fromDate.fcName).setValue(""),this.formGroup.get(this.filterDate.toDate.fcName).setValue(""),this.formGroup.controls[this.filterDate.fromDate.fcName].markAsTouched(),this.formGroup.controls[this.filterDate.toDate.fcName].markAsTouched()}},{key:"getParentDocumentsList",value:function(){var t=this.navigationServices.getParamKey("fromOper"),e=this.omniCommonService.getParentDocumentsList(t);this.widgetDropdownsOptions.dropdowns[0].listOfOptions=e}},{key:"filterDocuments",value:function(){var t=this,e=this.documentsComplexWidget.selectedItemsList,o=c()(this.formGroup.get(this.filterDate.fromDate.fcName).value).format(this.fromDateCtrlFormat),n=c()(this.formGroup.get(this.filterDate.toDate.fcName).value).format(this.toDateCtrlFormat);if(this.formGroup.valid){if(e.length>0){this.documentListOptions.fromDate=o,this.documentListOptions.toDate=n;var i=[];e.forEach(function(t){i.push(t.itemValue)});var s={reportType:m.a.REPORT_TYPE,reportFormat:b.f.HTML,reportParametersList:{operIds:i,fromDate:o,toDate:n}};this.commonProv.presentLoading(),this.omniPull.returnFilteredDocuments(s).then(function(o){if(o&&o.gridModel&&o.gridModel.length>0){var n=[];o.gridModel.forEach(function(t){n.push({documentName:t.operName,operId:t.operChildId,showExports:t.hasData})}),t.documentListOptions.itemList=n,t.documentListOptions.itemCard=t.itemCard}else 0==e.length&&(t.documentsComplexWidget.selectReportsError=!0),g.a.presentInfoAlert(t.commonProv.translate("no_data_found_key"))}).catch(function(e){return t.commonProv.logger.log(e)}).finally(function(){t.commonProv.dismissLoading()})}}else for(var r=0,a=Object.keys(this.formGroup.controls);r<a.length;r++){var p=a[r];this.formGroup.controls[p].errors&&(this.formGroup.get(p).setValue(""),this.formGroup.controls[p].markAsTouched())}}}])}(v.OmniBasePage)).\u0275fac=function(t){return new(t||T)(w.Rb(h.a),w.Rb(u.a))},T.\u0275cmp=w.Lb({type:T,selectors:[["documents"]],viewQuery:function(t,e){var o;1&t&&(w.Wc(V,3),w.Wc(X,3)),2&t&&(w.Bc(o=w.gc())&&(e.lookup=o.first),w.Bc(o=w.gc())&&(e.documentsComplexWidget=o.first))},features:[w.Cb],decls:16,vars:10,consts:[["id","documents_panel_1",1,"ps-container-panel-doc",3,"options"],[3,"options","itemCard"],["productDetails",""],["id","documents_panel_2",1,"ps-container-panel-doc",3,"options"],[1,"documentsDropdown"],["id","documents_list_dropdown",3,"options"],["documentsDropdownWidget",""],["id","filterDate",3,"options"],[1,"documents-actions"],[1,"reset-documents-button"],[3,"options","onClick"],[1,"filter-documents-button"],["id","documents_panel_3",1,"ps-container-panel-doc",3,"options"],[3,"options"]],template:function(t,e){1&t&&(w.Xb(0,"ps-template-screen"),w.Xb(1,"ps-container-panel",0),w.Sb(2,"ps-container-lookup-option",1,2),w.Wb(),w.Xb(4,"ps-container-panel",3),w.Xb(5,"div",4),w.Sb(6,"ps-complex-widget-dropdowns",5,6),w.Wb(),w.Sb(8,"ps-complex-date-filter",7),w.Xb(9,"div",8),w.Xb(10,"div",9),w.Xb(11,"ps-button-reset",10),w.fc("onClick",function(){return e.resetFilter()}),w.Wb(),w.Wb(),w.Xb(12,"div",11),w.Xb(13,"ps-button-standard",10),w.fc("onClick",function(){return e.filterDocuments()}),w.Wb(),w.Wb(),w.Wb(),w.Wb(),w.Xb(14,"ps-container-panel",12),w.Sb(15,"ps-documents-list",13),w.Wb(),w.Wb()),2&t&&(w.Fb(1),w.pc("options",e.panelOptions1),w.Fb(1),w.pc("options",e.cardOptions)("itemCard",e.itemCard),w.Fb(2),w.pc("options",e.panelOptions2),w.Fb(2),w.pc("options",e.widgetDropdownsOptions),w.Fb(2),w.pc("options",e.filterDate),w.Fb(3),w.pc("options",e.resetOptions),w.Fb(2),w.pc("options",e.filterOptions),w.Fb(1),w.pc("options",e.panelOptions3),w.Fb(1),w.pc("options",e.documentListOptions))},directives:[O.a,D.a,f.a,l.a,y.a,P.a,k.a,x],styles:[""]}),T)}}])}();