(window.webpackJsonp=window.webpackJsonp||[]).push([[16,339,340,341,342,343,344,345,346,347,348,349],{HadF:function(t,e,n){"use strict";n.d(e,"a",function(){return P});var i=n("V0Fi"),s=n("ZyuK"),o=n("ZF3V"),c=n("DFXC"),r=n("zngb"),a=n("qEF5"),p=n("QZhd"),u=n("Q0Ba"),l=n("0CJq"),h=n("fXoL"),d=n("Isd1"),m=n("ofXK"),b=n("UTjL"),f=n("x3b/"),O=n("GmwD"),g=n("/QlS"),v=n("7Cko"),I=n("y70R");function C(t,e){if(1&t){const t=h.Yb();h.Xb(0,"ps-input-account-number",5),h.fc("onPsChange",function(e){return h.Fc(t),h.ic().validateBeneficiary(e)})("onPsEmpty",function(e){return h.Fc(t),h.ic().onEmptyAccountNum(e)}),h.Wb()}if(2&t){const t=h.ic();h.pc("options",t.defaultOptions.benefAccountNumberOptions)}}function N(t,e){if(1&t&&h.Sb(0,"ps-input-card-number",6),2&t){const t=h.ic();h.pc("options",t.defaultOptions.benefCardNumberOptions)}}function E(t,e){if(1&t&&h.Sb(0,"ps-dropdown-currencies",7),2&t){const t=h.ic();h.pc("id",t.id)("options",t.defaultOptions.currencyOptions)}}function _(t,e){if(1&t&&h.Sb(0,"ps-input-varchar",7),2&t){const t=h.ic();h.pc("id",t.id)("options",t.defaultOptions.benefNameOptions)}}function y(t,e){if(1&t&&h.Sb(0,"ps-entity-phone-number",6),2&t){const t=h.ic();h.pc("options",t.defaultOptions.benefPhoneOptions)}}function A(t,e){if(1&t&&h.Sb(0,"ps-complex-id-details",8),2&t){const t=h.ic();h.pc("options",t.defaultOptions.complexIdDetailsOptions)}}function D(t,e){if(1&t&&h.Sb(0,"ps-input-varchar",7),2&t){const t=h.ic();h.pc("id",t.id)("options",t.defaultOptions.benefReasonOptions)}}let P=(()=>{class t extends o.a{constructor(t,e,n,i){super(t,n),this.commonProv=t,this.omniPull=e,this.omniCommon=i,this.isCardBenef=!1,this.defaultOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.options.requestObject&&(this.defaultOptions.requestObject=this.options.requestObject),this.options.benefAccountNumberOptions&&this.options.benefAccountNumberOptions.requestObject&&(this.defaultOptions.benefAccountNumberOptions.requestObject=this.options.benefAccountNumberOptions.requestObject),this.options.benefAccountNumberOptions.forceTriggerChange=!this.options.requestObject||!this.options.requestObject.dataSaveId,p.a.oper_ID!=i.a.BANK_CARD_BENEFICIARY_OPER_ID&&p.a.oper_ID!=i.a.LOCAL_CARD_BENEFICIARY_OPER_ID||(this.isCardBenef=!0)}validateBeneficiary(t){if(null==this.options.requestObject.bankFullObj&&(this.options.requestObject.bankFullObj=this.options.requestObject.bank),this.options.validateBeneficiary){let e={accountNumber:t.newValue};if(this.options.requestObject&&this.options.requestObject.bankFullObj)e.bankCode=this.options.requestObject.bankFullObj;else if(p.a.oper_ID===i.a.LOCAL_BENEFICIARY_OPER_ID)return this.omniCommon.presentInfoAlert("please_choose_a_bank_key"),void(this.options.requestObject.accountNumber=null);if(this.options.requestObject&&this.options.requestObject.swiftCode)e.swiftCode=this.options.requestObject.swiftCode;else if(p.a.oper_ID===i.a.EXTERNAL_BENEFICIARY_OPER_ID)return this.omniCommon.presentInfoAlert("please_choose_a_swift_code_key"),void(this.options.requestObject.accountNumber=null);this.common.presentLoading(),this.omniCommon.validateBeneficiary(e).then(t=>{this.common.dismissLoading(),a.a.deleteError(this.options.benefAccountNumberOptions.group,this.options.benefAccountNumberOptions.fcName),a.a.deleteError(this.options.benefNameOptions.group,this.options.benefNameOptions.fcName)}).catch(t=>{this.common.dismissLoading(),this.options.requestObject[this.defaultOptions.benefAccountNumberOptions.fcName]=null,this.options.requestObject[this.defaultOptions.currencyOptions.fcName]=null,this.options.requestObject[this.defaultOptions.benefNameOptions.fcName]=null,this.options.benefAccountNumberOptions.group.controls[this.defaultOptions.benefAccountNumberOptions.fcName].setErrors({invalid:!0}),this.options.benefAccountNumberOptions.group.controls[this.defaultOptions.benefAccountNumberOptions.fcName].oldValue=null,this.options.benefAccountNumberOptions.group.controls[this.defaultOptions.benefAccountNumberOptions.fcName].innerValue=null,t&&t.data.outputType===r.a.OUT_PUT_TYPE_U?a.a.setErrors(this.options.benefAccountNumberOptions.group,this.options.benefAccountNumberOptions.fcName,[{msgKey:t.data.outputNotification}]):this.common.logger.log(t)})}}onEmptyAccountNum(t){this.onPsEmpty.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(u.a),h.Rb(s.a),h.Rb(c.a),h.Rb(l.a))},t.\u0275cmp=h.Lb({type:t,selectors:[["ps-complex-beneficiary-details"]],inputs:{options:"options"},features:[h.Cb],decls:8,vars:7,consts:[[1,"ps-complex-swift-benef-creation"],[3,"options","onPsChange","onPsEmpty",4,"ngIf"],[3,"options",4,"ngIf"],[3,"id","options",4,"ngIf"],["id","complex_id_details1",3,"options",4,"ngIf"],[3,"options","onPsChange","onPsEmpty"],[3,"options"],[3,"id","options"],["id","complex_id_details1",3,"options"]],template:function(t,e){1&t&&(h.Xb(0,"ps-container-complex",0),h.Pc(1,C,1,1,"ps-input-account-number",1),h.Pc(2,N,1,1,"ps-input-card-number",2),h.Pc(3,E,1,2,"ps-dropdown-currencies",3),h.Pc(4,_,1,2,"ps-input-varchar",3),h.Pc(5,y,1,1,"ps-entity-phone-number",2),h.Pc(6,A,1,1,"ps-complex-id-details",4),h.Pc(7,D,1,2,"ps-input-varchar",3),h.Wb()),2&t&&(h.Fb(1),h.pc("ngIf",e.defaultOptions.benefAccountNumberOptions&&!e.isCardBenef),h.Fb(1),h.pc("ngIf",e.defaultOptions.benefCardNumberOptions&&e.isCardBenef),h.Fb(1),h.pc("ngIf",e.defaultOptions.currencyOptions&&!(e.isCardBenef&&"internal"==e.options.beneficiaryType)),h.Fb(1),h.pc("ngIf",e.defaultOptions.benefNameOptions),h.Fb(1),h.pc("ngIf",e.defaultOptions.benefPhoneOptions),h.Fb(1),h.pc("ngIf",e.defaultOptions.complexIdDetailsOptions),h.Fb(1),h.pc("ngIf",e.defaultOptions.benefReasonOptions))},directives:[d.a,m.o,b.a,f.a,O.a,g.a,v.a,I.a],styles:[""]}),t})()},UTjL:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("fXoL"),s=n("ZyuK"),o=n("BYmO"),c=n("DFXC"),r=n("qEF5"),a=n("Q0Ba"),p=n("woXy"),u=n("zngb"),l=n("ofXK"),h=n("ilDp");const d=function(t){return{disableContent:t}};function m(t,e){if(1&t){const t=i.Yb();i.Xb(0,"ps-action-icon",3),i.fc("onClick",function(){return i.Fc(t),i.ic().getScannedData(!0)}),i.Wb()}if(2&t){const t=i.ic();i.pc("id","QrScannerIcon")("ngClass",i.sc(3,d,t.isInReadOnlyScreen))("options",t.actionOption)}}const b=function(t){return{colAcc:t}};let f=(()=>{class t extends o.a{constructor(t,e,n,s){super(t,e),this.omniPull=n,this.nav=s,this.getScannedQr=new i.o,this.actionOption={},this.custMode&&(this.options.showScannerIcon=!0)}ngOnInit(){var t;let e=this.common.returnOperCustomization();this.isInReadOnlyScreen=1==(null===(t=e.get(u.a.FORM_READONLY))||void 0===t?void 0:t.IS_READONLY),r.a.isNotNull(this.options)&&(this.options.hideValueOnError=!0),this.actionOption={iconName:"qr_code_scanner",allowCust:!0,group:this.options.group}}onChangeEvent(t){this.onPsChange.emit(t)}getScannedData(t){this.custMode||(0==this.options.forceTriggerChange&&(this.options.forceTriggerChange=!0),this.commonProv.scanQRCode().then(e=>{var n,i;if(e){e=JSON.parse(e),this.commonProv.setValInsideNestedObj(this.options.fcName,null===(n=e.AccountRef)||void 0===n?void 0:n.split("-")[1],this.options.requestObject?this.options.requestObject:{});const s=Object.assign(Object.assign({},e),{accountNumber:null===(i=e.AccountRef)||void 0===i?void 0:i.split("-")[1]});this.getScannedQr.emit([s,t])}}).catch(t=>{this.logger.error("something went wrong",t),this.nav.navigateBackward()}))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.a),i.Rb(c.a),i.Rb(s.a),i.Rb(p.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-input-account-number"]],inputs:{options:"options"},outputs:{getScannedQr:"getScannedQr"},features:[i.Cb],decls:3,vars:6,consts:[[3,"ngClass"],[3,"id","options","onPsChange","onPsEmpty"],["class","scanQrIcon",3,"id","ngClass","options","onClick",4,"ngIf"],[1,"scanQrIcon",3,"id","ngClass","options","onClick"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"ps-keyin-input",1),i.fc("onPsChange",function(t){return e.onChangeEvent(t)})("onPsEmpty",function(t){return e.onEmpty(t)}),i.Wb(),i.Pc(2,m,1,5,"ps-action-icon",2),i.Wb()),2&t&&(i.pc("ngClass",i.sc(4,b,e.options.showScannerIcon||e.custMode)),i.Fb(1),i.pc("id",e.id)("options",e.options),i.Fb(1),i.pc("ngIf",e.options.showScannerIcon||e.custMode))},directives:[l.m,o.a,l.o,h.a],styles:[""]}),t})()},gKqT:function(t,e,n){"use strict";n.r(e),n.d(e,"OmniBasePage",function(){return l});var i=n("oS+F"),s=n("zngb"),o=n("QZhd"),c=n("woXy"),r=n("qEF5"),a=n("Q0Ba"),p=n("lE2x"),u=n("fXoL");let l=(()=>{class t{constructor(){this.isPageDisabled=!1,this.commonProv=r.a.injectionHandler(a.a),this.navigationServices=r.a.injectionHandler(c.a)}init(){this.currentOperID=o.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const t=this.navigationServices.getAllParams(),e={};t&&!0===t.readOnlypage?(e.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(s.a.FORM_READONLY,e)):this.customizationMap&&(e.IS_READONLY=0,this.customizationMap.set(s.a.FORM_READONLY,e)),this.screenTranslationOperIds=p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?p.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(t){if(void 0!==t&&this.customizationMap){const e=this.customizationMap.get(s.a.FORM_READONLY);e&&1===e.IS_READONLY&&"DISABLED"!=t.status&&(t.disable(),Object.keys(t.controls).forEach(t=>{this.commonProv.applyDynScreenDisplay(s.a.ACTION_TYPE_READONLY,[t],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:o.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:o.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),i.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:o.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:o.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(t){const e=t||2222,n=o.a.activeLanguge?o.a.activeLanguge:"EN";e&&n&&this.commonProv.language.getOperTranslation(n,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Lb({type:t,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(t,e){2&t&&u.Hb(e.psClass)},decls:0,vars:0,template:function(t,e){},styles:[""]}),t})()},"x3b/":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DFXC"),s=n("Q0Ba"),o=n("BYmO"),c=n("fXoL");let r=(()=>{class t extends o.a{constructor(t,e){super(t,e),this.options={},this.defaultOptions={mask:{mask:"9999 9999 9999 9999"},labelKey:"card_number_key",placeHolder:"enter_your_card_number_key",type:"tel",imageOptions:{imageName:"",psClass:"card-action-image"}}}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options,!1)}changeCardIcon(t){const e=t.target.value;this.defaultOptions.imageOptions.imageName=e.startsWith("4")?"Visa-Curved.png":this.checkCard(52,55,e)||this.checkCard(2221,2720,e)?"Mastercard-Curved.png":e.startsWith("34")||e.startsWith("37")?"American-Express-Curved.png":e.startsWith("6011")||e.startsWith("65")?"Discover-Straight.png":e.startsWith("36")||e.startsWith("38")||this.checkCard(300,305,e)?"DinerClub.png":e.startsWith("35")||e.startsWith("2131")||e.startsWith("1800")?"jbc-card.jpg":""}checkCard(t,e,n){let i=!1;if(n&&t&&e)for(let s=t;s<=e;s++)if(n.startsWith(s.toString())){i=!0;break}return i}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(s.a),c.Rb(i.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["ps-input-card-number"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[1,"ps-input-card-number",3,"id","options","keyup"]],template:function(t,e){1&t&&(c.Xb(0,"ps-keyin-input",0),c.fc("keyup",function(t){return e.changeCardIcon(t)}),c.Wb()),2&t&&c.pc("id",e.id)("options",e.defaultOptions)},directives:[o.a],styles:[""]}),t})()}}]);