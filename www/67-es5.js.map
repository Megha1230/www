{"version":3,"sources":["webpack:///src/app/pages/device-details/device-details.page.html","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/pages/device-details/device-details.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/pages/omni-base/omni-base.page.scss"],"names":["OmniBasePage","isPageDisabled","commonProv","injectionHandler","navigationServices","init","currentOperID","oper_ID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","set","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","length","includes","getScreenTranslations","ngOnInit","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","formGroup","undefined","get","status","disable","Object","keys","controls","forEach","key","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","next","value","page","didEnter","setCheckViewByOper","emitCheckViewByOper","dismissLoading","baseFormGroup","getAllSessionFcVars","setFormGroupByOper","willLeave","ngAfterViewChecked","setTimeout","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation","selector","template","DeviceDetailsPage","navService","loggerP","omniPush","checkAppService","deviceDetailsVO","authenticationResponseToken","formOptions","group","submitOptions","extraParams","userName","ocUserId","submitServiceUrl","serviceUrl","submitDeviceAction","postCallFunction","func","response","Promise","resolve","reject","executionClass","postLogin","params","requestObject","deviceModelOptions","fcName","labelKey","devicePlatformOptions","deviceVersionOptions","userNameOptions","authenticationResponse","returnDeviceDetails","deviceDetails","copyObject","authToken","session","getValueOf","SERVER_AUTH_TOKEN","outputCode","presentFailureAlert","translate","presentLoading","routesArray","preLoginRoutingChecking","login","append","loginRequest","then"],"mappings":"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","file":"67-es5.js","sourcesContent":["export default \"<ps-template-form [options]=\\\"formOptions\\\">\\n  <ps-input-display-only [options]=\\\"deviceModelOptions\\\">\\n  </ps-input-display-only>\\n  <ps-input-display-only [options]=\\\"devicePlatformOptions\\\">\\n  </ps-input-display-only>\\n  <ps-input-display-only [options]=\\\"deviceVersionOptions\\\">\\n  </ps-input-display-only>\\n\\n</ps-template-form>\";","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniPushService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-push.service';\nimport { CheckAppService } from 'src/app/commonSRC/psServices/checkApp/checkApp.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsKeyinInput, IOptionsPsTemplateForm } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from '../../commonSRC/psServices/ps-common/ps-common.service';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\n\n@Component({\n  selector: 'device-details',\n  templateUrl: './device-details.page.html',\n})\nexport class DeviceDetailsPage extends OmniBasePage implements OnInit {\n  private formGroup = new FormGroup({});\n  private authenticationResponse;\n  public deviceDetailsVO = {};\n  private authenticationResponseToken = null;\n\n  public formOptions: IOptionsPsTemplateForm = {\n    group: this.formGroup,\n    submitOptions: {\n      extraParams: {\n        status: 'A',\n        userName: this.navService.getAllParams().userName,\n        ocUserId: this.navService.getAllParams().ocUserId\n      },\n      group: this.formGroup,\n      submitServiceUrl: PsCommonBusinessSettings.serviceUrl.submitDeviceAction,\n      postCallFunction: {\n        func(response) {\n          return new Promise<any>((resolve, reject) => {\n            resolve(this.executionClass.postLogin(response));\n          });\n        },\n        params: [this],\n        executionClass: this\n      },\n    },\n    requestObject: this.deviceDetailsVO,\n  };\n\n  public deviceModelOptions: IOptionsPsKeyinInput = {\n    group: this.formGroup,\n    fcName: 'deviceModel',\n    labelKey: 'device_model_key'\n  };\n  public devicePlatformOptions: IOptionsPsKeyinInput = {\n    group: this.formGroup,\n    fcName: 'devicePlatform',\n    labelKey: 'device_platform_key'\n  };\n  public deviceVersionOptions: IOptionsPsKeyinInput = {\n    group: this.formGroup,\n    fcName: 'deviceVersion',\n    labelKey: 'device_version_key'\n  };\n  public userNameOptions: IOptionsPsKeyinInput = {\n    group: this.formGroup,\n    fcName: 'userName',\n    labelKey: 'device_version_key'\n  };\n  constructor(private navService: PsNavigatorService, public commonProv: PsCommonService,\n    public loggerP: LoggerService, private omniPush: OmniPushService,\n    private checkAppService: CheckAppService) {\n    super();\n  }\n\n  async ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup; // Added by Zunair For #BUG 1257538\n    this.authenticationResponse = this.navService.getAllParams() ? this.navService.getAllParams() : null;\n    let deviceDetails = await this.checkAppService.returnDeviceDetails();\n    deviceDetails['userName'] = this.navService.getAllParams()?.userName;\n    if (deviceDetails) {\n      this.commonProv.copyObject(this.deviceDetailsVO, deviceDetails, false, true);\n\n    }\n\n    //nabil feghali, check if authenticationToken is already returned from authenticateUser webservice and save it. \n    // it will be used after calling the submit action button used to register the device, and will be passed to loginUser webservice\n    const authToken = this.commonProv.session.getValueOf(ConstantCommon.SERVER_AUTH_TOKEN);\n    if (authToken) {\n      this.authenticationResponseToken = authToken;\n    }\n  }\n  postLogin(response) {\n    if (response.outputCode == -1) {\n      CommonUtils.presentFailureAlert(CommonUtils.translate('something_went_wrong_key'));\n    } else {\n      this.commonProv.presentLoading();\n      const routesArray = this.navService.preLoginRoutingChecking(this.authenticationResponse);\n      if (routesArray.length === 0) {\n        this.login(this.authenticationResponse.ocUserId, this.authenticationResponse.userName);\n      }\n    }\n  }\n  login(ocUserId, userName) {\n\n    //nabil feghali, reset the authentication token in session after trusting the device, the authentication token will be used in loginUser service\n    if (this.authenticationResponseToken) {\n      this.commonProv.session.append(ConstantCommon.SERVER_AUTH_TOKEN, this.authenticationResponseToken);\n    }\n\n    const loginRequest = { ocUserId: ocUserId, userName: userName }; // no additional information to be passsed to the login service (CompCode, appId, channelId,userId are sent via the interceptor)\n    this.omniPush.login(loginRequest).then();\n  }\n}\n","export default \"\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";"]}