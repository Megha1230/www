{"version":3,"sources":["webpack:///src/app/pages/facility-request/facility-request.page.html","webpack:///src/app/pages/facility-request/facility-request.page.scss","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/pages/facility-request/facility-request.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/pages/omni-base/omni-base.page.scss"],"names":["OmniBasePage","isPageDisabled","commonProv","injectionHandler","navigationServices","init","currentOperID","oper_ID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","set","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","length","includes","getScreenTranslations","ngOnInit","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","formGroup","undefined","get","status","disable","Object","keys","controls","forEach","key","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","next","value","page","didEnter","setCheckViewByOper","emitCheckViewByOper","dismissLoading","baseFormGroup","getAllSessionFcVars","setFormGroupByOper","willLeave","ngAfterViewChecked","setTimeout","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation","selector","template","FacilityRequestPage","datepipe","common","omniPull","logger","eventEmitterService","navService","omniCommon","branchOptions","labelKey","group","fcName","panelOptions2Step1","isExpandable","iconName","expanded","enableCifBranch","defaultVO","selectBranchOptions","requestedProductPanelOptions","cifInfo","session","getValueOf","USERINFO","FACILITY_REQUEST_OPER","pageName","FACILITY_REQUEST_TITLE","copyObject","loadOptions","addDefaultValidator","facilityRequestOptions","requestedProductsGridOptions","prepareValidation","custGridValidator","fetchParameter","downPaymentLabel","translate","setValInsideNestedObj","cifBranch","customerInfoCO","branchBriefDesc","revolvingAmountOptions","ACTION_TYPE_VISIBLE","amountLabelOptions","ACTION_TYPE_MANDATORY","tenureInputOptions","additionalCommentsOptions","panelOptionsStep1","panelOptions1Step2","attachmentPanelOptions","requestObject","facilitytypesOptions","placeHolder","productClassOptions","complexAmountOptions","currency","currenciesOptions","amountOptions","type","downPaymentOptions","productCategoryOptions","priodicityOptions","purposeOptions","financingDateOptions","commoditiesOptions","supplySourceOptions","securitiesOptions","requestDateOptions","gridOptions","defaultColDef","flex","minWidth","sortable","resizable","rowSelection","applyPagination","paginationPageSize","cacheBlockSize","cacheOverflowSize","maxConcurrentDatasourceRequests","infiniteInitialRowCount","maxBlocksInCache","enableEdit","enableDelete","columnComponents","columnNameKey","propertyName","component","componentOptions","listOfOptions","componentType","fileUploadOptions","multiple","stepperOptions","stepperName","isHorizontalStepper","numberOfSteps","namesofSteps","submitOptions","submitServiceUrl","serviceUrl","FacilityRequest","postCallFunction","func","Promise","resolve","reject","executionClass","redirectToSchedule","params","mapAtmBranchesOptions","mapOptions","showSegments","mapTypesInclude","branchIds","parameterToCheck","FACILITY_CIF_BRANCH","requestVO","loadfacilityPurposeList","branchSelectionAndMapControl","getParamValOf","AcntOpenBranchesMatAcc","AllowedBranches","AllowedFixedMaturityAccountsTypes","AllowedCurrencies","AllAllowedBranches","error","log","result","RequestBranch","FACILITY_USER_INPUT_VALUE","mandatory","aBranch","allowedBranches","toString","split","onSelectBranch","$event","itemValue","setValue","selectedObj","onAmountChange","event","amount","downPayment","Number","replace","CalculateFinanceAmount","onDownpaymentChange","newValue","onFacilityTypeChanged","facility","revolvingOneOff","code","returnFacilityPurposeList","facilityPurposeList","gridModel","iterator","facilityPurpose","fmsPurFinId","description","push","selectFile","fileType","selectedFile","substring","indexOf","showGridValidation","requestedProdCtrl","checkGridControlsValidity","errorMsg","control","required","some","r","values","i"],"mappings":"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","file":"44-es5.js","sourcesContent":["export default \"<ps-template-stepper [options]=\\\"stepperOptions\\\" [id]=\\\"stepperOptions.stepperName\\\"\\n    (onNextPreviousStepper)=\\\"showGridValidation()\\\">\\n    <ps-form-step *psStep=\\\"'step1'\\\" step1 [id]=\\\"stepperOptions.namesofSteps[0]\\\">\\n        <ps-container-panel [options]=\\\"panelOptionsStep1\\\" id=\\\"facility_req_panel1\\\">\\n\\n            <ps-input-display-only id=\\\"'accountCifBranch' + id\\\" [options]=\\\"branchOptions\\\" *ngIf=\\\"enableCifBranch\\\">\\n            </ps-input-display-only>\\n\\n            <ps-complex-facility-request [options]=\\\"facilityRequestOptions\\\" (amountChange)=\\\"onAmountChange($event)\\\"\\n                (facilityTypeChange)=\\\"onFacilityTypeChanged($event)\\\" (downPaymentChange)='onDownpaymentChange($event)'\\n                (fileSelected)=\\\"selectFile($event)\\\">\\n            </ps-complex-facility-request>\\n        </ps-container-panel>\\n\\n        <ps-container-panel *ngIf=\\\"!defaultVO.navigatedFromFL\\\" [options]=\\\"attachmentPanelOptions\\\" id=\\\"attachment_panel\\\">\\n\\n            <ps-file-upload-bs [options]=\\\"fileUploadOptions\\\" (onPsFileSelect)=\\\"selectFile($event)\\\"></ps-file-upload-bs>\\n\\n        </ps-container-panel>\\n\\n        <ps-container-panel *ngIf=\\\"!defaultVO.navigatedFromFL\\\" [options]=\\\"panelOptions2Step1\\\"\\n            id=\\\"facility_req_pane2\\\">\\n            <ps-complex-select-branch [options]=\\\"selectBranchOptions\\\" (onPsChange)=\\\"onSelectBranch($event)\\\">\\n            </ps-complex-select-branch>\\n        </ps-container-panel>\\n    </ps-form-step>\\n\\n    <ps-form-step step2 [id]=\\\"stepperOptions.namesofSteps[1]\\\" *ngIf=\\\"!defaultVO.navigatedFromFL\\\">\\n        <ng-container *psStep=\\\"'step2'\\\">\\n            <ps-container-panel [options]=\\\"panelOptions1Step2\\\" id=\\\"facility_req_panel2\\\">\\n\\n                <ps-map-atm-branches class=\\\"component-map-container\\\" [options]=\\\"mapAtmBranchesOptions\\\">\\n                </ps-map-atm-branches>\\n\\n            </ps-container-panel>\\n        </ng-container>\\n    </ps-form-step>\\n</ps-template-stepper>\";","export default \"#map {\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2ZhY2lsaXR5LXJlcXVlc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQUNKIiwiZmlsZSI6ImZhY2lsaXR5LXJlcXVlc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgfSJdfQ== */\";","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, ValidatorFn } from '@angular/forms';\nimport { IOptionsPsComplexFacilityRequestExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-facility-request/ps-complex-facility-request.component.interfaces';\nimport { IOptionsPsComplexSelectBranchComponentExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-select-branch/ps-complex-select-branch.component.interface';\nimport { IOptionsPsMapAtmBranchesExposed } from 'src/app/commonBussinessSRC/psComponents/ps-map-atm-branches/ps-map-atm-branches.component.interfaces';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniCommonService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-common.service';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { EventEmitterService } from 'src/app/commonSRC/psServices/event-emitter/event-emitter.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsContainerPanel, IOptionsPsFileUploadComponent, IOptionsPsKeyinInputExposed, IOptionsTemplateStepper, IPsSelect } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { CommonBussinessConstant } from '../../commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { PsCommonSettings } from '../../commonSRC/psServices/models/ps-common.settings';\nimport { OmniBasePage } from '../omni-base/omni-base.page';\nimport { PsInputNumericComponent } from './../../commonBussinessSRC/psComponents/ps-keyin-input/ps-input-numeric/ps-input-numeric.component';\nimport { PsDropdownTFSDocumentTypeComponent } from './../../commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-tfs-document-type/ps-dropdown-tfs-document-type.component';\n\n\n/** @name financial-calculator\n *  @author Heba.Hassan \n *  @description Display the financial calculator in pre login an post login\n */\n\n@Component({\n  selector: 'app-facility-request',\n  templateUrl: './facility-request.page.html',\n  styleUrls: ['./facility-request.page.scss'],\n})\nexport class FacilityRequestPage extends OmniBasePage implements OnInit {\n  formGroup: FormGroup = new FormGroup({});\n\n  facilityRequestOptions: IOptionsPsComplexFacilityRequestExposed;\n\n  stepperOptions: IOptionsTemplateStepper;\n  panelOptionsStep1: IOptionsPsContainerPanel;\n  panelOptions1Step2: IOptionsPsContainerPanel;\n  attachmentPanelOptions: IOptionsPsContainerPanel;\n  fileUploadOptions: IOptionsPsFileUploadComponent;\n\n\n\n  branchOptions: IOptionsPsKeyinInputExposed = {\n    labelKey: 'branch_key',\n    group: this.formGroup,\n    fcName: 'branch'\n  };\n  panelOptions2Step1: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'select_branch_key',\n    iconName: 'document',\n    expanded: true\n  };\n  public operationID: number;\n  cifInfo: any;\n  downPaymentLabel;\n  enableCifBranch = true;\n  mapAtmBranchesOptions: IOptionsPsMapAtmBranchesExposed;\n  defaultVO: any = {};\n  facility: any;\n\n  selectBranchOptions: IOptionsPsComplexSelectBranchComponentExposed = {\n    fcName: 'mapAtmBranchesDropdown',\n    group: this.formGroup\n  };\n\n  requestedProductPanelOptions: IOptionsPsContainerPanel = {\n    isExpandable: true,\n    labelKey: 'requested_products_key',\n    iconName: 'document',\n    expanded: true\n  };\n\n  constructor(public datepipe: DatePipe,\n    private common: PsCommonService,\n    public omniPull: OmniPullService,\n    public logger: LoggerService,\n    public eventEmitterService: EventEmitterService,\n    private navService: PsNavigatorService,\n    public omniCommon: OmniCommonService\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    super.init();\n    this.baseFormGroup = this.formGroup;\n    this.cifInfo = this.commonProv.session.getValueOf(ConstantCommon.USERINFO);\n    PsCommonSettings.oper_ID = CommonBussinessConstant.FACILITY_REQUEST_OPER;\n    PsCommonSettings.pageName = CommonBussinessConstant.FACILITY_REQUEST_TITLE;\n    //added by ghada, AZDB-4490 for copying the nav params to screen vo without overriding it properly\n    this.commonProv.copyObject(this.defaultVO, this.navService.getAllParams() ? this.navService.getAllParams() : {})\n    this.loadOptions();\n    this.commonProv.addDefaultValidator(this.formGroup, this.facilityRequestOptions.requestedProductsGridOptions.fcName,\n      this.commonProv.prepareValidation(false, null, null, null, null, null, null, null, [this.custGridValidator()]));\n\n    this.fetchParameter();\n  }\n\n  ionViewDidEnter() {\n    super.ionViewDidEnter();\n    this.fetchParameter();\n    this.downPaymentLabel = CommonUtils.translate('down_payment_key');\n    this.commonProv.setValInsideNestedObj(this.branchOptions.fcName, this.cifInfo.cifBranch ? this.cifInfo.customerInfoCO.branchBriefDesc : '', this.defaultVO);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.branchOptions.fcName, this.facilityRequestOptions.revolvingAmountOptions.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.facilityRequestOptions.revolvingAmountOptions.fcName, this.facilityRequestOptions.amountLabelOptions.fcName], 0);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.facilityRequestOptions.tenureInputOptions.fcName, this.facilityRequestOptions.additionalCommentsOptions.fcName], 0);\n  }\n\n  private loadOptions() {\n    this.panelOptionsStep1 = {\n      isExpandable: true,\n      labelKey: 'facility_request_key',\n      iconName: 'calculator',\n      expanded: true\n    };\n    this.panelOptions1Step2 = {\n      isExpandable: true,\n      labelKey: 'atm_branches_key',\n      iconName: 'atm',\n      expanded: true\n    };\n\n    this.attachmentPanelOptions = {\n      isExpandable: true,\n      labelKey: 'attachment_key',\n      iconName: '',\n      expanded: true,\n    };\n\n    this.facilityRequestOptions = {\n      requestObject: this.defaultVO,\n      facilitytypesOptions: {\n        group: this.formGroup,\n        placeHolder: 'select_facility_types_key',\n        labelKey: 'facility_types_key',\n        fcName: 'facilityType',\n      },\n      productClassOptions: { //added by ghada, AZDB-4490 for the fixing the exception of accessing undefined object\n        labelKey: 'product_class_key',\n        placeHolder: 'product_class_key',\n        fcName: 'productType',\n        group: this.formGroup\n      },\n      group: this.formGroup,\n      revolvingAmountOptions: {\n        fcName: 'revolving',\n        placeHolder: '',\n        group: this.formGroup,\n        labelKey: this.common.translate('revolving_key') + ' ' + this.common.translate('one_off_key'),\n      },\n      amountLabelOptions: {\n        placeHolder: 'enter_total_amount_key',\n        labelKey: 'financing_amount_key',\n        group: this.formGroup,\n        fcName: 'financing_amount'\n      },\n      complexAmountOptions: {\n        currency: '',\n        currenciesOptions: {\n          labelKey: 'currency_key',\n          placeHolder: 'select_currency_key',\n          fcName: 'currency',\n          group: this.formGroup\n        },\n        amountOptions: {\n          labelKey: 'total_amount_key',\n          placeHolder: 'enter_total_amount_key',\n          fcName: 'transactionAmount',\n          type: 'amount',\n          group: this.formGroup\n        }\n      },\n      downPaymentOptions: {\n        fcName: 'downPayment',\n        group: this.formGroup,\n        labelKey: 'down_payment_key',\n        placeHolder: 'enter_down_payment_key'\n      },\n      productCategoryOptions: {\n        group: this.formGroup,\n        placeHolder: 'select_product_category_key',\n        labelKey: 'product_category_key',\n        fcName: 'productCategory',\n      },\n      tenureInputOptions: {\n        labelKey: 'tenure_key',\n        placeHolder: 'tenure_key',\n        group: this.formGroup,\n        fcName: 'tenure'\n      },\n      priodicityOptions: {\n        labelKey: 'periodicity_key',\n        placeHolder: 'select_periodicity_key',\n        group: this.formGroup,\n        fcName: 'periodicity'\n      },\n      purposeOptions: {\n        labelKey: 'purpose_key',\n        placeHolder: 'select_purpose_key',\n        group: this.formGroup,\n        fcName: 'purpose'\n      },\n      financingDateOptions: {\n        labelKey: 'financing_date_key',\n        placeHolder: 'financing_date_key',\n        group: this.formGroup,\n        fcName: 'financingDate'\n      },\n      commoditiesOptions: {\n        labelKey: 'commodities_key',\n        placeHolder: 'commodities_key',\n        group: this.formGroup,\n        fcName: 'commodities'\n      },\n      supplySourceOptions: {\n        labelKey: 'supply_source_key',\n        placeHolder: 'supply_source_key',\n        group: this.formGroup,\n        fcName: 'supplySource'\n      },\n      securitiesOptions: {\n        labelKey: 'securities_key',\n        placeHolder: 'securities_key',\n        group: this.formGroup,\n        fcName: 'securities'\n      },\n      additionalCommentsOptions: {\n        labelKey: 'additional_comments_key',\n        placeHolder: 'additional_comments_key',\n        group: this.formGroup,\n        fcName: 'additionalComments'\n      },\n      requestDateOptions: {\n        placeHolder: 'request_date_key',\n        labelKey: 'request_date_key',\n        group: this.formGroup,\n        fcName: 'requestDate'\n      },\n      requestedProductsGridOptions: {\n        group: this.formGroup,\n        //TP#1331866 - Add label for the grid options to be shown on preview screen\n        labelKey: 'requested_products_key',\n        fcName: 'requestedProducts',\n        gridOptions: {\n          defaultColDef: {\n            flex: 1,\n            minWidth: 150,\n            sortable: true,\n            resizable: true,\n          },\n          rowSelection: 'multiple',\n          applyPagination: true,\n          paginationPageSize: 5,\n          cacheBlockSize: 1,\n          cacheOverflowSize: 10,\n          maxConcurrentDatasourceRequests: 2,\n          infiniteInitialRowCount: 500,\n          maxBlocksInCache: 200\n        },\n        enableEdit: true,\n        enableDelete: true,\n        columnComponents: [\n          {\n            columnNameKey: 'product_name_key',\n            propertyName: 'productName',\n            component: PsDropdownTFSDocumentTypeComponent,\n            componentOptions: {\n              listOfOptions: []\n            },\n            componentType: 'select'\n          },\n          {\n            columnNameKey: 'maximum_usance_period_days_key',\n            propertyName: 'maxUsancePeriod',\n            component: PsInputNumericComponent,\n            componentOptions: {},\n            componentType: 'number'\n          }\n        ]\n      }\n\n    };\n\n    this.fileUploadOptions = {\n      group: this.formGroup,\n      multiple: true,\n      fcName: 'selectedFileData',\n    };\n\n    this.stepperOptions = {\n      stepperName: 'fac_req_stepper',\n      isHorizontalStepper: true,\n      numberOfSteps: 2,\n      namesofSteps: ['facility_request_key', 'atm_branches_key'],\n      group: this.formGroup,\n      submitOptions: {\n        group: this.formGroup,\n        submitServiceUrl: PsCommonBusinessSettings.serviceUrl.FacilityRequest,\n        postCallFunction: {\n          func() {\n            return new Promise<any>((resolve, reject) => {\n              resolve(this.executionClass.redirectToSchedule());\n            });\n          },\n          executionClass: this,\n          params: [this]\n        }\n      },\n      requestObject: this.defaultVO\n    };\n    this.mapAtmBranchesOptions = {\n      group: this.formGroup,\n      fcName: 'mapAtmBranches',\n      labelKey: 'map_atm_branch_key',\n      mapOptions: {\n        labelKey: 'map'\n      },\n      showSegments: false,\n      mapTypesInclude: '\\'B\\'',\n      branchIds: '1,3,5',\n      parameterToCheck: CommonBussinessConstant.FACILITY_CIF_BRANCH,\n      requestVO: this.defaultVO\n    };\n\n    this.loadfacilityPurposeList();\n  }\n\n  async fetchParameter() {\n    //to set the default visibility to hidden until the admin value is returned\n    this.omniCommon.branchSelectionAndMapControl(0, [{ fcName: this.stepperOptions.namesofSteps[1] }, { fcName: this.mapAtmBranchesOptions.fcName },\n    { fcName: 'facility_req_pane2' }], true);//Makki: jira #5919, Hide Step 2 by default at screen start\n\n    const result = await this.omniPull.getParamValOf(CommonBussinessConstant.FACILITY_CIF_BRANCH, CommonBussinessConstant.AcntOpenBranchesMatAcc, CommonBussinessConstant.AllowedBranches, ConstantCommon.AllowedFixedMaturityAccountsTypes, CommonBussinessConstant.AllowedCurrencies, CommonBussinessConstant.AllAllowedBranches).catch((error) => this.logger.log(error));\n    if (result && result.RequestBranch === CommonBussinessConstant.FACILITY_USER_INPUT_VALUE) {\n      this.enableCifBranch = false;\n      this.omniCommon.branchSelectionAndMapControl(1, [{ fcName: this.stepperOptions.namesofSteps[1] }, { fcName: this.mapAtmBranchesOptions.fcName, mandatory: 1 },\n      { fcName: 'facility_req_pane2' }], true);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.branchOptions.fcName], 0);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, ['mapBranchInput'], 1);\n\n    } else {\n      this.enableCifBranch = true;\n      this.omniCommon.branchSelectionAndMapControl(0, [{ fcName: this.stepperOptions.namesofSteps[1] }, { fcName: this.mapAtmBranchesOptions.fcName },\n      { fcName: 'facility_req_pane2' }], true);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.branchOptions.fcName], 1);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, ['mapBranchInput'], 0);\n\n    }\n\n    if (result !== -1 && result.AcntOpenBranchesMatAcc === ConstantCommon.cifBranch) {\n      const aBranch = result.allowedBranches ? result.allowedBranches.toString().split(',') : result.AllAllowedBranches.split(',');\n      this.mapAtmBranchesOptions.branchIds = this.mapAtmBranchesOptions.branchIds + ',' + aBranch;\n    }\n  }\n\n  onSelectBranch($event) {\n    if ($event.itemValue !== undefined) {\n      this.formGroup.controls[this.selectBranchOptions.fcName].setValue($event);\n      this.commonProv.setValInsideNestedObj(this.selectBranchOptions.fcName, $event.selectedObj, this.defaultVO);\n    }\n  }\n\n\n\n  onAmountChange(event) {\n    if (event && event.amount) {\n      let downPayment = this.formGroup.controls[this.facilityRequestOptions.downPaymentOptions.fcName].value;\n      downPayment = typeof downPayment === 'string' ? Number(downPayment.replace(/[^0-9.-]+/g, '')) : downPayment;\n\n      this.CalculateFinanceAmount(event.amount, downPayment);\n    }\n  }\n  onDownpaymentChange(event) {\n    if (event && (event.newValue || typeof event.newValue === 'number')) {\n      let amount = this.formGroup.controls[this.facilityRequestOptions.complexAmountOptions.amountOptions.fcName].value;\n      amount = typeof amount === 'string' ? Number(amount.replace(/[^0-9.-]+/g, '')) : amount;\n\n      this.CalculateFinanceAmount(amount, event.newValue);\n    }\n  }\n  //edited by Marina-jira-7698\n  CalculateFinanceAmount(amount: number, downPayment: number) {\n    if (this.formGroup.controls[this.facilityRequestOptions.amountLabelOptions.fcName]) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.facilityRequestOptions.amountLabelOptions.fcName], 1);\n      this.formGroup.controls[this.facilityRequestOptions.amountLabelOptions.fcName].setValue((amount - downPayment));\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.facilityRequestOptions.amountLabelOptions.fcName], 1);\n\n    }\n  }\n  redirectToSchedule(params: any[]) {\n  }\n\n  onFacilityTypeChanged(value: any) {\n    if (value && value.selectedObj) {\n      this.facility = value.selectedObj;\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [this.facilityRequestOptions.revolvingAmountOptions.fcName], 1);\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, [this.facilityRequestOptions.revolvingAmountOptions.fcName], 1);\n      this.formGroup.controls[this.facilityRequestOptions.revolvingAmountOptions.fcName].setValue((value.selectedObj.revolvingOneOff === 'O' ? this.common.translate('one_off_key') : this.common.translate('Revolving_key')));\n      if (value.selectedObj.code !== this.facility.code) {\n\n        if (this.formGroup.controls[this.facilityRequestOptions.complexAmountOptions.amountOptions.fcName]) {\n          this.formGroup.controls[this.facilityRequestOptions.complexAmountOptions.amountOptions.fcName].setValue('');\n        }\n        if (this.formGroup.controls[this.facilityRequestOptions.downPaymentOptions.fcName]) {\n          this.formGroup.controls[this.facilityRequestOptions.downPaymentOptions.fcName].setValue(0);\n        }\n      }\n    }\n  }\n  private async loadfacilityPurposeList() {\n    const facilityPurposeList = await this.omniPull.returnFacilityPurposeList({}).catch(error => {\n      this.logger.error('Error: While fetching Product types in PsDropdownProductCategoryComponent : ', error);\n    });      \n      this.facilityRequestOptions.purposeOptions.listOfOptions = [];\n      if (facilityPurposeList && facilityPurposeList.gridModel && facilityPurposeList.gridModel.length > 0) {\n        for (const iterator of facilityPurposeList.gridModel) {\n          const facilityPurpose: IPsSelect = {\n            itemValue: iterator.fmsPurFinId,\n            description: iterator.description,\n            selectedObj: iterator\n          };\n          this.facilityRequestOptions.purposeOptions.listOfOptions.push(facilityPurpose);\n        }\n      }\n      this.facilityRequestOptions.purposeOptions = {...this.facilityRequestOptions.purposeOptions}\n  }\n\n  selectFile(event) {\n    if (event) {\n      const fileType = event[0].selectedFile.type.substring(0, event[0].selectedFile.type.indexOf('/'));\n    }\n  }\n\n  showGridValidation() {\n    const requestedProdCtrl = this.formGroup.controls[this.facilityRequestOptions.requestedProductsGridOptions.fcName];\n    if (!this.checkGridControlsValidity(requestedProdCtrl)) {\n      this.facilityRequestOptions.errorMsg = this.commonProv.translate(\"value_is_missing_key\");\n    } else {\n      this.facilityRequestOptions.errorMsg = \"\";\n    }\n  }\n\n  public custGridValidator(): ValidatorFn {\n    return (control: any): { [key: string]: any } | null => {\n      if (!this.checkGridControlsValidity(control)) {\n        return { required: true };\n      }\n      return null;\n    };\n  }\n\n  checkGridControlsValidity(control) {\n    if (control.value == null || (control.value != null && (control.value.some(r => Object.values(r).some(i => (i === \"\" || i == null || i == undefined)))))) {\n      return false;\n    }\n    return true\n  }\n}\n","export default \"\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";"]}