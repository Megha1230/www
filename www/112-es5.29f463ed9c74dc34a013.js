!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.toStringTag||"@@toStringTag";function s(e,i,a,r){var s=i&&i.prototype instanceof p?i:p,l=Object.create(s.prototype);return o(l,"_invoke",function(e,o,i){var a,r,s,p=0,l=i||[],u=!1,y={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,o){return a=e,r=0,s=t,y.n=o,c}};function f(e,o){for(r=e,s=o,n=0;!u&&p&&!i&&n<l.length;n++){var i,a=l[n],f=y.p,m=a[2];e>3?(i=m===o)&&(s=a[(r=a[4])?5:(r=3,3)],a[4]=a[5]=t):a[0]<=f&&((i=e<2&&f<a[1])?(r=0,y.v=o,y.n=a[1]):f<m&&(i=e<3||a[0]>o||o>m)&&(a[4]=e,a[5]=o,y.n=m,r=0))}if(i||e>1)return c;throw u=!0,o}return function(i,l,m){if(p>1)throw TypeError("Generator is already running");for(u&&1===l&&f(l,m),r=l,s=m;(n=r<2?t:s)||!u;){a||(r?r<3?(r>1&&(y.n=-1),f(r,s)):y.n=s:y.v=s);try{if(p=2,a){if(r||(i="next"),n=a[i]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,r<2&&(r=0)}else 1===r&&(n=a.return)&&n.call(a),r<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),r=1);a=t}else if((n=(u=y.n<0)?s:e.call(o,y))!==c)break}catch(n){a=t,r=1,s=n}finally{p=1}}return{value:n,done:u}}}(e,a,r),!0),l}var c={};function p(){}function l(){}function u(){}n=Object.getPrototypeOf;var y=[][a]?n(n([][a]())):(o(n={},a,function(){return this}),n),f=u.prototype=p.prototype=Object.create(y);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,o(e,r,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,o(f,"constructor",u),o(u,"constructor",l),l.displayName="GeneratorFunction",o(u,r,"GeneratorFunction"),o(f),o(f,r,"Generator"),o(f,a,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:m}})()}function o(e,t,n,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(o=function(e,t,n,i){function r(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(r("next",0),r("throw",1),r("return",2))})(e,t,n,i)}function t(e,o,t,i){var a=n(u(1&i?e.prototype:e),o,t);return 2&i&&"function"==typeof a?function(e){return a.apply(t,e)}:a}function n(){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,o,t){var n=i(e,o);if(n){var a=Object.getOwnPropertyDescriptor(n,o);return a.get?a.get.call(arguments.length<3?e:t):a.value}}).apply(null,arguments)}function i(e,o){for(;!{}.hasOwnProperty.call(e,o)&&null!==(e=u(e)););return e}function a(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function r(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,o,t){return o&&r(e.prototype,o),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var o=function(e,o){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,o||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:o+""}function p(e,o,t){return o=u(o),function(e,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(o,t||[],u(e).constructor):o.apply(e,t))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&f(e,o)}function f(e,o){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,o){return e.__proto__=o,e})(e,o)}(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{Un4n:function(o,n,i){"use strict";i.r(n),i.d(n,"LetterOfGuaranteePage",function(){return be});var r,c,l,u,f,m,d,_,O=i("mrSG"),h=i("3Pt+"),b=i("wd/R"),v=i.n(b),N=i("OVQh"),P=i("PCz6"),T=i("V0Fi"),g=i("fOh1"),A=i("ZyuK"),D=i("zngb"),E=i("woXy"),C=i("Q0Ba"),I=i("gKqT"),S=i("DFXC"),k=i("fXoL"),Y=i("sYmb"),x=i("kRg/"),R=i("uKCV"),B=i("sAFK"),V=i("+f2X"),L=i("ggmK"),F=i("gmKe"),G=i("OEOT"),w=i("WAnK"),M=i("S7SP"),K=i("G/Qj"),H=i("u/mH"),j=i("ofXK"),X=i("/QlS"),U=i("41l2"),W=((r=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.FORM_OF_UNDERTAKING_LOV_TYPE_ID,lovAdminFilterParamName:"AllowedFormOfUndertaking"},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("form_of_undertaking_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_form_of_undertaking_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||r)(k.Rb(C.a),k.Rb(S.a))},r.\u0275cmp=k.Lb({type:r,selectors:[["ps-lov-form-of-undertaking"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),r),q=i("P50S"),Q=i("VEWP"),z=i("cDcX"),J=((u=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.TYPE_OF_UNDERTAKING_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("type_of_undertaking_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_type_of_undertaking_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||u)(k.Rb(C.a),k.Rb(S.a))},u.\u0275cmp=k.Lb({type:u,selectors:[["ps-lov-type-of-undertaking"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),u),Z=((l=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.EXPIRY_TYPE_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("expiry_type_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("enter_expiry_type_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||l)(k.Rb(C.a),k.Rb(S.a))},l.\u0275cmp=k.Lb({type:l,selectors:[["ps-lov-expiry-type"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),l),$=((c=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.AUTOMATIC_EXTENSION_PERIOD_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("automatic_extension_period_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_automatic_extension_period_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||c)(k.Rb(C.a),k.Rb(S.a))},c.\u0275cmp=k.Lb({type:c,selectors:[["ps-lov-automatic-extention-period"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),c),ee=i("KuXP"),oe=i("mpNL"),te=i("UTjL"),ne=i("V52E"),ie=i("7/W0"),ae=((_=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.APPLICABLE_RULES_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("applicable_rules_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||_)(k.Rb(C.a),k.Rb(S.a))},_.\u0275cmp=k.Lb({type:_,selectors:[["ps-lov-applicable-rules"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),_),re=((d=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.FILE_IDENTIFICATION_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("file_identification_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_file_identification_key")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||d)(k.Rb(C.a),k.Rb(S.a))},d.\u0275cmp=k.Lb({type:d,selectors:[["ps-lov-file-identification"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),d),se=((m=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.DELIVERY_OF_ORGINAL_UNDERTAKING_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("delivery_of_orginal_undertaking"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_delivery_of_orginal_undertaking")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||m)(k.Rb(C.a),k.Rb(S.a))},m.\u0275cmp=k.Lb({type:m,selectors:[["ps-lov-delivery-of-original-undertaking"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),m),ce=((f=function(e){function o(e,t){var n;return a(this,o),(n=p(this,o,[e,t])).defaultSelectOptions={lovTypeId:T.a.DELIVERYTO_COLLECTIONBY_LOV_TYPE_ID},n}return y(o,e),s(o,[{key:"ngOnInit",value:function(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("deleivery_to_collection_by"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_deleivery_to_collection_by")}},{key:"onChangeLov",value:function(e){this.onPsChange.emit(e)}}])}(U.a)).\u0275fac=function(e){return new(e||f)(k.Rb(C.a),k.Rb(S.a))},f.\u0275cmp=k.Lb({type:f,selectors:[["ps-lov-delivery-to-collection-by"]],inputs:{options:"options"},features:[k.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,o){1&e&&(k.Xb(0,"ps-dropdown-lov",0),k.fc("onPsChange",function(e){return o.onChangeLov(e)}),k.Wb()),2&e&&k.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[U.a],styles:[""]}),f),pe=i("cxvk"),le=i("b23T"),ue=i("+BRL"),ye=["fromAccountRef"],fe=["facilityRef"];function me(e,o){if(1&e&&k.Sb(0,"ps-input-varchar",21),2&e){var t=k.ic(2);k.pc("options",t.accountNameOptions)}}function de(e,o){if(1&e&&k.Sb(0,"ps-lookup-own-accounts",22),2&e){var t=k.ic(2);k.pc("options",t.chargesAccountListOptions)}}function _e(e,o){if(1&e){var t=k.Yb();k.Xb(0,"ps-form-step",3),k.Xb(1,"ps-container-panel",4),k.Sb(2,"ps-input-display-only",5),k.Sb(3,"ps-input-display-only-cif-address-home",6),k.Xb(4,"ps-date-day-month-year-future",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onEffectiveDateChange(e)}),k.Wb(),k.Xb(5,"ps-date-day-month-year-future",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onExpiryDateChange(e)}),k.Wb(),k.Xb(6,"ps-date-day-month-year-future",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onclaimEndDateChange(e)}),k.Wb(),k.Xb(7,"ps-input-numeric",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onPeriodDaysChange(e)}),k.Wb(),k.Sb(8,"ps-dropdown-tfs-document-type",8),k.Sb(9,"ps-complex-amount",8),k.Xb(10,"ps-lov-charges-borne-by",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onchargesBorneByChange(e)}),k.Wb(),k.Pc(11,me,1,1,"ps-input-varchar",9),k.Sb(12,"ps-input-varchar",10),k.Sb(13,"ps-input-varchar",10),k.Sb(14,"ps-input-varchar",10),k.Sb(15,"ps-input-varchar",10),k.Sb(16,"ps-input-varchar",10),k.Sb(17,"ps-lov-form-of-undertaking",11),k.Xb(18,"ps-lov-settlement-method",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onSettlementMethodChange(e)}),k.Wb(),k.Pc(19,de,1,1,"ps-lookup-own-accounts",12),k.Sb(20,"ps-lookup-own-accounts",13,14),k.Sb(22,"ps-lookup-facility-details",8,15),k.Sb(24,"ps-lov-type-of-undertaking",16),k.Wb(),k.Xb(25,"ps-container-panel",17),k.Xb(26,"ps-lov-expiry-type",18),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onexpirtTypeChange(e)}),k.Wb(),k.Xb(27,"ps-lov-automatic-extention-period",19),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onautomaticExtentionPeriodChange(e)}),k.Wb(),k.Sb(28,"ps-date-day-month-year-future",8),k.Sb(29,"ps-date-day-month-year-future",8),k.Sb(30,"ps-date-day-month-year-future",8),k.Xb(31,"ps-select-toggle",20),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().onSameBankToggleChange(e)}),k.Wb(),k.Sb(32,"ps-banks",8),k.Sb(33,"ps-input-varchar",8),k.Sb(34,"ps-input-account-number",8),k.Sb(35,"ps-input-varchar",8),k.Sb(36,"ps-complex-address",8),k.Wb(),k.Wb()}if(2&e){var n=k.ic();k.pc("id",n.stepperOptions.namesofSteps[0]),k.Fb(1),k.pc("options",n.panelOptions1Step1),k.Fb(1),k.pc("options",n.documentInNameReadOnlyOptions),k.Fb(1),k.pc("options",n.applicantHomeAddressReadOnlyOptions),k.Fb(1),k.pc("options",n.effictiveDateOptions),k.Fb(1),k.pc("options",n.expiryDateOptions),k.Fb(1),k.pc("options",n.claimEndDateOptions),k.Fb(1),k.pc("options",n.periodDays),k.Fb(1),k.pc("options",n.tfsOptions),k.Fb(1),k.pc("options",n.complexAmountOptions),k.Fb(1),k.pc("options",n.chargesBorneByOptions),k.Fb(1),k.pc("ngIf",n.isBeneficiaryChargesAccount),k.Fb(1),k.pc("options",n.branchOptions),k.Fb(1),k.pc("options",n.currencyOptions),k.Fb(1),k.pc("options",n.glAccountOptions),k.Fb(1),k.pc("options",n.cifNoOptions),k.Fb(1),k.pc("options",n.serialNumberOptions),k.Fb(1),k.pc("options",n.formOfUndertakingOptions),k.Fb(1),k.pc("options",n.settlementMethodOptions),k.Fb(1),k.pc("ngIf",n.isApplicantChargesAccount||n.isApplicantFundingMethod),k.Fb(1),k.pc("options",n.settlementAccountListOptions),k.Fb(2),k.pc("options",n.facilityDetailsOptions),k.Fb(2),k.pc("options",n.typeOfUndertakingOptions),k.Fb(1),k.pc("options",n.panelOptions2Step1),k.Fb(1),k.pc("options",n.expiryTypeOptions),k.Fb(1),k.pc("options",n.automaticExtensionPeriodOptions),k.Fb(1),k.pc("options",n.daysAutomaticExtensionPeriodOptions),k.Fb(1),k.pc("options",n.oneYAutomaticExtensionPeriodOptions),k.Fb(1),k.pc("options",n.otherAutomaticExtensionPeriodOptions),k.Fb(1),k.pc("id","sameBankBenef")("options",n.sameBankToggleOptions),k.Fb(1),k.pc("options",n.beneficiaryBankCifDdlbOptions),k.Fb(1),k.pc("options",n.beneficiaryBankerSwiftCodeOptions),k.Fb(1),k.pc("options",n.accountNumberOptions),k.Fb(1),k.pc("options",n.beneficiaryNameValidityOptions),k.Fb(1),k.pc("options",n.benefAddressOptions)}}function Oe(e,o){if(1&e){var t=k.Yb();k.Xb(0,"ps-form-step",23),k.Xb(1,"ps-container-panel",24),k.Sb(2,"ps-input-display-only",25),k.Sb(3,"ps-input-varchar",26),k.Sb(4,"ps-dropdown-country",8),k.Sb(5,"ps-input-varchar",26),k.Wb(),k.Xb(6,"ps-container-panel",27),k.Sb(7,"ps-input-varchar",28),k.Sb(8,"ps-input-varchar",29),k.Sb(9,"ps-input-varchar",30),k.Sb(10,"ps-lov-applicable-rules",31),k.Sb(11,"ps-input-varchar",32),k.Sb(12,"ps-lov-file-identification",8),k.Xb(13,"ps-lov-delivery-of-original-undertaking",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().ondeliveryOfOrginalUndertakingChange(e)}),k.Wb(),k.Sb(14,"ps-input-varchar",8),k.Xb(15,"ps-lov-delivery-to-collection-by",7),k.fc("onPsChange",function(e){return k.Fc(t),k.ic().deliveryToCollectionByChange(e)}),k.Wb(),k.Sb(16,"ps-input-varchar",8),k.Sb(17,"ps-input-varchar",8),k.Sb(18,"ps-input-varchar",8),k.Sb(19,"ps-lov-confirmation-instruction",8),k.Wb(),k.Xb(20,"ps-container-panel",33),k.Sb(21,"ps-file-upload-bs",8),k.Sb(22,"ps-input-free-text",34),k.Wb(),k.Wb()}if(2&e){var n=k.ic();k.pc("id",n.stepperOptions.namesofSteps[1]),k.Fb(1),k.pc("options",n.panel1OptionsStep2),k.Fb(1),k.pc("options",n.beneficiaryBankCifOptions),k.Fb(1),k.pc("options",n.beneficiaryNameOptions),k.Fb(1),k.pc("options",n.beneficiaryCountriesOptions),k.Fb(1),k.pc("options",n.beneficiaryAddressOptions),k.Fb(1),k.pc("options",n.panel2OptionsStep2),k.Fb(1),k.pc("options",n.purpose1Options),k.Fb(1),k.pc("options",n.purpose2Options),k.Fb(1),k.pc("options",n.purpose3Options),k.Fb(1),k.pc("options",n.applicableRulesOptions),k.Fb(1),k.pc("options",n.undertakingTermsAndConditionsOptions),k.Fb(1),k.pc("options",n.fileIdentificationOptions),k.Fb(1),k.pc("options",n.deliveryOfOrginalUndertakingOptions),k.Fb(1),k.pc("options",n.additionalInfromation),k.Fb(1),k.pc("options",n.deliveryToCollectionBy),k.Fb(1),k.pc("options",n.deliveryToCollectionByName),k.Fb(1),k.pc("options",n.deliveryToCollectionByAddress),k.Fb(1),k.pc("options",n.expiryConditionEvent),k.Fb(1),k.pc("options",n.confirmationInstruction),k.Fb(1),k.pc("options",n.panelOptions3Step2),k.Fb(1),k.pc("options",n.fileUploadOptions),k.Fb(1),k.pc("options",n.commentOptions)}}var he,be=((he=function(o){function n(e,o,t,i,r){var s;return a(this,n),(s=p(this,n)).common=e,s.logger=o,s.omniPull=t,s.navService=i,s.translateSrv=r,s.formGroup=new h.f({}),s.defaultVO={},s.DAYS_AUTOMATIC_EXTENSTION_PERIOD="DaysAutomaticExtensionPeriod",s.OTHER_AUTOMATIC_EXTENSTION_PERIOD="OtherAutomaticExtensionPeriod",s.PURPOSE_OF_MESSAGE="PurposeOfMessage",s.beneficiariesRequestParam={},s.isApplicantChargesAccount=!1,s.isBeneficiaryChargesAccount=!1,s.isApplicantFundingMethod=!1,s.chargesBorneByOptions={group:s.formGroup,fcName:"chargesBorneBy"},s.accountNameOptions={labelKey:"charges_account_key",placeHolder:"charges_account_key",group:s.formGroup,fcName:"otherPartyChargesAccount"},s.stepperOptions={stepperName:"letterOfGuarantee_stepper",isHorizontalStepper:!0,numberOfSteps:2,namesofSteps:["letter_Of_Guarantee_key","benefciary_details_key"],group:s.formGroup,requestObject:s.defaultVO,submitOptions:{group:s.formGroup,submitServiceUrl:g.a.serviceUrl.letterOfGuaranteeEndPoint}},s.panel1OptionsStep2={isExpandable:!0,labelKey:"benefciary_details_key",iconName:"contact",expanded:!0},s.panel2OptionsStep2={isExpandable:!0,labelKey:"more_details_key",iconName:"contact",expanded:!0},s.panelOptions1Step1={isExpandable:!0,labelKey:"lg_details_key",iconName:"letter",expanded:!0},s.panelOptions2Step1={isExpandable:!0,labelKey:"validity_details_key",iconName:"letter",expanded:!0},s.fileUploadOptions={group:s.formGroup,multiple:!0,fcName:"selectedFileData"},s.tfsOptions={group:s.formGroup,labelKey:"lG_types_key",placeHolder:"select_lg_type",fcName:"docType",docType:"G"},s.periodDays={group:s.formGroup,fcName:"periodDays",placeHolder:"claim_period_days_key",labelKey:"claim_period_days_key"},s.purpose1Options={labelKey:"purpose_key",placeHolder:"purpose1_key",group:s.formGroup,fcName:"purposeTxtDesc"},s.purpose2Options={labelKey:"second_purpose_key",placeHolder:"purpose2_key",group:s.formGroup,fcName:"purposeTxtDesc2"},s.purpose3Options={labelKey:"third_purpose_key",placeHolder:"purpose3_key",group:s.formGroup,fcName:"purposeTxtDesc3"},s.beneficiaryBankCifOptions={labelKey:"beneficiary_bank_cif_key",placeHolder:"beneficiary_bank_cif_key",group:s.formGroup,fcName:"beneficiaryBankCif"},s.beneficiaryNameOptions={labelKey:"ultimate_beneficiary_name_key",placeHolder:"ultimate_beneficiary_name_key",group:s.formGroup,fcName:"beneficiaryName"},s.beneficiaryAddressOptions={labelKey:"ultimate_beneficiary_address_key",placeHolder:"ultimate_beneficiary_address_key",group:s.formGroup,fcName:"beneficiaryAddress"},s.beneficiaryCountriesOptions={labelKey:"beneficiary_country_key",placeHolder:"select_beneficiary_country_key",fcName:"beneficiaryCountry",group:s.formGroup},s.commentOptions={labelKey:"file_comment_key",placeHolder:"enter_file_comment_key",fcName:"comment",group:s.formGroup},s.effictiveDateOptions={labelKey:"lG_effective_date_key",placeHolder:"enter_lG_effective_date_key",fcName:"effectiveDate",group:s.formGroup},s.expiryDateOptions={labelKey:"lG_expiry_date_key",placeHolder:"enter_Expiry_date_key",fcName:"expiryDate",group:s.formGroup},s.claimEndDateOptions={labelKey:"claim_end_date_key",placeHolder:"enter_claim_end_date_key",fcName:"claimEndDate",group:s.formGroup},s.complexAmountOptions={currency:"",currenciesOptions:{labelKey:"currency_key",placeHolder:"select_currency_key",fcName:"currency",group:s.formGroup},amountOptions:{labelKey:"total_amount_key",placeHolder:"enter_amount_key",fcName:"transactionAmount",type:"amount",group:s.formGroup}},s.chargesAccountListOptions={labelKey:"account_number_key",placeHolder:"select_account_number_key",component:N.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"fromAccount",accountType:"G",fromTo:"from",requestObject:s.defaultVO,currency:""},s.settlementMethodOptions={group:s.formGroup,fcName:"settlementMethod",labelKey:"funding_method_key",placeHolder:"select_funding_method_key"},s.settlementAccountListOptions={labelKey:"account_number_key",placeHolder:"select_account_number_key",component:N.a,group:s.formGroup,accountAllowedCurrencies:[],accountAllowedTypes:[],glTypes:"G",fcName:"settlementAccount",accountType:"G",fromTo:"from",requestObject:s.defaultVO},s.noLocalOptions={labelKey:"no_local_ben_available_key"},s.panelOptions3Step2={isExpandable:!0,labelKey:"attachment_key",iconName:"document",expanded:!0},s.documentInNameReadOnlyOptions={fcName:"documentInNameOfRO",labelKey:"document_in_name_of_key",placeHolder:"document_in_name_of_key",group:s.formGroup},s.applicantHomeAddressReadOnlyOptions={fcName:"applicantAddressDetails",labelKey:"applicant_address_key",placeHolder:"applicant_address_key",group:s.formGroup,requestVO:s.defaultVO},s.facilityDetailsOptions={labelKey:"facility_key",placeHolder:"select_from_facilities_key",fcName:"facilityDetails",group:s.formGroup,component:P.a,requestObject:s.defaultVO},s.applicableRulesOptions={group:s.formGroup,fcName:"applicableRules"},s.undertakingTermsAndConditionsOptions={labelKey:"undertaking_terms_and_conditions_key",placeHolder:"enter_undertaking_terms_and_conditions_key",group:s.formGroup,fcName:"undertakingTermsAndConditions"},s.formOfUndertakingOptions={group:s.formGroup,fcName:"formOfUndertaking"},s.typeOfUndertakingOptions={group:s.formGroup,fcName:"typeOfUndertaking"},s.expiryTypeOptions={group:s.formGroup,fcName:"expiryType"},s.automaticExtensionPeriodOptions={group:s.formGroup,fcName:"automaticExtensionPeriod"},s.daysAutomaticExtensionPeriodOptions={labelKey:"days_automatic_extension_peroid_key",placeHolder:"enter_days_automatic_extension_peroid_key",fcName:"daysAutomaticExtensionPeriod",group:s.formGroup},s.oneYAutomaticExtensionPeriodOptions={labelKey:"oney_automatic_extension_peroid_key",placeHolder:"enter_oney_automatic_extension_peroid_key",fcName:"oneyAutomaticExtensionPeriod",group:s.formGroup},s.otherAutomaticExtensionPeriodOptions={labelKey:"other_automatic_extension_peroid_key",placeHolder:"enter_other_automatic_extension_peroid_key",fcName:"otherAutomaticExtensionPeriod",group:s.formGroup},s.sameBankToggleOptions={labelKey:"same_bank_beneficiary_key",group:s.formGroup,fcName:"sameBank",psClass:"toggleColor"},s.beneficiaryBankCifDdlbOptions={categoryLabelKey:"beneficiary_bank_cif_key",categoryPlaceholderKey:"select_beneficiary_bank_cif_key",categoryFcName:"beneficiaryBankCifCategory",subCategoryLabelKey:"branch_key",subCategoryPlaceholderKey:"select_branch_key",subCategoryFcName:"branch",group:s.formGroup,requestObject:s.defaultVO},s.beneficiaryBankerSwiftCodeOptions={labelKey:"beneficiary_banker_swift_code",placeHolder:"enter_beneficiary_banker_swift_code",group:s.formGroup,fcName:"beneficiaryBankerSwiftCode"},s.accountNumberOptions={fcName:"beneficiaryBankAccountNumber",labelKey:"beneficiary_bank_account_no_key",placeHolder:"enter_beneficiary_bank_account_no_key",group:s.formGroup},s.beneficiaryNameValidityOptions={labelKey:"beneficiary_name_key",placeHolder:"enter_beneficiary_name_key",group:s.formGroup,fcName:"beneficiaryName"},s.benefAddressOptions={buildingOptions:{labelKey:"beneficiary_building_no_key",placeHolder:"enter_beneficiary_building_no_key",fcName:"benefOccupationBuilding",group:s.formGroup},streetOptions:{labelKey:"beneficiary_street_key",placeHolder:"enter_beneficiary_street_key",fcName:"benefStreet",group:s.formGroup},countriesOptions:{labelKey:"beneficiary_country_key",placeHolder:"select_beneficiary_country_key",fcName:"benefCountryCode",group:s.formGroup},regionOptions:{labelKey:"beneficiary_region_key",placeHolder:"select_beneficiary_region_key",fcName:"benefRegionCode",group:s.formGroup},cityOptions:{labelKey:"beneficiary_city_key",placeHolder:"select_beneficiary_city_key",fcName:"benefCityCode",group:s.formGroup},poBoxInputOptions:{group:s.formGroup,fcName:"benefpoBox",labelKey:"beneficiary_pobox_key",placeHolder:"enter_beneficiary_pobox_key"}},s.deliveryOfOrginalUndertakingOptions={group:s.formGroup,fcName:"deliveryOfOrginalUndertakingOptions"},s.additionalInfromation={labelKey:"additional_information_key",placeHolder:"enter_additional_information_key",group:s.formGroup,fcName:"additionalInformation"},s.deliveryToCollectionBy={group:s.formGroup,fcName:"deliveryToCollectionBy"},s.deliveryToCollectionByName={labelKey:"delivery_to_collection_by_name_key",placeHolder:"enter_delivery_to_collection_by_name_key",group:s.formGroup,fcName:"deliveryToCollectionByName"},s.deliveryToCollectionByAddress={labelKey:"delivery_to_collection_by_address_key",placeHolder:"enter_delivery_to_collection_by_address_key",group:s.formGroup,fcName:"deliveryToCollectionByAddress"},s.confirmationInstruction={group:s.formGroup,fcName:"confirmationInstruction"},s.expiryConditionEvent={labelKey:"expiry_condition_event_key",placeHolder:"enter_expiry_condition_event_key",group:s.formGroup,fcName:"expiryConditionEvent"},s.fileIdentificationOptions={group:s.formGroup,fcName:"fileIdentification",lovAdminFilterParamName:"AllowedFileIdentification"},s.branchOptions={group:s.formGroup,fcName:"branchAcc",disablePreview:!0},s.currencyOptions={group:s.formGroup,fcName:"currencyAcc",disablePreview:!0},s.glAccountOptions={group:s.formGroup,fcName:"accountGl",disablePreview:!0},s.cifNoOptions={group:s.formGroup,fcName:"cifNo",disablePreview:!0},s.serialNumberOptions={group:s.formGroup,fcName:"serialNumber",disablePreview:!0},s}return y(n,o),s(n,[{key:"ngOnInit",value:function(){t(n,"init",this,3)([]),this.baseFormGroup=this.formGroup,this.defaultVO=this.navService.getAllParams()?this.navService.getAllParams():{},this.beneficiariesRequestParam={trxTypeParameterName:T.a.LOCAL_BENEFICIARY,filterByOper:!0},this.cifInfo=this.commonProv.session.getValueOf(D.a.USERINFO),this.commonProv.setValInsideNestedObj(this.documentInNameReadOnlyOptions.fcName,this.cifInfo.customerInfoCO?"ar"===this.translateSrv.currentLang.toLocaleLowerCase()?this.cifInfo.customerInfoCO.longNameArabic:this.cifInfo.customerInfoCO.longName:"",this.defaultVO),this.defaultVO.disableCustomComponents&&this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_READONLY,[this.facilityDetailsOptions.fcName],1)}},{key:"ionViewDidEnter",value:function(){t(n,"ionViewDidEnter",this,3)([]),this.fetchParameter(),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.effictiveDateOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.expiryDateOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.claimEndDateOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.periodDays.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.chargesBorneByOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.beneficiaryCountriesOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.beneficiaryAddressOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.purpose2Options.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.purpose3Options.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.commentOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MINLENGTH,[this.branchOptions.fcName,this.currencyOptions.fcName,this.glAccountOptions.fcName,this.cifNoOptions.fcName,this.serialNumberOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.branchOptions.fcName,this.currencyOptions.fcName,this.glAccountOptions.fcName,this.cifNoOptions.fcName,this.serialNumberOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.accountNameOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.chargesAccountListOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.applicableRulesOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.undertakingTermsAndConditionsOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.daysAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.oneYAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.otherAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.additionalInfromation.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryOfOrginalUndertakingOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryToCollectionByName.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryToCollectionByAddress.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.typeOfUndertakingOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.automaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.daysAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.oneYAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.otherAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.beneficiaryBankerSwiftCodeOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.benefAddressOptions.countriesOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.benefAddressOptions.regionOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.benefAddressOptions.cityOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.benefAddressOptions.streetOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.benefAddressOptions.buildingOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.benefAddressOptions.poBoxInputOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.sameBankToggleOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.fileIdentificationOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.deliveryOfOrginalUndertakingOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.additionalInfromation.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.deliveryToCollectionBy.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.deliveryToCollectionByName.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.deliveryToCollectionByAddress.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.confirmationInstruction.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.expiryTypeOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.beneficiaryBankCifDdlbOptions.subCategoryFcName,this.deliveryOfOrginalUndertakingOptions.fcName,this.deliveryToCollectionBy.fcName,this.settlementAccountListOptions.fcName,this.facilityDetailsOptions.fcName],0)}},{key:"onclaimEndDateChange",value:function(e){e&&void 0!==e.newValue&&new Date(e.newValue).getTime()!==new Date(e.oldValue).getTime()&&this.changePeriodDays()}},{key:"onEffectiveDateChange",value:function(e){if(e&&void 0!==e.newValue&&new Date(e.newValue).getTime()!==new Date(e.oldValue).getTime()){this.effectiveDateOldVal=e.oldValue?e.oldValue:e.newValue,this.changePeriodDays();var o=v()(e.newValue,"DD-MM-YYYY");o.add(1,"years").calendar(),this.formGroup.controls[this.oneYAutomaticExtensionPeriodOptions.fcName].setValue(o)}}},{key:"onExpiryDateChange",value:function(e){if(e&&void 0!==e.newValue){if(this.daysAutomaticextPeriodadminCount){var o=v()(e.newValue,"DD-MM-YYYY").add(this.daysAutomaticextPeriodadminCount,"days");this.formGroup.controls[this.daysAutomaticExtensionPeriodOptions.fcName].setValue(o)}if(this.otherAutomaticExtentionPeriodAdminCount){var t=v()(e.newValue,"DD-MM-YYYY").add(this.otherAutomaticExtentionPeriodAdminCount,"days");this.formGroup.controls[this.otherAutomaticExtensionPeriodOptions.fcName].setValue(t)}}}},{key:"onPeriodDaysChange",value:function(e){var o=(e.oldValue||0)-e.newValue,t=new Date(this.formGroup.controls[this.claimEndDateOptions.fcName].value),n=new Date(t.setDate(t.getDate()-o));e.oldValue&&0!==o&&new Date(this.effectiveDateOldVal).getTime()===new Date(this.formGroup.controls[this.effictiveDateOptions.fcName].value).getTime()&&this.formGroup.controls[this.claimEndDateOptions.fcName].setValue(n)}},{key:"onchargesBorneByChange",value:function(e){if(null!=e&&void 0!==e&&e.description)switch(e.itemValue){case"A":this.isBeneficiaryChargesAccount=!1,this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.accountNameOptions.fcName],0);break;case"H":this.accountNameOptions.labelKey="beneficiary_charges_account_key",this.isBeneficiaryChargesAccount=!0,this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.accountNameOptions.fcName],1);break;case"B":this.accountNameOptions.labelKey="other_party_charges_account_key",this.isBeneficiaryChargesAccount=!0,this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.accountNameOptions.fcName],1);break;default:this.accountNameOptions.labelKey="other_party_charges_account_key",this.isApplicantChargesAccount=!1,this.isBeneficiaryChargesAccount=!1,this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.accountNameOptions.fcName],0)}}},{key:"onSettlementMethodChange",value:function(e){if(null==e?void 0:e.selectedObj){var o="I"===e.itemValue;this.commonProv.getElementValidations(o?this.settlementAccountListOptions.fcName:this.facilityDetailsOptions.fcName).DEFAULT_VALUE||(o?this.fromAccountRef:this.facilityRef).reset(),this.isApplicantFundingMethod=!o,this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.chargesAccountListOptions.fcName],o?0:1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.facilityDetailsOptions.fcName],o?1:0)}}},{key:"dateDiff",value:function(e,o){e=new Date(e),o=new Date(o);var t=Math.abs(e-o);return Math.ceil(t/864e5)}},{key:"fetchParameter",value:function(){return Object(O.b)(this,void 0,void 0,e().m(function o(){var t,n,i,a,r,s,c=this;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.omniPull.getParamValOf(T.a.BENEFICIARY_BANK_CIF,this.PURPOSE_OF_MESSAGE,this.OTHER_AUTOMATIC_EXTENSTION_PERIOD,this.DAYS_AUTOMATIC_EXTENSTION_PERIOD).then(function(e){-1!=e&&(e.BeneficiaryBankCIF&&(c.commonProv.setValInsideNestedObj(c.beneficiaryBankCifOptions.fcName,e.BeneficiaryBankCIF,c.stepperOptions.requestObject),c.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_READONLY,[c.beneficiaryBankCifOptions.fcName],1)),e.PurposeOfMessage&&("ACNF"===e.PurposeOfMessage||"ADVI"===e.PurposeOfMessage||"ISSU"===e.PurposeOfMessage?(c.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[c.deliveryOfOrginalUndertakingOptions.fcName],1),c.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[c.deliveryToCollectionBy.fcName],1)):(c.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[c.deliveryOfOrginalUndertakingOptions.fcName],0),c.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[c.deliveryToCollectionBy.fcName],0))),e.DaysAutomaticExtensionPeriod&&(c.daysAutomaticextPeriodadminCount=e.DaysAutomaticExtensionPeriod),e.OtherAutomaticExtensionPeriod&&(c.otherAutomaticExtentionPeriodAdminCount=e.OtherAutomaticExtensionPeriod))}).catch(function(e){});case 1:return t={lovTypeId:T.a.APPLICABLE_RULES_LOV_TYPE_ID},e.n=2,this.omniPull.returnLovTypesValues(t).catch(function(e){c.logger.error("Error: While fetching LOV types in ApplicableValues :",e)});case 2:return(n=e.v)&&n.length>0&&(i=n.find(function(e){return"I"===e.itemValue}))&&this.commonProv.setValInsideNestedObj(this.applicableRulesOptions.fcName,i.itemValue,this.defaultVO),a={lovTypeId:T.a.EXPIRY_TYPE_LOV_TYPE_ID},e.n=3,this.omniPull.returnLovTypesValues(a).catch(function(e){c.logger.error("Error: While fetching LOV types in expiryType :",e)});case 3:(r=e.v)&&r.length>0&&(s=r.find(function(e){return"FIXD"===e.itemValue}))&&this.commonProv.setValInsideNestedObj(this.expiryTypeOptions.fcName,s.itemValue,this.defaultVO);case 4:return e.a(2)}},o,this)}))}},{key:"changePeriodDays",value:function(){var e=this.formGroup.controls[this.claimEndDateOptions.fcName].value,o=this.formGroup.controls[this.effictiveDateOptions.fcName].value;if(void 0!==e&&void 0!==o){var t=this.dateDiff(e,o);t!=this.formGroup.controls[this.periodDays.fcName].value&&this.formGroup.controls[this.periodDays.fcName].setValue(t)}}},{key:"onSameBankToggleChange",value:function(e){!0===e.newValue?this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.beneficiaryBankCifDdlbOptions.categoryFcName],0):(this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.beneficiaryBankCifDdlbOptions.categoryFcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.beneficiaryBankCifDdlbOptions.categoryFcName],1))}},{key:"onexpirtTypeChange",value:function(e){null!=e&&void 0!==e&&e.description&&("COND"==e.itemValue||"FIXD"==e.itemValue?(this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.automaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.automaticExtensionPeriodOptions.fcName],0),"COND"==e.itemValue?(this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.expiryConditionEvent.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_MANDATORY,[this.expiryConditionEvent.fcName],0)):this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.expiryConditionEvent.fcName],0)):(this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.automaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.daysAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.oneYAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.otherAutomaticExtensionPeriodOptions.fcName],0))),this.formGroup.controls[this.automaticExtensionPeriodOptions.fcName].value&&(this.formGroup.controls[this.automaticExtensionPeriodOptions.fcName].setValue(""),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.daysAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.oneYAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.otherAutomaticExtensionPeriodOptions.fcName],0))}},{key:"ondeliveryOfOrginalUndertakingChange",value:function(e){null!=e&&void 0!==e&&e.description&&this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.additionalInfromation.fcName],"COUR"===e.itemValue||"OTHR"===e.itemValue?1:0)}},{key:"deliveryToCollectionByChange",value:function(e){null!=e&&void 0!==e&&e.description&&("OTHR"===e.itemValue?(this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryToCollectionByName.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryToCollectionByAddress.fcName],1)):(this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryToCollectionByName.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.deliveryToCollectionByAddress.fcName],0)))}},{key:"onautomaticExtentionPeriodChange",value:function(e){if(null!=e&&void 0!==e&&e.description&&("COND"===this.formGroup.controls[this.expiryTypeOptions.fcName].value||"FIXD"===this.formGroup.controls[this.expiryTypeOptions.fcName].value))switch(e.itemValue){case"DAYS":this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.daysAutomaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_READONLY,[this.daysAutomaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.oneYAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.otherAutomaticExtensionPeriodOptions.fcName],0);break;case"ONEY":this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.oneYAutomaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_READONLY,[this.oneYAutomaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.daysAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.otherAutomaticExtensionPeriodOptions.fcName],0);break;case"OTHR":this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.otherAutomaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_READONLY,[this.otherAutomaticExtensionPeriodOptions.fcName],1),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.daysAutomaticExtensionPeriodOptions.fcName],0),this.commonProv.applyDynScreenDisplay(D.a.ACTION_TYPE_VISIBLE,[this.oneYAutomaticExtensionPeriodOptions.fcName],0)}}}])}(I.OmniBasePage)).\u0275fac=function(e){return new(e||he)(k.Rb(C.a),k.Rb(S.a),k.Rb(A.a),k.Rb(E.a),k.Rb(Y.d))},he.\u0275cmp=k.Lb({type:he,selectors:[["app-letter-of-guarantee"]],viewQuery:function(e,o){var t;1&e&&(k.Wc(ye,1),k.Wc(fe,1)),2&e&&(k.Bc(t=k.gc())&&(o.fromAccountRef=t.first),k.Bc(t=k.gc())&&(o.facilityRef=t.first))},features:[k.Cb],decls:3,vars:4,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step1","",3,"id"],["id","lg_details_panel",3,"options"],["id","documentInNameRO",3,"options"],["id","applicantAddressDetails",3,"options"],[3,"options","onPsChange"],[3,"options"],["id","'accountName' + id",3,"options",4,"ngIf"],["hidden","",3,"options"],["id","form_of_undertaking",3,"options"],["id","'chargesAccount'+ id",3,"options",4,"ngIf"],["id","'settelmentMethod'+ id",1,"accounts",3,"options"],["fromAccountRef",""],["facilityRef",""],["id","type_of_undertaking",3,"options"],["id","validity_panel",3,"options"],["id","expiry_type",3,"options","onPsChange"],["id","automatic_extention_period",3,"options","onPsChange"],[3,"id","options","onPsChange"],["id","'accountName' + id",3,"options"],["id","'chargesAccount'+ id",3,"options"],["step2","",3,"id"],["id","lg_panel1",3,"options"],["id","'beneficiaryCIF' + id",3,"options"],["id","'beneficiaryName' + id",3,"options"],["id","lg_benef_details_panel",3,"options"],["id","'purpose1' + id",3,"options"],["id","'purpose2' + id",3,"options"],["id","'purpose3' + id",3,"options"],["id","applicable_rules",3,"options"],["id","undertaking_termsandconditions",3,"options"],["id","lg_attachment_panel",3,"options"],["id","comment_input",3,"options"]],template:function(e,o){1&e&&(k.Xb(0,"ps-template-stepper",0),k.Pc(1,_e,37,36,"ps-form-step",1),k.Pc(2,Oe,23,23,"ps-form-step",2),k.Wb()),2&e&&(k.pc("options",o.stepperOptions)("id",o.stepperOptions.stepperName),k.Fb(1),k.pc("psStep","step1"),k.Fb(1),k.pc("psStep","step2"))},directives:[x.a,R.a,B.a,V.a,L.a,F.a,G.a,w.a,M.a,K.a,H.a,j.o,X.a,W,q.a,Q.a,z.a,J,Z,$,ee.a,oe.a,te.a,ne.a,ie.a,ae,re,se,ce,pe.a,le.a,ue.a],styles:[""]}),he)}}])}();