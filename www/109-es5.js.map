{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-account-number/ps-input-account-number.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-account-number/ps-input-account-number.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-account-number/ps-input-account-number.component.scss"],"names":["PsInputAccountNumberComponent","commonP","loggerP","omniPull","nav","getScannedQr","actionOption","custMode","options","showScannerIcon","ngOnInit","operCustomization","common","returnOperCustomization","isInReadOnlyScreen","get","FORM_READONLY","IS_READONLY","isNotNull","hideValueOnError","iconName","allowCust","group","onChangeEvent","val","onPsChange","emit","getScannedData","buttonClicked","forceTriggerChange","commonProv","scanQRCode","then","result","JSON","parse","setValInsideNestedObj","fcName","AccountRef","split","requestObject","data","accountNumber","error","logger","navigateBackward","selector","template"],"mappings":"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","file":"109-es5.js","sourcesContent":["export default \"<div [ngClass]=\\\"{'colAcc' : options.showScannerIcon || custMode}\\\">\\r\\n    <ps-keyin-input [id]=\\\"id\\\" [options]=\\\"options\\\" (onPsChange)=\\\"onChangeEvent($event)\\\" (onPsEmpty)=\\\"onEmpty($event)\\\">\\r\\n    </ps-keyin-input>\\r\\n    <ps-action-icon [id]=\\\"'QrScannerIcon'\\\" *ngIf=\\\"options.showScannerIcon || custMode\\\" class=\\\"scanQrIcon\\\" [ngClass]=\\\"{'disableContent':isInReadOnlyScreen}\\\"\\r\\n        [options]=\\\"actionOption\\\" (onClick)=\\\"getScannedData(true)\\\"></ps-action-icon>\\r\\n</div>\";","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { PsKeyinInputComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-field-keyin/ps-keyin-input/ps-keyin-input.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsActionIcon } from '../../../../commonSRC/psServices/models/ps-common-interface';\nimport { PsNavigatorService } from '../../../../commonSRC/psServices/navigator/ps-navigator.service';\nimport { IOptionsPsInputAccountNumberExposed } from './ps-input-account-number.component.interface';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\n\n\n@Component({\n  selector: 'ps-input-account-number',\n  templateUrl: './ps-input-account-number.component.html',\n  styleUrls: ['./ps-input-account-number.component.scss'],\n})\nexport class PsInputAccountNumberComponent extends PsKeyinInputComponent implements OnInit {\n  @Input() options: IOptionsPsInputAccountNumberExposed;\n  @Output() getScannedQr = new EventEmitter();\n  actionOption: IOptionsPsActionIcon = {};\n  isInReadOnlyScreen: boolean;\n  // public format: any = 2;\n  // public accountLength: any = 8;\n\n  constructor(commonP: PsCommonService, loggerP: LoggerService, private omniPull: OmniPullService, public nav: PsNavigatorService) {\n    super(commonP, loggerP);\n    //   this.omniPull.getParamValOf('AccountsInputFormat', 'AccountAddRefLength').then((result) => {\n    //     if (result.AccountsInputFormat) {\n    //       this.format = result.AccountsInputFormat;\n    //     }\n    //     if (result.AccountAddRefLength) {\n    //       this.accountLength = result.AccountAddRefLength;\n    //     }\n    //   }).catch((error) => { });\n    if (this.custMode)\n      this.options.showScannerIcon = true;\n  }\n\n\n  ngOnInit() {\n    // don't remove ngOnInit() it's needed in \n    let operCustomization = this.common.returnOperCustomization();\n    this.isInReadOnlyScreen = operCustomization.get(ConstantCommon.FORM_READONLY)?.IS_READONLY == 1 ? true : false;\n    if (CommonUtils.isNotNull(this.options)) {\n      this.options.hideValueOnError = true;\n    }\n    this.actionOption = {\n      iconName: 'qr_code_scanner',\n      allowCust: true,\n      group: this.options.group\n    }\n\n  }\n\n  onChangeEvent(val) {\n    this.onPsChange.emit(val);\n  }\n  getScannedData(buttonClicked: boolean) {\n    if (!this.custMode) {\n      // set force trigger true so that once account is scanned the validation will be triggered to apply the needed validation on account change\n      if (this.options.forceTriggerChange == false)\n        this.options.forceTriggerChange = true;\n      // this.commonProv.presentLoading();\n      this.commonProv.scanQRCode().then(result => {\n        if (result) {\n          result = JSON.parse(result);\n          this.commonProv.setValInsideNestedObj(this.options.fcName, result.AccountRef?.split('-')[1], this.options.requestObject ? this.options.requestObject : {});\n          const data = { ...result, accountNumber: result.AccountRef?.split('-')[1] }\n          this.getScannedQr.emit([data, buttonClicked]);\n        }\n        // this.commonProv.dismissLoading();\n      }).catch(error => {\n        // this.commonProv.dismissLoading();\n        this.logger.error('something went wrong', error);\n        this.nav.navigateBackward();\n      });\n    }\n  }\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1pbnB1dC1hY2NvdW50LW51bWJlci5jb21wb25lbnQuc2NzcyJ9 */\";"]}