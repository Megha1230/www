(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"41l2":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var s=o("mrSG"),i=o("ZyuK"),n=o("iOQE"),p=o("DFXC"),a=o("Q0Ba"),c=o("fXoL");let r=(()=>{class e extends n.a{constructor(e,t,o){super(e,t),this.omniPull=o,this.showLovDropdown=!1,this.defaultDropDownLovOptions={isLOVDropdown:!0}}ngOnInit(){this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(e=>{if(e){const t=e.get(this.options.fcName);t&&t.LOV_TYPE_ID&&t.LOV_TYPE_ID!==this.options.lovTypeId&&this.loadLovDropDown()}})}loadLovDropDown(){var e;return Object(s.b)(this,void 0,void 0,function*(){if(!this.defaultDropDownLovOptions.listOfOptions||0==(null===(e=this.defaultDropDownLovOptions.listOfOptions)||void 0===e?void 0:e.length)){const e=this.commonProv.getElementValidations(this.options.fcName);if(e&&e.LOV_TYPE_ID&&(this.options.lovTypeId=e.LOV_TYPE_ID),null==this.options.lovTypeId||void 0===this.options.lovTypeId)return void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov");if(this.options.lovAdminFilterParamName){const e=yield this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);e&&(this.options.lovAdminFilterParamName=e[this.options.lovAdminFilterParamName])}const t={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},o=yield this.omniPull.returnLovTypesValues(t).catch(e=>{this.showLovDropdown=!1,this.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",e)});if(this.defaultDropDownLovOptions.listOfOptions=[],o&&o.length>0){for(const e of o){const t={itemValue:e.itemValue,description:e.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(e.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:e};t.selectedObj[this.options.fcName]=e.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(t)}this.showLovDropdown=!0}}})}selectDropDownChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(a.a),c.Rb(p.a),c.Rb(i.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-select-dropdown",0),c.fc("onPsChange",function(e){return t.selectDropDownChange(e)}),c.Wb()),2&e&&c.pc("id",t.id)("options",t.defaultDropDownLovOptions)},directives:[n.a],styles:[""]}),e})()},"7XXa":function(e,t,o){"use strict";o.d(t,"a",function(){return v});var s=o("mrSG"),i=o("fXoL"),n=o("3Pt+"),p=o("V0Fi"),a=o("ZyuK"),c=o("ZF3V"),r=o("DFXC"),l=o("zngb"),d=o("Q0Ba"),u=o("y70R"),h=o("Isd1"),f=o("ofXK"),O=o("iOQE"),y=o("QZhd");let m=(()=>{class e extends O.a{constructor(e,t,o){super(e,t),this.commonProv=e,this.loggerP=t,this.omniPull=o,this.defaultSelectOptions={labelKey:"cif_types_key",placeHolder:"cif_type_key"}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options),this.returnCifTypes()}onChange(e){this.onPsChange.emit(e)}returnCifTypes(){return Object(s.b)(this,void 0,void 0,function*(){this.omniPull.returnCifTypes({language:y.a.activeLanguge}).then(e=>{if(this.defaultSelectOptions.listOfOptions=[],e&&e.gridModel&&e.gridModel.length>0)for(const t of e.gridModel){const e={itemValue:t.typeCode.toString(),description:t.briefDesc,selectedObj:t};this.defaultSelectOptions.listOfOptions.push(e)}},e=>{this.logger.error("Error: While fetching data : ",e)})})}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(d.a),i.Rb(r.a),i.Rb(a.a))},e.\u0275cmp=i.Lb({type:e,selectors:[["ps-dropdown-cif-types"]],inputs:{options:"options"},features:[i.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(i.Xb(0,"ps-select-dropdown",0),i.fc("onPsChange",function(e){return t.onChange(e)}),i.Wb()),2&e&&i.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[O.a],styles:[""]}),e})();const g=["idDetailsComp"];function b(e,t){if(1&e){const e=i.Yb();i.Xb(0,"ps-dropdown-cif-types",3),i.fc("onPsChange",function(t){return i.Fc(e),i.ic().onChange(t)}),i.Wb()}if(2&e){const e=i.ic();i.pc("options",e.defaultOptions.cifTypeOptions)}}function _(e,t){1&e&&i.Sb(0,"ps-complex-id-details",9,10),2&e&&i.pc("options",t.$implicit)}function D(e,t){if(1&e&&(i.Vb(0),i.Pc(1,_,2,1,"ps-complex-id-details",8),i.Ub()),2&e){const e=i.ic(2);i.Fb(1),i.pc("ngForOf",e.mandatoryIdTypes)}}function C(e,t){if(1&e){const e=i.Yb();i.Xb(0,"ps-complex-id-details",11,10),i.fc("onPsChange",function(t){return i.Fc(e),i.ic(2).onItemChange(t)}),i.Wb()}if(2&e){const e=i.ic(2);i.pc("options",e.defaultOptions.complexIdDetailsOptions1)}}function I(e,t){if(1&e){const e=i.Yb();i.Xb(0,"ps-complex-id-details",12,10),i.fc("onPsChange",function(t){return i.Fc(e),i.ic(2).onItemChange(t)}),i.Wb()}if(2&e){const e=i.ic(2);i.pc("options",e.defaultOptions.complexIdDetailsOptions)}}function T(e,t){if(1&e&&(i.Xb(0,"div",4),i.Pc(1,D,2,1,"ng-container",5),i.Pc(2,C,2,1,"ps-complex-id-details",6),i.Pc(3,I,2,1,"ps-complex-id-details",7),i.Wb()),2&e){const e=i.ic();i.Fb(1),i.pc("ngIf",e.mandatoryIdTypes&&e.mandatoryIdTypes.length>0&&!e.showIdDropDown),i.Fb(1),i.pc("ngIf",0==e.mandatoryIdTypes.length&&e.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions&&e.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions.length>0&&!e.showIdDropDown&&!e.mandatoryIdThere),i.Fb(1),i.pc("ngIf",0==e.mandatoryIdTypes.length&&0==e.optionalIdTypes.length&&e.showIdDropDown)}}let v=(()=>{class e extends c.a{constructor(e,t,o){super(e,t),this.omniPull=o,this.onIdTypesGetLoaded=new i.o,this.defaultOptions={cifTypeOptions:{labelKey:"cif_key",placeHolder:"select_cif_type_key",iconOptions:{iconName:"clipboard"}},complexIdDetailsOptions:{dropdownIdTypesOptions:{fcName:"idType1",labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key"},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber1"},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate1"},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",fcName:"issuanceCountry1",iconOptions:{iconName:"clipboard"}},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate1"}},complexIdDetailsOptions1:{dropdownIdTypesOptions:{fcName:"idType1",labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key"},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",fcName:"idNumber1"},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"expiryDate1"},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",fcName:"issuanceCountry1",iconOptions:{iconName:"clipboard"}},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"issueDate1"}},showCifType:!0},this.showBG=!1,this.mandatoryIdTypes=[],this.optionalIdTypes=[],this.showIdDropDown=!1,this.mandatoryIdThere=!1,this.gridModelItemLength=0}ngOnInit(){this.commonProv.copyObject(this.defaultOptions,this.options),this.defaultOptions.requestObject=this.options.requestObject,super.init(),0==this.defaultOptions.showCifType&&this.returnIDTypes(null)}onChange(e){void 0!==this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName]&&(this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],0),this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName].setValue(null)),void 0!==this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.fcName]&&(this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.fcName],0),this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.fcName].setValue(null)),e&&e.selectedObj&&(this.returnIDTypes(e.selectedObj),this.onPsChange.emit(e))}returnIDTypes(e){var t;return Object(s.b)(this,void 0,void 0,function*(){const o={cifType:{selectedObj:e},param:null===(t=this.options)||void 0===t?void 0:t.param};this.omniPull.returnIdTypesList(o).then(e=>{var t;let o;if(this.mandatoryIdTypes=[],this.optionalIdTypes=[],e&&e.gridModel&&e.gridModel.length>0){this.removeIdDetailControls(),this.showIdDropDown=!1;let s=1;const i=e.gridModel.filter(e=>!0===e.mandatory);this.gridModelItemLength=i.length,this.mandatoryIdThere=i.length>0;for(const t of e.gridModel){const e={group:this.options.group,dropdownIdTypesOptions:{labelKey:"national_id_type_key",placeHolder:"enter_national_id_type_key",group:this.options.group},idNumberOptions:{labelKey:"id_number_key",placeHolder:"enter_id_number_key",group:this.options.group},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",group:this.options.group},countriesOptions:{labelKey:"country_of_issuance_key",placeHolder:"select_country_of_issuance_key",iconOptions:{iconName:"clipboard"},group:this.options.group},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",group:this.options.group}};if(!0===t.mandatory){e.dropdownIdTypesOptions.fcName="idType"+s,e.idNumberOptions.fcName="idNumber"+s,e.dateExpiryOptions.fcName="expiryDate"+s,e.countriesOptions.fcName="issuanceCountry"+s,e.issueDateOptions.fcName="issueDate"+s,this.showBG=!0;const o=[{itemValue:t.CODE.toString(),description:t.briefDesc,selectedObj:t}];e.dropdownIdTypesOptions.listOfOptions=o,this.mandatoryIdTypes.push(e),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[e.dropdownIdTypesOptions.fcName],1),this.options.group.addControl(e.dropdownIdTypesOptions.fcName,new n.d),this.commonProv.setValInsideNestedObj(e.dropdownIdTypesOptions.fcName,t.CODE.toString(),this.options.requestObject),t.fromLen&&this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MINLENGTH,[e.idNumberOptions.fcName],t.fromLen),t.toLen&&this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MAXLENGTH,[e.idNumberOptions.fcName],t.toLen),t.DATA_TYPE&&this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_PATTERN,[e.idNumberOptions.fcName],this.getDataType(t.DATA_TYPE)),s+=1}else if(!1===t.mandatory&&!this.mandatoryIdThere){this.showBG=!0;const e={itemValue:t.CODE.toString(),description:t.briefDesc,selectedObj:t};o="",o=t.CODE.toString(),this.optionalIdTypes.push(e)}}this.optionalIdTypes&&this.optionalIdTypes.length>0&&!this.mandatoryIdThere&&(this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions=this.optionalIdTypes,null===(t=this.options.group.controls[this.defaultOptions.complexIdDetailsOptions1.idNumberOptions.fcName])||void 0===t||t.reset())}else this.showIdDropDown=!0,this.showBG=!0,this.mandatoryIdTypes=[],this.optionalIdTypes=[],this.defaultOptions.complexIdDetailsOptions1.dropdownIdTypesOptions.listOfOptions=[],this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_READONLY,[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName],0),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_PATTERN,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],this.getDataType(0)),this.defaultOptions.group.controls[this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName]&&this.commonProv.setValInsideNestedObj(this.defaultOptions.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,null,this.options.requestObject)},e=>{this.logger.error("Error: While fetching data : ",e)}).finally(()=>{this.onIdTypesGetLoaded.emit(!0)})})}getDataType(e){switch(e){case p.a.DEFAULT_DATA_TYPE:return{expression:l.a.numericRegex,errorMsg:"field_should_contain_numeric_characters_key"};case p.a.ALPHA_DATA_TYPE:return{expression:l.a.alphaRegex,errorMsg:"field_should_contain_alphabetic_characters_key"};case p.a.NUMERIC_DATA_TYPE:return{expression:l.a.numericRegex,errorMsg:"field_should_contain_numeric_characters_key"};case p.a.ALPHA_NUMERIC_DATA_TYPE:return{expression:l.a.alphaNumericRegex,errorMsg:"field_should_contain_alpha_numeric_characters_key"};default:return{expression:l.a.numericRegex,errorMsg:"field_should_contain_numeric_characters_key"}}}removeIdDetailControls(){if(this.gridModelItemLength>0)for(let e=1;e<this.gridModelItemLength+1;e++)this.defaultOptions.group.removeControl("idType"+e),this.defaultOptions.group.removeControl("idNumber"+e),this.defaultOptions.group.removeControl("expiryDate"+e),this.defaultOptions.group.removeControl("issuanceCountry"+e),this.defaultOptions.group.removeControl("issueDate"+e)}onItemChange(e){if(e&&e.selectedObj){const t=this.getDataType(e.selectedObj.DATA_TYPE);this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_PATTERN,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],t),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MINLENGTH,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],e.selectedObj.FROM_LEN),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_MAXLENGTH,[this.defaultOptions.complexIdDetailsOptions.idNumberOptions.fcName],e.selectedObj.TO_LEN)}}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(d.a),i.Rb(r.a),i.Rb(a.a))},e.\u0275cmp=i.Lb({type:e,selectors:[["ps-complex-cif-id-types"]],viewQuery:function(e,t){if(1&e&&i.Wc(g,1),2&e){let e;i.Bc(e=i.gc())&&(t.idDetailsComp=e.first)}},inputs:{options:"options"},outputs:{onIdTypesGetLoaded:"onIdTypesGetLoaded"},features:[i.Cb],decls:3,vars:3,consts:[[3,"options"],[3,"options","onPsChange",4,"ngIf"],["class","cifIdTypes",4,"ngIf"],[3,"options","onPsChange"],[1,"cifIdTypes"],[4,"ngIf"],["id","complex_id_details1",3,"options","onPsChange",4,"ngIf"],["id","complex_id_details2",3,"options","onPsChange",4,"ngIf"],["id","complex_id_details",3,"options",4,"ngFor","ngForOf"],["id","complex_id_details",3,"options"],["idDetailsComp",""],["id","complex_id_details1",3,"options","onPsChange"],["id","complex_id_details2",3,"options","onPsChange"]],template:function(e,t){1&e&&(i.Xb(0,"ps-container-complex",0),i.Pc(1,b,1,1,"ps-dropdown-cif-types",1),i.Pc(2,T,4,3,"div",2),i.Wb()),2&e&&(i.pc("options",t.defaultOptions),i.Fb(1),i.pc("ngIf",t.defaultOptions.showCifType),i.Fb(1),i.pc("ngIf",t.showBG))},directives:[h.a,f.o,m,f.n,u.a],styles:[""]}),e})()},CUOr:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var s=o("mrSG"),i=o("ZyuK"),n=o("iOQE"),p=o("DFXC"),a=o("Q0Ba"),c=o("fXoL");let r=(()=>{class e extends n.a{constructor(e,t,o){super(e,t),this.omniPull=o,this.defaultSelectOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.loadRanking()}loadRanking(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.omniPull.returnRankings({}).catch(e=>{this.logger.error("Error: While fetching rankings in PsDropdownRankingComponent :",e)});if(this.defaultSelectOptions.listOfOptions=[],e&&e.gridModel)for(const t of e.gridModel){const e={itemValue:t.PRIORITY_CODE.toString(),description:t.longDesc,selectedObj:t};this.defaultSelectOptions.listOfOptions.push(e)}})}onRankingChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(a.a),c.Rb(p.a),c.Rb(i.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-dropdown-ranking"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-select-dropdown",0),c.fc("onPsChange",function(e){return t.onRankingChange(e)}),c.Wb()),2&e&&c.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[n.a],styles:[""]}),e})()},SsJY:function(e,t,o){"use strict";o.d(t,"a",function(){return h});var s=o("mrSG"),i=o("3Pt+"),n=o("ZyuK"),p=o("iOQE"),a=o("DFXC"),c=o("zngb"),r=o("Q0Ba"),l=o("fXoL"),d=o("Isd1"),u=o("x91f");let h=(()=>{class e extends p.a{constructor(e,t,o){super(e,t),this.commonProv=e,this.loggerP=t,this.omniPull=o,this.formGorup=new i.f({}),this.selectedEcoSectors=null,this.ecoSectors={},this.subEcoSectors={},this.subEcoSectorShow=!1,this.ecoSectorShow=!1,this.ecoCategoryOptions={}}ngOnInit(){this.loadOptions(null),this.loadEcoSectorsData(),this.commonProv.applyDynScreenDisplay(c.a.ACTION_TYPE_MANDATORY,[this.subEcoSectors.fcName],0)}onChangeEcoSectors(e){this.subEcoSectorShow=!0,this.selectedEcoSectors=e,this.selectedEcoSectors.obj&&(this.subEcoSectors={fcName:"sub"+this.options.fcName,group:this.options.group,labelKey:"sub_eco_sectors_key",placeHolder:"select_sub_eco_sectors_key",listOfOptions:this.selectedEcoSectors.obj}),this.onPsChange.emit(e)}onChangeSubSectors(e){this.onPsChange.emit(e)}loadEcoSectorsData(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.omniPull.returnEcoSector({}).catch(e=>{this.logger.error("Error ! while fetching eco sector in PsComplexEcoSectorComponent")});e&&e.gridModel&&e.gridModel.length>0&&(this.ecoCategoryOptions.listOfOptions=e.gridModel),this.ecoCategoryOptions=Object.assign({},this.ecoCategoryOptions)})}loadOptions(e){this.ecoCategoryOptions={customMappring:{categoryId:"ecoSectorCode",categoryDescription:"briefDesc",subCategoryId:"subSectorCode",subCategoryDescription:"briefDesc",categoryTagName:"",subCategoryTagName:"ecoSubSectorsList"},listOfOptions:null!=e&&e.length>0?e:void 0,defaultLoad:!1,category:{labelKey:"eco_sector_key",placeHolder:"select_eco_sector_key",fcName:this.options.fcName,group:this.options.group},subCategory:{labelKey:"sub_eco_sector_key",placeHolder:"select_sub_eco_sector_key",fcName:"sub"+this.options.fcName,group:this.options.group}}}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(r.a),l.Rb(a.a),l.Rb(n.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["ps-complex-eco-sector"]],inputs:{options:"options"},features:[l.Cb],decls:2,vars:2,consts:[[3,"id"],[3,"options"]],template:function(e,t){1&e&&(l.Xb(0,"ps-container-complex",0),l.Sb(1,"ps-category-sub-category",1),l.Wb()),2&e&&(l.pc("id","ecosector_select"+t.id),l.Fb(1),l.pc("options",t.ecoCategoryOptions))},directives:[d.a,u.a],styles:[""]}),e})()},ULj9:function(e,t,o){"use strict";o.d(t,"a",function(){return O});var s=o("mrSG"),i=o("ZyuK"),n=o("zngb"),p=o("ZF3V"),a=o("DFXC"),c=o("Q0Ba"),r=o("V0Fi"),l=o("fXoL"),d=o("Isd1"),u=o("+n0y"),h=o("iOQE");let f=(()=>{class e extends h.a{constructor(e,t,o){super(e,t),this.omniPull=o,this.defaultSelectOptions={labelKey:"label_branch_key",placeHolder:"branch_key"},this.branches=[]}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options)}ngOnChanges(){this.getBranches()}getBranches(){const e={countryId:this.options.selectedCountryCode?parseInt(this.options.selectedCountryCode):null,regionId:this.options.selectedRegionCode?parseInt(this.options.selectedRegionCode):null,cityId:this.options.selectedCityCode?parseInt(this.options.selectedCityCode):null,mapTypesInclude:"'B'"};this.branches=[],this.omniPull.returnMapAtmBranches(e).then(e=>{if(this.defaultSelectOptions.listOfOptions=[],e&&null!=e.gridModel&&e.gridModel.length>0){for(let o=0;o<e.gridModel.length;o++)this.branches.push({itemValue:e.gridModel[o].vsBranchCode,description:e.gridModel[o].briefDesc,selectedObj:e.gridModel[o]});this.defaultSelectOptions.listOfOptions=this.branches;const t=this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].value;t&&!this.defaultSelectOptions.listOfOptions.some(e=>e.itemValue===t)&&this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null)}else this.defaultSelectOptions.listOfOptions=[],this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null),this.logger.warn(e,"empty response")}).catch(e=>{})}onBranchChange(e){this.loggerP.log("onBranchChange"+e),this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(c.a),l.Rb(a.a),l.Rb(i.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["ps-dropdown-branches"]],inputs:{options:"options"},features:[l.Cb,l.Db],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(l.Xb(0,"ps-select-dropdown",0),l.fc("onPsChange",function(e){return t.onBranchChange(e)}),l.Wb()),2&e&&l.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[h.a],styles:[""]}),e})(),O=(()=>{class e extends p.a{constructor(e,t,o){super(e,t),this.omniPull=o,this.defaultOptions={}}ngOnInit(){var e,t;return Object(s.b)(this,void 0,void 0,function*(){this.defaultOptions={countryRegionCityOptions:{countriesOptions:{labelKey:"country__key",placeHolder:"select_country_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.countriesOptions.fcName:"branch_country",group:this.options.group,iconOptions:{iconName:"clipboard"}},regionOptions:{labelKey:"region_key",placeHolder:"region_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.regionOptions.fcName:"branch_region",group:this.options.group},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.cityOptions.fcName:"branch_city",group:this.options.group}}},this.defaultOptions.branchesOptions={group:this.options.group,fcName:this.options.branchesOptions?this.options.branchesOptions.fcName:"default_branch",placeHolder:(null===(e=this.options.branchesOptions)||void 0===e?void 0:e.placeHolder)?this.options.branchesOptions.placeHolder:"branch_key",labelKey:(null===(t=this.options.branchesOptions)||void 0===t?void 0:t.labelKey)?this.options.branchesOptions.labelKey:"label_branch_key"},this.commonProv.copyObject(this.defaultOptions,this.options);let o=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName);if(this.options.parameterToCheck){const e=yield this.omniPull.checkBranch(this.options.parameterToCheck);o=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName),this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],e.enableCifBranch||this.defaultOptions.branchesOptions.fcName&&!o.IS_VISIBLE?0:o.IS_MANDATORY)}else this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],o.IS_MANDATORY)})}onSelectBranch(e){this.onPsChange.emit(e)}onChildDropdownSelected(e){if(e[r.a.SELECTED_DROPDOWN]){const t=e[r.a.SELECTED_DROPDOWN];t===r.a.COUNTRY_DROPDOWN?(this.defaultOptions.branchesOptions.selectedCountryCode=void 0!==e.selectedObj?e.selectedObj.countriesID:null!=e.newValue?e.newValue:null,this.defaultOptions.branchesOptions.selectedRegionCode=null,this.defaultOptions.branchesOptions.selectedCityCode=null):t===r.a.REGION_DROPDOWN?(this.defaultOptions.branchesOptions.selectedRegionCode=void 0!==e.selectedObj?e.selectedObj.countriesRegionID:null!=e.newValue?e.newValue:null,this.defaultOptions.branchesOptions.selectedCityCode=null):t===r.a.CITY_DROPDOWN&&(this.defaultOptions.branchesOptions.selectedCityCode=void 0!==e.selectedObj?e.selectedObj.citiesId:null!=e.newValue?e.newValue:null)}this.defaultOptions.branchesOptions=Object.assign({},this.defaultOptions.branchesOptions)}}return e.\u0275fac=function(t){return new(t||e)(l.Rb(c.a),l.Rb(a.a),l.Rb(i.a))},e.\u0275cmp=l.Lb({type:e,selectors:[["ps-complex-select-branch"]],inputs:{options:"options"},features:[l.Cb],decls:3,vars:4,consts:[[1,"ps-complex-swift-benef-creation"],[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(l.Xb(0,"ps-container-complex",0),l.Xb(1,"ps-complex-country-regions-cities",1),l.fc("onPsChange",function(e){return t.onChildDropdownSelected(e)}),l.Wb(),l.Xb(2,"ps-dropdown-branches",1),l.fc("onPsChange",function(e){return t.onSelectBranch(e)}),l.Wb(),l.Wb()),2&e&&(l.Fb(1),l.pc("id",t.id)("options",t.defaultOptions.countryRegionCityOptions),l.Fb(1),l.pc("id",t.id)("options",t.defaultOptions.branchesOptions))},directives:[d.a,u.a,f],styles:[""]}),e})()},b46R:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var s=o("V0Fi"),i=o("fOh1"),n=o("DFXC"),p=o("Q0Ba"),a=o("41l2"),c=o("fXoL");let r=(()=>{class e extends a.a{constructor(e,t){super(e,t),this.defaultSelectOptions={iconLocation:i.a.ICON_LOCATION_GENERAL,iconExtension:i.a.IMG_GENDER_EXTENSION,lovTypeId:s.a.GENDER_LOV_TYPE_ID}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("gender_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("gender_key")}onChangeLov(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(p.a),c.Rb(n.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-lov-gender"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-dropdown-lov",0),c.fc("onPsChange",function(e){return t.onChangeLov(e)}),c.Wb()),2&e&&c.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[a.a],styles:[""]}),e})()},"rqw/":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var s=o("mrSG"),i=o("ZyuK"),n=o("iOQE"),p=o("DFXC"),a=o("Q0Ba"),c=o("fXoL");let r=(()=>{class e extends n.a{constructor(e,t,o){super(e,t),this.omniPull=o,this.defaultSelectOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.loadLegalStatus()}loadLegalStatus(){return Object(s.b)(this,void 0,void 0,function*(){const e=yield this.omniPull.returnLegalStatuses({}).catch(e=>{this.logger.log("Error: while loading legal status in PsDropdownLegalStatusComponent: ",e)});if(this.defaultSelectOptions.listOfOptions=[],e&&e.gridModel)for(const t of e.gridModel){const e={itemValue:t.LEGAL_STATUS_CODE.toString(),description:t.longDesc,selectedObj:t};this.defaultSelectOptions.listOfOptions.push(e)}})}onLegalStatusChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(a.a),c.Rb(p.a),c.Rb(i.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-dropdown-legal-status"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-select-dropdown",0),c.fc("onPsChange",function(e){return t.onLegalStatusChange(e)}),c.Wb()),2&e&&c.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[n.a],styles:[""]}),e})()}}]);