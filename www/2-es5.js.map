{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component.scss","webpack:///src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component.ts","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/pages/omni-base/omni-base.page.scss"],"names":["PsAccountsListComponent","commonServices","cdRef","event","omniPull","options","onClickCard","labelValuesMap","Map","headerMap","showSingleAccount","requestMap","editRequestMap","businessProfileMap","lookUpOptions","lookUpDetailsOptionsDict","lookUpDetailsOptions","eventSub","subscribe","list","ngOnDestroy","unsubscribe","ngOnInit","commonProv","session","getValueOf","BUSINESS_PROFILE_MAP","operation","filter","operVO","OPER_ID","oper_ID","shift","emailSubject","DESCRIPTION","enableListPagination","itemList","listOfOptions","populateAccountsMap","getContainerLookUpOptions","val","rowIndex","undefined","prepareLookUp","card","lookupDetails","translateSubTitle","labelKey","fcName","currencyDescription","currencyFlag","labelsValueMap","formGroup","group","balanceMapping","balanceFcNames","isEditable","editActionUrl","serviceUrl","personalizationNicknameEndPoint","showInitialCardValues","VISIBLE_FIELD","refreshTermDepositList","detailServiceUrl","url","maturityAccountDetailsRestEndPoint","paramsKeyLabels","key","value","staticValue","responseKeyLabel","actionDetailsOptions","type","GENERAL_ACCOUNT_TYPE","id","label","actionHyperlink","iconOptions","iconName","labelOptions","route","pageOptions","operId","PENDING_TRANSFERS_REPORT_OPER_ID","title","psClass","hasAccessOnOperation","REQUEST_HARD_COPY_STATEMENT_OPER_ID","isNativeMobile","custMode","component","componentOptions","message","sharedMessage","CHANGE_MATURITY_ACCOUNT_OPER_ID","push","preCallFunction","func","Promise","resolve","reject","executionClass","prepareMaturityAccountInfo","params","BREAK_TERM_DEPOSIT_ACCOUNT_OPER_ID","statusCode","ACCOUNTS_STATE_ACTIVE","E_STATEMENT_REQUEST_OPER_ID","listOfStatementOptions","buttonIcon","redirectUrl","VIEW_STATEMENT_OF_TRANSACTIONS","generatedToQR","actionUrl","commonSubmitAction","cssClass","actionType","alertType","qrData","AdditionalRef","additionalRef","IBAN","ibanAccNo","AccountRef","accountFormat","formattedAccount","briefName","actionCard","requestParams","accountNumber","navigationOptions","queryParams","accountType","returnMaturityAccountInformation","then","result","data","renew","renewWithSame","maturityAccount","transferAccount","maturityAccount_lookupKey","profitAccount","profitAccount_lookupKey","copyObject","error","logger","generateSharedMessage","itemCard","cifShortNameEnglish","translate","USERINFO","companySettingsCO","briefDesc","branchDescription","ngAfterViewChecked","detectChanges","updateCard","account","acct","item","showItemPopUp","emit","accountNumberMap","accountBalanceMap","accountAvailableBalanceMap","investMentCapitalMap","profitRateMap","tenorMap","maturityDateMap","dividendsPaidMap","accruedDividendsMap","renewMap","renewWithSameMap","maturityInstructionsMap","overDraftActualAmountMap","overDraftOutstandingAmountMap","overDraftAccumulatedAmountMap","headerTitleMap","headerSubtitleMap","isEdit","showMappingOnNoValue","formGroupMap","placeHolder","set","balanceMappingList","selector","template","changeDetection","OnPush","OmniBasePage","isPageDisabled","injectionHandler","navigationServices","init","currentOperID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","length","includes","getScreenTranslations","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","get","status","disable","Object","keys","controls","forEach","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","next","page","didEnter","setCheckViewByOper","emitCheckViewByOper","dismissLoading","baseFormGroup","getAllSessionFcVars","setFormGroupByOper","willLeave","setTimeout","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation"],"mappings":"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","file":"2-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1hY2NvdW50cy1saXN0LmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<ps-template-list>\\n   <div *ngIf=\\\"options?.itemList?.length > 0\\\" class=\\\"account-list\\\">\\n      <div *ngFor=\\\"let itemOption of options.itemList\\\">\\n         <ps-container-lookup-option [id]=\\\"id + '_opt'\\\" [options]=\\\"getContainerLookUpOptions(itemOption)\\\"\\n            [itemCard]=\\\"itemOption\\\" (clickedCard)=\\\"updateCard($event)\\\">\\n         </ps-container-lookup-option>\\n      </div>\\n   </div>\\n</ps-template-list>\";","import { AfterViewChecked, ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { CommonBussinessConstant } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { PsIconSocialSharingComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-action/ps-action-icon/ps-icon-social-sharing/ps-icon-social-sharing.component';\nimport { Events } from 'src/app/commonSRC/psServices/Event/event.service';\nimport { IMapKeyValue, IOptionsPsActionHyperlink, IOptionsPsContainerLookupOptionComponentExposed } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsTemplateListPage } from 'src/app/commonSRC/psTemplates/ps-template-list/ps-template-list.template';\nimport { IOperVO } from 'src/app/pages/omni-login/omni-login.interfaces';\nimport { PsCommonBusinessSettings } from '../../psServices/models/ps-commonBusiness.settings';\nimport { OmniPullService } from '../../psServices/omni-common/omni-pull.service';\nimport { ConstantCommon } from './../../../commonSRC/psServices/models/common-constant';\nimport { PsCommonSettings } from './../../../commonSRC/psServices/models/ps-common.settings';\nimport { PsCommonService } from './../../../commonSRC/psServices/ps-common/ps-common.service';\nimport { IListContainerLookupOption } from './../../psServices/models/ps-common-bussiness-interfaces';\nimport { IOptionsPsAccountsListExposed } from './ps-accounts-list.component.interfaces';\n\n\n\n/**\n * @author Aftab.Ali\n * @since 31/12/2019\n *\n * <p> PsAccountsListComponent </p>\n */\n@Component({\n  selector: 'ps-accounts-list',\n  templateUrl: './ps-accounts-list.component.html',\n  styleUrls: ['./ps-accounts-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PsAccountsListComponent extends PsTemplateListPage implements OnInit, AfterViewChecked, OnDestroy {\n\n  @Input() options: IOptionsPsAccountsListExposed = {};\n\n  // eslint-disable-next-line @angular-eslint/no-output-on-prefix\n  @Output() public onClickCard = new EventEmitter<any>();\n  public labelValuesMap = new Map<string, IMapKeyValue>();\n  public headerMap = new Map<string, IMapKeyValue>();\n  private showSingleAccount = false;\n  public requestMap = new Map<string, string>();\n  public editRequestMap = new Map<string, string>();\n  private businessProfileMap: IOperVO[] = [];\n  lookUpOptions: IListContainerLookupOption[] = [];\n  lookUpDetailsOptionsDict: { [key: number]: IOptionsPsContainerLookupOptionComponentExposed } = {};\n  eventSub: Subscription; // Added by Richie #TP 1105083 due to migration to ionic 5 since Event service was removed and replaced with observable\n  private lookUpDetailsOptions: IOptionsPsContainerLookupOptionComponentExposed = null;//Jira 7846 - Makki -Cache the options of the lookup details\n  constructor(\n    public commonServices: PsCommonService,\n    private cdRef?: ChangeDetectorRef,\n    private event?: Events, private omniPull?: OmniPullService\n  ) {\n    super();\n    this.eventSub = this.event.subscribe('refreshList', (list) => {\n    });\n  }\n\n  // Added by Richie #TP 1105083\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    if (this.eventSub) {\n      this.eventSub.unsubscribe();\n    }\n  }\n  // end Richie\n\n  ngOnInit() {\n    super.init();\n    this.businessProfileMap = this.commonProv.session.getValueOf(ConstantCommon.BUSINESS_PROFILE_MAP);\n    let operation;\n    if (this.businessProfileMap)\n      operation = this.businessProfileMap.filter(operVO => operVO.OPER_ID === PsCommonSettings.oper_ID).shift();\n    let emailSubject = '';\n    if (operation && operation.DESCRIPTION) {\n      emailSubject = operation.DESCRIPTION + '-' + 'accountnumber';\n    }\n    if (!this.options.enableListPagination) {\n      this.options.itemList = this.options.listOfOptions;\n    }\n    this.populateAccountsMap();\n  }\n\n  getContainerLookUpOptions(val) {\n    if (this.lookUpDetailsOptionsDict[val.rowIndex] !== undefined) {\n      return this.lookUpDetailsOptionsDict[val.rowIndex];\n    }\n    this.lookUpDetailsOptionsDict[val.rowIndex] = this.prepareLookUp(val);\n    return this.lookUpDetailsOptionsDict[val.rowIndex]\n  }\n\n\n  private prepareLookUp(card: any): any {\n    let lookupDetails: IOptionsPsContainerLookupOptionComponentExposed = {};\n    lookupDetails.translateSubTitle = false;\n    lookupDetails.labelKey = this.options.labelKey;\n    lookupDetails.fcName = this.options.fcName;\n    lookupDetails.currencyDescription = 'currencyBriefName';\n    lookupDetails.currencyFlag = 'currencyBriefNameEnglish';\n    lookupDetails.labelsValueMap = this.labelValuesMap;\n    lookupDetails.headerMap = this.headerMap;\n    lookupDetails.formGroup = this.options.group;\n    lookupDetails.group = this.options.group;\n    lookupDetails.balanceMapping = this.balanceMapping();\n    lookupDetails.balanceFcNames = this.options.balanceFcNames ? this.options.balanceFcNames : [];\n    lookupDetails.isEditable = this.options.isEditable;\n    lookupDetails.editActionUrl = PsCommonBusinessSettings.serviceUrl.personalizationNicknameEndPoint;\n    lookupDetails.requestMap = this.requestMap;\n    lookupDetails.editRequestMap = this.editRequestMap;\n    lookupDetails.showInitialCardValues = CommonBussinessConstant.VISIBLE_FIELD;\n    if (this.options.refreshTermDepositList) {\n      lookupDetails.detailServiceUrl = [\n        {\n          url: PsCommonBusinessSettings.serviceUrl.maturityAccountDetailsRestEndPoint,\n          paramsKeyLabels: [\n            { key: 'accountNumber', value: 'accountNumber' },\n            { key: 'accountType', staticValue: 'F' }\n          ],\n          responseKeyLabel: [\n            { key: 'investmentCapital', value: 'investmentCapital' },\n            { key: 'tenor', value: 'tenor' },\n            { key: 'maturityDateStr', value: 'maturityDateStr' },\n            { key: 'profitRate', value: 'profitRate' },\n            { key: 'accruedDividends', value: 'accruedDividends' },\n            { key: 'dividendsPaid', value: 'dividendsPaid' },\n            { key: 'renew', value: 'renew' },\n            { key: 'renewWithSame', value: 'renewWithSame' }\n          ]\n        }\n      ];\n    }\n    //edited by Marina Jira-AZDB-1202 pending transfer link should be only available for general accounts\n    lookupDetails.actionDetailsOptions = [\n      ((this.options.type == CommonBussinessConstant.GENERAL_ACCOUNT_TYPE) ? {\n        id: 'pending_transfers',\n        label: 'pending_transfers_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'pending-transfers',\n            labelOptions: {\n              labelKey: 'pending_transfers_key'\n            }\n          },\n          route: 'pending-transfers-report',\n          pageOptions: {\n            operId: CommonBussinessConstant.PENDING_TRANSFERS_REPORT_OPER_ID,\n            iconName: 'pending-transfers',\n            title: 'pending_transfers_key'\n          },\n          psClass: 'pending-transfers-action'\n        }\n      } : {}),\n      ((this.commonProv.hasAccessOnOperation(CommonBussinessConstant.REQUEST_HARD_COPY_STATEMENT_OPER_ID)) ? {\n        id: 'request_hard',\n        label: 'request_hard_copy_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'hard-copy-statement-request-icon',\n            labelOptions: {\n              labelKey: 'request_hard_copy_key'\n            }\n          },\n          route: 'hard-copy-statement-request',\n          pageOptions: {\n            operId: CommonBussinessConstant.REQUEST_HARD_COPY_STATEMENT_OPER_ID,\n            iconName: 'hard-copy-statement-request-icon',\n            title: 'request_hard_copy_key'\n          },\n          psClass: 'hard-copy-statement-request'\n        }\n      } : {}),\n      (\n        (this.commonProv.isNativeMobile() || PsCommonSettings.custMode) ?\n          {\n            id: 'share',\n            //label: 'share_key',\n            labelOptions: {\n              labelKey: 'share_key'\n            },\n            component: PsIconSocialSharingComponent,\n            componentOptions: {\n              message: card?.sharedMessage\n            },\n          } : {}\n      ),\n    ];\n    if (this.options.refreshTermDepositList && this.commonProv.hasAccessOnOperation(CommonBussinessConstant.CHANGE_MATURITY_ACCOUNT_OPER_ID)) {\n      lookupDetails.actionDetailsOptions.push({\n        id: 'change_maturity',\n        label: 'change_maturity_instructions_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'document',\n            labelOptions: {\n              labelKey: 'change_maturity_instructions_key'\n            }\n          },\n          route: 'change-maturity-instructions',\n          pageOptions: {\n            operId: CommonBussinessConstant.CHANGE_MATURITY_ACCOUNT_OPER_ID,\n            iconName: 'document',\n            title: 'change_maturity_instructions_key'\n          },\n\n          preCallFunction: {\n            func() {\n              return new Promise<any>((resolve, reject) => {\n                resolve(this.executionClass.prepareMaturityAccountInfo(lookupDetails.actionDetailsOptions[3].actionHyperlink));\n              });\n            },\n            executionClass: this,\n            params: []\n          },\n          // operId: ConstantCommon.AccountOpeningFixedMaturityAccountPage_OPER_ID\n          psClass: 'change-maturity-instructions'\n        },\n      });\n\n      lookupDetails.actionDetailsOptions.push({\n        fcName: 'break',\n        label: 'break_key',\n        id: 'break',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'pending-transfers',\n            labelOptions: {\n              labelKey: 'break_key'\n            }\n          },\n          route: 'break-term-deposit-account',\n          pageOptions: {\n            operId: CommonBussinessConstant.BREAK_TERM_DEPOSIT_ACCOUNT_OPER_ID,\n            iconName: 'pending-transfers',\n            title: 'break_key'\n          },\n          psClass: 'break-term-deposit-account'\n        }\n      })\n    }\n    if (card && card.statusCode === CommonBussinessConstant.ACCOUNTS_STATE_ACTIVE && this.commonProv.hasAccessOnOperation(CommonBussinessConstant.E_STATEMENT_REQUEST_OPER_ID)) {\n      lookupDetails.actionDetailsOptions.push({\n        id: 'statement_request',\n        label: 'e_statement_request_key',\n        actionHyperlink: {\n          group: this.options.group,\n          iconOptions: {\n            iconName: 'paper-plane',\n            labelOptions: {\n              labelKey: 'e_statement_request_key'\n            }\n          },\n          route: 'e-statement-request',\n          pageOptions: {\n            operId: CommonBussinessConstant.E_STATEMENT_REQUEST_OPER_ID,\n            iconName: 'paper-plane',\n            title: 'e_statement_request_key'\n          },\n          psClass: 'e-statement-request'\n        }\n      }\n      );\n    }\n\n    lookupDetails.listOfStatementOptions = [\n      {\n        buttonIcon: 'account-statement',\n        redirectUrl: 'account-statement-report',\n        operId: ConstantCommon.VIEW_STATEMENT_OF_TRANSACTIONS,\n        title: 'accounts_report_key'\n      },\n    ]\n\n    if (this.options.generatedToQR) {\n      if (lookupDetails.actionDetailsOptions == undefined) {\n        lookupDetails.actionDetailsOptions = [];\n      }\n      lookupDetails.actionDetailsOptions.push({\n        id: 'qr_code',\n        buttonIcon: 'qr_code_2',\n        actionUrl: PsCommonSettings.serviceUrl.commonSubmitAction,\n        cssClass: 'qr-code-account-list fab-edit-button',\n        iconName: 'qr_code_2',\n        labelOptions: {\n          labelKey: 'qr_code_key'\n        },\n        actionType: 'QR',\n        label: 'qr_code_key',\n        alertType: 'QR',\n        qrData: {\n          AdditionalRef: 'AddRef-' + card.additionalRef,\n          IBAN: 'IBAN-' + card.ibanAccNo,\n          AccountRef: card.accountFormat + '-' + card.formattedAccount,\n          briefName: card.briefName\n        }\n      });\n    }\n\n    return lookupDetails;\n  }\n  prepareMaturityAccountInfo(actionCard: IOptionsPsActionHyperlink): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n\n      const requestParams = {\n        accountNumber: actionCard.navigationOptions.queryParams.accountNumber,\n        accountType: 'F'\n      }\n      this.omniPull.returnMaturityAccountInformation(requestParams).then(\n        result => {\n          if (result) {\n            const data = {\n              renew: result.renew === 'yes' ? true : false,\n              renewWithSame: result.renewWithSame === 'yes' ? true : false,\n              maturityAccount: result.renew === 'yes' ? null : result.transferAccount.additionalRef,\n              maturityAccount_lookupKey: result.renew === 'yes' ? null : result.transferAccount.additionalRef,\n              profitAccount: result.renewWithSame === 'yes' ? null : result.profitAccount.additionalRef,\n              profitAccount_lookupKey: result.renewWithSame === 'yes' ? null : result.profitAccount.additionalRef,\n            }\n            this.commonProv.copyObject(actionCard.navigationOptions.queryParams,\n              { 'MaturityInfo': data }, false);\n            actionCard.navigationOptions.queryParams = {\n              ...actionCard.navigationOptions.queryParams\n            };\n\n            resolve(actionCard.navigationOptions.queryParams);\n          }\n        }\n      ).catch(error => {\n        this.commonProv.logger.error('Error: While fetching returnMaturityAccountInformation in change maturity page:', error);\n      });\n\n    });\n  }\n\n  generateSharedMessage(itemCard) {\n    let message = '';\n    if (itemCard.cifShortNameEnglish != null && itemCard.cifShortNameEnglish != undefined) {\n      message = this.commonServices.translate('account_holder_name_key') + ': ' + itemCard.cifShortNameEnglish;\n    }\n    if (itemCard.briefName != null && itemCard.briefName != undefined) {\n      message = (message != '' ? message + ' - ' : '') + this.commonServices.translate('account_name_key') + ': ' + itemCard.briefName;\n    }\n    if (itemCard.accountNumber != null && itemCard.accountNumber != undefined) {\n      message = (message != '' ? message + ' - ' : '') + this.commonServices.translate('account_number_key') + ': ' + itemCard.accountNumber;\n    }\n    if (itemCard.additionalRef != null && itemCard.additionalRef != undefined) {\n      message = (message != '' ? message + ' - ' : '') + this.commonServices.translate('account_ref_key') + ': ' + itemCard.additionalRef;\n    }\n    if (itemCard.ibanAccNo != null && itemCard.ibanAccNo != undefined) {\n      message = (message != '' ? message + ' - ' : '') + this.commonServices.translate('iban_key') + ': ' + itemCard.ibanAccNo;\n    }\n    message = (message != '' ? message + ' - ' : '') + this.commonServices.translate('bank_name_key') + ': ' + this.commonProv.session.getValueOf(ConstantCommon.USERINFO).companySettingsCO.briefDesc;\n    if (itemCard.branchDescription != null && itemCard.branchDescription != undefined) {\n      message = (message != '' ? message + ' - ' : '') + this.commonServices.translate('branch_name_key') + ': ' + itemCard.branchDescription;\n    }\n    return message;\n  }\n\n\n  ngAfterViewChecked() {\n    this.cdRef.detectChanges();\n  }\n\n  public updateCard(account: any) {\n    if (account && this.options.listOfOptions) {\n      this.options.itemList = this.options.listOfOptions.filter(acct => acct === account);\n      this.options.item = this.options.itemList[0];\n      this.showSingleAccount = !this.showSingleAccount;\n      this.options.showItemPopUp = !this.options.showItemPopUp;\n      //this.options.showSelectedCard = false;\n    }\n\n    this.onClickCard.emit(this.options);\n  }\n\n  private populateAccountsMap() {\n    let accountNumberMap: IMapKeyValue = {};\n    let accountBalanceMap: IMapKeyValue = {};\n    let accountAvailableBalanceMap: IMapKeyValue = {};\n    let investMentCapitalMap: IMapKeyValue = {};\n    let profitRateMap: IMapKeyValue = {};\n    let tenorMap: IMapKeyValue = {};\n    let maturityDateMap: IMapKeyValue = {};\n    let dividendsPaidMap: IMapKeyValue = {};\n    let accruedDividendsMap: IMapKeyValue = {};\n    let renewMap: IMapKeyValue = {};\n    let renewWithSameMap: IMapKeyValue = {};\n    let maturityInstructionsMap: IMapKeyValue = {};\n    let overDraftActualAmountMap: IMapKeyValue = {};\n    let overDraftOutstandingAmountMap: IMapKeyValue = {};\n    let overDraftAccumulatedAmountMap: IMapKeyValue = {};\n    let headerTitleMap: IMapKeyValue = {};\n    let headerSubtitleMap: IMapKeyValue = {};\n\n    accountNumberMap = {\n      key: 'formattedAccount', // will be used in lookup compoent to get the value of account nummer from list of accounts\n      value: '--- --- --- ---',\n      isEdit: false,\n    };\n\n    accountBalanceMap = {\n      key: 'balance', // will be used in lookup compoent to get the value of account balance from list of accounts\n      value: '0.0',\n      isEdit: false,\n    };\n\n    accountAvailableBalanceMap = {\n      key: 'availableBalance', // will be used in lookup compoent to get the value of account available balance from list of accounts\n      value: '0.0',\n      isEdit: false\n    };\n\n    investMentCapitalMap = {\n      key: 'investmentCapital',\n      value: '0',\n      isEdit: false\n    };\n\n    profitRateMap = {\n      key: 'profitRate',\n      value: '0',\n      isEdit: false\n    };\n\n    tenorMap = {\n      key: 'tenor',\n      value: '0',\n      isEdit: false\n    };\n\n    maturityDateMap = {\n      key: 'maturityDateStr',\n      value: '0',\n      isEdit: false\n    };\n\n    dividendsPaidMap = {\n      key: 'dividendsPaid',\n      value: '0',\n      isEdit: false\n    };\n\n    accruedDividendsMap = {\n      key: 'accruedDividends',\n      value: '0',\n      isEdit: false\n    };\n\n    renewMap = {\n      key: 'renew',\n      value: '0',\n      isEdit: false\n    };\n\n    renewWithSameMap = {\n      key: 'renewWithSame',\n      value: '0',\n      isEdit: false\n    };\n\n    maturityInstructionsMap = {\n      key: 'maturityInstructions',\n      value: '0',\n      isEdit: false\n    };\n\n    // salah added for AGIB160025 - Overdraft Interpretation and Narration\n    overDraftActualAmountMap = {\n      key: 'actualAmount',\n      value: '0',\n      isEdit: false,\n      showMappingOnNoValue: true\n    };\n    overDraftOutstandingAmountMap = {\n      key: 'outstandingAmount',\n      value: '0',\n      isEdit: false,\n      showMappingOnNoValue: true\n    };\n    overDraftAccumulatedAmountMap = {\n      key: 'accumulatedAmount',\n      value: '0',\n      isEdit: false,\n      showMappingOnNoValue: true\n    };\n\n\n    headerTitleMap = {\n      key: 'title',\n      value: 'accountTypeDesc',\n      isEdit: false,\n    };\n\n    headerSubtitleMap = {\n      key: 'subTitle',\n      value: 'briefName',\n      isEdit: true,\n      formGroupMap: {\n        placeHolder: 'enter_account_nick',\n        fcName: 'briefName',\n      }\n    };\n\n\n    // key here will be used as label in look up details component\n    this.labelValuesMap.set('account_key', accountNumberMap);\n    /* this.labelValuesMap.set('balance_key', accountBalanceMap);\n    this.labelValuesMap.set('available_balance_key', accountAvailableBalanceMap); */\n    if (this.options.refreshTermDepositList) {\n      this.labelValuesMap.set('investment_capital_key', investMentCapitalMap);\n      this.labelValuesMap.set('profit_rate_key', profitRateMap);\n      this.labelValuesMap.set('tenor_key', tenorMap);\n      this.labelValuesMap.set('maturity_date_key', maturityDateMap);\n      this.labelValuesMap.set('dividends_paid_key', dividendsPaidMap);\n      this.labelValuesMap.set('accrued_dividends_key', accruedDividendsMap);\n      // this.labelValuesMap.set('maturity_instructions_key', maturityInstructionsMap);\n      this.labelValuesMap.set('renew_key', renewMap);\n      this.labelValuesMap.set('renew_new_balance_within_same_account_key', renewWithSameMap);\n    }\n    if (this.options.type === CommonBussinessConstant.GENERAL_ACCOUNT_TYPE) {\n      this.labelValuesMap.set('overdraft_actual_key', overDraftActualAmountMap);\n      this.labelValuesMap.set('overdraft_outstand_key', overDraftOutstandingAmountMap);\n      this.labelValuesMap.set('overdraft_accumulated_key', overDraftAccumulatedAmountMap);\n    }\n\n    // will be used as header to template card in look up details component\n    this.headerMap.set('title', headerTitleMap);\n    this.headerMap.set('subTitle', headerSubtitleMap);\n    this.requestMap.set('nickNameNumber', 'personalizeKey');\n    this.requestMap.set('oldNickName', 'briefName');\n    this.editRequestMap.set('newNickName', 'briefName');\n    this.editRequestMap.set('type', 'A');\n    /* this.requestMap.set('newNickName', 'accountNumber'); */\n  }\n\n  /**\n   * \n   */\n  private balanceMapping(): any[] {\n    const balanceMappingList = [\n      {\n        key: 'current_balance_key',\n        value: 'balance'\n      },\n      {\n        key: 'available_balance_key',\n        value: 'availableBalance'\n      },\n      {\n        key: 'currency_iso_key',\n        value: 'currencyBriefName'\n      }\n    ];\n\n    return balanceMappingList;\n  }\n}\n","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","export default \"\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";"]}