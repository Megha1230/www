{"version":3,"sources":["webpack:///src/app/pages/rewards-catalogue/rewards-catalogue.page.html","webpack:///src/app/pages/rewards-catalogue/rewards-catalogue.page.ts","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-reward-details/ps-complex-reward-details.component.ts","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-reward-details/ps-complex-reward-details.component.html","webpack:///src/app/pages/omni-base/omni-base.page.scss"],"names":["RewardsCataloguePage","commonService","logger","omniPull","omniPush","formGroup","rewardsCatalogueVO","showCategories","maskOptions","groupSeparator","THOUSANDS_SEPARATOR","alias","autoGroup","placeholder","greedy","digits","DEFAULT_DECIMAL_DIGITS","templateViewOptions","group","disableLoading","widgetDropdownsOptions","requestObject","detailsObject","detailsModal","detailsModalClass","detailsModalId","detailsActionsList","label","action","data","applyRedemption","dropdowns","fcName","labelKey","listOfOptions","asyncURL","RETURN_REWARDS_CATEGORIES_URL","serviceRequestObj","submitType","RETURN_CATEGORIES_SUBMIT_TYPE","operId","REWARDS_CATALOGUE_OPER","mapResponseProperties","itemValue","description","imageName","fallBackImageName","NO_IMAGE_FOUND_FALLBACK","enablePagination","notSelectable","RETURN_REWARDS_URL","RETURN_REWARDS_SUBMIT_TYPE","additionalDescList","propNames","concatString","additionalActionList","handler","isMultiDescription","ngOnInit","baseFormGroup","commonProv","setFormData","parameter","APPLY_REDEMPTION_SUBMIT_TYPE","actionType","commonParametersList","selectedObj","presentLoading","redeemPoints","then","getPointsBalance","dismissLoading","selector","template","OmniBasePage","isPageDisabled","injectionHandler","navigationServices","init","currentOperID","oper_ID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","set","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","length","includes","getScreenTranslations","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","undefined","get","status","disable","Object","keys","controls","forEach","key","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","next","value","page","didEnter","setCheckViewByOper","emitCheckViewByOper","getAllSessionFcVars","setFormGroupByOper","willLeave","ngAfterViewChecked","setTimeout","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation","PsComplexRewardDetailsComponent","modalCtrl","rewardData","merchantLabelOptions","validityLabelOptions","headerOptions","rewardAction","pathNumberOfPoints","applyMaskFormat","translate","pathImageUrl","onRedeemClicked","dismiss"],"mappings":"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","file":"20-es5.js","sourcesContent":["export default \"<ps-template-view [options]=\\\"templateViewOptions\\\">\\r\\n    <div>\\r\\n        <ps-complex-widget-dropdowns [options]=\\\"widgetDropdownsOptions\\\" class=\\\"rewards_catalogue_widgets\\\">\\r\\n        </ps-complex-widget-dropdowns>\\r\\n    </div>\\r\\n</ps-template-view>\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\r\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\r\nimport { PsComplexRewardDetailsComponent } from './../../commonBussinessSRC/psComponents/ps-complex-components/ps-complex-reward-details/ps-complex-reward-details.component';\r\nimport { IOptionsPsComplexWidgetDropdownsExposed } from './../../commonBussinessSRC/psComponents/ps-complex-components/ps-complex-widget-dropdowns/ps-complex-widget-dropdowns.component.interface';\r\nimport { CommonBussinessConstant } from './../../commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\r\nimport { OmniPullService } from './../../commonBussinessSRC/psServices/omni-common/omni-pull.service';\r\nimport { OmniPushService } from './../../commonBussinessSRC/psServices/omni-common/omni-push.service';\r\nimport { LoggerService } from './../../commonSRC/psServices/logger/logger.service';\r\nimport { IOptionsPsTemplateView, IPsMaskOptions } from './../../commonSRC/psServices/models/ps-common-interface';\r\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\r\nimport { OmniBasePage } from './../omni-base/omni-base.page';\r\n@Component({\r\n    selector: 'rewards-catalogue',\r\n    templateUrl: './rewards-catalogue.page.html'\r\n})\r\nexport class RewardsCataloguePage extends OmniBasePage implements OnInit {\r\n    formGroup = new FormGroup({});\r\n    rewardsCatalogueVO = {};\r\n    showCategories = false;\r\n    maskOptions: IPsMaskOptions = {\r\n        groupSeparator: PsCommonSettings.THOUSANDS_SEPARATOR,\r\n        alias: 'currency',\r\n        autoGroup: true,\r\n        placeholder: '0',\r\n        greedy: false,\r\n        digits: ConstantCommon.DEFAULT_DECIMAL_DIGITS\r\n    };\r\n    templateViewOptions: IOptionsPsTemplateView = {\r\n        group: this.formGroup,\r\n        disableLoading: true\r\n    };\r\n    widgetDropdownsOptions: IOptionsPsComplexWidgetDropdownsExposed = {\r\n        group: this.formGroup,\r\n        requestObject: this.rewardsCatalogueVO,\r\n        detailsObject: {\r\n            detailsModal: PsComplexRewardDetailsComponent,\r\n            detailsModalClass: 'reward-details-modal',\r\n            detailsModalId: 'ps-complex-reward-details-modal',\r\n            detailsActionsList: [{ label: 'redeem_now_key', action: (data) => this.applyRedemption(data) }]\r\n        },\r\n        dropdowns: [\r\n            {\r\n                group: this.formGroup,\r\n                fcName: 'categories',\r\n                labelKey: 'categories_key',\r\n                listOfOptions: [],\r\n                asyncURL: CommonBussinessConstant.RETURN_REWARDS_CATEGORIES_URL,\r\n                serviceRequestObj: { submitType: CommonBussinessConstant.RETURN_CATEGORIES_SUBMIT_TYPE, operId: CommonBussinessConstant.REWARDS_CATALOGUE_OPER },\r\n                mapResponseProperties: {\r\n                    itemValue: 'pathRewardCategoryId',\r\n                    description: 'pathName',\r\n                    imageName: 'pathImageUrl',\r\n                    fallBackImageName: CommonBussinessConstant.NO_IMAGE_FOUND_FALLBACK\r\n                },\r\n                enablePagination: false,\r\n                requestObject: this.rewardsCatalogueVO,\r\n                notSelectable: true\r\n            },\r\n            {\r\n                group: this.formGroup,\r\n                fcName: 'rewards',\r\n                labelKey: 'rewards_key',\r\n                listOfOptions: [],\r\n                asyncURL: CommonBussinessConstant.RETURN_REWARDS_URL,\r\n                serviceRequestObj: { submitType: CommonBussinessConstant.RETURN_REWARDS_SUBMIT_TYPE, operId: CommonBussinessConstant.REWARDS_CATALOGUE_OPER },\r\n                mapResponseProperties: {\r\n                    itemValue: 'pathRewardCategoryIdValue',\r\n                    description: 'pathName',\r\n                    imageName: 'pathImageUrl',\r\n                    fallBackImageName: CommonBussinessConstant.NO_IMAGE_FOUND_FALLBACK,\r\n                    additionalDescList: [\r\n                        { propNames: ['pathMerchantRewardsCatalogId'] },\r\n                        { propNames: ['pathExpiryDate'] },\r\n                        { propNames: ['pathNumberOfPoints'], maskOptions: this.maskOptions, concatString: 'points_key' }\r\n                    ],\r\n                    additionalActionList: [{ labelKey: 'redeem_now_key', group: this.formGroup, handler: (data) => this.applyRedemption(data) }]\r\n                },\r\n                enablePagination: false,\r\n                requestObject: this.rewardsCatalogueVO,\r\n                notSelectable: true,\r\n                isMultiDescription: true\r\n            }\r\n        ]\r\n    };\r\n    constructor(public commonService: PsCommonService, public logger: LoggerService,\r\n        public omniPull: OmniPullService, public omniPush: OmniPushService) {\r\n        super();\r\n    }\r\n    ngOnInit() {\r\n        super.init();\r\n        this.baseFormGroup = this.formGroup;\r\n        this.commonProv.setFormData(this.formGroup, this.rewardsCatalogueVO);\r\n    }\r\n\r\n    applyRedemption(data) {\r\n        if (data) {\r\n            const parameter = {\r\n                submitType: CommonBussinessConstant.APPLY_REDEMPTION_SUBMIT_TYPE,\r\n                actionType: 'Submit',\r\n                commonParametersList: { ...data.selectedObj }\r\n            };\r\n            this.commonProv.presentLoading();\r\n            this.omniPush.redeemPoints(parameter).then(() => {\r\n                this.omniPull.getPointsBalance({}).then(() => {\r\n                    this.commonProv.dismissLoading();\r\n                });\r\n            });\r\n        }\r\n    }\r\n}","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","import { Component } from \"@angular/core\";\r\nimport { ModalController, NavParams } from '@ionic/angular';\r\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\r\nimport { PsCommonService } from \"src/app/commonSRC/psServices/ps-common/ps-common.service\";\r\nimport { ActionDetailsObject } from \"../ps-complex-widget-dropdowns/ps-complex-widget-dropdowns.component.interface\";\r\nimport { PsBaseActionComponent } from './../../../../commonSRC/psComponents/ps-base/ps-base-action/ps-base-action.component';\r\nimport { ConstantCommon } from './../../../../commonSRC/psServices/models/common-constant';\r\nimport { CommonUtils } from './../../../../commonSRC/psServices/models/common-utils';\r\nimport { IOptionsPsLabel, IOptionsPsLabelHeader, IPsMaskOptions } from './../../../../commonSRC/psServices/models/ps-common-interface';\r\nimport { IOptionsPsComplexRewardDetailsComponent } from './ps-complex-reward-details.component.interface';\r\n\r\n@Component({\r\n    selector: 'ps-complex-reward-details',\r\n    templateUrl: './ps-complex-reward-details.component.html'\r\n})\r\nexport class PsComplexRewardDetailsComponent extends PsBaseActionComponent {\r\n    rewardData: IOptionsPsComplexRewardDetailsComponent = {};\r\n    rewardAction: ActionDetailsObject;\r\n    merchantLabelOptions: IOptionsPsLabel = {\r\n        labelKey: 'merchant_name_key'\r\n    };\r\n    validityLabelOptions: IOptionsPsLabel = {\r\n        labelKey: 'reward_validity_key'\r\n    };\r\n    headerOptions: IOptionsPsLabelHeader = {\r\n        labelKey: 'reward_description_key'\r\n    }\r\n    maskOptions: IPsMaskOptions = {\r\n        groupSeparator: PsCommonSettings.THOUSANDS_SEPARATOR,\r\n        alias: 'currency',\r\n        autoGroup: true,\r\n        placeholder: '0',\r\n        greedy: false,\r\n        digits: ConstantCommon.DEFAULT_DECIMAL_DIGITS\r\n    };\r\n    constructor(public navParams: NavParams, public commonProv: PsCommonService, private modalCtrl: ModalController) {\r\n        super(commonProv, commonProv.logger);\r\n    }\r\n\r\n    ngOnInit() {\r\n        super.ngOnInit();\r\n        this.rewardData = this.navParams.get('data');\r\n        this.rewardAction = this.navParams.get('actions')[0];\r\n        if (this.rewardData.pathNumberOfPoints) {\r\n            this.rewardData.pathNumberOfPoints = CommonUtils.applyMaskFormat(+this.rewardData.pathNumberOfPoints, this.maskOptions) + ' ' + this.commonProv.translate('points_key');\r\n        }\r\n        this.rewardData.pathImageUrl = this.rewardData.pathImageUrl ? this.rewardData.pathImageUrl : 'noImage.jpg';\r\n    }\r\n\r\n    onRedeemClicked(data) {\r\n        this.rewardAction.action(data);\r\n        this.modalCtrl.dismiss();\r\n    }\r\n}","export default \"\\n\";","export default \"<div class=\\\"ps-complex-reward-details\\\">\\r\\n    <div class=\\\"reward-details_header\\\">\\r\\n        <ps-label-header class=\\\"reward_title\\\" [options]=\\\"headerOptions\\\"></ps-label-header>\\r\\n        <ps-icon-close class=\\\"header_close\\\"></ps-icon-close>\\r\\n    </div>\\r\\n    <div class=\\\"reward-details_body\\\">\\r\\n        <div class=\\\"reward-details_main\\\">\\r\\n            <ps-action-image class=\\\"reward_image\\\" *ngIf=\\\"rewardData.pathImageUrl\\\"\\r\\n                [options]=\\\"{imageName: rewardData.pathImageUrl}\\\">\\r\\n            </ps-action-image>\\r\\n            <ps-label class=\\\"reward_points\\\" *ngIf=\\\"rewardData?.pathNumberOfPoints\\\"\\r\\n                [options]=\\\"{labelKey:rewardData?.pathNumberOfPoints, translate:false}\\\">\\r\\n            </ps-label>\\r\\n            <ps-label class=\\\"reward_name\\\" [options]=\\\"{labelKey:rewardData?.pathName, translate:false}\\\"></ps-label>\\r\\n        </div>\\r\\n        <div class=\\\"reward-details_desc\\\">\\r\\n            <ps-label class=\\\"reward_description\\\"\\r\\n                [options]=\\\"{labelKey:rewardData?.pathProductDescription, translate:false}\\\">\\r\\n            </ps-label>\\r\\n            <div class=\\\"reward_merchant\\\">\\r\\n                <ps-label class=\\\"reward_merchant-label\\\" [options]=\\\"merchantLabelOptions\\\"></ps-label>\\r\\n                <ps-label class=\\\"reward_merchant-value\\\"\\r\\n                    [options]=\\\"{labelKey:rewardData?.pathMerchantRewardsCatalogId, translate:false}\\\">\\r\\n                </ps-label>\\r\\n            </div>\\r\\n            <div class=\\\"reward_validity\\\">\\r\\n                <ps-label class=\\\"reward_validity-label\\\" [options]=\\\"validityLabelOptions\\\"></ps-label>\\r\\n                <ps-label class=\\\"reward_validity-value\\\"\\r\\n                    [options]=\\\"{labelKey:rewardData?.pathExpiryDate, translate:false}\\\">\\r\\n                </ps-label>\\r\\n            </div>\\r\\n            <ps-action-button class=\\\"redeem_action\\\" (onClick)=\\\"onRedeemClicked(rewardData)\\\"\\r\\n                [options]=\\\"{labelKey: rewardAction.label}\\\">\\r\\n            </ps-action-button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";"]}