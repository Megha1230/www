(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"41l2":function(t,o,s){"use strict";s.d(o,"a",function(){return l});var e=s("mrSG"),i=s("ZyuK"),n=s("iOQE"),c=s("DFXC"),r=s("Q0Ba"),a=s("fXoL");let l=(()=>{class t extends n.a{constructor(t,o,s){super(t,o),this.omniPull=s,this.showLovDropdown=!1,this.defaultDropDownLovOptions={isLOVDropdown:!0}}ngOnInit(){this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(t=>{if(t){const o=t.get(this.options.fcName);o&&o.LOV_TYPE_ID&&o.LOV_TYPE_ID!==this.options.lovTypeId&&this.loadLovDropDown()}})}loadLovDropDown(){var t;return Object(e.b)(this,void 0,void 0,function*(){if(!this.defaultDropDownLovOptions.listOfOptions||0==(null===(t=this.defaultDropDownLovOptions.listOfOptions)||void 0===t?void 0:t.length)){const t=this.commonProv.getElementValidations(this.options.fcName);if(t&&t.LOV_TYPE_ID&&(this.options.lovTypeId=t.LOV_TYPE_ID),null==this.options.lovTypeId||void 0===this.options.lovTypeId)return void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov");if(this.options.lovAdminFilterParamName){const t=yield this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);t&&(this.options.lovAdminFilterParamName=t[this.options.lovAdminFilterParamName])}const o={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},s=yield this.omniPull.returnLovTypesValues(o).catch(t=>{this.showLovDropdown=!1,this.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",t)});if(this.defaultDropDownLovOptions.listOfOptions=[],s&&s.length>0){for(const t of s){const o={itemValue:t.itemValue,description:t.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(t.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:t};o.selectedObj[this.options.fcName]=t.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(o)}this.showLovDropdown=!0}}})}selectDropDownChange(t){this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(a.Rb(r.a),a.Rb(c.a),a.Rb(i.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[a.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(a.Xb(0,"ps-select-dropdown",0),a.fc("onPsChange",function(t){return o.selectDropDownChange(t)}),a.Wb()),2&t&&a.pc("id",o.id)("options",o.defaultDropDownLovOptions)},directives:[n.a],styles:[""]}),t})()},ULj9:function(t,o,s){"use strict";s.d(o,"a",function(){return O});var e=s("mrSG"),i=s("ZyuK"),n=s("zngb"),c=s("ZF3V"),r=s("DFXC"),a=s("Q0Ba"),l=s("V0Fi"),p=s("fXoL"),h=s("Isd1"),d=s("+n0y"),u=s("iOQE");let f=(()=>{class t extends u.a{constructor(t,o,s){super(t,o),this.omniPull=s,this.defaultSelectOptions={labelKey:"label_branch_key",placeHolder:"branch_key"},this.branches=[]}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options)}ngOnChanges(){this.getBranches()}getBranches(){const t={countryId:this.options.selectedCountryCode?parseInt(this.options.selectedCountryCode):null,regionId:this.options.selectedRegionCode?parseInt(this.options.selectedRegionCode):null,cityId:this.options.selectedCityCode?parseInt(this.options.selectedCityCode):null,mapTypesInclude:"'B'"};this.branches=[],this.omniPull.returnMapAtmBranches(t).then(t=>{if(this.defaultSelectOptions.listOfOptions=[],t&&null!=t.gridModel&&t.gridModel.length>0){for(let s=0;s<t.gridModel.length;s++)this.branches.push({itemValue:t.gridModel[s].vsBranchCode,description:t.gridModel[s].briefDesc,selectedObj:t.gridModel[s]});this.defaultSelectOptions.listOfOptions=this.branches;const o=this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].value;o&&!this.defaultSelectOptions.listOfOptions.some(t=>t.itemValue===o)&&this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null)}else this.defaultSelectOptions.listOfOptions=[],this.defaultSelectOptions.group.controls[this.defaultSelectOptions.fcName].setValue(null),this.logger.warn(t,"empty response")}).catch(t=>{})}onBranchChange(t){this.loggerP.log("onBranchChange"+t),this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(p.Rb(a.a),p.Rb(r.a),p.Rb(i.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ps-dropdown-branches"]],inputs:{options:"options"},features:[p.Cb,p.Db],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(p.Xb(0,"ps-select-dropdown",0),p.fc("onPsChange",function(t){return o.onBranchChange(t)}),p.Wb()),2&t&&p.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[u.a],styles:[""]}),t})(),O=(()=>{class t extends c.a{constructor(t,o,s){super(t,o),this.omniPull=s,this.defaultOptions={}}ngOnInit(){var t,o;return Object(e.b)(this,void 0,void 0,function*(){this.defaultOptions={countryRegionCityOptions:{countriesOptions:{labelKey:"country__key",placeHolder:"select_country_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.countriesOptions.fcName:"branch_country",group:this.options.group,iconOptions:{iconName:"clipboard"}},regionOptions:{labelKey:"region_key",placeHolder:"region_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.regionOptions.fcName:"branch_region",group:this.options.group},cityOptions:{labelKey:"city_key",placeHolder:"select_city_key",fcName:this.options.countryRegionCityOptions?this.options.countryRegionCityOptions.cityOptions.fcName:"branch_city",group:this.options.group}}},this.defaultOptions.branchesOptions={group:this.options.group,fcName:this.options.branchesOptions?this.options.branchesOptions.fcName:"default_branch",placeHolder:(null===(t=this.options.branchesOptions)||void 0===t?void 0:t.placeHolder)?this.options.branchesOptions.placeHolder:"branch_key",labelKey:(null===(o=this.options.branchesOptions)||void 0===o?void 0:o.labelKey)?this.options.branchesOptions.labelKey:"label_branch_key"},this.commonProv.copyObject(this.defaultOptions,this.options);let s=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName);if(this.options.parameterToCheck){const t=yield this.omniPull.checkBranch(this.options.parameterToCheck);s=this.commonProv.getElementValidations(this.defaultOptions.branchesOptions.fcName),this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],t.enableCifBranch||this.defaultOptions.branchesOptions.fcName&&!s.IS_VISIBLE?0:s.IS_MANDATORY)}else this.commonProv.applyDynScreenDisplay(n.a.ACTION_TYPE_MANDATORY,[this.defaultOptions.branchesOptions.fcName],s.IS_MANDATORY)})}onSelectBranch(t){this.onPsChange.emit(t)}onChildDropdownSelected(t){if(t[l.a.SELECTED_DROPDOWN]){const o=t[l.a.SELECTED_DROPDOWN];o===l.a.COUNTRY_DROPDOWN?(this.defaultOptions.branchesOptions.selectedCountryCode=void 0!==t.selectedObj?t.selectedObj.countriesID:null!=t.newValue?t.newValue:null,this.defaultOptions.branchesOptions.selectedRegionCode=null,this.defaultOptions.branchesOptions.selectedCityCode=null):o===l.a.REGION_DROPDOWN?(this.defaultOptions.branchesOptions.selectedRegionCode=void 0!==t.selectedObj?t.selectedObj.countriesRegionID:null!=t.newValue?t.newValue:null,this.defaultOptions.branchesOptions.selectedCityCode=null):o===l.a.CITY_DROPDOWN&&(this.defaultOptions.branchesOptions.selectedCityCode=void 0!==t.selectedObj?t.selectedObj.citiesId:null!=t.newValue?t.newValue:null)}this.defaultOptions.branchesOptions=Object.assign({},this.defaultOptions.branchesOptions)}}return t.\u0275fac=function(o){return new(o||t)(p.Rb(a.a),p.Rb(r.a),p.Rb(i.a))},t.\u0275cmp=p.Lb({type:t,selectors:[["ps-complex-select-branch"]],inputs:{options:"options"},features:[p.Cb],decls:3,vars:4,consts:[[1,"ps-complex-swift-benef-creation"],[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(p.Xb(0,"ps-container-complex",0),p.Xb(1,"ps-complex-country-regions-cities",1),p.fc("onPsChange",function(t){return o.onChildDropdownSelected(t)}),p.Wb(),p.Xb(2,"ps-dropdown-branches",1),p.fc("onPsChange",function(t){return o.onSelectBranch(t)}),p.Wb(),p.Wb()),2&t&&(p.Fb(1),p.pc("id",o.id)("options",o.defaultOptions.countryRegionCityOptions),p.Fb(1),p.pc("id",o.id)("options",o.defaultOptions.branchesOptions))},directives:[h.a,d.a,f],styles:[""]}),t})()},gmKe:function(t,o,s){"use strict";s.d(o,"a",function(){return l});var e=s("DFXC"),i=s("Q0Ba"),n=s("ggmK"),c=s("zngb"),r=s("fXoL"),a=s("sYmb");let l=(()=>{class t extends n.a{constructor(t,o,s){super(t,o),this.translateSrv=s,this.defaultOptions={}}ngOnInit(){super.ngOnInit(),this.cifInfo=this.commonProv.session.getValueOf(c.a.USERINFO),this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.address=[],this.cifInfo.customerInfoCO&&(this.address="ar"===this.translateSrv.currentLang.toLocaleLowerCase()?[this.cifInfo.customerInfoCO.countryDescriptionArabic,this.cifInfo.customerInfoCO.regionDescriptionArabic,this.cifInfo.customerInfoCO.cityDescriptionArabic,this.cifInfo.customerInfoCO.streetDetailsArabic]:[this.cifInfo.customerInfoCO.country,this.cifInfo.customerInfoCO.regionName,this.cifInfo.customerInfoCO.cityName,this.cifInfo.customerInfoCO.streetDetails],this.address=this.address.concat([this.cifInfo.customerInfoCO.buildingOrHouse,this.cifInfo.customerInfoCO.poBox])),this.commonProv.setValInsideNestedObj(this.options.fcName,this.address.filter(t=>void 0!==t).join("-"),this.options.requestVO)}}return t.\u0275fac=function(o){return new(o||t)(r.Rb(i.a),r.Rb(e.a),r.Rb(a.d))},t.\u0275cmp=r.Lb({type:t,selectors:[["ps-input-display-only-cif-address-home"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:1,consts:[["id","displayOnlyCifHomeAddress",3,"options"]],template:function(t,o){1&t&&r.Sb(0,"ps-input-display-only",0),2&t&&r.pc("options",o.defaultOptions)},directives:[n.a],styles:[""]}),t})()},"pvj/":function(t,o,s){"use strict";s.d(o,"a",function(){return w});var e=s("mrSG"),i=s("fXoL"),n=s("V0Fi"),c=s("ZyuK"),r=s("ZF3V"),a=s("DFXC"),l=s("zngb"),p=s("Q0Ba"),h=s("Isd1"),d=s("41l2"),u=s("lE2x");let f=(()=>{class t extends d.a{constructor(t,o){super(t,o),this.defaultSelectOptions={iconLocation:u.a.CLIENT_ASSETS_CONFIG.IMGS_FOLDER_URL,lovTypeId:n.a.DELIVERY_LOC_LOV_ID,iconExtension:".svg"}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate("delivery_location_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate("select_delivery_location_key")}onChangeLov(t){this.onPsChange.emit(t)}}return t.\u0275fac=function(o){return new(o||t)(i.Rb(p.a),i.Rb(a.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-lov-delivery-location"]],inputs:{options:"options"},features:[i.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(t,o){1&t&&(i.Xb(0,"ps-dropdown-lov",0),i.fc("onPsChange",function(t){return o.onChangeLov(t)}),i.Wb()),2&t&&i.pc("id",o.id)("options",o.defaultSelectOptions)},directives:[d.a],styles:[""]}),t})();var O=s("ofXK"),m=s("ULj9"),b=s("gmKe"),y=s("ggmK"),C=s("sYmb");let I=(()=>{class t extends y.a{constructor(t,o,s){super(t,o),this.translateSrv=s,this.defaultOptions={}}ngOnInit(){super.ngOnInit(),this.cifInfo=this.commonProv.session.getValueOf(l.a.USERINFO),this.commonProv.copyObject(this.defaultOptions,this.options,!1),this.address=[],this.cifInfo.customerInfoCO&&(this.address="ar"===this.translateSrv.currentLang.toLocaleLowerCase()?[this.cifInfo.customerInfoCO.institutionNameArabic,this.cifInfo.customerInfoCO.countryDescriptionArabic,this.cifInfo.customerInfoCO.regionDescriptionArabic,this.cifInfo.customerInfoCO.cityDescriptionArabic,this.cifInfo.customerInfoCO.streetDetailsArabic]:[this.cifInfo.customerInfoCO.institutionName,this.cifInfo.customerInfoCO.country,this.cifInfo.customerInfoCO.regionName,this.cifInfo.customerInfoCO.cityName,this.cifInfo.customerInfoCO.streetDetails],this.address=this.address.concat([this.cifInfo.customerInfoCO.employerpoBox])),this.commonProv.setValInsideNestedObj(this.options.fcName,this.address.filter(t=>void 0!==t).join("-"),this.options.requestVO)}}return t.\u0275fac=function(o){return new(o||t)(i.Rb(p.a),i.Rb(a.a),i.Rb(C.d))},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-input-display-only-cif-address-work"]],inputs:{options:"options"},features:[i.Cb],decls:1,vars:1,consts:[["id","displayOnlyCifWorkAddress",3,"options"]],template:function(t,o){1&t&&i.Sb(0,"ps-input-display-only",0),2&t&&i.pc("options",o.defaultOptions)},directives:[y.a],styles:[""]}),t})();var g=s("+9hN");function v(t,o){if(1&t&&i.Sb(0,"ps-complex-select-branch",6),2&t){const t=i.ic();i.pc("options",null==t.options?null:t.options.branchLocationOptions)}}function D(t,o){if(1&t&&i.Sb(0,"ps-input-display-only-cif-address-home",7),2&t){const t=i.ic();i.pc("options",null==t.options?null:t.options.homeAddressOptions)}}function N(t,o){if(1&t&&i.Sb(0,"ps-input-display-only-cif-address-work",8),2&t){const t=i.ic();i.pc("options",null==t.options?null:t.options.workAddressOptions)}}function P(t,o){if(1&t&&i.Sb(0,"ps-keyin-textarea",9),2&t){const t=i.ic();i.pc("options",null==t.options?null:t.options.otherAddressOptions)}}function _(t,o){if(1&t&&i.Sb(0,"ps-input-display-only",10),2&t){const t=i.ic();i.pc("options",null==t.options?null:t.options.branchCifOptions)}}let w=(()=>{class t extends r.a{constructor(t,o,s){super(o,s),this.omniPull=t,this.commonProv=o,this.loggerP=s,this.parentFun=new i.o,this.branch=n.a.SPECIFIC_BRANCH_VALUE,this.home=n.a.HOME_ADDRESS_VALUE,this.work=n.a.WORK_ADDRESS_VALUE,this.other=n.a.OTHER_ADDRESS_VALUE,this.collectionType=null}ngOnInit(){this.requestVO=this.options.homeAddressOptions.requestVO,1==this.options.cifBranchChecking&&this.fetchParameter()}onCollectionModeChanged(t){t&&t.selectedObj&&(this.collectionType=t.selectedObj.itemValue,this.resetOldData(t.selectedObj.itemValue),this.parentFun.emit())}resetOldData(t){t==this.home?(this.commonProv.setValInsideNestedObj(this.options.workAddressOptions.fcName,"",this.requestVO),this.commonProv.setValInsideNestedObj(this.options.otherAddressOptions.fcName,"",this.requestVO)):t==this.work?(this.commonProv.setValInsideNestedObj(this.options.homeAddressOptions.fcName,"",this.requestVO),this.commonProv.setValInsideNestedObj(this.options.otherAddressOptions.fcName,"",this.requestVO)):t==this.other&&(this.commonProv.setValInsideNestedObj(this.options.homeAddressOptions.fcName,"",this.requestVO),this.commonProv.setValInsideNestedObj(this.options.workAddressOptions.fcName,"",this.requestVO))}fetchParameter(){return Object(e.b)(this,void 0,void 0,function*(){this.cifInfo=this.commonProv.session.getValueOf(l.a.USERINFO);const t=yield this.omniPull.getParamValOf(n.a.COLLECTION_DESTINATION_BRANCH).catch(t=>{this.logger.log(t)});-1!==t&&t.CollectionDestinationBranch===n.a.END_USER_INPUT_ID?this.enableCifBranch=0:(t.CollectionDestinationBranch===n.a.ACCOUNT_BRANCH_ID?(this.options.branchCifOptions.labelKey="delivery_account_branch_key",this.commonProv.setValInsideNestedObj(this.options.branchCifOptions.fcName,this.cifInfo.cifBranch?this.cifInfo.customerInfoCO.branchCode:"",this.requestVO)):(this.options.branchCifOptions.labelKey="delivery_cif_branch_key",this.commonProv.setValInsideNestedObj(this.options.branchCifOptions.fcName,this.cifInfo.cifBranch?this.cifInfo.customerInfoCO.branchBriefDesc:"",this.requestVO)),this.enableCifBranch=1),this.hideShowDeliveryBranch(),this.parentFun.emit()})}hideShowDeliveryBranch(){var t;let o=1==this.enableCifBranch?0:1;this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_VISIBLE,[null===(t=this.options)||void 0===t?void 0:t.branchCifOptions.fcName],this.enableCifBranch),this.commonProv.applyDynScreenDisplay(l.a.ACTION_TYPE_VISIBLE,[this.options.otherAddressOptions.fcName,this.options.workAddressOptions.fcName,this.options.homeAddressOptions.fcName,this.options.collectionModeOptions.fcName,this.options.branchLocationOptions.fcName],o)}}return t.\u0275fac=function(o){return new(o||t)(i.Rb(c.a),i.Rb(p.a),i.Rb(a.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["ps-complex-location"]],inputs:{options:"options"},outputs:{parentFun:"parentFun"},features:[i.Cb],decls:9,vars:6,consts:[["id","collection-mode",3,"options","onPsChange"],[3,"options",4,"ngIf"],["id","HomeAddressDetails",3,"options",4,"ngIf"],["id","workAddressDetails",3,"options",4,"ngIf"],["id","keyin_textarea",3,"options",4,"ngIf"],["id","accountCifBranch",3,"options",4,"ngIf"],[3,"options"],["id","HomeAddressDetails",3,"options"],["id","workAddressDetails",3,"options"],["id","keyin_textarea",3,"options"],["id","accountCifBranch",3,"options"]],template:function(t,o){1&t&&(i.Xb(0,"ps-container-complex"),i.Vb(1),i.Xb(2,"ps-lov-delivery-location",0),i.fc("onPsChange",function(t){return o.onCollectionModeChanged(t)}),i.Wb(),i.Pc(3,v,1,1,"ps-complex-select-branch",1),i.Pc(4,D,1,1,"ps-input-display-only-cif-address-home",2),i.Pc(5,N,1,1,"ps-input-display-only-cif-address-work",3),i.Pc(6,P,1,1,"ps-keyin-textarea",4),i.Ub(),i.Vb(7),i.Pc(8,_,1,1,"ps-input-display-only",5),i.Ub(),i.Wb()),2&t&&(i.Fb(2),i.pc("options",null==o.options?null:o.options.collectionModeOptions),i.Fb(1),i.pc("ngIf",o.collectionType&&o.collectionType===o.branch||!o.collectionType),i.Fb(1),i.pc("ngIf",o.collectionType&&o.collectionType===o.home),i.Fb(1),i.pc("ngIf",o.collectionType&&o.collectionType===o.work),i.Fb(1),i.pc("ngIf",o.collectionType&&o.collectionType===o.other),i.Fb(2),i.pc("ngIf",o.options.cifBranchChecking))},directives:[h.a,f,O.o,m.a,b.a,I,g.a,y.a],encapsulation:2}),t})()}}]);