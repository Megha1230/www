(window.webpackJsonp=window.webpackJsonp||[]).push([[45,339,340,341,342,343,344,345,346,347,348,349],{"41l2":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var o=i("mrSG"),s=i("ZyuK"),n=i("iOQE"),a=i("DFXC"),p=i("Q0Ba"),r=i("fXoL");let c=(()=>{class e extends n.a{constructor(e,t,i){super(e,t),this.omniPull=i,this.showLovDropdown=!1,this.defaultDropDownLovOptions={isLOVDropdown:!0}}ngOnInit(){this.commonProv.copyObject(this.defaultDropDownLovOptions,this.options,!1),this.loadLovDropDown(),this.commonProv.returnOperCustomizationObserv().subscribe(e=>{if(e){const t=e.get(this.options.fcName);t&&t.LOV_TYPE_ID&&t.LOV_TYPE_ID!==this.options.lovTypeId&&this.loadLovDropDown()}})}loadLovDropDown(){var e;return Object(o.b)(this,void 0,void 0,function*(){if(!this.defaultDropDownLovOptions.listOfOptions||0==(null===(e=this.defaultDropDownLovOptions.listOfOptions)||void 0===e?void 0:e.length)){const e=this.commonProv.getElementValidations(this.options.fcName);if(e&&e.LOV_TYPE_ID&&(this.options.lovTypeId=e.LOV_TYPE_ID),null==this.options.lovTypeId||void 0===this.options.lovTypeId)return void this.logger.error("Error: lovTypeId is not provided, Please set lovTypeId for ps-dropdown-lov");if(this.options.lovAdminFilterParamName){const e=yield this.omniPull.getParamValOf(this.options.lovAdminFilterParamName);e&&(this.options.lovAdminFilterParamName=e[this.options.lovAdminFilterParamName])}const t={lovTypeId:this.options.lovTypeId,lovCodesInlude:this.options.lovAdminFilterParamName},i=yield this.omniPull.returnLovTypesValues(t).catch(e=>{this.showLovDropdown=!1,this.logger.error("Error: While fetching LOV types in PsDropdownLovComponent :",e)});if(this.defaultDropDownLovOptions.listOfOptions=[],i&&i.length>0){for(const e of i){const t={itemValue:e.itemValue,description:e.description,iconUrl:void 0!==this.options.iconLocation?this.options.iconLocation.concat(e.iconName+(void 0!==this.options.iconExtension?this.options.iconExtension:"")):"",selectedObj:e};t.selectedObj[this.options.fcName]=e.itemValue,this.defaultDropDownLovOptions.listOfOptions.push(t)}this.showLovDropdown=!0}}})}selectDropDownChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Rb(p.a),r.Rb(a.a),r.Rb(s.a))},e.\u0275cmp=r.Lb({type:e,selectors:[["ps-dropdown-lov"]],inputs:{options:"options"},features:[r.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(r.Xb(0,"ps-select-dropdown",0),r.fc("onPsChange",function(e){return t.selectDropDownChange(e)}),r.Wb()),2&e&&r.pc("id",t.id)("options",t.defaultDropDownLovOptions)},directives:[n.a],styles:[""]}),e})()},"89p+":function(e,t,i){"use strict";i.d(t,"a",function(){return N});var o=i("ZyuK"),s=i("k3/b"),n=i("UWqY"),a=i("DFXC"),p=i("zngb"),r=i("Q0Ba"),c=i("fXoL"),l=i("D2x8"),d=i("ofXK"),h=i("hUjg"),u=i("NZVR"),m=i("5oTP");const f=["fileUpload"];function O(e,t){if(1&e){const e=c.Yb();c.Xb(0,"ps-action-button",4),c.fc("click",function(){return c.Fc(e),c.ic().cancelClicked()}),c.Wb()}if(2&e){const e=c.ic();c.pc("options",e.backButton)}}function b(e,t){if(1&e){const e=c.Yb();c.Vb(0),c.Xb(1,"ps-file-upload",5,6),c.fc("click",function(){return c.Fc(e),c.ic().showPadSignature(1)})("onPsChange",function(t){return c.Fc(e),c.ic().uploadScanChanged(t)})("onPsFileDelete",function(t){return c.Fc(e),c.ic().onFileDelete(t)}),c.Wb(),c.Ub()}if(2&e){const e=c.ic();c.Fb(1),c.pc("options",e.specimenScanUploadOptions)}}function g(e,t){if(1&e){const e=c.Yb();c.Vb(0),c.Xb(1,"ps-action-button",7),c.fc("click",function(){return c.Fc(e),c.ic().showPadSignature(2)}),c.Wb(),c.Ub()}if(2&e){const e=c.ic();c.Fb(1),c.pc("options",e.padSignatureButton)}}function y(e,t){if(1&e){const e=c.Yb();c.Vb(0),c.Xb(1,"ps-field-signature-pad",8),c.fc("onPsChange",function(t){return c.Fc(e),c.ic().signaturePageChanged(t)}),c.Wb(),c.Ub()}if(2&e){const e=c.ic();c.Fb(1),c.pc("options",e.defaultPadSignatureOptions)}}function v(e,t){if(1&e&&c.Sb(0,"ps-label-input",12),2&e){const e=c.ic(2);c.pc("id","lbl_"+e.id)("options",e.previewLblOptions)}}function _(e,t){if(1&e&&(c.Vb(0),c.Xb(1,"div",9),c.Pc(2,v,1,2,"ps-label-input",10),c.Sb(3,"img",11),c.Wb(),c.Ub()),2&e){const e=t.$implicit,i=c.ic();c.Fb(2),c.pc("ngIf",i.previewLblOptions.labelKey),c.Fb(1),c.pc("src",e.imageUrl,c.Ic)("id","lbl_"+i.id)}}let N=(()=>{class e extends s.a{constructor(e,t,i){super(e,i),this.commonProv=e,this.omniPull=t,this.logger=i,this.backButton={labelKey:"choose_another_option_key",type:"button",group:null},this.defaultPadSignatureOptions={},this.handWriting=0,this.itemOptions={psClass:"complex-specimen",iconOptions:{iconName:"complex-specimen-icon"},hideImageAndIconIfNotPresent:!0}}get previewValOptions(){return{labelKey:this.fcValue,psClass:"ps-value-preview",previewMode:!0}}showPadSignature(e){this.handWriting=e}cancelClicked(){this.handWriting=0;const e=this.specimenScanUploadOptions.fcName;this.defaultPadSignatureOptions.group.controls[this.defaultPadSignatureOptions.fcName]&&this.setFromSavedData(this.defaultPadSignatureOptions,!(!this.savedData[this.options.fcName]||0===this.savedData[this.options.fcName].length||this.savedData[this.options.fcName][0].fileSize)),this.specimenScanUploadOptions.group.controls[e]&&(this.fileRef&&(this.fileRef.dataFiles=[],this.fileRef.uploadedFiles=[]),this.setFromSavedData(this.specimenScanUploadOptions,!(!this.savedData[this.options.fcName]||0===this.savedData[this.options.fcName].length||!this.savedData[this.options.fcName][0].fileSize)))}ngOnInit(){this.options.childComponent=e,this.options.fcName=this.options.fcName+"_"+p.a.DEFAULT_FILE_UPLOAD_CNAME,this.defaultPadSignatureOptions={group:this.entityFormGroup,fcName:"onb_signature_"+p.a.DEFAULT_FILE_UPLOAD_CNAME,labelKey:"pad_signature"},this.padSignatureButton={labelKey:"write_signature_key",type:"button",group:this.entityFormGroup},this.specimenScanUploadOptions={multiple:!1,fcName:"uploadedFiles",group:this.entityFormGroup,labelKey:"browse_scan_signature_key",allowedFilesTypeName:p.a.DEFAULT_ALLOWED_IMAGE_TYPE},this.setEntityFormGroup(),this.previewLblOptions={labelKey:this.options.labelKey,psClass:"ps-lbl-preview",previewMode:!0},this.initializeFromSavedData()}setEntityFormGroup(){this.commonProv.setFormData(this.entityFormGroup,this.entityVO)}signaturePageChanged(e){this.setEntityValue(e.newValue?e.newValue:e)}uploadScanChanged(e){Array.isArray(e.newValue)&&0!==e.newValue.length&&(this.setEntityValue(e.newValue),this.setControlValue(this.specimenScanUploadOptions.fcName,e.newValue,this.entityVO))}setFromSavedData(e,t){this.savedData[this.options.fcName]&&t?(e.group.controls[e.fcName].setValue(this.savedData[this.options.fcName]),this.commonProv.setValInsideNestedObj(e.fcName,this.savedData[this.options.fcName],this.entityVO)):(e.group.controls[e.fcName].setValue([]),this.commonProv.setValInsideNestedObj(e.fcName,[],this.entityVO))}initializeFromSavedData(){this.options.dataObservable&&this.options.dataObservable.subscribe(e=>{if(e){this.savedData=e;let t=this.options.group.controls[p.a.CONTROLLER_FORM_DATA].value[this.options.fcName];t&&(t[0].fileSize?(this.commonProv.setValInsideNestedObj(this.specimenScanUploadOptions.fcName,t,this.entityVO),this.showPadSignature(1)):(this.commonProv.setValInsideNestedObj(this.defaultPadSignatureOptions.fcName,t,this.entityVO),this.showPadSignature(2)))}})}onFileDelete(e){this.deleteCurrentSign()}deleteCurrentSign(){this.setEntityValue([]),this.setControlValue(this.specimenScanUploadOptions.fcName,[],this.entityVO)}setControlValue(e,t,i){this.savedData[this.options.fcName]=t,this.commonProv.setValInsideNestedObj(e,t,i),this.specimenScanUploadOptions.group.controls[e].setValue(t),this.specimenScanUploadOptions.group.updateValueAndValidity()}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(r.a),c.Rb(o.a),c.Rb(a.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-complex-specimen"]],viewQuery:function(e,t){if(1&e&&c.Wc(f,1),2&e){let e;c.Bc(e=c.gc())&&(t.fileRef=e.first)}},inputs:{options:"options"},features:[c.Cb],decls:7,vars:8,consts:[[3,"options"],["id","specimen-cancel-button",3,"options","click",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","specimen-cancel-button",3,"options","click"],[3,"options","click","onPsChange","onPsFileDelete"],["fileUpload",""],["id","pad-signature-button",3,"options","click"],[3,"options","onPsChange"],["psPreviewEngine","",1,"ps-custom-component-preview"],["class","ps-lbl-preview","psPreviewLabel","",3,"id","options",4,"ngIf"],["psPreviewHTML","",1,"ps-image","ps-verification-images",3,"src","id"],["psPreviewLabel","",1,"ps-lbl-preview",3,"id","options"]],template:function(e,t){1&e&&(c.Xb(0,"ps-field-entity",0),c.Xb(1,"ps-container-item",0),c.Pc(2,O,1,1,"ps-action-button",1),c.Pc(3,b,3,1,"ng-container",2),c.Pc(4,g,2,1,"ng-container",2),c.Pc(5,y,2,1,"ng-container",2),c.Wb(),c.Wb(),c.Pc(6,_,4,3,"ng-container",3)),2&e&&(c.pc("options",t.options),c.Fb(1),c.pc("options",t.itemOptions),c.Gb("psFcName",t.options.fcName),c.Fb(1),c.pc("ngIf",0!=t.handWriting),c.Fb(1),c.pc("ngIf",2!=t.handWriting),c.Fb(1),c.pc("ngIf",0==t.handWriting),c.Fb(1),c.pc("ngIf",2==t.handWriting),c.Fb(1),c.pc("ngForOf",t.previewValOptions.labelKey))},directives:[s.a,l.a,d.o,d.n,h.a,n.a,u.a,m.a],encapsulation:2}),e})()},"P7Z/":function(e,t,i){"use strict";i.d(t,"a",function(){return p});var o=i("BYmO"),s=i("DFXC"),n=i("Q0Ba"),a=i("fXoL");let p=(()=>{class e extends o.a{constructor(e,t){super(e,t),this.mainOptions={}}ngOnInit(){this.mainOptions=this.options,this.mainOptions.type="email",this.mainOptions.iconOptions={iconName:"input-mail"}}onChangeEmail(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(n.a),a.Rb(s.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["ps-input-email"]],inputs:{options:"options"},features:[a.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(a.Xb(0,"ps-keyin-input",0),a.fc("onPsChange",function(e){return t.onChangeEmail(e)}),a.Wb()),2&e&&a.pc("id",t.id)("options",t.mainOptions)},directives:[o.a],styles:[""]}),e})()},dUiw:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var o=i("mrSG"),s=i("V0Fi"),n=i("ZyuK"),a=i("iOQE"),p=i("DFXC"),r=i("Q0Ba"),c=i("fXoL");let l=(()=>{class e extends a.a{constructor(e,t,i){super(e,t),this.commonProv=e,this.loggerP=t,this.omniPull=i,this.defaultSelectOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.returnNationalities()}returnNationalities(){return Object(o.b)(this,void 0,void 0,function*(){const e={operId:s.a.NATIONALITY_OPER_ID},t=yield this.omniPull.returnNationalities(e).catch(e=>{this.logger.error("Error! while fetching nationalities in PsDropdownNationalitiesComponent",e)});if(this.defaultSelectOptions.listOfOptions=[],t&&t.gridModel&&t.gridModel.length>0){for(const e of t.gridModel)this.defaultSelectOptions.listOfOptions.push({itemValue:e.NATIONALITY_CODE,description:e.longDesc,selectedObj:e});this.options.listOfOptions=[],this.commonProv.copyObject(this.options.listOfOptions,this.defaultSelectOptions.listOfOptions,!1)}})}onChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(r.a),c.Rb(p.a),c.Rb(n.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["ps-dropdown-nationalities"]],inputs:{options:"options"},features:[c.Cb],decls:1,vars:1,consts:[[3,"options","onPsChange"]],template:function(e,t){1&e&&(c.Xb(0,"ps-select-dropdown",0),c.fc("onPsChange",function(e){return t.onChange(e)}),c.Wb()),2&e&&c.pc("options",t.options)},directives:[a.a],styles:[""]}),e})()},gKqT:function(e,t,i){"use strict";i.r(t),i.d(t,"OmniBasePage",function(){return d});var o=i("oS+F"),s=i("zngb"),n=i("QZhd"),a=i("woXy"),p=i("qEF5"),r=i("Q0Ba"),c=i("lE2x"),l=i("fXoL");let d=(()=>{class e{constructor(){this.isPageDisabled=!1,this.commonProv=p.a.injectionHandler(r.a),this.navigationServices=p.a.injectionHandler(a.a)}init(){this.currentOperID=n.a.oper_ID,this.customizationMap=this.commonProv.returnOperCustomization();const e=this.navigationServices.getAllParams(),t={};e&&!0===e.readOnlypage?(t.IS_READONLY=1,this.customizationMap&&this.customizationMap.set(s.a.FORM_READONLY,t)):this.customizationMap&&(t.IS_READONLY=0,this.customizationMap.set(s.a.FORM_READONLY,t)),this.screenTranslationOperIds=c.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER?c.a.MAIN_CONFIG.SCREEN_TRANSLATION_OPER:[],this.screenTranslationOperIds.length>0&&this.screenTranslationOperIds.includes(this.currentOperID)&&this.getScreenTranslations(this.currentOperID)}ngOnInit(){this.init()}ionViewDidEnter(){this.viewDidEnter()}ionViewWillLeave(){this.viewWillLeave()}ionViewWillEnter(){this.viewWillEnter()}viewWillEnter(){}disableForm(e){if(void 0!==e&&this.customizationMap){const t=this.customizationMap.get(s.a.FORM_READONLY);t&&1===t.IS_READONLY&&"DISABLED"!=e.status&&(e.disable(),Object.keys(e.controls).forEach(e=>{this.commonProv.applyDynScreenDisplay(s.a.ACTION_TYPE_READONLY,[e],1)}))}}viewDidEnter(){this.commonProv.checkViewBS.next({value:!0,page:this,didEnter:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID,{value:!0,page:this,didEnter:!0}),this.commonProv.dismissLoading(),this.disableForm(this.baseFormGroup),o.a.getAllSessionFcVars(this.baseFormGroup),this.commonProv.setFormGroupByOper(this.baseFormGroup)}viewWillLeave(){this.commonProv.checkViewBS.next({value:!0,page:this,willLeave:!0}),this.commonProv.setCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID),this.commonProv.emitCheckViewByOper(this.currentOperID?this.currentOperID:n.a.oper_ID,{value:!0,page:this,willLeave:!0})}ngAfterViewChecked(){this.isPageDisabled||setTimeout(()=>{this.disableForm(this.baseFormGroup),this.isPageDisabled=!0},300)}getScreenTranslations(e){const t=e||2222,i=n.a.activeLanguge?n.a.activeLanguge:"EN";t&&i&&this.commonProv.language.getOperTranslation(i,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Lb({type:e,selectors:[["app-omni-base"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Hb(t.psClass)},decls:0,vars:0,template:function(e,t){},styles:[""]}),e})()},payI:function(e,t,i){"use strict";i.r(t),i.d(t,"AddOwnerPage",function(){return Y});var o=i("3Pt+"),s=i("y70R"),n=i("V0Fi"),a=i("r40+"),p=i("zngb"),r=i("QZhd"),c=i("woXy"),l=i("gKqT"),d=i("ZyuK"),h=i("fXoL"),u=i("kRg/"),m=i("uKCV"),f=i("sAFK"),O=i("+f2X"),b=i("41l2"),g=i("DFXC"),y=i("Q0Ba");let v=(()=>{class e extends b.a{constructor(e,t){super(e,t),this.defaultSelectOptions={lovTypeId:n.a.ENTITY_TYPE_LOV_TYPE_ID}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.defaultSelectOptions.labelKey=this.commonProv.translate(this.options.labelKey?this.options.labelKey:"entity_type_key"),this.defaultSelectOptions.placeHolder=this.commonProv.translate(this.options.placeHolder?this.options.placeHolder:"select_entity_type_key")}onChangeLov(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(h.Rb(y.a),h.Rb(g.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["ps-lov-entity-type"]],inputs:{options:"options"},features:[h.Cb],decls:1,vars:2,consts:[[3,"id","options","onPsChange"]],template:function(e,t){1&e&&(h.Xb(0,"ps-dropdown-lov",0),h.fc("onPsChange",function(e){return t.onChangeLov(e)}),h.Wb()),2&e&&h.pc("id",t.id)("options",t.defaultSelectOptions)},directives:[b.a],styles:[""]}),e})();var _=i("KuXP"),N=i("WAnK"),P=i("BYmO"),w=i("P7Z/"),D=i("7Cko"),I=i("dUiw"),S=i("mrSG"),V=i("iOQE");let C=(()=>{class e extends V.a{constructor(e,t,i){super(e,t),this.commonProv=e,this.loggerP=t,this.omniPull=i,this.defaultSelectOptions={}}ngOnInit(){this.commonProv.copyObject(this.defaultSelectOptions,this.options,!1),this.returnDesignations()}returnDesignations(){return Object(S.b)(this,void 0,void 0,function*(){const e=yield this.omniPull.returnDesignations().catch(e=>{this.logger.error("Error! while fetching designations in PsDropdownDesignationsComponent",e)});if(this.defaultSelectOptions.listOfOptions=[],e&&e.gridModel&&e.gridModel.length>0){for(const t of e.gridModel)this.defaultSelectOptions.listOfOptions.push({itemValue:t.positionCode,description:t.longDescription,selectedObj:t});this.options.listOfOptions=[],this.commonProv.copyObject(this.options.listOfOptions,this.defaultSelectOptions.listOfOptions,!1)}})}onChange(e){this.onPsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(h.Rb(y.a),h.Rb(g.a),h.Rb(d.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["ps-dropdown-designations"]],inputs:{options:"options"},features:[h.Cb],decls:1,vars:1,consts:[[3,"options","onPsChange"]],template:function(e,t){1&e&&(h.Xb(0,"ps-select-dropdown",0),h.fc("onPsChange",function(e){return t.onChange(e)}),h.Wb()),2&e&&h.pc("options",t.options)},directives:[V.a],styles:[""]}),e})();var F=i("+BRL"),E=i("ofXK"),L=i("89p+"),T=i("KVmc"),A=i("b23T");const k=["idDetailsComp"];function R(e,t){if(1&e&&(h.Xb(0,"ps-container-panel",20),h.Sb(1,"ps-select-toggle",21),h.Wb()),2&e){const e=h.ic(2);h.pc("options",e.ownerOnlineUserPanelOptions),h.Fb(1),h.pc("options",e.corpUserToggleOptions)}}function x(e,t){if(1&e){const e=h.Yb();h.Xb(0,"ps-form-step",7),h.Xb(1,"ps-container-panel",8),h.Xb(2,"ps-lov-entity-type",9),h.fc("onPsChange",function(t){return h.Fc(e),h.ic().getIdTypes(t)}),h.Wb(),h.Xb(3,"ps-select-toggle",10),h.fc("onPsChange",function(t){return h.Fc(e),h.ic().onExistingCustomerToggleChange(t)}),h.Wb(),h.Sb(4,"ps-input-numeric",11),h.Sb(5,"ps-keyin-input",12),h.Sb(6,"ps-input-email",13),h.Sb(7,"ps-entity-phone-number",14),h.Sb(8,"ps-complex-id-details",15,16),h.Sb(10,"ps-dropdown-nationalities",15),h.Sb(11,"ps-dropdown-designations",15),h.Sb(12,"ps-input-numeric",17),h.Sb(13,"ps-select-toggle",18),h.Sb(14,"ps-select-toggle",18),h.Sb(15,"ps-input-free-text",15),h.Wb(),h.Pc(16,R,2,2,"ps-container-panel",19),h.Wb()}if(2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[0]),h.Fb(1),h.pc("options",e.ownershipDetailsPanelOptions),h.Fb(1),h.pc("options",e.entityTypeLovOptiops),h.Fb(1),h.pc("id","existingCustomer")("options",e.existingCustomerOptions),h.Fb(1),h.pc("options",e.cifNumberOptions),h.Fb(1),h.pc("options",e.fullNameOptions),h.Fb(1),h.pc("options",e.emailOptions),h.Fb(1),h.pc("options",e.phoneNumberOptions),h.Fb(1),h.pc("options",e.complexIdDetailsOptions),h.Fb(2),h.pc("options",e.nationalityOptions),h.Fb(1),h.pc("options",e.designationOptions),h.Fb(1),h.pc("options",e.ownershipPercentageOptions),h.Fb(1),h.pc("id","AuthSigner")("options",e.AuthSignerOptions),h.Fb(1),h.pc("id","authPowerofAttorney")("options",e.authPowerofAttorneyOptions),h.Fb(1),h.pc("options",e.username),h.Fb(1),h.pc("ngIf",e.isOwnershipVerification)}}function K(e,t){if(1&e&&h.Sb(0,"ps-form-step",22),2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[1])}}function G(e,t){if(1&e&&h.Sb(0,"ps-form-step",23),2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[2])}}function U(e,t){if(1&e&&(h.Xb(0,"ps-form-step",24),h.Sb(1,"ps-complex-specimen",15),h.Wb()),2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[3]),h.Fb(1),h.pc("options",e.specimenOptions)}}function W(e,t){if(1&e&&h.Sb(0,"ps-form-step",25),2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[4])}}function X(e,t){if(1&e&&(h.Xb(0,"ps-form-step",26),h.Xb(1,"ps-container-panel",27),h.Sb(2,"ps-label",28),h.Sb(3,"ps-file-upload-bs",29),h.Wb(),h.Wb()),2&e){const e=h.ic();h.pc("id",e.stepperOptions.namesofSteps[5]),h.Fb(1),h.pc("options",e.panelAttachmentOptions),h.Fb(1),h.pc("options",e.fileUploadLabelDescription),h.Fb(1),h.pc("options",e.corpFileUploadOptions)}}let Y=(()=>{class e extends l.OmniBasePage{constructor(e,t,i){super(),this.navService=e,this.omniPull=t,this.events=i,this.formGroup=new o.f({}),this.addOwnerVO={},this.isOwnershipVerification=this.commonProv.activePage.value.operID===n.a.OWNERSHIP_VERIFICATION_OPER_ID,this.stepperOptions={widgetStepper:this.isOwnershipVerification,isHorizontalStepper:!0,stepperName:"owner_stepper",numberOfSteps:this.isOwnershipVerification?6:1,namesofSteps:this.isOwnershipVerification?["owner_details_step","owner_ekyc_step","identity_verification_step","signature_specimen_step","liveness_detection_step","atttachment_step"]:["owner_details_step"],group:this.formGroup,submitOptions:{group:this.formGroup,submitServiceUrl:r.a.serviceUrl.commonSubmitAction},requestObject:this.addOwnerVO,showReport:!1},this.ownershipDetailsPanelOptions={isExpandable:!0,labelKey:"ownership_details_key",iconName:"document",expanded:!0},this.entityTypeLovOptiops={group:this.formGroup,fcName:"entityType"},this.existingCustomerOptions={labelKey:"existing_customer_key",placeHolder:"existing_customer_key",group:this.formGroup,fcName:"existingCustomer",psClass:"toggleColor"},this.cifNumberOptions={placeHolder:"enter_cif_number_key",labelKey:"cif_number_key",group:this.formGroup,fcName:"cifNumber",forceTriggerChange:!0},this.ownershipPercentageOptions={fcName:"ownershipPercentage",group:this.formGroup,labelKey:"ownership_percentage_key",placeHolder:"enter_ownership_percentage_key"},this.AuthSignerOptions={labelKey:"authorized_signer_key",placeHolder:"authorized_signer_key",group:this.formGroup,fcName:"authSigner",psClass:"toggleColor"},this.authPowerofAttorneyOptions={labelKey:"authorized_power_of_attorney_key",placeHolder:"authorized_power_of_attorney_key",group:this.formGroup,fcName:"authPowerofAttorney",psClass:"toggleColor"},this.fullNameOptions={group:this.formGroup,fcName:"fullName",labelKey:"full_name_key",placeHolder:"enter_full_name_key",iconOptions:{iconName:"clipboard"}},this.emailOptions={group:this.formGroup,fcName:"email",labelKey:"email_key",placeHolder:"enter_email_key"},this.phoneNumberOptions={group:this.formGroup,labelKey:"mobile_number_key",placeHolder:"mobile_key",fcName:"mobileNumber"},this.complexIdDetailsOptions={dropdownIdTypesOptions:{fcName:"idType",group:this.formGroup,revertToOldValue:!1},idNumberOptions:{labelKey:"id_number_key",placeHolder:"add_id_number_key",fcName:"idNumber",group:this.formGroup},dateExpiryOptions:{labelKey:"expiry_date_key",placeHolder:"enter_expiry_date_key",fcName:"idExpiryDate",group:this.formGroup},countriesOptions:{placeHolder:"country_of_issuance_key",labelKey:"country_of_issuance_key",fcName:"idCountry",group:this.formGroup},issueDateOptions:{labelKey:"issue_date_key",placeHolder:"issue_date_key",fcName:"idIssueDate",group:this.formGroup}},this.nationalityOptions={fcName:"nationality",group:this.formGroup,labelKey:"nationality_key",placeHolder:"enter_nationality_key",revertToOldValue:!1,iconOptions:{iconName:"clipboard"}},this.designationOptions={fcName:"designation",group:this.formGroup,labelKey:"designation_key",placeHolder:"enter_designation_key",revertToOldValue:!1,iconOptions:{iconName:"clipboard"}},this.username={group:this.formGroup,fcName:"ownerUserName",placeHolder:"user_name_key",labelKey:"name_key",iconOptions:{iconName:"user"}},this.ownerOnlineUserPanelOptions={isExpandable:!0,labelKey:"online_user_key",iconName:"document",expanded:!0},this.corpUserToggleOptions={labelKey:"do_you_want_to_become_a_corporate_user_for_the_company_key",group:this.formGroup,fcName:"corporateUser",psClass:"toggleColor"},this.panelAttachmentOptions={isExpandable:!0,labelKey:"attachment_details_key",expanded:!0},this.fileUploadLabelDescription={labelKey:"onboarding_label_upload_description_key"},this.corpFileUploadOptions={multiple:!0,fcName:"selectedFileData",group:this.formGroup,uploadIconName:"attach"},this.specimenOptions={group:this.formGroup,fcName:"signatureSpecimen",labelKey:"signature_key"},this.isOwner=!1}ngOnInit(){super.init(),this.baseFormGroup=this.formGroup,this.commonProv.copyObject(this.addOwnerVO,this.navService.getAllParams()?this.navService.getAllParams().ScreenVO?this.navService.getAllParams().ScreenVO:this.navService.getAllParams():{}),this.userInformation=this.commonProv.session.getValueOf(p.a.USERINFO),this.isOwner="Y"==this.userInformation.omniUserVO.IS_OWNER_YN,this.isOwnershipVerification=r.a.oper_ID==n.a.OWNERSHIP_VERIFICATION_OPER_ID}ionViewDidEnter(){if(super.ionViewDidEnter(),this.isOwnershipVerification)this.getOwnersPredefinedData(),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_READONLY,[this.entityTypeLovOptiops.fcName,this.existingCustomerOptions.fcName,this.cifNumberOptions.fcName,this.fullNameOptions.fcName,this.emailOptions.fcName,this.phoneNumberOptions.fcName,this.phoneNumberOptions.fcName,this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,this.complexIdDetailsOptions.idNumberOptions.fcName,this.complexIdDetailsOptions.issueDateOptions.fcName,this.complexIdDetailsOptions.dateExpiryOptions.fcName,this.complexIdDetailsOptions.countriesOptions.fcName,this.nationalityOptions.fcName,this.designationOptions.fcName,this.ownershipPercentageOptions.fcName,this.AuthSignerOptions.fcName,this.authPowerofAttorneyOptions.fcName],1);else if(this.isOwner&&this.addOwnerVO&&this.userInformation.userName===this.addOwnerVO[this.username.fcName]&&(this.commonProv.setValInsideNestedObj(this.entityTypeLovOptiops.fcName,"V",this.addOwnerVO),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_READONLY,[this.entityTypeLovOptiops.fcName],1),this.addOwnerVO.name)){const e=this.commonProv.getElementValidations(this.username.fcName);this.commonProv.setValInsideNestedObj(this.username.fcName,null==e?void 0:e.DEFAULT_VALUE,this.addOwnerVO)}}getIdTypes(e){this.idDetailsComp.idTypeComp.loadIdTypes(e.itemValue)}onExistingCustomerToggleChange(e){e&&null!=e.newValue&&("string"==typeof e.newValue&&(e.newValue="true"==e.newValue),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_VISIBLE,[this.cifNumberOptions.fcName],e.newValue),this.commonProv.applyDynScreenDisplay(p.a.ACTION_TYPE_VISIBLE,[this.fullNameOptions.fcName,this.complexIdDetailsOptions.idNumberOptions.fcName,this.complexIdDetailsOptions.dateExpiryOptions.fcName,this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,this.nationalityOptions.fcName,this.designationOptions.fcName],!e.newValue),0==e.newValue?this.commonProv.setValInsideNestedObj(this.cifNumberOptions.fcName,null,this.addOwnerVO):(this.commonProv.setValInsideNestedObj(this.fullNameOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.complexIdDetailsOptions.idNumberOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.complexIdDetailsOptions.dateExpiryOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.complexIdDetailsOptions.dropdownIdTypesOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.nationalityOptions.fcName,null,this.addOwnerVO),this.commonProv.setValInsideNestedObj(this.designationOptions.fcName,null,this.addOwnerVO)))}designationChanged(e){}getOwnersPredefinedData(){this.omniPull.returnOwnerDetails({}).then(e=>{const t=e.gridModel;if(this.commonProv.dismissLoading(),t.length>0){const e=t[0];e.submitFieldValueMap.actionType="save",e.submitFieldValueMap.dataSaveId=Number(e.dataSaveId),this.events.publish("draft:navigation",e.submitFieldValueMap),this.commonProv.dismissLoading()}}).catch(e=>{this.commonProv.dismissLoading()})}}return e.\u0275fac=function(t){return new(t||e)(h.Rb(c.a),h.Rb(d.a),h.Rb(a.a))},e.\u0275cmp=h.Lb({type:e,selectors:[["add-owner"]],viewQuery:function(e,t){if(1&e&&h.Wc(k,1),2&e){let e;h.Bc(e=h.gc())&&(t.idDetailsComp=e.first)}},features:[h.Cb],decls:7,vars:8,consts:[[3,"options","id"],["step1","",3,"id",4,"psStep"],["step2","",3,"id",4,"psStep"],["step3","",3,"id",4,"psStep"],["step4","",3,"id",4,"psStep"],["step5","",3,"id",4,"psStep"],["step6","",3,"id",4,"psStep"],["step1","",3,"id"],["id","ownership_details_panel",3,"options"],["id","entity_type",3,"options","onPsChange"],[1,"onboarding_toggles",3,"id","options","onPsChange"],["id","cifNumber",3,"options"],["id","full_name",3,"options"],["id","email",3,"options"],["id","phone_number",3,"options"],[3,"options"],["idDetailsComp",""],["id","ownershipPercentage",3,"options"],[1,"onboarding_toggles",3,"id","options"],["id","owner_online_user_panel",3,"options",4,"ngIf"],["id","owner_online_user_panel",3,"options"],["id","corp_user_toggle",1,"onboarding_toggles",3,"options"],["step2","",3,"id"],["step3","",3,"id"],["step4","",3,"id"],["step5","",3,"id"],["step6","",3,"id"],["id","corp_attachment_details_panel",3,"options"],["id","file_upload_label_desc",1,"upload-title",3,"options"],["id","ps-corp-file-upload",3,"options"]],template:function(e,t){1&e&&(h.Xb(0,"ps-template-stepper",0),h.Pc(1,x,17,19,"ps-form-step",1),h.Pc(2,K,1,1,"ps-form-step",2),h.Pc(3,G,1,1,"ps-form-step",3),h.Pc(4,U,2,2,"ps-form-step",4),h.Pc(5,W,1,1,"ps-form-step",5),h.Pc(6,X,4,4,"ps-form-step",6),h.Wb()),2&e&&(h.pc("options",t.stepperOptions)("id",t.stepperOptions.stepperName),h.Fb(1),h.pc("psStep","step1"),h.Fb(1),h.pc("psStep","step2"),h.Fb(1),h.pc("psStep","step3"),h.Fb(1),h.pc("psStep","step4"),h.Fb(1),h.pc("psStep","step5"),h.Fb(1),h.pc("psStep","step6"))},directives:[u.a,m.a,f.a,O.a,v,_.a,N.a,P.a,w.a,D.a,s.a,I.a,C,F.a,E.o,L.a,T.a,A.a],styles:[""]}),e})()}}]);