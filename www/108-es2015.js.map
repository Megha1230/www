{"version":3,"sources":["./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-deal-details/ps-complex-deal-details.component.scss","./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-deal-details/ps-complex-deal-details.component.ts","./src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-deal-details/ps-complex-deal-details.component.html"],"names":[],"mappings":"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","file":"108-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1jb21wbGV4LWRlYWwtZGV0YWlscy5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IMapKeyValue, IOptionsPsContainerLookupOptionComponentExposed } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsBaseFieldComponent } from './../../../../commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { LoggerService } from './../../../../commonSRC/psServices/logger/logger.service';\nimport { PsCommonService } from './../../../../commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsComplexDealDetailsExposed } from './ps-complex-deal-details-interfaces.component';\n\n\n@Component({\n  selector: 'ps-complex-deal-details',\n  templateUrl: './ps-complex-deal-details.component.html',\n  styleUrls: ['./ps-complex-deal-details.component.scss'],\n})\nexport class PsComplexDealDetailsComponent extends PsBaseFieldComponent implements OnInit {\n\n  @Input() options: IOptionsPsComplexDealDetailsExposed;\n  @Input() itemCard: any;\n  @Output() onClickCard = new EventEmitter<any>();\n\n  item: any;\n  public containerLookUpOptions: IOptionsPsContainerLookupOptionComponentExposed = {};\n  defaultConf: IOptionsPsComplexDealDetailsExposed;\n  public dealsLabelValuesMap = new Map<string, IMapKeyValue>();\n  public dealsHeaderMap = new Map<string, IMapKeyValue>();\n  public requestMap = new Map<string, string>();\n  public editRequestMap = new Map<string, string>();\n  private showSingleAccount = false;\n\n  constructor(private commonP: PsCommonService, private loggerC: LoggerService) {\n    super(commonP, loggerC);\n    this.populateHeaderValueMap();\n  }\n\n  ngOnInit() {\n    this.containerLookUpOptions.labelKey = this.options.labelKey;\n    this.containerLookUpOptions.currencyFlag = 'currencyBriefNameEnglish';\n    this.containerLookUpOptions.labelsValueMap = this.dealsLabelValuesMap;\n    this.containerLookUpOptions.headerMap = this.dealsHeaderMap;\n    this.containerLookUpOptions.formGroup = this.options.group;\n    this.containerLookUpOptions.balanceMapping = this.balanceMapping();\n    this.containerLookUpOptions.isEditable = this.options.isEditable;\n    this.containerLookUpOptions.editActionUrl = PsCommonBusinessSettings.serviceUrl.personalizationNicknameEndPoint;\n    this.containerLookUpOptions.requestMap = this.requestMap;\n    this.containerLookUpOptions.editRequestMap = this.editRequestMap;\n    this.containerLookUpOptions.pageData = {\n      operID: ConstantCommon.DEAL_REPORT,\n      title: 'deal_report_key'\n    };\n\n    if (this.options && this.options.listOfOptions) {\n      this.options.listOfOptions.map((element, index) => element['rowIndex'] = index);\n      this.options.itemList = this.options.listOfOptions;\n    }\n\n    this.containerLookUpOptions.actionDetailsOptions = [{}];\n    this.containerLookUpOptions.statementOptions = {\n      buttonIcon: 'facilities',\n      redirectUrl: 'deal-statement-report'\n    };\n  }\n\n  getOptionsForCard(item) {\n    return {\n      ...this.containerLookUpOptions,\n      fcName : this.options.fcName + item.dealNbr\n    }\n  }\n\n  trackByDealNumber(index: number, item: any): any {\n    return item?.dealNbr ?? index;\n  }\n\n  private balanceMapping(): any[] {\n    const balanceMappingList = [\n      {\n        key: 'settled_amount_key',\n        value: 'paidAmount'\n      },\n      {\n        key: 'outstanding_balance_key',\n        value: 'outstandingBalance'\n      },\n    ];\n\n    return balanceMappingList;\n  }\n\n  private populateHeaderValueMap() {\n    let headerTitleMap: IMapKeyValue = {};\n    let subTitleMap: IMapKeyValue = {};\n    let nextPaymentDateMap: IMapKeyValue = {};\n    let nextPaymentValMap: IMapKeyValue = {};\n    let amountMap: IMapKeyValue = {};\n    let settledAmountMap: IMapKeyValue = {};\n    let maturityDateMap: IMapKeyValue = {};\n    let pastDuesMap: IMapKeyValue = {};\n    let lastPaymentDateMap: IMapKeyValue = {};\n    let lastPaymentAmountMap: IMapKeyValue = {};\n    let outstandingBalanceMap: IMapKeyValue = {};\n    let noOfRemainingInsMap: IMapKeyValue = {};\n    let periodicityPaymentMap: IMapKeyValue = {};\n\n    nextPaymentDateMap = {\n      key: 'nextPaymentDate',\n      value: '---/--/----'\n    };\n\n    nextPaymentValMap = {\n      key: 'nextPaymentVal',\n      value: '0.0'\n    };\n\n    settledAmountMap = {\n      key: 'paidAmount',\n      value: '0.0'\n    };\n\n    amountMap = {\n      key: 'amount',\n      value: '0.0'\n    };\n\n    maturityDateMap = {\n      key: 'maturityDate',\n      value: '---/--/----',\n    }\n\n    pastDuesMap = {\n      key: 'pastDues',\n      value: '0.0'\n    }\n\n    lastPaymentDateMap = {\n      key: 'lastPaymentDate',\n      value: '---/--/----',\n    };\n\n    lastPaymentAmountMap = {\n      key: 'lastPaymentAmount',\n      value: '0.0'\n    };\n\n    outstandingBalanceMap = {\n      key: 'outstandingBalanceDesc',\n      value: '0.0'\n    };\n\n    noOfRemainingInsMap = {\n      key: 'noOfRemainingIns',\n      value: '0'\n    };\n\n    periodicityPaymentMap = {\n      key: 'periodicityPayment',\n      value: '0'\n    };\n\n    headerTitleMap = {\n      key: 'title',\n      value: 'title',\n      isEdit: false,\n      formGroupMap: {\n        placeHolder: 'title_key',\n        fcName: 'title',\n      }\n    };\n\n    //edited by Marina TP id: #1486410 to fix the issue of nickName doesn't update when edited\n    subTitleMap = {\n      key: 'subTitle',\n      value: 'nickName',\n      isEdit: true,\n      formGroupMap: {\n        placeHolder: 'enter_deal_nick',\n        fcName: 'nickName',\n      }\n    };\n\n    this.dealsLabelValuesMap.set('financing_amount_key', amountMap);\n    this.dealsLabelValuesMap.set('maturity_date_key', maturityDateMap);\n    this.dealsLabelValuesMap.set('payment_key', periodicityPaymentMap);\n    this.dealsLabelValuesMap.set('no_remaining_installments_key', noOfRemainingInsMap);\n\n    this.dealsLabelValuesMap.set('settled_amount_key', settledAmountMap);\n    this.dealsLabelValuesMap.set('outstanding_balance_key', outstandingBalanceMap);\n    this.dealsLabelValuesMap.set('past_dues_key', pastDuesMap);\n    this.dealsLabelValuesMap.set('last_payment_date_key', lastPaymentDateMap);\n    this.dealsLabelValuesMap.set('last_payment_amount_key', lastPaymentAmountMap);\n    this.dealsLabelValuesMap.set('next_payment_date_key', nextPaymentDateMap);\n    this.dealsLabelValuesMap.set('next_payment_amount_key', nextPaymentValMap);\n\n    // will be used as header to template card in look up details component\n    this.dealsHeaderMap.set('title', headerTitleMap);\n    this.dealsHeaderMap.set('subTitle', subTitleMap);\n    this.requestMap.set('nickNameNumber', 'key');\n    this.requestMap.set('oldNickName', 'subTitle');\n    this.editRequestMap.set('newNickName', 'subTitle');\n    this.editRequestMap.set('type', 'A');\n\n  }\n\n  updateCard(event: any) {\n    if (event && this.options.listOfOptions) {\n      this.options.itemList = this.options.listOfOptions.filter(acct => acct === event);\n      this.options.item = this.options.itemList[0];\n      this.showSingleAccount = !this.showSingleAccount;\n      this.options.showItemPopUp = !this.options.showItemPopUp;\n      // this.options.showSelectedCard = false;\n    }\n    this.onClickCard.emit(this.options);\n  }\n}\n","export default \"<ps-container-lookup-option [id]=\\\"'deals-list-' + id + i\\\" [options]=\\\"getOptionsForCard(item)\\\" *ngFor=\\\"let item of options.itemList; let i = index; trackBy: trackByDealNumber\\\" [itemCard]=\\\"item\\\"\\n    (clickedCard)=\\\"updateCard($event)\\\">\\n\\n</ps-container-lookup-option>\";"],"sourceRoot":"webpack:///"}