{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-count/ps-input-count.component.ts","webpack:///node_modules/@fullcalendar/common/main.js","webpack:///node_modules/preact/dist/preact.module.js","webpack:///node_modules/@fullcalendar/common/vdom.js","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.scss","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-recurring-scheduler/ps-complex-recurring-scheduler.component.scss","webpack:///node_modules/@fullcalendar/common/main.css","webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-count/ps-input-count.component.module.ts","webpack:///node_modules/@fullcalendar/timegrid/main.css","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-recurring-scheduler/ps-complex-recurring-scheduler.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-day-month-year/ps-date-day-month-year-future/ps-date-day-month-year-future.component.module.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-accounts-list/ps-accounts-list.component.module.ts","webpack:///node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.module.ts","webpack:///node_modules/@fullcalendar/daygrid/main.js","webpack:///node_modules/@fullcalendar/timegrid/main.js","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-recurring-scheduler/ps-complex-recurring-scheduler.component.html","webpack:///node_modules/@fullcalendar/core/vdom.js","webpack:///node_modules/@fullcalendar/core/main.js","webpack:///node_modules/fast-deep-equal/index.js","webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-day-month-year/ps-date-day-month-year.component.module.ts","webpack:///node_modules/@fullcalendar/interaction/main.js","webpack:///src/app/commonBussinessSRC/psComponents/ps-keyin-input/ps-input-count/ps-input-count.component.html","webpack:///node_modules/@fullcalendar/daygrid/main.css","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-recurring-scheduler/ps-complex-recurring-scheduler.component.module.ts"],"names":["PsInputCountComponent","commonP","loggerP","defaultOptions","decrementIconOptions","iconName","iconPosition","incrementIconOptions","containerItemOptions","ngOnInit","unlimitedValue","commonProv","translate","filedCust","getElementValidations","options","fcName","copyObject","custMode","type","ngAfterViewInit","checkMinMax","defaultValue","group","controls","value","unSetDefaultValues","setDefaultValues","ngOnChanges","changes","previousValue","undefined","currentValue","doCrements","countValue","currentInputValue","hideDefaultOptions","parseInt","JSON","parse","minValue","maxValue","isDisabled","setValue","onEmptyCounter","DEFAULT_VALUE","MIN_VALUE","MAX_VALUE","Infinity","handleValuesDisplay","Promise","resolve","then","onDefaultValueChange","val","newValue","onPsChange","emit","selector","template","EventSourceApi","context","internalEventSource","prototype","remove","dispatch","sourceId","refetch","sourceIds","Object","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","style","test","preventDefault","ev","buildDelegationHandler","handler","matchedChild","target","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","hasOwnProperty","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","name_2","filterHash","hash","filtered","key","mapHash","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","map","INTERNAL_UNITS","PARSE_RE","createDuration","unit","_a","parseString","parseObject","exec","sign","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","Boolean","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMinHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","segStart","segEnd","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","args","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","_b","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","slice","merged","NumberFormat","dateInput","buildDateEnv","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","createElement","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","getClippingParents","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","reduceEventStore","receiveRawEvents","fetchId","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","currentState","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","selectionConfig","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","externalDefTransforms","eventResizeJoinTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","render","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","destroy","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef$2","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","Interaction","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","index","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","renderInnerContent$1","WeekNumberRoot","defaultFormat","renderInner$1","version","l","u","t","o","r","f","e","h","defaultProps","v","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","p","_","k","base","g","__r","debounceRendering","some","__P","__n","ownerSVGElement","z","C","A","N","M","nextSibling","insertBefore","H","$","setProperty","cssText","toLowerCase","T","I","removeAttribute","setAttribute","__E","O","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","unmount","P","S","q","B","getDerivedStateFromError","componentDidCatch","forceUpdate","FullCalendarVDom","Component","Fragment","createContext","flushToDom","unmountComponentAtNode","PsInputCountComponentModule","declarations","imports","exports","entryComponents","schemas","PsComplexRecurringSchedulerComponent","logger","calendar","eventEmitter","omniPull","dateClick","handleDateClick","hideDates","priodicityOptions","selectedCount","calendarCounter","calendarDate","countUnlimited","singleDate","startDateOptions","labelKey","placeHolder","disablePreview","endDateOptions","endDatePrevValue","startDatePrevValue","calenderEventsList","previewLblOptions","psClass","previewMode","previewValOptions","endCountOptions","periodaicityInputCountOptions","forceTriggerChange","priodicityByDay","param","omniCommon","session","getValueOf","preLoginResponse","parameters","defaultDateFormat","DefaultDateFormat","parameterVal","startDateValue","requestObject","setCalenderEvents","onNextPreviousCalendarMonth","countCust","applyDynScreenDisplay","ACTION_TYPE_MINVALUE","schedulerObjLoadedPromise","subscribe","loadSchedulerPromise","onChangePriodicityLov","values","itemValue","selectDayValue","selectedPriodicity","onDayDateSelected","onSaveBtn","countBaseValue","SINGLE","common","setValInsideNestedObj","ACTION_TYPE_MANDATORY","setUnlimitedPeriodaityCount","dateManipulation","parseCalenderDate","onChangePriodicityEnd","currentCount","presentAlert","getCalenderFirstDate","toString","onChangeDayDate","todayDate","formattedDate","argFormattedDate","onDateSelectedByCalendar","priodicity","singleEventDate","setDate","WEEKLY","setCalenderToPeriodacity","MONTHLY","setCalenderToMonthlyPeriodacity","DAILY","FORTNIGHTLY","YEARLY","startDate","getCalenderLastDate","unlimitedNumberOfPayments","priodicityBy","setStartEndDate","increaseCount","eventDate","setFullYear","selectedDate","periodicityDayString","toDateString","setMonthlyPeriodicityByDay","futureMonthLastDay","recurringDate","countDays","updatedDate","nextBtnClicked","monday","tuesday","wednesday","thursday","friday","saturday","sunday","reset","preparePreviewValue","ionViewWillLeave","getElementsByTagName","removeProperty","disablePrevBtn","getElementsByClassName","enablePrevBtn","prevBtnClicked","calendarEventConfiguration","dataSaveId","eventTitle","transactionAmount","draftDate","setHours","hasMendatoryEvent","duplicateElmIndex","findIndex","getTime","setsortedCalenderDates","periodacity","increment","e1","e2","parsedDate","ISO_8601","PsDateDayMonthYearFutureComponentModule","PsAccountsListComponentModule","deepCopy","shallowCopy","assign","output","OPTION_IS_DEEP","resources","FullCalendarComponent","element","optionSnapshot","deepChangeDetection","optionVal","nativeElement","ngDoCheck","newOptions","newProcessedOptions","oldOptionNames","pauseRendering","ngAfterContentChecked","resumeRendering","ngOnDestroy","getApi","ɵfac","FullCalendarComponent_Factory","ɵcmp","selectors","decls","vars","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","None","FullCalendarModule","registerPlugins","FullCalendarModule_Factory","ɵmod","ɵinj","ngJitMode","PsLovPeriodicityOptionsComponentModule","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","DEFAULT_WEEK_NUM_FORMAT","TableCell","handleMoreLinkClick","onMoreClick","allSegs","segsByEachCol","hiddenSegs","segIsHidden","moreCnt","dayEl","buildMoreLinkText","dayElRef","dayClassNames","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgPaddingBottom","fgContent","moreMarginTop","moreLinkClassNames","moreLinkContent","renderMoreLinkInner","moreLinkDidMount","moreLinkWillUnmount","bgContent","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableListItemEvent","TableBlockEvent","computeFgSegPlacement","cellModels","eventHeights","maxContentHeight","colPlacements","moreCnts","segTops","segMarginTops","moreTops","paddingBottoms","eventHeight","placeSeg","limitByMaxHeight","limitByMaxEvents","limitByMaxRows","placements","currentNonAbsBottom","currentAbsHeight","placements_1","placement","segHeight","tryPlaceSegAt","canPlaceSegAt","insertionIndex","instanceIdAndFirstCol","segsByFirstCol","extractFirstColSegs","segsForCols","extractAllColSegs","resliceDaySegs","oneColPlacements","oneColPlacements_1","oneColPlacements_2","hiddenCnts","limitEvents","levelIndex","_moreLinkConsumesLevel","isPlacementInBounds","segIsVisible","visibleColPlacements","level","placements_2","recordVisible","recordHidden","destPlacements","newPosition","currentLevel","moreLinkConsumesLevel","hiddenCnt","doomedLevel","pop","dayDate","colIndex","dayEnd","dayRange","newSegs","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","segHeights","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","selectedInstanceHash","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","showDayNumbers","showWeekNumbers","fromCol","renderFillSegs","updateSizing","prevState","currentProps","nodes","isInvisible","top_1","visibility","leftRightCss","isExternalSizingChange","frameEls","limitByContentHeight","computeSegHeights","computeMaxContentHeight","eventHarnessEl","firstKey","fcContainerEl","getCellEls","elMap","PADDING_FROM_VIEWPORT","SCROLL_DEBOUNCE","Popover","repositioner","handleDocumentMousedown","onClose","handleDocumentScroll","handleCloseClick","extraAttrs","alignmentEl","topAlignmentEl","dims","alignment","innerHeight","innerWidth","MorePopover","hiddenInstances","selectedInstanceId","onCloseClick","positionToHit","originRect","elRect","newOriginLeft","newOriginTop","localLeft","localTop","relativeRect","layer","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","buildBuildMoreLinkText","morePopoverRef","rowRefs","morePopoverState","clickOption","moreLinkClick","segForPublic","currentFgEventSegs","fromRow","handleMorePopoverClose","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","headerAlignElRef","rowPositions","rowObj","colPositions","morePopover","morePopoverHit","getCellRange","getCellEl","moreLinkTextInput","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","rawHit","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","OPTION_REFINERS","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slotDurationMs","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","computeSegCoords","computeSegVerticals","computeSegHorizontals","forwardCoord","backwardCoord","forwardPressure","level0","levels","buildSlotSegLevels","computeForwardSlotSegs","level0_1","computeSlotSegPressures","level0_2","computeSegForwardBack","computeSlotSegCollisions","otherSegs","results","isSlotSegCollision","seg1","seg2","forwardSegs","forwardSeg","seriesBackwardPressure","seriesBackwardCoord","sortForwardSegs","buildTimeGridSegCompareObj","DEFAULT_TIME_FORMAT","TimeColEvent","isCondensed","TimeColMisc","timeGridEventCondensedHeight","TimeCol","isSelectMirror","mirrorSegs","interactionAffectedInstances","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPrintFgSegs","renderPositionedFgSegs","positionCss","computeSegTopBottomCss","computeFgSegPositionCss","shouldOverlap","zIndex","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","node","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","module","equal","RegExp","flags","PsDateDayMonthYearComponentModule","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay","handleHitUpdate","isFinal","isInvalid","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay$1","fixedMirrorParent","receivingComponent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","transforms","transforms_1","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","LISTENER_REFINERS","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","PsLovPeriodicityOptionsComponent","lovTypeId","LOV_TYPE_ID_PRIODICITY","PsComplexRecurringSchedulerComponentModule"],"mappings":"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AAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAA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AA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;A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AAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAA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","file":"default~pages-e-statement-request-e-statement-request-module~pages-payment-payment-module~pages-swee~074ba207-es5.js","sourcesContent":["import { AfterViewInit, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { PsKeyinInputComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-field-keyin/ps-keyin-input/ps-keyin-input.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { IOptionsPsActionIcon, IOptionsPsContainerItem, IOptionsPsKeyinInput } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsInputCountExposed } from './ps-input-count.component.interfaces';\n\n\n@Component({\n  selector: 'ps-input-count',\n  templateUrl: './ps-input-count.component.html',\n})\nexport class PsInputCountComponent extends PsKeyinInputComponent implements OnInit, OnChanges, AfterViewInit {\n  @Input() options: IOptionsPsInputCountExposed;\n  public defaultOptions: IOptionsPsKeyinInput = {}\n\n  decrementIconOptions: IOptionsPsActionIcon = {\n    iconName: 'arrow-dropdown-circle',\n    iconPosition: 'end'\n  };\n  incrementIconOptions: IOptionsPsActionIcon = {\n    iconName: 'arrow-dropup-circle',\n    iconPosition: 'end'\n  };\n  currentInputValue: number;\n  maxValue: number;\n  minValue: number;\n  defaultValue;\n  hideDefaultOptions: boolean;\n  containerItemOptions: IOptionsPsContainerItem = {\n    // hideImageAndIconIfNotPresent: true\n  };\n  filedCust: any;\n  unlimitedValue;\n  constructor(commonP: PsCommonService, loggerP: LoggerService) {\n    super(commonP, loggerP);\n  }\n\n  ngOnInit() {\n    this.unlimitedValue = this.commonProv.translate('unlimited_key');  //Mohanad AZDB-6448 - 19112024\n    this.filedCust = this.commonProv.getElementValidations(this.options.fcName);\n    this.commonProv.copyObject(this.defaultOptions, this.options, false);\n    if (PsCommonSettings.custMode) {\n      this.defaultOptions.type = 'number';\n    }\n  }\n\n  ngAfterViewInit() {\n    this.checkMinMax();\n    if (this.defaultValue || (this.defaultOptions.group.controls[this.defaultOptions.fcName]?.value && this.defaultOptions.group.controls[this.defaultOptions.fcName]?.value !== this.unlimitedValue)) {\n      this.unSetDefaultValues()\n    } else {\n      this.setDefaultValues();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.options.previousValue !== undefined) {\n      this.defaultOptions = changes.options.currentValue;\n      this.checkMinMax();\n    }\n  }\n\n  doCrements(type) {\n    let countValue = type === 'decrement' ? this.currentInputValue - 1 : this.currentInputValue + 1;\n    if (!this.hideDefaultOptions) {\n      if (this.defaultValue !== undefined && CommonUtils.parseInt(JSON.parse(this.defaultValue).value) !== 0) {\n        this.currentInputValue = CommonUtils.parseInt(JSON.parse(this.defaultValue).value);\n        countValue = type === 'decrement' ? this.currentInputValue - 1 : this.currentInputValue + 1;\n      }\n      this.unSetDefaultValues();\n    }\n    if (typeof (countValue) === 'number' && countValue >= this.minValue && countValue <= this.maxValue) {\n      this.currentInputValue = countValue;\n      if (this.currentInputValue === this.minValue) {\n        this.decrementIconOptions.isDisabled = true;\n      }\n      if (this.currentInputValue === this.maxValue) {\n        this.incrementIconOptions.isDisabled = true;\n      }\n      this.defaultOptions.group.controls[this.options.fcName]?.setValue(this.currentInputValue);\n\n    } else if (typeof (countValue) === 'number') {\n      if (countValue >= this.maxValue) {\n        this.currentInputValue = this.maxValue;\n        this.decrementIconOptions.isDisabled = false;\n        this.incrementIconOptions.isDisabled = true;\n      } else {\n        this.currentInputValue = this.minValue;\n        this.decrementIconOptions.isDisabled = true;\n        this.incrementIconOptions.isDisabled = false;\n      }\n      this.defaultOptions.group.controls[this.options.fcName]?.setValue(this.currentInputValue);\n\n    }\n  }\n\n  onEmptyCounter(value) {\n    if (value === '') {\n      this.setDefaultValues();\n    }\n  }\n\n  checkMinMax() {\n    this.defaultValue = this.filedCust?.DEFAULT_VALUE;\n    this.minValue = this.filedCust?.MIN_VALUE || 0;\n    this.maxValue = this.filedCust?.MAX_VALUE || Infinity;\n  }\n\n  handleValuesDisplay() {\n    this.currentInputValue = +this.defaultOptions.group.controls[this.defaultOptions.fcName]?.value || (this.defaultValue ? CommonUtils.parseInt(JSON.parse(this.defaultValue).value) : this.minValue);\n    this.defaultOptions.group.controls[this.defaultOptions.fcName]?.setValue(this.hideDefaultOptions ? this.currentInputValue : this.defaultValue ? CommonUtils.parseInt(JSON.parse(this.defaultValue).value) :this.unlimitedValue);\n  }\n  setDefaultValues() {\n    this.hideDefaultOptions = false;\n    this.defaultOptions.type = '';\n    this.handleValuesDisplay();\n    //Jira #9444 - Wait for Angular to change the type before setting the new value of new type\n    Promise.resolve().then(() => {\n      this.handleValuesDisplay();\n    });\n  }\n\n  unSetDefaultValues() {\n    this.hideDefaultOptions = true;\n    this.defaultOptions.type = 'number';\n    //Jira #9444 - Wait for Angular to change the type before setting the new value of new type\n    Promise.resolve().then(() => {\n      this.handleValuesDisplay();\n    });\n  }\n\n  onDefaultValueChange(val) {\n    if (this.hideDefaultOptions && val.newValue === this.unlimitedValue) {\n      this.setDefaultValues();\n    } else if (typeof val.newValue === 'number') {\n      this.unSetDefaultValues();\n    }\n    this.onPsChange.emit(val.newValue);\n  }\n}\n","/*!\nFullCalendar v5.5.1\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArrays, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0),\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMinHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []),\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    if (displayEventTime && !eventDef.allDay && (seg.isStart || seg.isEnd)) {\n        var segStart = startOverride || (seg.isStart ? eventInstance.range.start : (seg.start || seg.eventRange.range.start));\n        var segEnd = endOverride || (seg.isEnd ? eventInstance.range.end : (seg.end || seg.eventRange.range.end));\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo,\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArrays([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }),\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES' });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4,\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours',\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime));\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, context) {\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, context) {\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Validation\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isInteractionValid = function (interaction) {\n        var dateProfile = this.props.dateProfile; // HACK\n        var instances = interaction.mutatedEvents.instances;\n        if (dateProfile) { // HACK for MorePopover\n            for (var instanceId in instances) {\n                if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                    return false;\n                }\n            }\n        }\n        return isInteractionValid(interaction, this.context);\n    };\n    DateComponent.prototype.isDateSelectionValid = function (selection) {\n        var dateProfile = this.props.dateProfile; // HACK\n        if (dateProfile && // HACK for MorePopover\n            !rangeContainsRange(dateProfile.validRange, selection.range)) {\n            return false;\n        }\n        return isDateSelectionValid(selection, this.context);\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-daygrid-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        eventResizeJoinTransforms: input.eventResizeJoinTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        eventResizeJoinTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        eventResizeJoinTransforms: hooks0.eventResizeJoinTransforms.concat(hooks1.eventResizeJoinTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            if (!currentDateProfile.activeRange ||\n                !rangeContainsMarker(currentDateProfile.currentRange, action.dateMarker) // don't move if date already in view\n            ) {\n                return dateProfileGenerator.build(action.dateMarker);\n            }\n            break;\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target);\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef$2 = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef$2],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData,\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (!rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArrays(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArrays(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive',\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArrays([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArrays([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArrays([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArrays([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArrays([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArrays([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArrays([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArrays([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5),\n    };\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '',\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArrays(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className,\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArrays(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArrays(['tbody', {}], headSectionNodes, bodySectionNodes, footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: scrollerClientWidths[sectionKey] !== undefined ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent$1, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent$1(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner$1, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner$1(innerProps) {\n    return innerProps.text;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.5.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, buildClassNameNormalizer, buildEventApis, buildEventRangeKey, buildHashFromArray, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, isArraysEqual, isColPropsEqual, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&N(x[h],x[h]);if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof T){if(g=u.props,m=(a=T.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in T&&T.prototype.render?u.__c=h=new T(g,x):(u.__c=h=new d(g,x),h.constructor=T,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,T.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==T.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){for(h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,C=l.__r,$=0,\"prototype\"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++$<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),I=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray(I)?I:[I],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{d as Component,p as Fragment,q as cloneElement,B as createContext,h as createElement,y as createRef,h,S as hydrate,i as isValidElement,l as options,P as render,x as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n\nexport { Component, Fragment, createContext, createElement, createRef, flushToDom, render, unmountComponentAtNode };\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1sb3YtcGVyaW9kaWNpdHkuY29tcG9uZW50LnNjc3MifQ== */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1jb21wbGV4LXJlY3VycmluZy1zY2hlZHVsZXIuY29tcG9uZW50LnNjc3MifQ== */\";","export default \"\\n/* classes attached to <body> */\\n\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n\\n.fc th {\\n    text-align: center;\\n  }\\n\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n  }\\n\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n\\n/* inner-wrappers are responsible for being absolute */\\n\\n/* TODO: best place for this? */\\n\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n\\n.fc {\\n\\n  /* reset */\\n\\n}\\n\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n\\n.fc {\\n\\n  /* theme */\\n\\n}\\n\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n\\n.fc .fc-button-primary {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50);\\n  }\\n\\n.fc .fc-button-primary:hover {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1e2b37;\\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\\n    border-color: #1a252f;\\n    border-color: var(--fc-button-hover-border-color, #1a252f);\\n  }\\n\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\\n  }\\n\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1a252f;\\n    background-color: var(--fc-button-active-bg-color, #1a252f);\\n    border-color: #151e27;\\n    border-color: var(--fc-button-active-border-color, #151e27);\\n  }\\n\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\\n  }\\n\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n\\n.fc .fc-scrollgrid-section-liquid {\\n    height: auto\\n\\n  }\\n\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n    position: sticky;\\n    z-index: 2; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: sticky;\\n}\\n\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc .fc-non-business {\\n    background: rgba(215, 215, 215, 0.3);\\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\\n  }\\n\\n.fc .fc-bg-event {\\n    background: rgb(143, 223, 130);\\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\\n    opacity: 0.3;\\n    opacity: var(--fc-bg-event-opacity, 0.3)\\n  }\\n\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: .85em;\\n      font-size: var(--fc-small-font-size, .85em);\\n      font-style: italic;\\n    }\\n\\n.fc .fc-highlight {\\n    background: rgba(188, 232, 241, 0.3);\\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\\n  }\\n\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\\n/* link resets */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n\\n/* cursor */\\n\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n\\n/* event text content */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n\\n/* dragging */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n\\n/* resizing */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n/* (subclasses should hone positioning for touch and non-touch) */\\n\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: 4px;\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\\n    border-width: 1px;\\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\\n    width: 8px;\\n    width: var(--fc-event-resizer-dot-total-width, 8px);\\n    height: 8px;\\n    height: var(--fc-event-resizer-dot-total-width, 8px);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff)\\n\\n    /* expand hit area */\\n\\n  }\\n\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n\\n/* selecting (always TOUCH) */\\n\\n/* ---------------------------------------------------------------------------------------------------- */\\n\\n.fc-event-selected {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n\\n.fc-event-selected:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n\\n.fc-event-selected {\\n\\n  /* dimmer effect */\\n\\n}\\n\\n.fc-event-selected:after {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.25);\\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n\\n/*\\nA HORIZONTAL event\\n*/\\n\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-h-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n  }\\n\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n\\n/* resizers */\\n\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: 8px;\\n  width: var(--fc-event-resizer-thickness, 8px);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n}\\n\\n/* resizers for TOUCH */\\n\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: -4px;\\n  margin-top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: -4px;\\n  left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: -4px;\\n  right: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSwrQkFBK0I7O0FBRS9COzRCQUM0QixvQ0FBb0M7RUFDOUQsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCO0tBQ3RCLHNCQUFzQjtVQUVqQixpQkFBaUI7RUFDekIsMkJBQTJCO0VBQzNCLDZDQUE2QztBQUMvQzs7QUFDQTtFQUNFLGlDQUFpQztFQUNqQyxhQUFhO0VBQ2Isc0JBQXNCOztFQUV0QjtBQUNGOztBQUNBOzs7O0lBSUksc0JBQXNCO0VBQ3hCOztBQUNGO0lBQ0kseUJBQXlCO0lBQ3pCLGlCQUFpQjtJQUNqQixjQUFjLEVBQUUsNEJBQTRCO0VBQzlDOztBQUNGO0lBQ0ksa0JBQWtCO0VBQ3BCOztBQUNGOztJQUVJLG1CQUFtQjtJQUNuQixVQUFVO0VBQ1o7O0FBQ0Y7SUFDSSxlQUFlO0VBQ2pCOztBQUNGO0lBQ0ksMEJBQTBCO0VBQzVCOztBQUNGO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFDQTtFQUNFLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkI7O0FBQ0E7O0lBRUksc0JBQXNCO0lBQ3RCLDhDQUE4QztFQUNoRDs7QUFDRiwwRkFBMEY7O0FBQzFGLHNEQUFzRDs7QUFDdEQsK0JBQStCOztBQUMvQjs7SUFFSSxrQkFBa0I7RUFDcEI7O0FBRUY7RUFDRSxzQkFBc0I7RUFDdEIsNG1HQUE0bUc7RUFDNW1HLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIscUJBQXFCO0VBQ3JCLFVBQVU7RUFDVixXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLHlCQUF5QjtLQUN0QixzQkFBc0I7VUFFakIsaUJBQWlCOztFQUV6QiwrRUFBK0U7RUFDL0UsaUNBQWlDO0VBQ2pDLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLG9CQUFvQjtFQUNwQixvQkFBb0I7RUFDcEIsY0FBYzs7RUFFZCxzQ0FBc0M7RUFDdEMsbUNBQW1DO0VBQ25DLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFDQTs7Ozs7Q0FLQzs7QUFDRDs7RUFFRSxVQUFVOztBQUVaOztBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixvQkFBb0I7SUFDcEIsU0FBUztJQUNULG9CQUFvQjtJQUNwQixrQkFBa0I7SUFDbEIsb0JBQW9CO0VBQ3RCOztBQUNGO0lBQ0ksbUJBQW1CO0lBQ25CLDBDQUEwQztFQUM1Qzs7QUFDRjtJQUNJLDBCQUEwQjtFQUM1Qjs7QUFDRjtJQUNJLGVBQWU7RUFDakI7O0FBQ0Y7SUFDSSxVQUFVO0lBQ1Ysa0JBQWtCO0VBQ3BCOztBQUNGOztFQUVFLFVBQVU7O0FBRVo7O0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIseUJBQXlCO09BQ3RCLHNCQUFzQjtZQUVqQixpQkFBaUI7SUFDekIsNkJBQTZCO0lBQzdCLDZCQUE2QjtJQUM3QixxQkFBcUI7SUFDckIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixxQkFBcUI7RUFDdkI7O0FBQ0Y7SUFDSSxxQkFBcUI7RUFDdkI7O0FBQ0Y7SUFDSSxVQUFVO0lBQ1YsK0NBQStDO0VBQ2pEOztBQUNGO0lBQ0ksYUFBYTtFQUNmOztBQUNGOztFQUVFLHVCQUF1Qjs7QUFFekI7O0FBQ0E7SUFDSSxXQUFXO0lBQ1gsd0NBQXdDO0lBQ3hDLHlCQUF5QjtJQUN6QixvREFBb0Q7SUFDcEQscUJBQXFCO0lBQ3JCLG9EQUFvRDtFQUN0RDs7QUFDRjtJQUNJLFdBQVc7SUFDWCx3Q0FBd0M7SUFDeEMseUJBQXlCO0lBQ3pCLDBEQUEwRDtJQUMxRCxxQkFBcUI7SUFDckIsMERBQTBEO0VBQzVEOztBQUNGLGtDQUFrQyxZQUFZO0lBQzFDLFdBQVc7SUFDWCx3Q0FBd0M7SUFDeEMseUJBQXlCO0lBQ3pCLG9EQUFvRDtJQUNwRCxxQkFBcUI7SUFDckIsb0RBQW9ELEVBQUUscUJBQXFCO0VBQzdFOztBQUNGO0lBQ0ksK0NBQStDO0VBQ2pEOztBQUNGOztJQUVJLFdBQVc7SUFDWCx3Q0FBd0M7SUFDeEMseUJBQXlCO0lBQ3pCLDJEQUEyRDtJQUMzRCxxQkFBcUI7SUFDckIsMkRBQTJEO0VBQzdEOztBQUNGOztJQUVJLCtDQUErQztFQUNqRDs7QUFDRjs7RUFFRSx5QkFBeUI7O0FBRTNCOztBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLGdCQUFnQixFQUFFLGdHQUFnRztFQUNwSDs7QUFDRjtJQUNJLGtCQUFrQjtJQUNsQixvQkFBb0I7SUFDcEIsc0JBQXNCO0VBQ3hCOztBQUNGO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7RUFDaEI7O0FBQ0Y7SUFDSSxVQUFVO0VBQ1o7O0FBQ0Y7OztJQUdJLFVBQVU7RUFDWjs7QUFDRjtJQUNJLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsNEJBQTRCO0VBQzlCOztBQUNGO0lBQ0ksMEJBQTBCO0lBQzFCLDZCQUE2QjtFQUMvQjs7QUFDRjtJQUNJLGtCQUFrQjtJQUNsQiwwQkFBMEI7SUFDMUIsNkJBQTZCO0VBQy9COztBQUNGO0lBQ0kseUJBQXlCO0lBQ3pCLDRCQUE0QjtFQUM5Qjs7QUFDRjtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0VBQ3JCOztBQUNGO0lBQ0ksb0JBQW9CO0VBQ3RCOztBQUNGO0lBQ0ksaUJBQWlCO0VBQ25COztBQUNGO0lBQ0ksaUJBQWlCO0lBQ2pCLFNBQVM7RUFDWDs7QUFDRjtJQUNJLGtCQUFrQixFQUFFLGtCQUFrQjtFQUN4Qzs7QUFDRjtJQUNJLG1CQUFtQixFQUFFLGtCQUFrQjtFQUN6Qzs7QUFDRixvQ0FBb0MsMEVBQTBFO0lBQzFHLDJCQUEyQjtFQUM3Qjs7QUFDRjtJQUNJLGlDQUFpQztJQUNqQyxrQkFBa0IsRUFBRSx1Q0FBdUM7RUFDN0Q7O0FBQ0Y7SUFDSSxZQUFZO0VBQ2Q7O0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLFFBQVE7SUFDUixPQUFPO0lBQ1AsU0FBUztFQUNYOztBQUNGO0lBQ0ksa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixjQUFjO01BQ1osdUZBQXVGO01BQ3ZGLGlDQUFpQztFQUNyQzs7QUFDRjtJQUNJLFlBQVk7RUFDZDs7QUFDRix3REFBd0Qsb0JBQW9CO0lBQ3hFLGNBQWM7RUFDaEI7O0FBQ0Y7SUFDSSxzQkFBc0I7SUFDdEIsOENBQThDLEVBQUUsK0JBQStCO0VBQ2pGOztBQUNGOytCQUMrQiwrQkFBK0I7TUFDeEQsV0FBVyxFQUFFLDBDQUEwQztNQUN2RCxtQkFBbUI7SUFDckI7O0FBQ0osMkJBQTJCLGlCQUFpQjtNQUN0Qyx3QkFBd0I7TUFDeEIseUJBQXlCO01BQ3pCLDBCQUEwQjtJQUM1Qjs7QUFDSjs7SUFFSSx5QkFBeUI7SUFDekIscUJBQXFCO0lBQ3JCLHNCQUFzQjs7RUFFeEI7O0FBQ0Y7SUFDSSxZQUFZO0VBQ2Q7O0FBQ0YsNkJBQTZCLFdBQVc7SUFDcEMsVUFBVSxFQUFFLCtCQUErQjs7RUFFN0M7O0FBQ0Y7TUFDTSxXQUFXLEVBQUUsd0VBQXdFO0lBQ3ZGOztBQUNKO01BQ00sV0FBVztRQUNULCtGQUErRjtRQUMvRixxQ0FBcUM7SUFDekM7O0FBQ0o7SUFDSTs7RUFFRjs7QUFDRjtNQUNNLFlBQVksRUFBRSxvQ0FBb0M7SUFDcEQ7O0FBQ0o7SUFDSSxtQkFBbUI7SUFDbkIsb0JBQW9CO0VBQ3RCOztBQUNGOztJQUVJLHNCQUFzQjtFQUN4Qjs7QUFDRjs7SUFFSSwyQkFBMkIsRUFBRSxxQ0FBcUM7RUFDcEU7O0FBQ0Y7O0VBRUUsZUFBZTs7QUFFakI7O0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIseUNBQXlDO0lBRXpDLGdCQUFnQjtJQUNoQixVQUFVLEVBQUUsY0FBYztJQUMxQixtQ0FBbUM7RUFDckM7O0FBQ0Y7SUFDSSxNQUFNLEVBQUUsbURBQW1EO01BQ3pELGtDQUFrQztFQUN0Qzs7QUFDRjtJQUNJLFNBQVMsRUFBRSx3REFBd0Q7RUFDckU7O0FBQ0YsaUNBQWlDLDZCQUE2QjtJQUMxRCxXQUFXLEVBQUUsc0NBQXNDO0lBQ25ELG1CQUFtQjtFQUNyQjs7QUFDRixhQUFhLDhDQUE4QztFQUV6RCxnQkFBZ0I7QUFDbEI7O0FBQ0E7SUFDSSxZQUFZLEVBQUUscURBQXFEO0lBQ25FLGtCQUFrQjtFQUNwQjs7QUFDRjs7RUFFRSwrREFBK0Q7O0FBRWpFOztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixRQUFRO0lBQ1IsU0FBUztJQUNULE9BQU87RUFDVDs7QUFDRjtJQUNJLHFCQUFxQixFQUFFLHVEQUF1RDtJQUM5RSxnQkFBZ0I7RUFDbEI7O0FBQ0Y7OztJQUdJLHFGQUFxRjtJQUNyRixrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxRQUFRO0lBQ1IsU0FBUztFQUNYOztBQUNGO0lBQ0ksb0NBQW9DO0lBQ3BDLGtFQUFrRTtFQUNwRTs7QUFDRjtJQUNJLDhCQUE4QjtJQUM5Qix3REFBd0Q7SUFDeEQsWUFBWTtJQUNaO0VBQ0Y7O0FBQ0Y7TUFDTSxZQUFZO01BQ1osZ0JBQWdCO01BQ2hCLDJDQUEyQztNQUMzQyxrQkFBa0I7SUFDcEI7O0FBQ0o7SUFDSSxvQ0FBb0M7SUFDcEMsK0RBQStEO0VBQ2pFOztBQUNGOztJQUVJLG9DQUFvQztJQUNwQyxnRUFBZ0U7RUFDbEU7O0FBQ0YsZ0JBQWdCOztBQUNoQix5R0FBeUc7O0FBQ3pHOztFQUVFLHFCQUFxQjtBQUN2Qjs7QUFDQSxXQUFXOztBQUNYOztFQUVFLGVBQWU7QUFDakI7O0FBQ0EsdUJBQXVCOztBQUN2Qix5R0FBeUc7O0FBQ3pHO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7RUFDWjs7QUFDRixhQUFhOztBQUNiLHlHQUF5Rzs7QUFDekcsNkNBQTZDLFVBQVU7SUFDbkQsYUFBYTtFQUNmOztBQUNGLHVDQUF1QyxVQUFVO0lBQzdDLHdDQUF3QztFQUMxQzs7QUFDRixhQUFhOztBQUNiLHlHQUF5Rzs7QUFDekcsaUVBQWlFOztBQUNqRTtJQUNJLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsVUFBVTtFQUNaOztBQUNGO3FCQUNxQixVQUFVOztBQUUvQjs7QUFDQTtJQUNJLGNBQWM7RUFDaEI7O0FBQ0Y7SUFDSSxrQkFBa0I7SUFDbEIscUVBQXFFO0lBQ3JFLGlCQUFpQjtJQUNqQiwyREFBMkQ7SUFDM0QsVUFBVTtJQUNWLG1EQUFtRDtJQUNuRCxXQUFXO0lBQ1gsb0RBQW9EO0lBQ3BELG1CQUFtQjtJQUNuQixxQkFBcUI7SUFDckIsZ0JBQWdCO0lBQ2hCLHdDQUF3Qzs7SUFFeEMsb0JBQW9COztFQUV0Qjs7QUFDRjtNQUNNLFdBQVc7TUFDWCxrQkFBa0I7TUFDbEIsVUFBVTtNQUNWLFdBQVc7TUFDWCxZQUFZO01BQ1osYUFBYTtJQUNmOztBQUNKLDZCQUE2Qjs7QUFDN0IseUdBQXlHOztBQUN6RztFQUNFLHVDQUF1Qzs7RUFFdkMsK0NBQStDOztBQUVqRDs7QUFDQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLE1BQU07SUFDTixPQUFPO0lBQ1AsUUFBUTtJQUNSLFNBQVM7RUFDWDs7QUFDRjs7RUFFRSxrQkFBa0I7O0FBRXBCOztBQUNBO0lBQ0ksV0FBVztJQUNYLCtCQUErQjtJQUMvQix1RUFBdUU7SUFDdkUsa0JBQWtCO0lBQ2xCLFVBQVU7O0lBRVYsdURBQXVEO0lBQ3ZELDBFQUEwRTtJQUMxRSwwQ0FBMEM7SUFDMUMsU0FBUztJQUNULFVBQVU7SUFDVixXQUFXO0lBQ1gsWUFBWTtFQUNkOztBQUNGOztDQUVDOztBQUNELGNBQWMsNEJBQTRCO0VBQ3hDLGNBQWM7RUFDZCx5QkFBeUI7RUFDekIsdURBQXVEO0VBQ3ZELHlCQUF5QjtFQUN6Qjs7QUFFRjs7QUFDQTtJQUNJLFdBQVc7SUFDWCx1Q0FBdUM7RUFDekM7O0FBQ0Y7SUFDSSxhQUFhLEVBQUUsNkNBQTZDO0VBQzlEOztBQUNGO0lBQ0ksZUFBZSxFQUFFLGtDQUFrQztJQUNuRCxnQkFBZ0I7RUFDbEI7O0FBQ0Ysd0NBQXdDLGlEQUFpRDtJQUNyRixZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVksRUFBRSxpREFBaUQ7RUFDakU7O0FBQ0Y7SUFDSSxxQkFBcUIsRUFBRSx5Q0FBeUM7SUFDaEUsbUJBQW1CLEVBQUUsbUNBQW1DO0lBQ3hELE9BQU8sR0FBRyxlQUFlO0lBQ3pCLFFBQVEsRUFBRSxlQUFlO0lBQ3pCLGVBQWUsRUFBRSxrQ0FBa0M7SUFDbkQsZ0JBQWdCO0VBQ2xCOztBQUNGO0lBQ0ksb0JBQW9CO0lBQ3BCLFVBQVU7SUFDVixhQUFhO0VBQ2Y7O0FBQ0Ysd0VBQXdFOztBQUN4RTs7RUFFRSx5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLG9CQUFvQjtBQUN0Qjs7QUFDQTs7RUFFRSwwQkFBMEI7RUFDMUIsNkJBQTZCO0VBQzdCLHFCQUFxQjtBQUN2Qjs7QUFDQSxhQUFhOztBQUNiO0VBQ0UsTUFBTTtFQUNOLFNBQVM7RUFDVCxVQUFVO0VBQ1YsNkNBQTZDO0FBQy9DOztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsdURBQXVEO0FBQ3pEOztBQUNBOztFQUVFLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsd0RBQXdEO0FBQzFEOztBQUNBLHVCQUF1Qjs7QUFDdkI7RUFDRSxRQUFRO0VBQ1IsZ0JBQWdCO0VBQ2hCLG1FQUFtRTtBQUNyRTs7QUFDQTs7RUFFRSxVQUFVO0VBQ1YsNkRBQTZEO0FBQy9EOztBQUNBOztFQUVFLFdBQVc7RUFDWCw4REFBOEQ7QUFDaEUiLCJmaWxlIjoibWFpbi5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qIGNsYXNzZXMgYXR0YWNoZWQgdG8gPGJvZHk+ICovXG5cbi5mYy1ub3QtYWxsb3dlZCxcbi5mYy1ub3QtYWxsb3dlZCAuZmMtZXZlbnQgeyAvKiBvdmVycmlkZSBldmVudHMnIGN1c3RvbSBjdXJzb3JzICovXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG5cbi5mYy11bnNlbGVjdGFibGUge1xuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbn1cbi5mYyB7XG4gIC8qIGxheW91dCBvZiBpbW1lZGlhdGUgY2hpbGRyZW4gKi9cbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblxuICBmb250LXNpemU6IDFlbVxufVxuLmZjLFxuICAuZmMgKixcbiAgLmZjICo6YmVmb3JlLFxuICAuZmMgKjphZnRlciB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuLmZjIHRhYmxlIHtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIGJvcmRlci1zcGFjaW5nOiAwO1xuICAgIGZvbnQtc2l6ZTogMWVtOyAvKiBub3JtYWxpemUgY3Jvc3MtYnJvd3NlciAqL1xuICB9XG4uZmMgdGgge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuLmZjIHRoLFxuICAuZmMgdGQge1xuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gICAgcGFkZGluZzogMDtcbiAgfVxuLmZjIGFbZGF0YS1uYXZsaW5rXSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4uZmMgYVtkYXRhLW5hdmxpbmtdOmhvdmVyIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIge1xuICBkaXJlY3Rpb246IGx0cjtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cbi5mYy1kaXJlY3Rpb24tcnRsIHtcbiAgZGlyZWN0aW9uOiBydGw7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuLmZjLXRoZW1lLXN0YW5kYXJkIHRkLFxuICAuZmMtdGhlbWUtc3RhbmRhcmQgdGgge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTtcbiAgfVxuLyogZm9yIEZGLCB3aGljaCBkb2Vzbid0IGV4cGFuZCBhIDEwMCUgZGl2IHdpdGhpbiBhIHRhYmxlIGNlbGwuIHVzZSBhYnNvbHV0ZSBwb3NpdGlvbmluZyAqL1xuLyogaW5uZXItd3JhcHBlcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBiZWluZyBhYnNvbHV0ZSAqL1xuLyogVE9ETzogYmVzdCBwbGFjZSBmb3IgdGhpcz8gKi9cbi5mYy1saXF1aWQtaGFjayB0ZCxcbiAgLmZjLWxpcXVpZC1oYWNrIHRoIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cblxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiAnZmNpY29ucyc7XG4gIHNyYzogdXJsKFwiZGF0YTphcHBsaWNhdGlvbi94LWZvbnQtdHRmO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LEFBRUFBQUFMQUlBQUF3QXdUMU12TWc4U0JmQUFBQUM4QUFBQVlHTnRZWEFYVnRLTkFBQUJIQUFBQUZSbllYTndBQUFBRUFBQUFYQUFBQUFJWjJ4NVpnWXlkeElBQUFGNEFBQUZOR2hsWVdRVUo3Y0lBQUFHckFBQUFEWm9hR1ZoQjIwRHpBQUFCdVFBQUFBa2FHMTBlQ0lBQmhRQUFBY0lBQUFBTEd4dlkyRUQ0QVU2QUFBSE5BQUFBQmh0WVhod0FBOEFqQUFBQjB3QUFBQWdibUZ0WlhzcjY5MEFBQWRzQUFBQmhuQnZjM1FBQXdBQUFBQUk5QUFBQUNBQUF3UEFBWkFBQlFBQUFwa0N6QUFBQUk4Q21RTE1BQUFCNndBekFRa0FBQUFBQUFBQUFBQUFBQUFBQUFBQkVBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBRHBCZ1BBLzhBQVFBUEFBRUFBQUFBQkFBQUFBQUFBQUFBQUFBQWdBQUFBQUFBREFBQUFBd0FBQUJ3QUFRQURBQUFBSEFBREFBRUFBQUFjQUFRQU9BQUFBQW9BQ0FBQ0FBSUFBUUFnNlFiLy9mLy9BQUFBQUFBZzZRRC8vZi8vQUFILzR4Y0VBQU1BQVFBQUFBQUFBQUFBQUFBQUFRQUIvLzhBRHdBQkFBQUFBQUFBQUFBQUFnQUFOemtCQUFBQUFBRUFBQUFBQUFBQUFBQUNBQUEzT1FFQUFBQUFBUUFBQUFBQUFBQUFBQUlBQURjNUFRQUFBQUFCQVdJQWpRS2VBc2tBRXdBQUpTYzNOalFuSmlJSEFRWVVGd0VXTWpjMk5DY0NudUxpRFEwTUpBei9BQTBOQVFBTUpBd05EY25pNGd3akRRd00vd0FOSXd6L0FBME5EQ01OQUFBQUFRRmlBSTBDbmdMSkFCTUFBQ1VCTmpRbkFTWWlCd1lVSHdFSEJoUVhGakkzQVo0QkFBME4vd0FNSkF3TkRlTGlEUTBNSkF5TkFRQU1JdzBCQUF3TURTTU00dUlOSXd3TkRRQUFBQUlBNGdDM0F4NENuZ0FUQUNjQUFDVW5OelkwSnlZaUR3RUdGQjhCRmpJM05qUW5JU2MzTmpRbkppSVBBUVlVSHdFV01qYzJOQ2NCODdlM0RRME1JdzNWRFEzVkRTTU1EUTBCSzdlM0RRME1KQXpWRFEzVkRDUU1EUTN6dUxjTUpBd05EZFVOSXd6V0RBd05Jd3k0dHd3a0RBME4xUTBqRE5ZTURBMGpEQUFBQWdEaUFMY0RIZ0tlQUJNQUp3QUFKVGMyTkM4QkppSUhCaFFmQVFjR0ZCY1dNamNoTnpZMEx3RW1JZ2NHRkI4QkJ3WVVGeFl5TndKSjFRME4xUTBqREEwTnQ3Y05EUXdqRGY3VjFRME4xUXdrREEwTnQ3Y05EUXdrRExmV0RDTU4xUTBORENRTXQ3Z01JdzBNRE5ZTUl3M1ZEUTBNSkF5M3VBd2pEUXdNQUFBREFGVUFBQU9yQTFVQU13Qm9BSGNBQUJNaUJnY09BUWNPQVFjT0FSVVJGQllYSGdFWEhnRVhIZ0V6SVRJMk56NEJOejRCTno0Qk5SRTBKaWN1QVNjdUFTY3VBU01GSVRJV0Z4NEJGeDRCRng0QkZSRVVCZ2NPQVFjT0FRY09BU01oSWlZbkxnRW5MZ0VuTGdFMUVUUTJOejRCTno0Qk56NEJNeE1oTWpZMU5DWWpJU0lHRlJRV005VU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOQWxZTkdBd0xGUWtKRGdVRkJRVUZCUTRKQ1JVTERCZ04vYW9DVmdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBVDlxZ1FJQkFRSEF3TUZBUUlCQVFJQkJRTURCd1FFQ0FTQUFWWVJHUmtSL3FvUkdSa1JBMVVGQkFVT0NRa1ZEQXNaRGYyckRSa0xEQlVKQ0E0RkJRVUZCUVVPQ1FnVkRBc1pEUUpWRFJrTERCVUpDUTRGQkFWVkFnRUNCUU1DQndRRUNBWDlxd1FKQXdRSEF3TUZBUUlDQWdJQkJRTURCd1FEQ1FRQ1ZRVUlCQVFIQWdNRkFnRUMvb0FaRWhFWkdSRVNHUUFBQUFBREFGVUFBQU9yQTFVQU13Qm9BSWtBQUJNaUJnY09BUWNPQVFjT0FSVVJGQllYSGdFWEhnRVhIZ0V6SVRJMk56NEJOejRCTno0Qk5SRTBKaWN1QVNjdUFTY3VBU01GSVRJV0Z4NEJGeDRCRng0QkZSRVVCZ2NPQVFjT0FRY09BU01oSWlZbkxnRW5MZ0VuTGdFMUVUUTJOejRCTno0Qk56NEJNeE16RlJRV016STJQUUV6TWpZMU5DWXJBVFUwSmlNaUJoMEJJeUlHRlJRV005VU5HQXdMRlFrSkRnVUZCUVVGQlE0SkNSVUxEQmdOQWxZTkdBd0xGUWtKRGdVRkJRVUZCUTRKQ1JVTERCZ04vYW9DVmdRSUJBUUhBd01GQVFJQkFRSUJCUU1EQndRRUNBVDlxZ1FJQkFRSEF3TUZBUUlCQVFJQkJRTURCd1FFQ0FTQWdCa1NFaG1BRVJrWkVZQVpFaElaZ0JFWkdSRURWUVVFQlE0SkNSVU1DeGtOL2FzTkdRc01GUWtJRGdVRkJRVUZCUTRKQ0JVTUN4a05BbFVOR1FzTUZRa0pEZ1VFQlZVQ0FRSUZBd0lIQkFRSUJmMnJCQWtEQkFjREF3VUJBZ0lDQWdFRkF3TUhCQU1KQkFKVkJRZ0VCQWNDQXdVQ0FRTCtnSUFTR1JrU2dCa1NFUm1BRWhrWkVvQVpFUklaQUFBQkFPSUFqUU1lQXNrQUlBQUFFeGNIQmhRWEZqSS9BUmNXTWpjMk5DOEJOelkwSnlZaUR3RW5KaUlIQmhRWDR1TGlEUTBNSkF6aTRnd2tEQTBONHVJTkRRd2tET0xpRENRTURRMENqZUxpRFNNTURRM2g0UTBORENNTjR1SU1JdzBNRE9MaURBd05Jd3dBQUFBQkFBQUFBUUFBYTVuMHkxOFBQUFVBQ3dRQUFBQUFBTml2T1ZzQUFBQUEySzg1V3dBQUFBQURxd05WQUFBQUNBQUNBQUFBQUFBQUFBRUFBQVBBLzhBQUFBUUFBQUFBQUFPckFBRUFBQUFBQUFBQUFBQUFBQUFBQUFBTEJBQUFBQUFBQUFBQUFBQUFBZ0FBQUFRQUFXSUVBQUZpQkFBQTRnUUFBT0lFQUFCVkJBQUFWUVFBQU9JQUFBQUFBQW9BRkFBZUFFUUFhZ0NxQU9vQm5nSmtBcG9BQVFBQUFBc0FpZ0FEQUFBQUFBQUNBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQTRBcmdBQkFBQUFBQUFCQUFjQUFBQUJBQUFBQUFBQ0FBY0FZQUFCQUFBQUFBQURBQWNBTmdBQkFBQUFBQUFFQUFjQWRRQUJBQUFBQUFBRkFBc0FGUUFCQUFBQUFBQUdBQWNBU3dBQkFBQUFBQUFLQUJvQWlnQURBQUVFQ1FBQkFBNEFCd0FEQUFFRUNRQUNBQTRBWndBREFBRUVDUUFEQUE0QVBRQURBQUVFQ1FBRUFBNEFmQUFEQUFFRUNRQUZBQllBSUFBREFBRUVDUUFHQUE0QVVnQURBQUVFQ1FBS0FEUUFwR1pqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzFabGNuTnBiMjRnTVM0d0FGWUFaUUJ5QUhNQWFRQnZBRzRBSUFBeEFDNEFNR1pqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzJaamFXTnZibk1BWmdCakFHa0FZd0J2QUc0QWMxSmxaM1ZzWVhJQVVnQmxBR2NBZFFCc0FHRUFjbVpqYVdOdmJuTUFaZ0JqQUdrQVl3QnZBRzRBYzBadmJuUWdaMlZ1WlhKaGRHVmtJR0o1SUVsamIwMXZiMjR1QUVZQWJ3QnVBSFFBSUFCbkFHVUFiZ0JsQUhJQVlRQjBBR1VBWkFBZ0FHSUFlUUFnQUVrQVl3QnZBRTBBYndCdkFHNEFMZ0FBQUFNQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQT1cIikgZm9ybWF0KCd0cnVldHlwZScpO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG59XG5cbi5mYy1pY29uIHtcbiAgLyogYWRkZWQgZm9yIGZjICovXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDFlbTtcbiAgaGVpZ2h0OiAxZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcblxuICAvKiB1c2UgIWltcG9ydGFudCB0byBwcmV2ZW50IGlzc3VlcyB3aXRoIGJyb3dzZXIgZXh0ZW5zaW9ucyB0aGF0IGNoYW5nZSBmb250cyAqL1xuICBmb250LWZhbWlseTogJ2ZjaWNvbnMnICFpbXBvcnRhbnQ7XG4gIHNwZWFrOiBub25lO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtdmFyaWFudDogbm9ybWFsO1xuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgbGluZS1oZWlnaHQ6IDE7XG5cbiAgLyogQmV0dGVyIEZvbnQgUmVuZGVyaW5nID09PT09PT09PT09ICovXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9uLWxlZnQ6YmVmb3JlIHtcbiAgY29udGVudDogXCJcXGU5MDBcIjtcbn1cblxuLmZjLWljb24tY2hldnJvbi1yaWdodDpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwMVwiO1xufVxuXG4uZmMtaWNvbi1jaGV2cm9ucy1sZWZ0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAyXCI7XG59XG5cbi5mYy1pY29uLWNoZXZyb25zLXJpZ2h0OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTAzXCI7XG59XG5cbi5mYy1pY29uLW1pbnVzLXNxdWFyZTpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwNFwiO1xufVxuXG4uZmMtaWNvbi1wbHVzLXNxdWFyZTpiZWZvcmUge1xuICBjb250ZW50OiBcIlxcZTkwNVwiO1xufVxuXG4uZmMtaWNvbi14OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXFxlOTA2XCI7XG59XG4vKlxuTG90cyB0YWtlbiBmcm9tIEZsYXRseSAoTUlUKTogaHR0cHM6Ly9ib290c3dhdGNoLmNvbS80L2ZsYXRseS9ib290c3RyYXAuY3NzXG5cblRoZXNlIHN0eWxlcyBvbmx5IGFwcGx5IHdoZW4gdGhlIHN0YW5kYXJkLXRoZW1lIGlzIGFjdGl2YXRlZC5cbldoZW4gaXQncyBOT1QgYWN0aXZhdGVkLCB0aGUgZmMtYnV0dG9uIGNsYXNzZXMgd29uJ3QgZXZlbiBiZSBpbiB0aGUgRE9NLlxuKi9cbi5mYyB7XG5cbiAgLyogcmVzZXQgKi9cblxufVxuLmZjIC5mYy1idXR0b24ge1xuICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XG4gICAgbWFyZ2luOiAwO1xuICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgfVxuLmZjIC5mYy1idXR0b246Zm9jdXMge1xuICAgIG91dGxpbmU6IDFweCBkb3R0ZWQ7XG4gICAgb3V0bGluZTogNXB4IGF1dG8gLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yO1xuICB9XG4uZmMgLmZjLWJ1dHRvbiB7XG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247XG4gIH1cbi5mYyAuZmMtYnV0dG9uOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOjotbW96LWZvY3VzLWlubmVyIHtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGJvcmRlci1zdHlsZTogbm9uZTtcbiAgfVxuLmZjIHtcblxuICAvKiB0aGVtZSAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBwYWRkaW5nOiAwLjRlbSAwLjY1ZW07XG4gICAgZm9udC1zaXplOiAxZW07XG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICBib3JkZXItcmFkaXVzOiAwLjI1ZW07XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmhvdmVyIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIH1cbi5mYyAuZmMtYnV0dG9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDQ0LCA2MiwgODAsIDAuMjUpO1xuICB9XG4uZmMgLmZjLWJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgb3BhY2l0eTogMC42NTtcbiAgfVxuLmZjIHtcblxuICAvKiBcInByaW1hcnlcIiBjb2xvcmluZyAqL1xuXG59XG4uZmMgLmZjLWJ1dHRvbi1wcmltYXJ5IHtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBjb2xvcjogdmFyKC0tZmMtYnV0dG9uLXRleHQtY29sb3IsICNmZmYpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMyQzNFNTA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJnLWNvbG9yLCAjMkMzRTUwKTtcbiAgICBib3JkZXItY29sb3I6ICMyQzNFNTA7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYm9yZGVyLWNvbG9yLCAjMkMzRTUwKTtcbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpob3ZlciB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWUyYjM3O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1ob3Zlci1iZy1jb2xvciwgIzFlMmIzNyk7XG4gICAgYm9yZGVyLWNvbG9yOiAjMWEyNTJmO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWhvdmVyLWJvcmRlci1jb2xvciwgIzFhMjUyZik7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6ZGlzYWJsZWQgeyAvKiBub3QgRFJZICovXG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWJ1dHRvbi10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLWJ1dHRvbi1iZy1jb2xvciwgIzJDM0U1MCk7XG4gICAgYm9yZGVyLWNvbG9yOiAjMkMzRTUwO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtYnV0dG9uLWJvcmRlci1jb2xvciwgIzJDM0U1MCk7IC8qIG92ZXJyaWRlcyA6aG92ZXIgKi9cbiAgfVxuLmZjIC5mYy1idXR0b24tcHJpbWFyeTpmb2N1cyB7XG4gICAgYm94LXNoYWRvdzogMCAwIDAgMC4ycmVtIHJnYmEoNzYsIDkxLCAxMDYsIDAuNSk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6bm90KDpkaXNhYmxlZCk6YWN0aXZlLFxuICAuZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpLmZjLWJ1dHRvbi1hY3RpdmUge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1idXR0b24tdGV4dC1jb2xvciwgI2ZmZik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFhMjUyZjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYWN0aXZlLWJnLWNvbG9yLCAjMWEyNTJmKTtcbiAgICBib3JkZXItY29sb3I6ICMxNTFlMjc7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1idXR0b24tYWN0aXZlLWJvcmRlci1jb2xvciwgIzE1MWUyNyk7XG4gIH1cbi5mYyAuZmMtYnV0dG9uLXByaW1hcnk6bm90KDpkaXNhYmxlZCk6YWN0aXZlOmZvY3VzLFxuICAuZmMgLmZjLWJ1dHRvbi1wcmltYXJ5Om5vdCg6ZGlzYWJsZWQpLmZjLWJ1dHRvbi1hY3RpdmU6Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDc2LCA5MSwgMTA2LCAwLjUpO1xuICB9XG4uZmMge1xuXG4gIC8qIGljb25zIHdpdGhpbiBidXR0b25zICovXG5cbn1cbi5mYyAuZmMtYnV0dG9uIC5mYy1pY29uIHtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIGZvbnQtc2l6ZTogMS41ZW07IC8qIGJ1bXAgdXAgdGhlIHNpemUgKGJ1dCBkb24ndCBtYWtlIGl0IGJpZ2dlciB0aGFuIGxpbmUtaGVpZ2h0IG9mIGJ1dHRvbiwgd2hpY2ggaXMgMS41ZW0gYWxzbykgKi9cbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b24ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgfVxuLmZjIC5mYy1idXR0b24tZ3JvdXAgPiAuZmMtYnV0dG9uOmhvdmVyIHtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4uZmMgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246Zm9jdXMsXG4gIC5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjphY3RpdmUsXG4gIC5mYyAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbi5mYy1idXR0b24tYWN0aXZlIHtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLWxlZnQ6IC0xcHg7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtYnV0dG9uLWdyb3VwID4gLmZjLWJ1dHRvbjpub3QoOmxhc3QtY2hpbGQpIHtcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1yaWdodDogLTFweDtcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWJ1dHRvbi1ncm91cCA+IC5mYy1idXR0b246bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDtcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICB9XG4uZmMgLmZjLXRvb2xiYXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cbi5mYyAuZmMtdG9vbGJhci5mYy1oZWFkZXItdG9vbGJhciB7XG4gICAgbWFyZ2luLWJvdHRvbTogMS41ZW07XG4gIH1cbi5mYyAuZmMtdG9vbGJhci5mYy1mb290ZXItdG9vbGJhciB7XG4gICAgbWFyZ2luLXRvcDogMS41ZW07XG4gIH1cbi5mYyAuZmMtdG9vbGJhci10aXRsZSB7XG4gICAgZm9udC1zaXplOiAxLjc1ZW07XG4gICAgbWFyZ2luOiAwO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtdG9vbGJhciA+ICogPiA6bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1sZWZ0OiAuNzVlbTsgLyogc3BhY2UgYmV0d2VlbiAqL1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtdG9vbGJhciA+ICogPiA6bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1yaWdodDogLjc1ZW07IC8qIHNwYWNlIGJldHdlZW4gKi9cbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRvb2xiYXItbHRyIHsgLyogd2hlbiB0aGUgdG9vbGJhci1jaHVuayBwb3NpdGlvbmluZyBzeXN0ZW0gaXMgZXhwbGljaXRseSBsZWZ0LXRvLXJpZ2h0ICovXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyIHtcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBmb3IgYWJzLXBvc2l0aW9uZWQgZWxlbWVudHMgd2l0aGluICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXItbGlxdWlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZXItbGlxdWlkLWFic29sdXRlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWhhcm5lc3Mge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpcmVjdGlvbjogbHRyO1xuICAgICAgLyogaGFjayBmb3IgY2hyb21lIGNvbXB1dGluZyB0aGUgc2Nyb2xsZXIncyByaWdodC9sZWZ0IHdyb25nIGZvciBydGwuIHVuZG9uZSBiZWxvdy4uLiAqL1xuICAgICAgLyogVE9ETzogZGVtb25zdHJhdGUgaW4gY29kZXBlbiAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGVyLWhhcm5lc3MtbGlxdWlkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1zY3JvbGxlci1oYXJuZXNzID4gLmZjLXNjcm9sbGVyIHsgLyogdW5kbyBhYm92ZSBoYWNrICovXG4gICAgZGlyZWN0aW9uOiBydGw7XG4gIH1cbi5mYy10aGVtZS1zdGFuZGFyZCAuZmMtc2Nyb2xsZ3JpZCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ib3JkZXItY29sb3IsICNkZGQpOyAvKiBib290c3RyYXAgZG9lcyB0aGlzLiBtYXRjaCAqL1xuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQsXG4gICAgLmZjIC5mYy1zY3JvbGxncmlkIHRhYmxlIHsgLyogYWxsIHRhYmxlcyAoc2VsZiBpbmNsdWRlZCkgKi9cbiAgICAgIHdpZHRoOiAxMDAlOyAvKiBiZWNhdXNlIHRhYmxlcyBkb24ndCBub3JtYWxseSBkbyB0aGlzICovXG4gICAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZCB0YWJsZSB7IC8qIGlubmVyIHRhYmxlcyAqL1xuICAgICAgYm9yZGVyLXRvcC1zdHlsZTogaGlkZGVuO1xuICAgICAgYm9yZGVyLWxlZnQtc3R5bGU6IGhpZGRlbjtcbiAgICAgIGJvcmRlci1yaWdodC1zdHlsZTogaGlkZGVuO1xuICAgIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZCB7XG5cbiAgICBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlO1xuICAgIGJvcmRlci1yaWdodC13aWR0aDogMDtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xuXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1saXF1aWQge1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24geyAvKiBhIDx0cj4gKi9cbiAgICBoZWlnaHQ6IDFweCAvKiBiZXR0ZXIgdGhhbiAwLCBmb3IgZmlyZWZveCAqL1xuXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uID4gdGQge1xuICAgICAgaGVpZ2h0OiAxcHg7IC8qIG5lZWRzIGEgaGVpZ2h0IHNvIGlubmVyIGRpdiB3aXRoaW4gZ3Jvdy4gYmV0dGVyIHRoYW4gMCwgZm9yIGZpcmVmb3ggKi9cbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiB0YWJsZSB7XG4gICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgLyogZm9yIG1vc3QgYnJvd3NlcnMsIGlmIGEgaGVpZ2h0IGlzbid0IHNldCBvbiB0aGUgdGFibGUsIGNhbid0IGRvIGxpcXVpZC1oZWlnaHQgd2l0aGluIGNlbGxzICovXG4gICAgICAgIC8qIHNlcnZlcyBhcyBhIG1pbi1oZWlnaHQuIGhhcm1sZXNzICovXG4gICAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tbGlxdWlkIHtcbiAgICBoZWlnaHQ6IGF1dG9cblxuICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1saXF1aWQgPiB0ZCB7XG4gICAgICBoZWlnaHQ6IDEwMCU7IC8qIGJldHRlciB0aGFuIGBhdXRvYCwgZm9yIGZpcmVmb3ggKi9cbiAgICB9XG4uZmMgLmZjLXNjcm9sbGdyaWQtc2VjdGlvbiA+ICoge1xuICAgIGJvcmRlci10b3Atd2lkdGg6IDA7XG4gICAgYm9yZGVyLWxlZnQtd2lkdGg6IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWhlYWRlciA+ICosXG4gIC5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3RlciA+ICoge1xuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDA7XG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWJvZHkgdGFibGUsXG4gIC5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3RlciB0YWJsZSB7XG4gICAgYm9yZGVyLWJvdHRvbS1zdHlsZTogaGlkZGVuOyAvKiBoZWFkIGtlZXBzIGl0cyBib3R0b20gYm9yZGVyIHRobyAqL1xuICB9XG4uZmMge1xuXG4gIC8qIHN0aWNraW5lc3MgKi9cblxufVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKTtcbiAgICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gICAgcG9zaXRpb246IHN0aWNreTtcbiAgICB6LWluZGV4OiAyOyAvKiBUT0RPOiB2YXIgKi9cbiAgICAvKiBUT0RPOiBib3gtc2hhZG93IHdoZW4gc3RpY2tpbmcgKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXNlY3Rpb24taGVhZGVyLmZjLXNjcm9sbGdyaWQtc2VjdGlvbi1zdGlja3kgPiAqIHtcbiAgICB0b3A6IDA7IC8qIGJlY2F1c2UgYm9yZGVyLXNoYXJpbmcgY2F1c2VzIGEgZ2FwIGF0IHRoZSB0b3AgKi9cbiAgICAgIC8qIFRPRE86IGdpdmUgc2FmYXJpIC0xLiBoYXMgYnVnICovXG4gIH1cbi5mYyAuZmMtc2Nyb2xsZ3JpZC1zZWN0aW9uLWZvb3Rlci5mYy1zY3JvbGxncmlkLXNlY3Rpb24tc3RpY2t5ID4gKiB7XG4gICAgYm90dG9tOiAwOyAvKiBrbm93biBidWc6IGJvdHRvbS1zdGlja2luZXNzIGRvZXNuJ3Qgd29yayBpbiBzYWZhcmkgKi9cbiAgfVxuLmZjIC5mYy1zY3JvbGxncmlkLXN0aWNreS1zaGltIHsgLyogZm9yIGhvcml6b250YWwgc2Nyb2xsYmFyICovXG4gICAgaGVpZ2h0OiAxcHg7IC8qIG5lZWRzIGhlaWdodCB0byBjcmVhdGUgc2Nyb2xsYmFycyAqL1xuICAgIG1hcmdpbi1ib3R0b206IC0xcHg7XG4gIH1cbi5mYy1zdGlja3kgeyAvKiBubyAuZmMgd3JhcCBiZWNhdXNlIHVzZWQgYXMgY2hpbGQgb2YgYm9keSAqL1xuICBwb3NpdGlvbjogLXdlYmtpdC1zdGlja3k7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG59XG4uZmMgLmZjLXZpZXctaGFybmVzcyB7XG4gICAgZmxleC1ncm93OiAxOyAvKiBiZWNhdXNlIHRoaXMgaGFybmVzcyBpcyBXSVRISU4gdGhlIC5mYydzIGZsZXhib3ggKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIH1cbi5mYyB7XG5cbiAgLyogd2hlbiB0aGUgaGFybmVzcyBjb250cm9scyB0aGUgaGVpZ2h0LCBtYWtlIHRoZSB2aWV3IGxpcXVpZCAqL1xuXG59XG4uZmMgLmZjLXZpZXctaGFybmVzcy1hY3RpdmUgPiAuZmMtdmlldyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgfVxuLmZjIC5mYy1jb2wtaGVhZGVyLWNlbGwtY3VzaGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAvKiB4LWJyb3dzZXIgZm9yIHdoZW4gc3RpY2t5ICh3aGVuIG11bHRpLXRpZXIgaGVhZGVyKSAqL1xuICAgIHBhZGRpbmc6IDJweCA0cHg7XG4gIH1cbi5mYyAuZmMtYmctZXZlbnQsXG4gIC5mYyAuZmMtbm9uLWJ1c2luZXNzLFxuICAuZmMgLmZjLWhpZ2hsaWdodCB7XG4gICAgLyogd2lsbCBhbHdheXMgaGF2ZSBhIGhhcm5lc3Mgd2l0aCBwb3NpdGlvbjpyZWxhdGl2ZS9hYnNvbHV0ZSwgc28gYWJzb2x1dGVseSBleHBhbmQgKi9cbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMgLmZjLW5vbi1idXNpbmVzcyB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLW5vbi1idXNpbmVzcy1jb2xvciwgcmdiYSgyMTUsIDIxNSwgMjE1LCAwLjMpKTtcbiAgfVxuLmZjIC5mYy1iZy1ldmVudCB7XG4gICAgYmFja2dyb3VuZDogcmdiKDE0MywgMjIzLCAxMzApO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLWJnLWV2ZW50LWNvbG9yLCByZ2IoMTQzLCAyMjMsIDEzMCkpO1xuICAgIG9wYWNpdHk6IDAuMztcbiAgICBvcGFjaXR5OiB2YXIoLS1mYy1iZy1ldmVudC1vcGFjaXR5LCAwLjMpXG4gIH1cbi5mYyAuZmMtYmctZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICAgIG1hcmdpbjogLjVlbTtcbiAgICAgIGZvbnQtc2l6ZTogLjg1ZW07XG4gICAgICBmb250LXNpemU6IHZhcigtLWZjLXNtYWxsLWZvbnQtc2l6ZSwgLjg1ZW0pO1xuICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIH1cbi5mYyAuZmMtaGlnaGxpZ2h0IHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDE4OCwgMjMyLCAyNDEsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtaGlnaGxpZ2h0LWNvbG9yLCByZ2JhKDE4OCwgMjMyLCAyNDEsIDAuMykpO1xuICB9XG4uZmMgLmZjLWNlbGwtc2hhZGVkLFxuICAuZmMgLmZjLWRheS1kaXNhYmxlZCB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLW5ldXRyYWwtYmctY29sb3IsIHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKSk7XG4gIH1cbi8qIGxpbmsgcmVzZXRzICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5hLmZjLWV2ZW50LFxuYS5mYy1ldmVudDpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cbi8qIGN1cnNvciAqL1xuLmZjLWV2ZW50W2hyZWZdLFxuLmZjLWV2ZW50LmZjLWV2ZW50LWRyYWdnYWJsZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi8qIGV2ZW50IHRleHQgY29udGVudCAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLmZjLWV2ZW50IC5mYy1ldmVudC1tYWluIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMjtcbiAgfVxuLyogZHJhZ2dpbmcgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5mYy1ldmVudC1kcmFnZ2luZzpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSB7IC8qIE1PVVNFICovXG4gICAgb3BhY2l0eTogMC43NTtcbiAgfVxuLmZjLWV2ZW50LWRyYWdnaW5nLmZjLWV2ZW50LXNlbGVjdGVkIHsgLyogVE9VQ0ggKi9cbiAgICBib3gtc2hhZG93OiAwIDJweCA3cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICB9XG4vKiByZXNpemluZyAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogKHN1YmNsYXNzZXMgc2hvdWxkIGhvbmUgcG9zaXRpb25pbmcgZm9yIHRvdWNoIGFuZCBub24tdG91Y2gpICovXG4uZmMtZXZlbnQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDQ7XG4gIH1cbi5mYy1ldmVudDpob3ZlciwgLyogTU9VU0UgKi9cbi5mYy1ldmVudC1zZWxlY3RlZCB7IC8qIFRPVUNIICovXG5cbn1cbi5mYy1ldmVudDpob3ZlciAuZmMtZXZlbnQtcmVzaXplciwgLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIDIpO1xuICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgIGJvcmRlci13aWR0aDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtYm9yZGVyLXdpZHRoLCAxcHgpO1xuICAgIHdpZHRoOiA4cHg7XG4gICAgd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItZG90LXRvdGFsLXdpZHRoLCA4cHgpO1xuICAgIGhlaWdodDogOHB4O1xuICAgIGhlaWdodDogdmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCk7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBib3JkZXItY29sb3I6IGluaGVyaXQ7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKVxuXG4gICAgLyogZXhwYW5kIGhpdCBhcmVhICovXG5cbiAgfVxuLmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyOmJlZm9yZSB7XG4gICAgICBjb250ZW50OiAnJztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogLTIwcHg7XG4gICAgICBsZWZ0OiAtMjBweDtcbiAgICAgIHJpZ2h0OiAtMjBweDtcbiAgICAgIGJvdHRvbTogLTIwcHg7XG4gICAgfVxuLyogc2VsZWN0aW5nIChhbHdheXMgVE9VQ0gpICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uZmMtZXZlbnQtc2VsZWN0ZWQge1xuICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpXG5cbiAgLyogZXhwYW5kIGhpdCBhcmVhIChzdWJjbGFzc2VzIHNob3VsZCBleHBhbmQpICovXG5cbn1cbi5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDM7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICB9XG4uZmMtZXZlbnQtc2VsZWN0ZWQge1xuXG4gIC8qIGRpbW1lciBlZmZlY3QgKi9cblxufVxuLmZjLWV2ZW50LXNlbGVjdGVkOmFmdGVyIHtcbiAgICBjb250ZW50OiBcIlwiO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtZXZlbnQtc2VsZWN0ZWQtb3ZlcmxheS1jb2xvciwgcmdiYSgwLCAwLCAwLCAwLjI1KSk7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDE7XG5cbiAgICAvKiBhc3N1bWUgdGhlcmUncyBhIGJvcmRlciBvbiBhbGwgc2lkZXMuIG92ZXJjb21lIGl0LiAqL1xuICAgIC8qIHNvbWV0aW1lcyB0aGVyZSdzIE5PVCBhIGJvcmRlciwgaW4gd2hpY2ggY2FzZSB0aGUgZGltbWVyIHdpbGwgZ28gb3ZlciAqL1xuICAgIC8qIGFuIGFkamFjZW50IGJvcmRlciwgd2hpY2ggbG9va3MgZmluZS4gKi9cbiAgICB0b3A6IC0xcHg7XG4gICAgbGVmdDogLTFweDtcbiAgICByaWdodDogLTFweDtcbiAgICBib3R0b206IC0xcHg7XG4gIH1cbi8qXG5BIEhPUklaT05UQUwgZXZlbnRcbiovXG4uZmMtaC1ldmVudCB7IC8qIGFsbG93ZWQgdG8gYmUgdG9wLWxldmVsICovXG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4OGQ4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1ldmVudC1iZy1jb2xvciwgIzM3ODhkOClcblxufVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LW1haW4ge1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1ldmVudC10ZXh0LWNvbG9yLCAjZmZmKTtcbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LW1haW4tZnJhbWUge1xuICAgIGRpc3BsYXk6IGZsZXg7IC8qIGZvciBtYWtlIGZjLWV2ZW50LXRpdGxlLWNvbnRhaW5lciBleHBhbmQgKi9cbiAgfVxuLmZjLWgtZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIG1heC13aWR0aDogMTAwJTsgLyogY2xpcCBvdmVyZmxvdyBvbiB0aGlzIGVsZW1lbnQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIHsgLyogc2VydmVzIGFzIGEgY29udGFpbmVyIGZvciB0aGUgc3RpY2t5IGN1c2hpb24gKi9cbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgZmxleC1zaHJpbms6IDE7XG4gICAgbWluLXdpZHRoOiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICB9XG4uZmMtaC1ldmVudCAuZmMtZXZlbnQtdGl0bGUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgLyogbmVlZCB0aGlzIHRvIGJlIHN0aWNreSBjcm9zcy1icm93c2VyICovXG4gICAgdmVydGljYWwtYWxpZ246IHRvcDsgLyogZm9yIG5vdCBtZXNzaW5nIHVwIGxpbmUtaGVpZ2h0ICovXG4gICAgbGVmdDogMDsgIC8qIGZvciBzdGlja3kgKi9cbiAgICByaWdodDogMDsgLyogZm9yIHN0aWNreSAqL1xuICAgIG1heC13aWR0aDogMTAwJTsgLyogY2xpcCBvdmVyZmxvdyBvbiB0aGlzIGVsZW1lbnQgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG4uZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZDpiZWZvcmUge1xuICAgIC8qIGV4cGFuZCBoaXQgYXJlYSAqL1xuICAgIHRvcDogLTEwcHg7XG4gICAgYm90dG9tOiAtMTBweDtcbiAgfVxuLyogYWRqdXN0IGJvcmRlciBhbmQgYm9yZGVyLXJhZGl1cyAoaWYgdGhlcmUgaXMgYW55KSBmb3Igbm9uLXN0YXJ0L2VuZCAqL1xuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQ6bm90KC5mYy1ldmVudC1zdGFydCksXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ibG9jay1ldmVudDpub3QoLmZjLWV2ZW50LWVuZCkge1xuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICBib3JkZXItbGVmdC13aWR0aDogMDtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtZW5kKSxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1kYXlncmlkLWJsb2NrLWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpIHtcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICBib3JkZXItcmlnaHQtd2lkdGg6IDA7XG59XG4vKiByZXNpemVycyAqL1xuLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDhweDtcbiAgd2lkdGg6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudDpub3QoLmZjLWV2ZW50LXNlbGVjdGVkKSAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICBjdXJzb3I6IHctcmVzaXplO1xuICBsZWZ0OiAtNHB4O1xuICBsZWZ0OiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWgtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICBjdXJzb3I6IGUtcmVzaXplO1xuICByaWdodDogLTRweDtcbiAgcmlnaHQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci10aGlja25lc3MsIDhweCkgLyAtMik7XG59XG4vKiByZXNpemVycyBmb3IgVE9VQ0ggKi9cbi5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyIHtcbiAgdG9wOiA1MCU7XG4gIG1hcmdpbi10b3A6IC00cHg7XG4gIG1hcmdpbi10b3A6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCxcbi5mYy1kaXJlY3Rpb24tcnRsIC5mYy1oLWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gIGxlZnQ6IC00cHg7XG4gIGxlZnQ6IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG59XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1lbmQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtaC1ldmVudC5mYy1ldmVudC1zZWxlY3RlZCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gIHJpZ2h0OiAtNHB4O1xuICByaWdodDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbn1cbiJdfQ== */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsInputCountComponent } from './ps-input-count.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [PsInputCountComponent],\r\n  imports: [\r\n    SharedModule,\r\n    PsComponentsModule\r\n  ],\r\n  exports: [PsInputCountComponent],\r\n  entryComponents: [PsInputCountComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsInputCountComponentModule { }\r\n","export default \"\\n/*\\nA VERTICAL event\\n*/\\n\\n.fc-v-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-v-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n    height: 100%;\\n  }\\n\\n.fc-v-event .fc-event-main-frame {\\n    height: 100%;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n.fc-v-event .fc-event-time {\\n    flex-grow: 0;\\n    flex-shrink: 0;\\n    max-height: 100%;\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event .fc-event-title-container { /* a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-height: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-v-event .fc-event-title { /* will have fc-sticky on it */\\n    top: 0;\\n    bottom: 0;\\n    max-height: 100%; /* clip overflow */\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event:not(.fc-event-start) {\\n    border-top-width: 0;\\n    border-top-left-radius: 0;\\n    border-top-right-radius: 0;\\n  }\\n\\n.fc-v-event:not(.fc-event-end) {\\n    border-bottom-width: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-v-event.fc-event-selected:before {\\n    /* expand hit area */\\n    left: -10px;\\n    right: -10px;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer (mouse AND touch) */\\n\\n}\\n\\n.fc-v-event .fc-event-resizer-start {\\n    cursor: n-resize;\\n  }\\n\\n.fc-v-event .fc-event-resizer-end {\\n    cursor: s-resize;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer for MOUSE */\\n\\n}\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer {\\n      height: 8px;\\n      height: var(--fc-event-resizer-thickness, 8px);\\n      left: 0;\\n      right: 0;\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event {\\n\\n  /* resizer for TOUCH (when event is \\\"selected\\\") */\\n\\n}\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer {\\n      left: 50%;\\n      margin-left: -4px;\\n      margin-left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc .fc-timegrid .fc-daygrid-body { /* the all-day daygrid within the timegrid view */\\n    z-index: 2; /* put above the timegrid-body so that more-popover is above everything. TODO: better solution */\\n  }\\n\\n.fc .fc-timegrid-divider {\\n    padding: 0 0 2px; /* browsers get confused when you set height. use padding instead */\\n  }\\n\\n.fc .fc-timegrid-body {\\n    position: relative;\\n    z-index: 1; /* scope the z-indexes of slots and cols */\\n    min-height: 100%; /* fill height always, even when slat table doesn't grow */\\n  }\\n\\n.fc .fc-timegrid-axis-chunk { /* for advanced ScrollGrid */\\n    position: relative /* offset parent for now-indicator-container */\\n\\n  }\\n\\n.fc .fc-timegrid-axis-chunk > table {\\n      position: relative;\\n      z-index: 1; /* above the now-indicator-container */\\n    }\\n\\n.fc .fc-timegrid-slots {\\n    position: relative;\\n    z-index: 1;\\n  }\\n\\n.fc .fc-timegrid-slot { /* a <td> */\\n    height: 1.5em;\\n    border-bottom: 0 /* each cell owns its top border */\\n  }\\n\\n.fc .fc-timegrid-slot:empty:before {\\n      content: '\\\\00a0'; /* make sure there's at least an empty space to create height for height syncing */\\n    }\\n\\n.fc .fc-timegrid-slot-minor {\\n    border-top-style: dotted;\\n  }\\n\\n.fc .fc-timegrid-slot-label-cushion {\\n    display: inline-block;\\n    white-space: nowrap;\\n  }\\n\\n.fc .fc-timegrid-slot-label {\\n    vertical-align: middle; /* vertical align the slots */\\n  }\\n\\n.fc {\\n\\n\\n  /* slots AND axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n\\n}\\n\\n.fc .fc-timegrid-axis-cushion,\\n  .fc .fc-timegrid-slot-label-cushion {\\n    padding: 0 4px;\\n  }\\n\\n.fc {\\n\\n\\n  /* axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n  /* vertical align is more complicated, uses flexbox */\\n\\n}\\n\\n.fc .fc-timegrid-axis-frame-liquid {\\n    height: 100%; /* will need liquid-hack in FF */\\n  }\\n\\n.fc .fc-timegrid-axis-frame {\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center; /* vertical align */\\n    justify-content: flex-end; /* horizontal align. matches text-align below */\\n  }\\n\\n.fc .fc-timegrid-axis-cushion {\\n    max-width: 60px; /* limits the width of the \\\"all-day\\\" text */\\n    flex-shrink: 0; /* allows text to expand how it normally would, regardless of constrained width */\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-slot-label-frame {\\n    text-align: right;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-slot-label-frame {\\n    text-align: left;\\n  }\\n\\n.fc-liquid-hack .fc-timegrid-axis-frame-liquid {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n\\n.fc .fc-timegrid-col.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n\\n.fc .fc-timegrid-col-frame {\\n    min-height: 100%; /* liquid-hack is below */\\n    position: relative;\\n  }\\n\\n.fc-liquid-hack .fc-timegrid-col-frame {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n\\n.fc-media-screen .fc-timegrid-cols {\\n    position: absolute; /* no z-index. children will decide and go above slots */\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0\\n  }\\n\\n.fc-media-screen .fc-timegrid-cols > table {\\n      height: 100%;\\n    }\\n\\n.fc-media-screen .fc-timegrid-col-bg,\\n  .fc-media-screen .fc-timegrid-col-events,\\n  .fc-media-screen .fc-timegrid-now-indicator-container {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc-media-screen .fc-timegrid-event-harness {\\n    position: absolute; /* top/left/right/bottom will all be set by JS */\\n  }\\n\\n.fc {\\n\\n  /* bg */\\n\\n}\\n\\n.fc .fc-timegrid-col-bg {\\n    z-index: 2; /* TODO: kill */\\n  }\\n\\n.fc .fc-timegrid-col-bg .fc-non-business { z-index: 1 }\\n\\n.fc .fc-timegrid-col-bg .fc-bg-event { z-index: 2 }\\n\\n.fc .fc-timegrid-col-bg .fc-highlight { z-index: 3 }\\n\\n.fc .fc-timegrid-bg-harness {\\n    position: absolute; /* top/bottom will be set by JS */\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc {\\n\\n  /* fg events */\\n  /* (the mirror segs are put into a separate container with same classname, */\\n  /* and they must be after the normal seg container to appear at a higher z-index) */\\n\\n}\\n\\n.fc .fc-timegrid-col-events {\\n    z-index: 3;\\n    /* child event segs have z-indexes that are scoped within this div */\\n  }\\n\\n.fc {\\n\\n  /* now indicator */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-container {\\n    bottom: 0;\\n    overflow: hidden; /* don't let overflow of lines/arrows cause unnecessary scrolling */\\n    /* z-index is set on the individual elements */\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-col-events {\\n    margin: 0 2.5% 0 2px;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-col-events {\\n    margin: 0 2px 0 2.5%;\\n  }\\n\\n.fc-timegrid-event-harness-inset .fc-timegrid-event,\\n.fc-timegrid-event.fc-event-mirror {\\n  box-shadow: 0px 0px 0px 1px #fff;\\n  box-shadow: 0px 0px 0px 1px var(--fc-page-bg-color, #fff);\\n}\\n\\n.fc-timegrid-event { /* events need to be root */\\n\\n  font-size: .85em;\\n\\n  font-size: var(--fc-small-font-size, .85em);\\n  border-radius: 3px\\n\\n}\\n\\n.fc-timegrid-event .fc-event-main {\\n    padding: 1px 1px 0;\\n  }\\n\\n.fc-timegrid-event .fc-event-time {\\n    white-space: nowrap;\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em);\\n    margin-bottom: 1px;\\n  }\\n\\n.fc-timegrid-event-condensed .fc-event-main-frame {\\n    flex-direction: row;\\n    overflow: hidden;\\n  }\\n\\n.fc-timegrid-event-condensed .fc-event-time:after {\\n    content: '\\\\00a0-\\\\00a0'; /* dash surrounded by non-breaking spaces */\\n  }\\n\\n.fc-timegrid-event-condensed .fc-event-title {\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em)\\n  }\\n\\n.fc-media-screen .fc-timegrid-event {\\n    position: absolute; /* absolute WITHIN the harness */\\n    top: 0;\\n    bottom: 1px; /* stay away from bottom slot line */\\n    left: 0;\\n    right: 0;\\n  }\\n\\n.fc {\\n\\n  /* line */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-line {\\n    position: absolute;\\n    z-index: 4;\\n    left: 0;\\n    right: 0;\\n    border-style: solid;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n    border-width: 1px 0 0;\\n  }\\n\\n.fc {\\n\\n  /* arrow */\\n\\n}\\n\\n.fc .fc-timegrid-now-indicator-arrow {\\n    position: absolute;\\n    z-index: 4;\\n    margin-top: -5px; /* vertically center on top coordinate */\\n    border-style: solid;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n  }\\n\\n.fc-direction-ltr .fc-timegrid-now-indicator-arrow {\\n    left: 0;\\n\\n    /* triangle pointing right. TODO: mixin */\\n    border-width: 5px 0 5px 6px;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\\n.fc-direction-rtl .fc-timegrid-now-indicator-arrow {\\n    right: 0;\\n\\n    /* triangle pointing left. TODO: mixin */\\n    border-width: 5px 6px 5px 0;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTs7Q0FFQzs7QUFFRCxjQUFjLDRCQUE0QjtFQUN4QyxjQUFjO0VBQ2QseUJBQXlCO0VBQ3pCLHVEQUF1RDtFQUN2RCx5QkFBeUI7RUFDekI7O0FBRUY7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsdUNBQXVDO0lBQ3ZDLFlBQVk7RUFDZDs7QUFFRjtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2Isc0JBQXNCO0VBQ3hCOztBQUVGO0lBQ0ksWUFBWTtJQUNaLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0VBQ2xCOztBQUVGLHdDQUF3Qyx1Q0FBdUM7SUFDM0UsWUFBWTtJQUNaLGNBQWM7SUFDZCxhQUFhLEVBQUUsaURBQWlEO0VBQ2xFOztBQUVGLDhCQUE4Qiw4QkFBOEI7SUFDeEQsTUFBTTtJQUNOLFNBQVM7SUFDVCxnQkFBZ0IsRUFBRSxrQkFBa0I7SUFDcEMsZ0JBQWdCO0VBQ2xCOztBQUVGO0lBQ0ksbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QiwwQkFBMEI7RUFDNUI7O0FBRUY7SUFDSSxzQkFBc0I7SUFDdEIsNEJBQTRCO0lBQzVCLDZCQUE2QjtFQUMvQjs7QUFFRjtJQUNJLG9CQUFvQjtJQUNwQixXQUFXO0lBQ1gsWUFBWTtFQUNkOztBQUVGOztFQUVFLDhCQUE4Qjs7QUFFaEM7O0FBRUE7SUFDSSxnQkFBZ0I7RUFDbEI7O0FBRUY7SUFDSSxnQkFBZ0I7RUFDbEI7O0FBRUY7O0VBRUUsc0JBQXNCOztBQUV4Qjs7QUFFQTtNQUNNLFdBQVc7TUFDWCw4Q0FBOEM7TUFDOUMsT0FBTztNQUNQLFFBQVE7SUFDVjs7QUFFSjtNQUNNLFNBQVM7TUFDVCxzREFBc0Q7SUFDeEQ7O0FBRUo7TUFDTSxZQUFZO01BQ1oseURBQXlEO0lBQzNEOztBQUVKOztFQUVFLGlEQUFpRDs7QUFFbkQ7O0FBRUE7TUFDTSxTQUFTO01BQ1QsaUJBQWlCO01BQ2pCLG9FQUFvRTtJQUN0RTs7QUFFSjtNQUNNLFNBQVM7TUFDVCw0REFBNEQ7SUFDOUQ7O0FBRUo7TUFDTSxZQUFZO01BQ1osK0RBQStEO0lBQ2pFOztBQUNKLG9DQUFvQyxpREFBaUQ7SUFDakYsVUFBVSxFQUFFLGdHQUFnRztFQUM5Rzs7QUFDRjtJQUNJLGdCQUFnQixFQUFFLG1FQUFtRTtFQUN2Rjs7QUFDRjtJQUNJLGtCQUFrQjtJQUNsQixVQUFVLEVBQUUsMENBQTBDO0lBQ3RELGdCQUFnQixFQUFFLDBEQUEwRDtFQUM5RTs7QUFDRiw4QkFBOEIsNEJBQTRCO0lBQ3RELGlCQUFpQixFQUFFLDhDQUE4Qzs7RUFFbkU7O0FBQ0Y7TUFDTSxrQkFBa0I7TUFDbEIsVUFBVSxFQUFFLHNDQUFzQztJQUNwRDs7QUFDSjtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0VBQ1o7O0FBQ0Ysd0JBQXdCLFdBQVc7SUFDL0IsYUFBYTtJQUNiLGVBQWUsRUFBRSxrQ0FBa0M7RUFDckQ7O0FBQ0Y7TUFDTSxnQkFBZ0IsRUFBRSxrRkFBa0Y7SUFDdEc7O0FBQ0o7SUFDSSx3QkFBd0I7RUFDMUI7O0FBQ0Y7SUFDSSxxQkFBcUI7SUFDckIsbUJBQW1CO0VBQ3JCOztBQUNGO0lBQ0ksc0JBQXNCLEVBQUUsNkJBQTZCO0VBQ3ZEOztBQUNGOzs7RUFHRSxnRkFBZ0Y7O0FBRWxGOztBQUNBOztJQUVJLGNBQWM7RUFDaEI7O0FBQ0Y7OztFQUdFLHNFQUFzRTtFQUN0RSxxREFBcUQ7O0FBRXZEOztBQUNBO0lBQ0ksWUFBWSxFQUFFLGdDQUFnQztFQUNoRDs7QUFDRjtJQUNJLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsbUJBQW1CLEVBQUUsbUJBQW1CO0lBQ3hDLHlCQUF5QixFQUFFLCtDQUErQztFQUM1RTs7QUFDRjtJQUNJLGVBQWUsRUFBRSwyQ0FBMkM7SUFDNUQsY0FBYyxFQUFFLGlGQUFpRjtFQUNuRzs7QUFDRjtJQUNJLGlCQUFpQjtFQUNuQjs7QUFDRjtJQUNJLGdCQUFnQjtFQUNsQjs7QUFDRjtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLFFBQVE7RUFDUixTQUFTO0VBQ1QsT0FBTztFQUNQOztBQUNGO01BQ00sMENBQTBDO01BQzFDLG9FQUFvRTtJQUN0RTs7QUFDSjtJQUNJLGdCQUFnQixFQUFFLHlCQUF5QjtJQUMzQyxrQkFBa0I7RUFDcEI7O0FBQ0Y7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixRQUFRO0VBQ1IsU0FBUztFQUNULE9BQU87RUFDUDs7QUFDRjtJQUNJLGtCQUFrQixFQUFFLHdEQUF3RDtJQUM1RSxNQUFNO0lBQ04sT0FBTztJQUNQLFFBQVE7SUFDUjtFQUNGOztBQUNGO01BQ00sWUFBWTtJQUNkOztBQUNKOzs7SUFHSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxRQUFRO0VBQ1Y7O0FBQ0Y7SUFDSSxrQkFBa0IsRUFBRSxnREFBZ0Q7RUFDdEU7O0FBQ0Y7O0VBRUUsT0FBTzs7QUFFVDs7QUFDQTtJQUNJLFVBQVUsRUFBRSxlQUFlO0VBQzdCOztBQUNGLDJDQUEyQyxXQUFXOztBQUN0RCx1Q0FBdUMsV0FBVzs7QUFDbEQsd0NBQXdDLFdBQVc7O0FBQ25EO0lBQ0ksa0JBQWtCLEVBQUUsaUNBQWlDO0lBQ3JELE9BQU87SUFDUCxRQUFRO0VBQ1Y7O0FBQ0Y7O0VBRUUsY0FBYztFQUNkLDRFQUE0RTtFQUM1RSxtRkFBbUY7O0FBRXJGOztBQUNBO0lBQ0ksVUFBVTtJQUNWLG9FQUFvRTtFQUN0RTs7QUFDRjs7RUFFRSxrQkFBa0I7O0FBRXBCOztBQUNBO0lBQ0ksU0FBUztJQUNULGdCQUFnQixFQUFFLG1FQUFtRTtJQUNyRiw4Q0FBOEM7RUFDaEQ7O0FBQ0Y7SUFDSSxvQkFBb0I7RUFDdEI7O0FBQ0Y7SUFDSSxvQkFBb0I7RUFDdEI7O0FBQ0Y7O0VBRUUsZ0NBQWdDO0VBQ2hDLHlEQUF5RDtBQUMzRDs7QUFDQSxxQkFBcUIsMkJBQTJCOztFQUU5QyxnQkFBZ0I7O0VBRWhCLDJDQUEyQztFQUMzQzs7QUFFRjs7QUFDQTtJQUNJLGtCQUFrQjtFQUNwQjs7QUFDRjtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsMkNBQTJDO0lBQzNDLGtCQUFrQjtFQUNwQjs7QUFDRjtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7RUFDbEI7O0FBQ0Y7SUFDSSxzQkFBc0IsRUFBRSwyQ0FBMkM7RUFDckU7O0FBQ0Y7SUFDSSxnQkFBZ0I7SUFDaEI7RUFDRjs7QUFDRjtJQUNJLGtCQUFrQixFQUFFLGdDQUFnQztJQUNwRCxNQUFNO0lBQ04sV0FBVyxFQUFFLG9DQUFvQztJQUNqRCxPQUFPO0lBQ1AsUUFBUTtFQUNWOztBQUNGOztFQUVFLFNBQVM7O0FBRVg7O0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLE9BQU87SUFDUCxRQUFRO0lBQ1IsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixnREFBZ0Q7SUFDaEQscUJBQXFCO0VBQ3ZCOztBQUNGOztFQUVFLFVBQVU7O0FBRVo7O0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGdCQUFnQixFQUFFLHdDQUF3QztJQUMxRCxtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLGdEQUFnRDtFQUNsRDs7QUFDRjtJQUNJLE9BQU87O0lBRVAseUNBQXlDO0lBQ3pDLDJCQUEyQjtJQUMzQiw2QkFBNkI7SUFDN0IsZ0NBQWdDO0VBQ2xDOztBQUNGO0lBQ0ksUUFBUTs7SUFFUix3Q0FBd0M7SUFDeEMsMkJBQTJCO0lBQzNCLDZCQUE2QjtJQUM3QixnQ0FBZ0M7RUFDbEMiLCJmaWxlIjoibWFpbi5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qXG5BIFZFUlRJQ0FMIGV2ZW50XG4qL1xuXG4uZmMtdi1ldmVudCB7IC8qIGFsbG93ZWQgdG8gYmUgdG9wLWxldmVsICovXG4gIGRpc3BsYXk6IGJsb2NrO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzc4OGQ4O1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1mYy1ldmVudC1ib3JkZXItY29sb3IsICMzNzg4ZDgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzc4OGQ4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1ldmVudC1iZy1jb2xvciwgIzM3ODhkOClcblxufVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtbWFpbiB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY29sb3I6IHZhcigtLWZjLWV2ZW50LXRleHQtY29sb3IsICNmZmYpO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtbWFpbi1mcmFtZSB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtdGl0bGUtY29udGFpbmVyIHsgLyogYSBjb250YWluZXIgZm9yIHRoZSBzdGlja3kgY3VzaGlvbiAqL1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBmbGV4LXNocmluazogMTtcbiAgICBtaW4taGVpZ2h0OiAwOyAvKiBpbXBvcnRhbnQgZm9yIGFsbG93aW5nIHRvIHNocmluayBhbGwgdGhlIHdheSAqL1xuICB9XG5cbi5mYy12LWV2ZW50IC5mYy1ldmVudC10aXRsZSB7IC8qIHdpbGwgaGF2ZSBmYy1zdGlja3kgb24gaXQgKi9cbiAgICB0b3A6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7IC8qIGNsaXAgb3ZlcmZsb3cgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9XG5cbi5mYy12LWV2ZW50Om5vdCguZmMtZXZlbnQtc3RhcnQpIHtcbiAgICBib3JkZXItdG9wLXdpZHRoOiAwO1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7XG4gIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1lbmQpIHtcbiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAwO1xuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7XG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7XG4gIH1cblxuLmZjLXYtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICAvKiBleHBhbmQgaGl0IGFyZWEgKi9cbiAgICBsZWZ0OiAtMTBweDtcbiAgICByaWdodDogLTEwcHg7XG4gIH1cblxuLmZjLXYtZXZlbnQge1xuXG4gIC8qIHJlc2l6ZXIgKG1vdXNlIEFORCB0b3VjaCkgKi9cblxufVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtcmVzaXplci1zdGFydCB7XG4gICAgY3Vyc29yOiBuLXJlc2l6ZTtcbiAgfVxuXG4uZmMtdi1ldmVudCAuZmMtZXZlbnQtcmVzaXplci1lbmQge1xuICAgIGN1cnNvcjogcy1yZXNpemU7XG4gIH1cblxuLmZjLXYtZXZlbnQge1xuXG4gIC8qIHJlc2l6ZXIgZm9yIE1PVVNFICovXG5cbn1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICBoZWlnaHQ6IHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItc3RhcnQge1xuICAgICAgdG9wOiAtNHB4O1xuICAgICAgdG9wOiBjYWxjKHZhcigtLWZjLWV2ZW50LXJlc2l6ZXItdGhpY2tuZXNzLCA4cHgpIC8gLTIpO1xuICAgIH1cblxuLmZjLXYtZXZlbnQ6bm90KC5mYy1ldmVudC1zZWxlY3RlZCkgLmZjLWV2ZW50LXJlc2l6ZXItZW5kIHtcbiAgICAgIGJvdHRvbTogLTRweDtcbiAgICAgIGJvdHRvbTogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLXRoaWNrbmVzcywgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50IHtcblxuICAvKiByZXNpemVyIGZvciBUT1VDSCAod2hlbiBldmVudCBpcyBcInNlbGVjdGVkXCIpICovXG5cbn1cblxuLmZjLXYtZXZlbnQuZmMtZXZlbnQtc2VsZWN0ZWQgLmZjLWV2ZW50LXJlc2l6ZXIge1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgbWFyZ2luLWxlZnQ6IC00cHg7XG4gICAgICBtYXJnaW4tbGVmdDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLXN0YXJ0IHtcbiAgICAgIHRvcDogLTRweDtcbiAgICAgIHRvcDogY2FsYyh2YXIoLS1mYy1ldmVudC1yZXNpemVyLWRvdC10b3RhbC13aWR0aCwgOHB4KSAvIC0yKTtcbiAgICB9XG5cbi5mYy12LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkIC5mYy1ldmVudC1yZXNpemVyLWVuZCB7XG4gICAgICBib3R0b206IC00cHg7XG4gICAgICBib3R0b206IGNhbGModmFyKC0tZmMtZXZlbnQtcmVzaXplci1kb3QtdG90YWwtd2lkdGgsIDhweCkgLyAtMik7XG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZCAuZmMtZGF5Z3JpZC1ib2R5IHsgLyogdGhlIGFsbC1kYXkgZGF5Z3JpZCB3aXRoaW4gdGhlIHRpbWVncmlkIHZpZXcgKi9cbiAgICB6LWluZGV4OiAyOyAvKiBwdXQgYWJvdmUgdGhlIHRpbWVncmlkLWJvZHkgc28gdGhhdCBtb3JlLXBvcG92ZXIgaXMgYWJvdmUgZXZlcnl0aGluZy4gVE9ETzogYmV0dGVyIHNvbHV0aW9uICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtZGl2aWRlciB7XG4gICAgcGFkZGluZzogMCAwIDJweDsgLyogYnJvd3NlcnMgZ2V0IGNvbmZ1c2VkIHdoZW4geW91IHNldCBoZWlnaHQuIHVzZSBwYWRkaW5nIGluc3RlYWQgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1ib2R5IHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTsgLyogc2NvcGUgdGhlIHotaW5kZXhlcyBvZiBzbG90cyBhbmQgY29scyAqL1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7IC8qIGZpbGwgaGVpZ2h0IGFsd2F5cywgZXZlbiB3aGVuIHNsYXQgdGFibGUgZG9lc24ndCBncm93ICovXG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtYXhpcy1jaHVuayB7IC8qIGZvciBhZHZhbmNlZCBTY3JvbGxHcmlkICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlIC8qIG9mZnNldCBwYXJlbnQgZm9yIG5vdy1pbmRpY2F0b3ItY29udGFpbmVyICovXG5cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWNodW5rID4gdGFibGUge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgei1pbmRleDogMTsgLyogYWJvdmUgdGhlIG5vdy1pbmRpY2F0b3ItY29udGFpbmVyICovXG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZC1zbG90cyB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdCB7IC8qIGEgPHRkPiAqL1xuICAgIGhlaWdodDogMS41ZW07XG4gICAgYm9yZGVyLWJvdHRvbTogMCAvKiBlYWNoIGNlbGwgb3ducyBpdHMgdG9wIGJvcmRlciAqL1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLXNsb3Q6ZW1wdHk6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6ICdcXDAwYTAnOyAvKiBtYWtlIHN1cmUgdGhlcmUncyBhdCBsZWFzdCBhbiBlbXB0eSBzcGFjZSB0byBjcmVhdGUgaGVpZ2h0IGZvciBoZWlnaHQgc3luY2luZyAqL1xuICAgIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdC1taW5vciB7XG4gICAgYm9yZGVyLXRvcC1zdHlsZTogZG90dGVkO1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLXNsb3QtbGFiZWwtY3VzaGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbi5mYyAuZmMtdGltZWdyaWQtc2xvdC1sYWJlbCB7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgLyogdmVydGljYWwgYWxpZ24gdGhlIHNsb3RzICovXG4gIH1cbi5mYyB7XG5cblxuICAvKiBzbG90cyBBTkQgYXhpcyBjZWxscyAodG9wLWxlZnQgY29ybmVyIG9mIHZpZXcgaW5jbHVkaW5nIHRoZSBcImFsbC1kYXlcIiB0ZXh0KSAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLWF4aXMtY3VzaGlvbixcbiAgLmZjIC5mYy10aW1lZ3JpZC1zbG90LWxhYmVsLWN1c2hpb24ge1xuICAgIHBhZGRpbmc6IDAgNHB4O1xuICB9XG4uZmMge1xuXG5cbiAgLyogYXhpcyBjZWxscyAodG9wLWxlZnQgY29ybmVyIG9mIHZpZXcgaW5jbHVkaW5nIHRoZSBcImFsbC1kYXlcIiB0ZXh0KSAqL1xuICAvKiB2ZXJ0aWNhbCBhbGlnbiBpcyBtb3JlIGNvbXBsaWNhdGVkLCB1c2VzIGZsZXhib3ggKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWZyYW1lLWxpcXVpZCB7XG4gICAgaGVpZ2h0OiAxMDAlOyAvKiB3aWxsIG5lZWQgbGlxdWlkLWhhY2sgaW4gRkYgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWZyYW1lIHtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgLyogdmVydGljYWwgYWxpZ24gKi9cbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyAvKiBob3Jpem9udGFsIGFsaWduLiBtYXRjaGVzIHRleHQtYWxpZ24gYmVsb3cgKi9cbiAgfVxuLmZjIC5mYy10aW1lZ3JpZC1heGlzLWN1c2hpb24ge1xuICAgIG1heC13aWR0aDogNjBweDsgLyogbGltaXRzIHRoZSB3aWR0aCBvZiB0aGUgXCJhbGwtZGF5XCIgdGV4dCAqL1xuICAgIGZsZXgtc2hyaW5rOiAwOyAvKiBhbGxvd3MgdGV4dCB0byBleHBhbmQgaG93IGl0IG5vcm1hbGx5IHdvdWxkLCByZWdhcmRsZXNzIG9mIGNvbnN0cmFpbmVkIHdpZHRoICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10aW1lZ3JpZC1zbG90LWxhYmVsLWZyYW1lIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLXNsb3QtbGFiZWwtZnJhbWUge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gIH1cbi5mYy1saXF1aWQtaGFjayAuZmMtdGltZWdyaWQtYXhpcy1mcmFtZS1saXF1aWQge1xuICBoZWlnaHQ6IGF1dG87XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuICBsZWZ0OiAwO1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC5mYy1kYXktdG9kYXkge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDIyMCwgNDAsIDAuMTUpO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZmMtdG9kYXktYmctY29sb3IsIHJnYmEoMjU1LCAyMjAsIDQwLCAwLjE1KSk7XG4gICAgfVxuLmZjIC5mYy10aW1lZ3JpZC1jb2wtZnJhbWUge1xuICAgIG1pbi1oZWlnaHQ6IDEwMCU7IC8qIGxpcXVpZC1oYWNrIGlzIGJlbG93ICovXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB9XG4uZmMtbGlxdWlkLWhhY2sgLmZjLXRpbWVncmlkLWNvbC1mcmFtZSB7XG4gIGhlaWdodDogYXV0bztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWNvbHMge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgLyogbm8gei1pbmRleC4gY2hpbGRyZW4gd2lsbCBkZWNpZGUgYW5kIGdvIGFib3ZlIHNsb3RzICovXG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwXG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWNvbHMgPiB0YWJsZSB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgfVxuLmZjLW1lZGlhLXNjcmVlbiAuZmMtdGltZWdyaWQtY29sLWJnLFxuICAuZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1jb2wtZXZlbnRzLFxuICAuZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWNvbnRhaW5lciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICB9XG4uZmMtbWVkaWEtc2NyZWVuIC5mYy10aW1lZ3JpZC1ldmVudC1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IC8qIHRvcC9sZWZ0L3JpZ2h0L2JvdHRvbSB3aWxsIGFsbCBiZSBzZXQgYnkgSlMgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBiZyAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLWNvbC1iZyB7XG4gICAgei1pbmRleDogMjsgLyogVE9ETzoga2lsbCAqL1xuICB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC1iZyAuZmMtbm9uLWJ1c2luZXNzIHsgei1pbmRleDogMSB9XG4uZmMgLmZjLXRpbWVncmlkLWNvbC1iZyAuZmMtYmctZXZlbnQgeyB6LWluZGV4OiAyIH1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWJnIC5mYy1oaWdobGlnaHQgeyB6LWluZGV4OiAzIH1cbi5mYyAuZmMtdGltZWdyaWQtYmctaGFybmVzcyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlOyAvKiB0b3AvYm90dG9tIHdpbGwgYmUgc2V0IGJ5IEpTICovXG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgfVxuLmZjIHtcblxuICAvKiBmZyBldmVudHMgKi9cbiAgLyogKHRoZSBtaXJyb3Igc2VncyBhcmUgcHV0IGludG8gYSBzZXBhcmF0ZSBjb250YWluZXIgd2l0aCBzYW1lIGNsYXNzbmFtZSwgKi9cbiAgLyogYW5kIHRoZXkgbXVzdCBiZSBhZnRlciB0aGUgbm9ybWFsIHNlZyBjb250YWluZXIgdG8gYXBwZWFyIGF0IGEgaGlnaGVyIHotaW5kZXgpICovXG5cbn1cbi5mYyAuZmMtdGltZWdyaWQtY29sLWV2ZW50cyB7XG4gICAgei1pbmRleDogMztcbiAgICAvKiBjaGlsZCBldmVudCBzZWdzIGhhdmUgei1pbmRleGVzIHRoYXQgYXJlIHNjb3BlZCB3aXRoaW4gdGhpcyBkaXYgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBub3cgaW5kaWNhdG9yICovXG5cbn1cbi5mYyAuZmMtdGltZWdyaWQtbm93LWluZGljYXRvci1jb250YWluZXIge1xuICAgIGJvdHRvbTogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuOyAvKiBkb24ndCBsZXQgb3ZlcmZsb3cgb2YgbGluZXMvYXJyb3dzIGNhdXNlIHVubmVjZXNzYXJ5IHNjcm9sbGluZyAqL1xuICAgIC8qIHotaW5kZXggaXMgc2V0IG9uIHRoZSBpbmRpdmlkdWFsIGVsZW1lbnRzICovXG4gIH1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy10aW1lZ3JpZC1jb2wtZXZlbnRzIHtcbiAgICBtYXJnaW46IDAgMi41JSAwIDJweDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLWNvbC1ldmVudHMge1xuICAgIG1hcmdpbjogMCAycHggMCAyLjUlO1xuICB9XG4uZmMtdGltZWdyaWQtZXZlbnQtaGFybmVzcy1pbnNldCAuZmMtdGltZWdyaWQtZXZlbnQsXG4uZmMtdGltZWdyaWQtZXZlbnQuZmMtZXZlbnQtbWlycm9yIHtcbiAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMXB4ICNmZmY7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDFweCB2YXIoLS1mYy1wYWdlLWJnLWNvbG9yLCAjZmZmKTtcbn1cbi5mYy10aW1lZ3JpZC1ldmVudCB7IC8qIGV2ZW50cyBuZWVkIHRvIGJlIHJvb3QgKi9cblxuICBmb250LXNpemU6IC44NWVtO1xuXG4gIGZvbnQtc2l6ZTogdmFyKC0tZmMtc21hbGwtZm9udC1zaXplLCAuODVlbSk7XG4gIGJvcmRlci1yYWRpdXM6IDNweFxuXG59XG4uZmMtdGltZWdyaWQtZXZlbnQgLmZjLWV2ZW50LW1haW4ge1xuICAgIHBhZGRpbmc6IDFweCAxcHggMDtcbiAgfVxuLmZjLXRpbWVncmlkLWV2ZW50IC5mYy1ldmVudC10aW1lIHtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGZvbnQtc2l6ZTogLjg1ZW07XG4gICAgZm9udC1zaXplOiB2YXIoLS1mYy1zbWFsbC1mb250LXNpemUsIC44NWVtKTtcbiAgICBtYXJnaW4tYm90dG9tOiAxcHg7XG4gIH1cbi5mYy10aW1lZ3JpZC1ldmVudC1jb25kZW5zZWQgLmZjLWV2ZW50LW1haW4tZnJhbWUge1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuLmZjLXRpbWVncmlkLWV2ZW50LWNvbmRlbnNlZCAuZmMtZXZlbnQtdGltZTphZnRlciB7XG4gICAgY29udGVudDogJ1xcMDBhMC1cXDAwYTAnOyAvKiBkYXNoIHN1cnJvdW5kZWQgYnkgbm9uLWJyZWFraW5nIHNwYWNlcyAqL1xuICB9XG4uZmMtdGltZWdyaWQtZXZlbnQtY29uZGVuc2VkIC5mYy1ldmVudC10aXRsZSB7XG4gICAgZm9udC1zaXplOiAuODVlbTtcbiAgICBmb250LXNpemU6IHZhcigtLWZjLXNtYWxsLWZvbnQtc2l6ZSwgLjg1ZW0pXG4gIH1cbi5mYy1tZWRpYS1zY3JlZW4gLmZjLXRpbWVncmlkLWV2ZW50IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IC8qIGFic29sdXRlIFdJVEhJTiB0aGUgaGFybmVzcyAqL1xuICAgIHRvcDogMDtcbiAgICBib3R0b206IDFweDsgLyogc3RheSBhd2F5IGZyb20gYm90dG9tIHNsb3QgbGluZSAqL1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gIH1cbi5mYyB7XG5cbiAgLyogbGluZSAqL1xuXG59XG4uZmMgLmZjLXRpbWVncmlkLW5vdy1pbmRpY2F0b3ItbGluZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDQ7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1jb2xvcjogcmVkO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZmMtbm93LWluZGljYXRvci1jb2xvciwgcmVkKTtcbiAgICBib3JkZXItd2lkdGg6IDFweCAwIDA7XG4gIH1cbi5mYyB7XG5cbiAgLyogYXJyb3cgKi9cblxufVxuLmZjIC5mYy10aW1lZ3JpZC1ub3ctaW5kaWNhdG9yLWFycm93IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNDtcbiAgICBtYXJnaW4tdG9wOiAtNXB4OyAvKiB2ZXJ0aWNhbGx5IGNlbnRlciBvbiB0b3AgY29vcmRpbmF0ZSAqL1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgYm9yZGVyLWNvbG9yOiByZWQ7XG4gICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1mYy1ub3ctaW5kaWNhdG9yLWNvbG9yLCByZWQpO1xuICB9XG4uZmMtZGlyZWN0aW9uLWx0ciAuZmMtdGltZWdyaWQtbm93LWluZGljYXRvci1hcnJvdyB7XG4gICAgbGVmdDogMDtcblxuICAgIC8qIHRyaWFuZ2xlIHBvaW50aW5nIHJpZ2h0LiBUT0RPOiBtaXhpbiAqL1xuICAgIGJvcmRlci13aWR0aDogNXB4IDAgNXB4IDZweDtcbiAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLXRpbWVncmlkLW5vdy1pbmRpY2F0b3ItYXJyb3cge1xuICAgIHJpZ2h0OiAwO1xuXG4gICAgLyogdHJpYW5nbGUgcG9pbnRpbmcgbGVmdC4gVE9ETzogbWl4aW4gKi9cbiAgICBib3JkZXItd2lkdGg6IDVweCA2cHggNXB4IDA7XG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIH1cbiJdfQ== */\";","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { CalendarOptions, FullCalendarComponent } from '@fullcalendar/angular';\nimport { Calendar } from '@ionic-native/calendar/ngx';\nimport moment from 'moment';\nimport { Periodacity } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { PsBaseFieldComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { PsDateFormatPipe } from 'src/app/commonSRC/psPipes/ps-date-format/ps-date-format.pipe';\nimport { EventEmitterService } from 'src/app/commonSRC/psServices/event-emitter/event-emitter.service';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { CommonUtils } from 'src/app/commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { IOptionsPsDateDayMonthYearFutureExposed } from '../../ps-keyin-input/ps-day-month-year/ps-date-day-month-year-future/ps-date-day-month-year-future.component.interfaces';\nimport { IOptionsPsInputCountExposed } from '../../ps-keyin-input/ps-input-count/ps-input-count.component.interfaces';\nimport { IOptionsPsLovPeriodicityOptionsExposed } from '../../ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.interfaces';\nimport { IOptionsPSComplexRecurringSchedulerExposed } from './ps-complex-recurring-scheduler.component.interfaces';\n\n\ndeclare var Date;\n@Component({\n  selector: 'ps-complex-recurring-scheduler',\n  templateUrl: './ps-complex-recurring-scheduler.component.html',\n  styleUrls: ['./ps-complex-recurring-scheduler.component.scss'],\n})\nexport class PsComplexRecurringSchedulerComponent extends PsBaseFieldComponent implements OnInit {\n\n  @Input() options: IOptionsPSComplexRecurringSchedulerExposed;\n  @ViewChild('calendar', { static: false }) calendarComponent: FullCalendarComponent; // the #calendar in the template\n  // calendarPlugins = [dayGridPlugin, timeGrigPlugin, interactionPlugin];\n  // calendarWeekends = true;\n  calendarOptions: CalendarOptions = {\n    headerToolbar: {\n      left: 'prev,next',\n      center: 'title',\n      right: ''\n    },\n    weekends: true,\n    initialView: 'dayGridMonth',\n    dateClick: this.handleDateClick.bind(this),\n    events: []\n  };\n  eventColor = 'red';\n  hideDates = true;\n  priodicityOptions: IOptionsPsLovPeriodicityOptionsExposed = {};\n  selectedPriodicity: string;\n  selectedCount = 1;\n  onDayDateSelected: boolean;\n  onSaveBtn: boolean;\n  recurringDate: Date;\n  onDateSelectedByCalendar: boolean;\n  calendarCounter = 0;\n  calendarDate = new Date();\n  endCountOptions: IOptionsPsInputCountExposed;\n  priodicityByDay: boolean;\n  priodicityDay: number;\n  priodicityWeekOfMonth: number;\n  selectDayValue: number;\n  nextBtnClicked: boolean;\n  prevBtnClicked: boolean;\n  countUnlimited: boolean = false;\n  eventTitle: any;\n  singleDate: boolean = false;\n\n\n  startDateOptions: IOptionsPsDateDayMonthYearFutureExposed = {\n    fcName: 'startDate',\n    labelKey: 'start_date_key',\n    placeHolder: 'start_date_key',\n    disablePreview: true\n  };\n\n  endDateOptions: IOptionsPsDateDayMonthYearFutureExposed = {\n    fcName: 'endDate',\n    labelKey: 'end_date_key',\n    placeHolder: 'end_date_key',\n    disablePreview: true\n  };\n  endDatePrevValue = '';\n  startDatePrevValue = '';\n  countCust: any\n  calenderEventsList = [];\n  defaultDateFormat: any;\n  startDateValue: any;\n\n\n  get dateList() {\n    return [\n      {\n        previewLblOptions: {\n          labelKey: this.startDateOptions.labelKey,\n          psClass: 'ps-lbl-preview',\n          previewMode: true\n        },\n        previewValOptions: {\n          labelKey: this.startDatePrevValue,\n          psClass: 'ps-value-preview',\n          previewMode: true\n        }\n      },\n      {\n        previewLblOptions: {\n          labelKey: this.endDateOptions.labelKey,\n          psClass: 'ps-lbl-preview',\n          previewMode: true\n        },\n        previewValOptions: {\n          labelKey: this.endDatePrevValue,\n          psClass: 'ps-value-preview',\n          previewMode: true\n        }\n      },\n    ]\n  }\n\n  unlimitedValue;\n  constructor(public commonProv: PsCommonService, public logger: LoggerService, private calendar: Calendar, private eventEmitter: EventEmitterService, private omniPull: OmniPullService) {\n    super(commonProv, logger);\n  }\n\n  ngOnInit() {\n    this.unlimitedValue = this.commonProv.translate('unlimited_key'); //Mohanad AZDB-6448 - 19112024\n    this.startDateOptions.group = this.options.group;\n    this.endDateOptions.group = this.options.group;\n    this.priodicityOptions = {\n      fcName: 'periodicity',\n      group: this.options.group\n    };\n    this.endCountOptions = {\n      group: this.options.group,\n      fcName: this.options.periodaicityInputCountOptions.fcName,\n      labelKey: this.options.periodaicityInputCountOptions.labelKey ? this.options.periodaicityInputCountOptions.labelKey : 'number_of_payments_key',\n      forceTriggerChange: true\n    };\n    this.priodicityByDay = false;\n    //added by ghada, AZDB-4828 for getting OADM default date format to be used as a param to datePipe component \n    const param = this.omniPull.omniCommon.session.getValueOf(ConstantCommon.preLoginResponse).parameters;\n    this.defaultDateFormat = param.DefaultDateFormat ? param.DefaultDateFormat.parameterVal : 'DD/MM/YYYY';\n    //added by ghada, AZDB-4828 for easing and unifying getting component value  \n    this.startDateValue = this.options.group.controls[this.startDateOptions.fcName]?.value || this.options.requestObject[this.startDateOptions.fcName];\n    this.setCalenderEvents();\n    // This method is to populate the calendar events with respect to no of payments and priodicity\n    // while navigating to next/previous months\n\n    this.onNextPreviousCalendarMonth();\n    this.countCust = this.commonProv.getElementValidations(this.endCountOptions.fcName);\n    if (!(this.countCust.DEFAULT_VALUE || this.countCust.MIN_VALUE)) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MINVALUE, [this.endCountOptions.fcName], 1);\n    }\n    this.eventEmitter.schedulerObjLoadedPromise.subscribe((requestObject) => {\n      if (requestObject) {\n        this.loadSchedulerPromise(requestObject);\n      }\n    })\n  }\n\n  onChangePriodicityLov(values) {\n    if (values !== undefined && values.itemValue !== undefined && this.options.requestObject !== undefined) {\n      this.selectDayValue = 0;\n      this.selectedPriodicity = values.itemValue;\n      this.onDayDateSelected = true;\n      this.onSaveBtn = false;\n      let countBaseValue = this.countCust?.DEFAULT_VALUE ? CommonUtils.parseInt(JSON.parse(this.countCust.DEFAULT_VALUE).value) : undefined;\n      this.singleDate = this.selectedPriodicity === Periodacity.SINGLE;\n\n      if (this.selectedPriodicity === Periodacity.SINGLE) {\n        this.common.setValInsideNestedObj(this.endCountOptions.fcName, null, this.options.requestObject);\n        this.common.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.endCountOptions.fcName], 0);\n        this.countUnlimited = false; // added by Marina TP #1487034 to avoid getting incorrect end date on single future day periodicity\n      } else if (!countBaseValue && (this.options.requestObject[this.endCountOptions.fcName] === this.unlimitedValue || this.options.requestObject[this.endCountOptions.fcName] == null)) {\n        this.countUnlimited = true;\n        this.setUnlimitedPeriodaityCount(this.selectedPriodicity);\n        this.common.setValInsideNestedObj(this.endCountOptions.fcName, this.unlimitedValue, this.options.requestObject);\n      } else {\n        this.countUnlimited = false;\n        this.selectedCount = this.options.requestObject[this.endCountOptions.fcName] || countBaseValue || this.selectedCount;\n        this.common.setValInsideNestedObj(this.endCountOptions.fcName, this.selectedCount, this.options.requestObject);\n      }\n      //Modified by ghada, AZDB-4828 using PsDateFormatPipe instead of new Date to hande case of getting date with invaid date format 'dd/mm/yyyy'\n      this.dateManipulation(this.selectedPriodicity, this.parseCalenderDate(this.startDateValue) || new Date());\n    }\n  }\n  onChangePriodicityEnd(currentCount) {\n    if (currentCount.newValue === undefined && this.options.requestObject !== undefined) {\n      currentCount = currentCount !== this.unlimitedValue ? parseInt(currentCount) : currentCount;\n      this.selectDayValue = 0;\n      if (currentCount !== undefined && currentCount.length > 4 && typeof (currentCount) === \"number\") {\n        this.commonProv.presentAlert('scheduler_preview_key', 'calendar_date_process_limit_exceeded_key');\n        this.common.setValInsideNestedObj(this.endCountOptions.fcName, null, this.options.requestObject);\n        return;\n      }\n      if (this.calenderEventsList.length > 0) {\n        if (currentCount === this.unlimitedValue) {\n          this.countUnlimited = true;\n        } else {\n          this.countUnlimited = false;\n        }\n        this.calendarDate = this.startDateValue ? this.parseCalenderDate(this.startDateValue) : new Date(this.getCalenderFirstDate().toString());\n        if (currentCount != undefined || currentCount != null) {\n          if (currentCount == 0) {\n            this.selectedCount = 1;\n            this.common.setValInsideNestedObj(this.endCountOptions.fcName, 1, this.options.requestObject);\n          } else {\n            this.selectedCount = typeof (currentCount) === 'number' ? currentCount : this.calenderEventsList.length;\n            if (this.countUnlimited) {\n              this.setUnlimitedPeriodaityCount(this.selectedPriodicity);\n            }\n          }\n          this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n        }\n      }\n    }\n  }\n  onChangeDayDate(values) {\n    this.calendarDate = new Date(this.getCalenderFirstDate().toString());\n    this.selectDayValue = 0;\n    if (values.itemValue === 'Day') {\n      this.priodicityByDay = true;\n      this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n    } else {\n      this.priodicityByDay = false;\n      this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n    }\n  }\n\n  handleDateClick(arg) {\n    const todayDate = new Date();\n    const formattedDate = todayDate.getDate() + '-' + todayDate.getMonth() + '-' + todayDate.getFullYear();\n    const argFormattedDate = arg.date.getDate() + '-' + arg.date.getMonth() + '-' + arg.date.getFullYear();\n    this.selectedPriodicity = this.selectedPriodicity && this.selectedPriodicity['itemValue'] !== undefined ? this.selectedPriodicity['itemValue'] : this.selectedPriodicity;\n    if (arg.date < todayDate) {\n      if (argFormattedDate === formattedDate) {\n        this.selectDayValue = 0;\n        this.onDateSelectedByCalendar = true;\n        this.calendarDate = arg.date;\n        this.dateManipulation(this.selectedPriodicity, arg.date);\n      }\n      return;\n    }\n    this.selectDayValue = 0;\n    this.onDateSelectedByCalendar = true;\n    this.calendarDate = arg.date;\n    this.dateManipulation(this.selectedPriodicity, arg.date);\n  }\n\n  dateManipulation(priodicity, date) {\n    this.calenderEventsList = [];\n    priodicity = priodicity !== undefined ? (typeof (priodicity) !== 'string' ? priodicity.itemValue : priodicity) : undefined;\n\n    if (priodicity === undefined || priodicity === Periodacity.SINGLE) {\n      let singleEventDate = new Date(date.setDate(date.getDate()));\n      this.setCalenderEvents(priodicity === Periodacity.SINGLE ? 'single_scheduler_key' : '', singleEventDate);\n    }\n\n    if (priodicity === Periodacity.WEEKLY) {\n      this.setCalenderToPeriodacity(date, 7);\n    }\n\n    if (priodicity === Periodacity.MONTHLY) {\n      this.setCalenderToMonthlyPeriodacity(date);\n    }\n\n    if (priodicity === Periodacity.DAILY) {\n      this.setCalenderToPeriodacity(date)\n    }\n\n    if (priodicity === Periodacity.FORTNIGHTLY) {\n      this.setCalenderToPeriodacity(date, 14);\n    }\n\n    if (priodicity === Periodacity.YEARLY) {\n      this.setCalenderToPeriodacity(date)\n    }\n    this.onPsChange.emit({\n      startDate: this.getCalenderFirstDate(),\n      endDate: this.getCalenderLastDate(),\n      unlimitedNumberOfPayments: this.countUnlimited,\n      priodicityBy: priodicity\n    });\n    this.setStartEndDate(this.getCalenderFirstDate(), this.countUnlimited ? this.unlimitedValue : this.getCalenderLastDate());\n  }\n\n  private setCalenderToPeriodacity(date, increaseCount?) {\n    increaseCount = increaseCount || 1;\n    for (let i = 0; i <= this.selectedCount - 1; i++) {\n      let eventDate;\n      if (i === 0) {\n        eventDate = new Date(date.setDate(date.getDate()));\n      } else if (i > 0) {\n        if ((this.selectedPriodicity['itemValue'] || this.selectedPriodicity) !== Periodacity.YEARLY) {\n          eventDate = new Date(date.setDate(date.getDate() + increaseCount));\n        } else {\n          eventDate = new Date(date.setFullYear(date.getFullYear() + increaseCount));\n        }\n      }\n      this.setCalenderEvents('new_recuring_scheduler_key', eventDate);\n    }\n  }\n\n  private setCalenderToMonthlyPeriodacity(date: any) {\n    const selectedDate = new Date(date);\n    const periodicityDayString = new Date(date).toDateString().split(' ')[0];\n    if (this.priodicityByDay) {\n      this.setMonthlyPeriodicityByDay(selectedDate, periodicityDayString);\n    } else {\n      for (let i = 0; i < this.selectedCount; i++) {\n        const futureMonthLastDay = new Date(selectedDate.getFullYear(), selectedDate.getMonth() + (i + 1), 0);\n        const y = futureMonthLastDay.getFullYear();\n        const m = futureMonthLastDay.getMonth();\n        let d = futureMonthLastDay.getDate();\n        d = selectedDate.getDate();\n        if (this.onDateSelectedByCalendar === false) {\n          this.recurringDate = new Date(y, m, d);\n        }\n        const countDays = new Date(y, m + 1, 0).getDate();\n        if (d >= countDays) {\n          d = countDays;\n          this.recurringDate = new Date(y, m, d);\n        } else {\n          this.recurringDate = new Date(y, m, selectedDate.getDate());\n        }\n        this.setCalenderEvents('new_recuring_scheduler_key', this.recurringDate);\n      }\n    }\n  }\n\n  private setMonthlyPeriodicityByDay(selectedDate: any, periodicityDayString: any) {\n    let updatedDate = new Date(selectedDate);\n    if (this.nextBtnClicked) {\n      updatedDate = new Date(updatedDate.setDate(selectedDate.getDate()));\n      updatedDate = updatedDate.next().month();\n    }\n    for (let i = 0; i < this.selectedCount; i++) {\n      if (this.selectDayValue === 0) {\n        this.selectDayValue += 1;\n        this.setCalenderEvents(null, selectedDate);\n        if (!this.nextBtnClicked) {\n          updatedDate = new Date(updatedDate.setDate(selectedDate.getDate()));\n          updatedDate = updatedDate.next().month();\n        }\n      }\n      if (this.selectDayValue > 0) {\n        updatedDate = new Date(updatedDate.setDate(selectedDate.getDate()));\n        if (updatedDate.toDateString().split(' ')[0] !== periodicityDayString) {\n          if (periodicityDayString === 'Mon') {\n            updatedDate = updatedDate.monday();\n          } else if (periodicityDayString === 'Tue') {\n            updatedDate = updatedDate.tuesday();\n          } else if (periodicityDayString === 'Wed') {\n            updatedDate = updatedDate.wednesday();\n          } else if (periodicityDayString === 'Thu') {\n            updatedDate = updatedDate.thursday();\n          } else if (periodicityDayString === 'Fri') {\n            updatedDate = updatedDate.friday();\n          } else if (periodicityDayString === 'Sat') {\n            updatedDate = updatedDate.saturday();\n          } else if (periodicityDayString === 'Sun') {\n            updatedDate = updatedDate.sunday();\n          }\n        }\n        const futureMonthLastDay = new Date(updatedDate.getFullYear(), updatedDate.getMonth() + 1, 0);\n        const y = futureMonthLastDay.getFullYear();\n        const m = futureMonthLastDay.getMonth();\n        let d = futureMonthLastDay.getDate();\n        if (this.onDateSelectedByCalendar === false) {\n          this.recurringDate = new Date(y, m, d);\n        }\n        const countDays = new Date(y, m + 1, 0).getDate();\n        if (updatedDate.getDate() === d && d >= countDays) {\n          d = countDays;\n          this.recurringDate = new Date(y, m, d);\n        } else {\n          this.recurringDate = new Date(y, m, updatedDate.getDate());\n        }\n        this.setCalenderEvents('new_recuring_scheduler_key', this.recurringDate);\n        updatedDate = new Date(updatedDate.setDate(selectedDate.getDate()));\n        updatedDate = updatedDate.next().month();\n      }\n    }\n  }\n\n  setStartEndDate(start, end) {\n    this.options.group.controls[this.startDateOptions.fcName]?.reset(); //Added by ghada, tp1179314 for fixing the issue of having startDate with different date format\n    this.options.group.controls[this.endDateOptions.fcName]?.reset();\n    this.options.group.controls[this.startDateOptions.fcName]?.setValue(start);\n    this.options.group.controls[this.endDateOptions.fcName]?.setValue(end == this.unlimitedValue ? new Date(new Date().setFullYear(new Date().getFullYear() + 99)) : end);\n    this.startDateValue = start;\n    this.preparePreviewValue()\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.endDateOptions.fcName], 0);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.startDateOptions.fcName], 0);\n  }\n\n  preparePreviewValue() {\n    this.startDatePrevValue = this.startDateValue ? new PsDateFormatPipe().transform(this.startDateValue, this.defaultDateFormat) : '';\n    this.endDatePrevValue = this.options.group.controls[this.endDateOptions.fcName] ? (this.options.requestObject[this.endCountOptions.fcName] == this.unlimitedValue ? this.unlimitedValue : new PsDateFormatPipe().transform(this.options.group.controls[this.endDateOptions.fcName].value, this.defaultDateFormat)) : '';\n  }\n\n  ionViewWillLeave() {\n    document.getElementsByTagName('ps-components')[0]['style'].removeProperty('display');\n  }\n\n  disablePrevBtn() {\n    document.getElementsByClassName('fc-prev-button')[0]['style'].cssText = 'pointer-events: none; background: var(--ion-color-medium); border: none';\n  }\n\n  enablePrevBtn() {\n    document.getElementsByClassName('fc-prev-button')[0]['style'].cssText = 'pointer-events: all; background: var(--ion-color-dark-shade); border-color: var(--ion-color-dark-shade)';\n  }\n\n  onNextPreviousCalendarMonth() {\n    setTimeout(() => {\n      this.disablePrevBtn();\n      const todayDate = new Date()['clearTime']();\n      if (this.calenderEventsList.length == 0 && this.options.requestObject[this.startDateOptions.fcName] === undefined && this.options.requestObject[this.endDateOptions.fcName] === undefined) {\n        this.options.group.controls[this.startDateOptions.fcName].setValue(todayDate);\n        this.options.requestObject[this.startDateOptions.fcName] = todayDate;\n        this.startDateValue = todayDate;\n        this.options.group.controls[this.endDateOptions.fcName].setValue(null);\n      }\n      document.getElementsByClassName('fc-next-button')[0].addEventListener('click', () => {\n        if (this.countUnlimited) {\n          this.setUnlimitedPeriodaityCount(this.selectedPriodicity);\n        }\n        if (this.priodicityByDay) {\n          this.selectDayValue = 0;\n          this.nextBtnClicked = true;\n        } else {\n          this.nextBtnClicked = false;\n        }\n        if (this.onDateSelectedByCalendar === false) {\n          this.calendarCounter += 1;\n          this.dateManipulation(this.selectedPriodicity, new Date());\n        } else {\n          this.calendarCounter += 1;\n          if (this.calenderEventsList.length > 0) {\n            this.calendarDate = this.getCalenderFirstDate();\n            this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n          } else {\n            this.calendarDate = new Date();\n            this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n          }\n        }\n        this.enablePrevBtn();\n      });\n      document.getElementsByClassName('fc-prev-button')[0].addEventListener('click', () => {\n        if (this.countUnlimited) {\n          this.setUnlimitedPeriodaityCount(this.selectedPriodicity, false);\n        }\n        if (this.priodicityByDay) {\n          this.selectDayValue = 0;\n          this.prevBtnClicked = true;\n        } else {\n          this.prevBtnClicked = false;\n        }\n        if (this.calendarCounter > 1) {\n          if (this.calendarCounter === 2) {\n            this.disablePrevBtn();\n          }\n          if (this.onDateSelectedByCalendar === false) {\n            this.calendarCounter -= 1;\n            this.dateManipulation(this.selectedPriodicity, new Date());\n          } else {\n            this.calendarCounter -= 1;\n\n            if (this.calenderEventsList.length > 0) {\n              this.calendarDate = this.getCalenderFirstDate();\n              this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n            } else {\n              this.calendarDate = new Date();\n              this.dateManipulation(this.selectedPriodicity, this.calendarDate);\n            }\n          }\n        } else {\n          this.disablePrevBtn();\n        }\n      });\n      this.calendarCounter += 1;\n      setTimeout(() => {\n        if (this.options.calendarEventConfiguration !== undefined) {\n          if (!this.options.requestObject.dataSaveId) {\n            this.setCalenderEvents();\n          }\n        } else {\n          this.calenderEventsList = [{\n            title: 'New Event',\n            start: new Date(),\n            allDay: true\n          }];\n        }\n      }, 1000);\n    }, 500);\n  }\n\n  loadSchedulerPromise(requestObject) {\n    this.options.requestObject = requestObject;\n    this.selectedPriodicity = this.options.requestObject[this.priodicityOptions.fcName]\n    this.setCalenderEvents();\n    if (this.options.requestObject && this.options.requestObject[this.endCountOptions.fcName] !== null && this.options.requestObject[this.endCountOptions.fcName] < 999) {\n      this.endCountOptions.group.controls[this.endCountOptions.fcName].setValue(this.options.requestObject[this.endCountOptions.fcName]);\n      this.onChangePriodicityEnd(this.options.requestObject[this.endCountOptions.fcName]);\n    }\n  }\n\n  setCalenderEvents(title?, startDate?) {\n    this.eventTitle = this.options.requestObject.transactionAmount || (title ? this.common.translate(title) : '');\n    const draftDate = this.startDateValue ? this.parseCalenderDate(this.startDateValue) : new Date(new Date().setHours(0, 0, 0, 0));\n    this.options.calendarEventConfiguration = {\n      title: this.eventTitle,\n      start: startDate || draftDate,\n      allDay: true,\n      backgroundColor: '#e77543',\n      borderColor: 'white',\n      textColor: 'white',\n      className: 'selectedCellClass'\n    }\n\n    if (this.options.hasMendatoryEvent && this.options.calendarEventConfiguration.start !== undefined) {\n      this.calenderEventsList = [this.options.calendarEventConfiguration];\n    } else {\n      let duplicateElmIndex: any = this.calenderEventsList.findIndex((e: any) => e.start.getTime() === (this.options.calendarEventConfiguration.start as any).getTime());\n      if (duplicateElmIndex != -1) {\n        this.calenderEventsList.splice(duplicateElmIndex, 1);\n      }\n    }\n    this.calenderEventsList = this.calenderEventsList.concat(this.options.calendarEventConfiguration);\n    this.setsortedCalenderDates();\n    setTimeout(() => {\n      this.calendarOptions.events = this.calenderEventsList;\n    }, 0);\n  }\n\n  setUnlimitedPeriodaityCount(periodacity, increment?) {\n    increment = increment || true;\n    switch (periodacity) {\n      case Periodacity.DAILY: {\n        this.selectedCount = increment ? this.selectedCount + 31 : this.selectedCount - 31;\n        break;\n      }\n      case Periodacity.WEEKLY: {\n        this.selectedCount = increment ? this.selectedCount + 5 : this.selectedCount - 5;\n        break;\n      }\n      case Periodacity.MONTHLY: {\n        this.selectedCount = increment ? this.selectedCount + 1 : this.selectedCount - 1;\n        break;\n      }\n      case Periodacity.YEARLY: {\n        this.selectedCount = increment ? this.selectedCount + 1 : this.selectedCount - 1;\n        break;\n      }\n      case Periodacity.FORTNIGHTLY: {\n        this.selectedCount = increment ? this.selectedCount + 3 : this.selectedCount - 3;\n        break;\n      }\n    }\n  }\n\n  setsortedCalenderDates() {\n    return this.calenderEventsList.sort((e1, e2) => e1?.start?.getTime() > e2?.start?.getTime() ? 1 : -1);\n  }\n\n  getCalenderLastDate() {\n    return new Date(this.setsortedCalenderDates()[this.setsortedCalenderDates().length - 1]?.start);\n  }\n\n  getCalenderFirstDate() {\n    return new Date(this.setsortedCalenderDates()[0]?.start);\n  }\n\n  //AZDB-5514, added by ghada to handel the case of having both valid and invalide date format \n  parseCalenderDate(date) {\n    let parsedDate = date;\n    if (!moment(parsedDate, moment.ISO_8601, true).isValid() && typeof (date) == 'string') {\n      parsedDate = new PsDateFormatPipe().parse(parsedDate, this.defaultDateFormat)\n    } else {\n      parsedDate = new Date(date)\n    }\n    return parsedDate;\n  }\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsComponentsModule } from '../../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsDateDayMonthYearComponentModule } from '../ps-date-day-month-year.component.module';\r\nimport { PsDateDayMonthYearFutureComponent } from './ps-date-day-month-year-future.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PsDateDayMonthYearFutureComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsDateDayMonthYearComponentModule\r\n    ],\r\n    exports: [\r\n        PsDateDayMonthYearFutureComponent\r\n    ],\r\n    entryComponents: [\r\n        PsDateDayMonthYearFutureComponent\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsDateDayMonthYearFutureComponentModule { }\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { PsComponentsModule } from 'src/app/commonSRC/psComponents/ps-components.module';\r\nimport { PsTemplateListModule } from 'src/app/commonSRC/psTemplates/ps-template-list/ps-template-list.template.module';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\nimport { PsAccountsListComponent } from './ps-accounts-list.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [PsAccountsListComponent],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsTemplateListModule\r\n    ],\r\n    exports: [PsAccountsListComponent],\r\n    entryComponents: [PsAccountsListComponent],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsAccountsListComponentModule { }\r\n","import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:2}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}:root{--fc-daygrid-event-dot-width:8px}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:fixed;top:0}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:2px 3px 0}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover{z-index:8}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-event-harness{position:absolute}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-condensed .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-condensed .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-condensed .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-media-screen .fc-timegrid-event{bottom:1px;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-moz-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\\\") format(\\\"truetype\\\")}.fc-icon{-moz-osx-font-smoothing:grayscale;-moz-user-select:none;-webkit-font-smoothing:antialiased;-webkit-user-select:none;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;speak:none;text-align:center;text-transform:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{-moz-user-select:none;-webkit-user-select:none;background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:hover{background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:disabled{background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27);color:#fff;color:var(--fc-button-text-color,#fff)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid{height:auto}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:2}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic;margin:.5em}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:#fff;background:var(--fc-page-bg-color,#fff);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px)/2);border-width:1px;height:8px;height:var(--fc-event-resizer-dot-total-width,8px);width:8px;width:var(--fc-event-resizer-dot-total-width,8px)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after{background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}:root{--fc-daygrid-event-dot-width:8px}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:fixed;top:0}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:#fff;background:var(--fc-page-bg-color,#fff);border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:2px 3px 0}.fc .fc-daygrid-more-link{cursor:pointer;position:relative;z-index:4}.fc .fc-daygrid-week-number{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover{z-index:8}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8);border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);display:block}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-event-harness{position:absolute}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event{border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-condensed .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-condensed .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-condensed .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-media-screen .fc-timegrid-event{bottom:1px;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-now-indicator-line{border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red);left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{align-items:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px)/2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:red;border-color:var(--fc-now-indicator-color,red);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:\\\"\\\";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n//# sourceMappingURL=fullcalendar-angular.js.map","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\n\r\nimport { PsComponentsModule } from '../../../../../commonSRC/psComponents/ps-components.module';\r\nimport { SharedModule } from '../../../../../commonSRC/shared.module';\r\nimport { PsDropdownLovComponentModule } from '../ps-dropdown-lov.component.module';\r\nimport { PsLovPeriodicityOptionsComponent } from './ps-lov-periodicity.component';\r\n\r\n@NgModule({\r\n    declarations: [PsLovPeriodicityOptionsComponent],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsDropdownLovComponentModule\r\n    ],\r\n    exports: [PsLovPeriodicityOptionsComponent],\r\n    entryComponents: [PsLovPeriodicityOptionsComponent],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsLovPeriodicityOptionsComponentModule { }\r\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, DateComponent, renderScrollShim, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, setRef, DayCellRoot, WeekNumberRoot, RenderHook, buildSegTimeText, EventRoot, StandardEvent, sortEventSegs, addDays, intersectRanges, RefMap, isPropsEqual, getSegMeta, buildEventRangeKey, BgEvent, renderFill, PositionCache, mapHash, DelayedRunner, applyStyle, memoize, NowTimer, EventApi, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArrays } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            setRef(_this.props.elRef, el);\n        };\n        _this.handleMoreLinkClick = function (ev) {\n            var props = _this.props;\n            if (props.onMoreClick) {\n                var allSegs = props.segsByEachCol;\n                var hiddenSegs = allSegs.filter(function (seg) { return props.segIsHidden[seg.eventRange.instance.instanceId]; });\n                props.onMoreClick({\n                    date: props.date,\n                    allSegs: allSegs,\n                    hiddenSegs: hiddenSegs,\n                    moreCnt: props.moreCnt,\n                    dayEl: _this.rootEl,\n                    ev: ev,\n                });\n            }\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var hookProps = {\n            num: props.moreCnt,\n            text: props.buildMoreLinkText(props.moreCnt),\n            view: viewApi,\n        };\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef, style: { paddingBottom: props.fgPaddingBottom } },\n                    props.fgContent,\n                    Boolean(props.moreCnt) && (createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(RenderHook, { hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: _this.handleMoreLinkClick }, innerContent)); })))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\nTableCell.addPropsEquality({\n    onMoreClick: true,\n});\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nfunction computeFgSegPlacement(// for one row. TODO: print mode?\ncellModels, segs, dayMaxEvents, dayMaxEventRows, eventHeights, maxContentHeight, colCnt, eventOrderSpecs) {\n    var colPlacements = []; // if event spans multiple cols, its present in each col\n    var moreCnts = []; // by-col\n    var segIsHidden = {};\n    var segTops = {}; // always populated for each seg\n    var segMarginTops = {}; // simetimes populated for each seg\n    var moreTops = {};\n    var paddingBottoms = {}; // for each cell's inner-wrapper div\n    for (var i = 0; i < colCnt; i += 1) {\n        colPlacements.push([]);\n        moreCnts.push(0);\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventHeights[instanceId + ':' + seg.firstCol];\n        placeSeg(seg, eventHeight || 0); // will keep colPlacements sorted by top\n    }\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        limitByMaxHeight(moreCnts, segIsHidden, colPlacements, maxContentHeight); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        limitByMaxEvents(moreCnts, segIsHidden, colPlacements, dayMaxEvents); // populates moreCnts/segIsHidden\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        limitByMaxRows(moreCnts, segIsHidden, colPlacements, dayMaxEventRows); // populates moreCnts/segIsHidden\n    }\n    // computes segTops/segMarginTops/moreTops/paddingBottoms\n    for (var col = 0; col < colCnt; col += 1) {\n        var placements = colPlacements[col];\n        var currentNonAbsBottom = 0;\n        var currentAbsHeight = 0;\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            var seg = placement.seg;\n            if (!segIsHidden[seg.eventRange.instance.instanceId]) {\n                segTops[seg.eventRange.instance.instanceId] = placement.top; // from top of container\n                if (seg.firstCol === seg.lastCol && seg.isStart && seg.isEnd) { // TODO: simpler way? NOT DRY\n                    segMarginTops[seg.eventRange.instance.instanceId] =\n                        placement.top - currentNonAbsBottom; // from previous seg bottom\n                    currentAbsHeight = 0;\n                    currentNonAbsBottom = placement.bottom;\n                }\n                else { // multi-col event, abs positioned\n                    currentAbsHeight = placement.bottom - currentNonAbsBottom;\n                }\n            }\n        }\n        if (currentAbsHeight) {\n            if (moreCnts[col]) {\n                moreTops[col] = currentAbsHeight;\n            }\n            else {\n                paddingBottoms[col] = currentAbsHeight;\n            }\n        }\n    }\n    function placeSeg(seg, segHeight) {\n        if (!tryPlaceSegAt(seg, segHeight, 0)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) { // will repeat multi-day segs!!!!!!! bad!!!!!!\n                    var placement = _a[_i];\n                    if (tryPlaceSegAt(seg, segHeight, placement.bottom)) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    function tryPlaceSegAt(seg, segHeight, top) {\n        if (canPlaceSegAt(seg, segHeight, top)) {\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                var placements = colPlacements[col];\n                var insertionIndex = 0;\n                while (insertionIndex < placements.length &&\n                    top >= placements[insertionIndex].top) {\n                    insertionIndex += 1;\n                }\n                placements.splice(insertionIndex, 0, {\n                    seg: seg,\n                    top: top,\n                    bottom: top + segHeight,\n                });\n            }\n            return true;\n        }\n        return false;\n    }\n    function canPlaceSegAt(seg, segHeight, top) {\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            for (var _i = 0, _a = colPlacements[col]; _i < _a.length; _i++) {\n                var placement = _a[_i];\n                if (top < placement.bottom && top + segHeight > placement.top) { // collide?\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    // what does this do!?\n    for (var instanceIdAndFirstCol in eventHeights) {\n        if (!eventHeights[instanceIdAndFirstCol]) {\n            segIsHidden[instanceIdAndFirstCol.split(':')[0]] = true;\n        }\n    }\n    var segsByFirstCol = colPlacements.map(extractFirstColSegs); // operates on the sorted cols\n    var segsByEachCol = colPlacements.map(function (placements, col) {\n        var segsForCols = extractAllColSegs(placements);\n        segsForCols = resliceDaySegs(segsForCols, cellModels[col].date, col);\n        return segsForCols;\n    });\n    return {\n        segsByFirstCol: segsByFirstCol,\n        segsByEachCol: segsByEachCol,\n        segIsHidden: segIsHidden,\n        segTops: segTops,\n        segMarginTops: segMarginTops,\n        moreCnts: moreCnts,\n        moreTops: moreTops,\n        paddingBottoms: paddingBottoms,\n    };\n}\nfunction extractFirstColSegs(oneColPlacements, col) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_1 = oneColPlacements; _i < oneColPlacements_1.length; _i++) {\n        var placement = oneColPlacements_1[_i];\n        if (placement.seg.firstCol === col) {\n            segs.push(placement.seg);\n        }\n    }\n    return segs;\n}\nfunction extractAllColSegs(oneColPlacements) {\n    var segs = [];\n    for (var _i = 0, oneColPlacements_2 = oneColPlacements; _i < oneColPlacements_2.length; _i++) {\n        var placement = oneColPlacements_2[_i];\n        segs.push(placement.seg);\n    }\n    return segs;\n}\nfunction limitByMaxHeight(hiddenCnts, segIsHidden, colPlacements, maxContentHeight) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement) { return placement.bottom <= maxContentHeight; });\n}\nfunction limitByMaxEvents(hiddenCnts, segIsHidden, colPlacements, dayMaxEvents) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, false, function (placement, levelIndex) { return levelIndex < dayMaxEvents; });\n}\nfunction limitByMaxRows(hiddenCnts, segIsHidden, colPlacements, dayMaxEventRows) {\n    limitEvents(hiddenCnts, segIsHidden, colPlacements, true, function (placement, levelIndex) { return levelIndex < dayMaxEventRows; });\n}\n/*\npopulates the given hiddenCnts/segIsHidden, which are supplied empty.\nTODO: return them instead\n*/\nfunction limitEvents(hiddenCnts, segIsHidden, colPlacements, _moreLinkConsumesLevel, isPlacementInBounds) {\n    var colCnt = hiddenCnts.length;\n    var segIsVisible = {}; // TODO: instead, use segIsHidden with true/false?\n    var visibleColPlacements = []; // will mirror colPlacements\n    for (var col = 0; col < colCnt; col += 1) {\n        visibleColPlacements.push([]);\n    }\n    for (var col = 0; col < colCnt; col += 1) {\n        var placements = colPlacements[col];\n        var level = 0;\n        for (var _i = 0, placements_2 = placements; _i < placements_2.length; _i++) {\n            var placement = placements_2[_i];\n            if (isPlacementInBounds(placement, level)) {\n                recordVisible(placement);\n            }\n            else {\n                recordHidden(placement, level, _moreLinkConsumesLevel);\n            }\n            // only considered a level if the seg had height\n            if (placement.top !== placement.bottom) {\n                level += 1;\n            }\n        }\n    }\n    function recordVisible(placement) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsVisible[instanceId]) {\n            segIsVisible[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                var destPlacements = visibleColPlacements[col];\n                var newPosition = 0;\n                // insert while keeping top sorted in each column\n                while (newPosition < destPlacements.length &&\n                    placement.top >= destPlacements[newPosition].top) {\n                    newPosition += 1;\n                }\n                destPlacements.splice(newPosition, 0, placement);\n            }\n        }\n    }\n    function recordHidden(placement, currentLevel, moreLinkConsumesLevel) {\n        var seg = placement.seg;\n        var instanceId = seg.eventRange.instance.instanceId;\n        if (!segIsHidden[instanceId]) {\n            segIsHidden[instanceId] = true;\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                hiddenCnts[col] += 1;\n                var hiddenCnt = hiddenCnts[col];\n                if (moreLinkConsumesLevel && hiddenCnt === 1 && currentLevel > 0) {\n                    var doomedLevel = currentLevel - 1;\n                    while (visibleColPlacements[col].length > doomedLevel) {\n                        recordHidden(visibleColPlacements[col].pop(), // removes\n                        visibleColPlacements[col].length, // will execute after the pop. will be the index of the removed placement\n                        false);\n                    }\n                }\n            }\n        }\n    }\n}\n// Given the events within an array of segment objects, reslice them to be in a single day\nfunction resliceDaySegs(segs, dayDate, colIndex) {\n    var dayStart = dayDate;\n    var dayEnd = addDays(dayStart, 1);\n    var dayRange = { start: dayStart, end: dayEnd };\n    var newSegs = [];\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        var eventRange = seg.eventRange;\n        var origRange = eventRange.range;\n        var slicedRange = intersectRanges(origRange, dayRange);\n        if (slicedRange) {\n            newSegs.push(__assign(__assign({}, seg), { firstCol: colIndex, lastCol: colIndex, eventRange: {\n                    def: eventRange.def,\n                    ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n                    instance: eventRange.instance,\n                    range: slicedRange,\n                }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() }));\n        }\n    }\n    return newSegs;\n}\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(props.cells, props.fgEventSegs, props.dayMaxEvents, props.dayMaxEventRows, state.segHeights, state.maxContentHeight, colCnt, context.options.eventOrder), paddingBottoms = _b.paddingBottoms, segsByFirstCol = _b.segsByFirstCol, segsByEachCol = _b.segsByEachCol, segIsHidden = _b.segIsHidden, segTops = _b.segTops, segMarginTops = _b.segMarginTops, moreCnts = _b.moreCnts, moreTops = _b.moreTops;\n        var selectedInstanceHash = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(segsByFirstCol[col], segIsHidden, segTops, segMarginTops, selectedInstanceHash, props.todayRange);\n                var mirrorFgNodes = _this.renderFgSegs(mirrorSegsByCol[col], {}, segTops, // use same tops as real rendering\n                {}, {}, props.todayRange, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, moreCnt: moreCnts[col], buildMoreLinkText: props.buildMoreLinkText, onMoreClick: function (arg) {\n                        props.onMoreClick(__assign(__assign({}, arg), { fromCol: col }));\n                    }, segIsHidden: segIsHidden, moreMarginTop: moreTops[col] /* rename */, segsByEachCol: segsByEachCol[col], fgPaddingBottom: paddingBottoms[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (segs, segIsHidden, // does NOT mean display:hidden\n    segTops, segMarginTops, selectedInstanceHash, todayRange, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isMirror = isDragging || isResizing || isDateSelecting;\n                var isSelected = selectedInstanceHash[instanceId];\n                var isInvisible = segIsHidden[instanceId] || isSelected;\n                // TODO: simpler way? NOT DRY\n                var isAbsolute = segIsHidden[instanceId] || isMirror || seg.firstCol !== seg.lastCol || !seg.isStart || !seg.isEnd;\n                var marginTop = void 0;\n                var top_1 = void 0;\n                var left = void 0;\n                var right = void 0;\n                if (isAbsolute) {\n                    top_1 = segTops[instanceId];\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                else {\n                    marginTop = segMarginTops[instanceId];\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: instanceId, \n                    // in print mode when in mult cols, could collide\n                    ref: isMirror ? null : this.segHarnessRefs.createRef(instanceId + ':' + seg.firstCol), style: {\n                        visibility: isInvisible ? 'hidden' : '',\n                        marginTop: marginTop || '',\n                        top: top_1 || '',\n                        left: left || '',\n                        right: right || '',\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n                var seg = segs_2[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArrays([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (props.clientWidth !== null) { // positioning ready?\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                segHeights: this.computeSegHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.computeSegHeights = function () {\n        return mapHash(this.segHarnessRefs.currentMap, function (eventHarnessEl) { return (eventHarnessEl.getBoundingClientRect().height); });\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addPropsEquality({\n    onMoreClick: true,\n});\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar SCROLL_DEBOUNCE = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.repositioner = new DelayedRunner(_this.updateSize.bind(_this));\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            var onClose = _this.props.onClose;\n            // only hide the popover if the click happened outside the popover\n            if (onClose && !_this.rootEl.contains(ev.target)) {\n                onClose();\n            }\n        };\n        _this.handleDocumentScroll = function () {\n            _this.repositioner.request(SCROLL_DEBOUNCE);\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return (createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)));\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        document.addEventListener('scroll', this.handleDocumentScroll);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n        document.removeEventListener('scroll', this.handleDocumentScroll);\n    };\n    // TODO: adjust on window resize\n    /*\n    NOTE: the popover is position:fixed, so coordinates are relative to the viewport\n    NOTE: the PARENT calls this as well, on window resize. we would have wanted to use the repositioner,\n          but need to ensure that all other components have updated size first (for alignmentEl)\n    */\n    Popover.prototype.updateSize = function () {\n        var _a = this.props, alignmentEl = _a.alignmentEl, topAlignmentEl = _a.topAlignmentEl;\n        var rootEl = this.rootEl;\n        if (!rootEl) {\n            return; // not sure why this was null, but we shouldn't let external components call updateSize() anyway\n        }\n        var dims = rootEl.getBoundingClientRect(); // only used for width,height\n        var alignment = alignmentEl.getBoundingClientRect();\n        var top = topAlignmentEl ? topAlignmentEl.getBoundingClientRect().top : alignment.top;\n        top = Math.min(top, window.innerHeight - dims.height - PADDING_FROM_VIEWPORT);\n        top = Math.max(top, PADDING_FROM_VIEWPORT);\n        var left;\n        if (this.context.isRtl) {\n            left = alignment.right - dims.width;\n        }\n        else {\n            left = alignment.left;\n        }\n        left = Math.min(left, window.innerWidth - dims.width - PADDING_FROM_VIEWPORT);\n        left = Math.max(left, PADDING_FROM_VIEWPORT);\n        applyStyle(rootEl, { top: top, left: left });\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var date = props.date, hiddenInstances = props.hiddenInstances, todayRange = props.todayRange, dateProfile = props.dateProfile, selectedInstanceId = props.selectedInstanceId;\n        var title = dateEnv.format(date, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: todayRange, elRef: this.rootElRef }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs, onClose: props.onCloseClick, alignmentEl: props.alignmentEl, topAlignmentEl: props.topAlignmentEl },\n            createElement(DayCellContent, { date: date, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.segs.map(function (seg) {\n                var instanceId = seg.eventRange.instance.instanceId;\n                return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                        visibility: hiddenInstances[instanceId] ? 'hidden' : '',\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === selectedInstanceId, defaultDisplayEventEnd: false }, getSegMeta(seg, todayRange))))));\n            }))); }));\n    };\n    MorePopover.prototype.positionToHit = function (positionLeft, positionTop, originEl) {\n        var rootEl = this.rootElRef.current;\n        if (!originEl || !rootEl) { // why?\n            return null;\n        }\n        var originRect = originEl.getBoundingClientRect();\n        var elRect = rootEl.getBoundingClientRect();\n        var newOriginLeft = elRect.left - originRect.left;\n        var newOriginTop = elRect.top - originRect.top;\n        var localLeft = positionLeft - newOriginLeft;\n        var localTop = positionTop - newOriginTop;\n        var date = this.props.date;\n        if ( // ugly way to detect intersection\n        localLeft >= 0 && localLeft < elRect.width &&\n            localTop >= 0 && localTop < elRect.height) {\n            return {\n                dateSpan: {\n                    allDay: true,\n                    range: { start: date, end: addDays(date, 1) },\n                },\n                dayEl: rootEl,\n                relativeRect: {\n                    left: newOriginLeft,\n                    top: newOriginTop,\n                    right: elRect.width,\n                    bottom: elRect.height,\n                },\n                layer: 1,\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.buildBuildMoreLinkText = memoize(buildBuildMoreLinkText);\n        _this.morePopoverRef = createRef();\n        _this.rowRefs = new RefMap();\n        _this.state = {\n            morePopoverState: null,\n        };\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            setRef(_this.props.elRef, rootEl);\n        };\n        // TODO: bad names \"more link click\" versus \"more click\"\n        _this.handleMoreLinkClick = function (arg) {\n            var context = _this.context;\n            var dateEnv = context.dateEnv;\n            var clickOption = context.options.moreLinkClick;\n            function segForPublic(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: dateEnv.toDate(range.start),\n                    end: dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof clickOption === 'function') {\n                clickOption = clickOption({\n                    date: dateEnv.toDate(arg.date),\n                    allDay: true,\n                    allSegs: arg.allSegs.map(segForPublic),\n                    hiddenSegs: arg.hiddenSegs.map(segForPublic),\n                    jsEvent: arg.ev,\n                    view: context.viewApi,\n                }); // hack to handle void\n            }\n            if (!clickOption || clickOption === 'popover') {\n                _this.setState({\n                    morePopoverState: __assign(__assign({}, arg), { currentFgEventSegs: _this.props.fgEventSegs, fromRow: arg.fromRow, fromCol: arg.fromCol }),\n                });\n            }\n            else if (typeof clickOption === 'string') { // a view name\n                context.calendarApi.zoomTo(arg.date, clickOption);\n            }\n        };\n        _this.handleMorePopoverClose = function () {\n            _this.setState({\n                morePopoverState: null,\n            });\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var morePopoverState = this.state.morePopoverState;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var buildMoreLinkText = this.buildBuildMoreLinkText(this.context.options.moreLinkText);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, buildMoreLinkText: buildMoreLinkText, onMoreClick: function (arg) {\n                            _this.handleMoreLinkClick(__assign(__assign({}, arg), { fromRow: row }));\n                        } })); }))),\n                (!props.forPrint && morePopoverState && morePopoverState.currentFgEventSegs === props.fgEventSegs) && (createElement(MorePopover, { ref: _this.morePopoverRef, date: morePopoverState.date, dateProfile: dateProfile, segs: morePopoverState.allSegs, alignmentEl: morePopoverState.dayEl, topAlignmentEl: rowCnt === 1 ? props.headerAlignElRef.current : null, onCloseClick: _this.handleMorePopoverClose, selectedInstanceId: props.eventSelection, hiddenInstances: // yuck\n                    (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                        (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                        {}, todayRange: todayRange })))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.positionToHit = function (leftPosition, topPosition) {\n        var morePopover = this.morePopoverRef.current;\n        var morePopoverHit = morePopover ? morePopover.positionToHit(leftPosition, topPosition, this.rootEl) : null;\n        var morePopoverState = this.state.morePopoverState;\n        if (morePopoverHit) {\n            return __assign({ row: morePopoverState.fromRow, col: morePopoverState.fromCol }, morePopoverHit);\n        }\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(leftPosition);\n        var row = rowPositions.topToIndex(topPosition);\n        if (row != null && col != null) {\n            return {\n                row: row,\n                col: col,\n                dateSpan: {\n                    range: this.getCellRange(row, col),\n                    allDay: true,\n                },\n                dayEl: this.getCellEl(row, col),\n                relativeRect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction buildBuildMoreLinkText(moreLinkTextInput) {\n    if (typeof moreLinkTextInput === 'function') {\n        return moreLinkTextInput;\n    }\n    return function (num) { return \"+\" + num + \" \" + moreLinkTextInput; };\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef, elRef: this.handleRootEl }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    DayTable.prototype.prepareHits = function () {\n        this.tableRef.current.prepareHits();\n    };\n    DayTable.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.tableRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar OPTION_REFINERS = {\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, DateComponent, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, sortEventSegs, compareByFieldSpecs, buildSegCompareObj, StandardEvent, DayCellContent, config, DayCellRoot, getSegMeta, buildEventRangeKey, BgEvent, renderFill, Fragment, memoize, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slatMetas) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slatMetas = slatMetas;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile, slatMetas = _a.slatMetas;\n        var len = positions.els.length;\n        // we assume dates are uniform\n        var slotDurationMs = slatMetas[1].date.valueOf() - slatMetas[0].date.valueOf();\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / slotDurationMs;\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var props = this.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, props.slatMetas));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\n// UNFORTUNATELY, assigns results to the top/bottom/level/forwardCoord/backwardCoord props of the actual segs.\n// TODO: return hash (by instanceId) of results\nfunction computeSegCoords(segs, dayDate, slatCoords, eventMinHeight, eventOrderSpecs) {\n    computeSegVerticals(segs, dayDate, slatCoords, eventMinHeight);\n    return computeSegHorizontals(segs, eventOrderSpecs); // requires top/bottom from computeSegVerticals\n}\n// For each segment in an array, computes and assigns its top and bottom properties\nfunction computeSegVerticals(segs, dayDate, slatCoords, eventMinHeight) {\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        seg.top = slatCoords.computeDateTop(seg.start, dayDate);\n        seg.bottom = Math.max(seg.top + (eventMinHeight || 0), // yuck\n        slatCoords.computeDateTop(seg.end, dayDate));\n    }\n}\n// Given an array of segments that are all in the same column, sets the backwardCoord and forwardCoord on each.\n// Assumed the segs are already ordered.\n// NOTE: Also reorders the given array by date!\nfunction computeSegHorizontals(segs, eventOrderSpecs) {\n    // IMPORTANT TO CLEAR OLD RESULTS :(\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        seg.level = null;\n        seg.forwardCoord = null;\n        seg.backwardCoord = null;\n        seg.forwardPressure = null;\n    }\n    segs = sortEventSegs(segs, eventOrderSpecs);\n    var level0;\n    var levels = buildSlotSegLevels(segs);\n    computeForwardSlotSegs(levels);\n    if ((level0 = levels[0])) {\n        for (var _a = 0, level0_1 = level0; _a < level0_1.length; _a++) {\n            var seg = level0_1[_a];\n            computeSlotSegPressures(seg);\n        }\n        for (var _b = 0, level0_2 = level0; _b < level0_2.length; _b++) {\n            var seg = level0_2[_b];\n            computeSegForwardBack(seg, 0, 0, eventOrderSpecs);\n        }\n    }\n    return segs;\n}\n// Builds an array of segments \"levels\". The first level will be the leftmost tier of segments if the calendar is\n// left-to-right, or the rightmost if the calendar is right-to-left. Assumes the segments are already ordered by date.\nfunction buildSlotSegLevels(segs) {\n    var levels = [];\n    var i;\n    var seg;\n    var j;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        // go through all the levels and stop on the first level where there are no collisions\n        for (j = 0; j < levels.length; j += 1) {\n            if (!computeSlotSegCollisions(seg, levels[j]).length) {\n                break;\n            }\n        }\n        seg.level = j;\n        (levels[j] || (levels[j] = [])).push(seg);\n    }\n    return levels;\n}\n// Find all the segments in `otherSegs` that vertically collide with `seg`.\n// Append into an optionally-supplied `results` array and return.\nfunction computeSlotSegCollisions(seg, otherSegs, results) {\n    if (results === void 0) { results = []; }\n    for (var i = 0; i < otherSegs.length; i += 1) {\n        if (isSlotSegCollision(seg, otherSegs[i])) {\n            results.push(otherSegs[i]);\n        }\n    }\n    return results;\n}\n// Do these segments occupy the same vertical space?\nfunction isSlotSegCollision(seg1, seg2) {\n    return seg1.bottom > seg2.top && seg1.top < seg2.bottom;\n}\n// For every segment, figure out the other segments that are in subsequent\n// levels that also occupy the same vertical space. Accumulate in seg.forwardSegs\nfunction computeForwardSlotSegs(levels) {\n    var i;\n    var level;\n    var j;\n    var seg;\n    var k;\n    for (i = 0; i < levels.length; i += 1) {\n        level = levels[i];\n        for (j = 0; j < level.length; j += 1) {\n            seg = level[j];\n            seg.forwardSegs = [];\n            for (k = i + 1; k < levels.length; k += 1) {\n                computeSlotSegCollisions(seg, levels[k], seg.forwardSegs);\n            }\n        }\n    }\n}\n// Figure out which path forward (via seg.forwardSegs) results in the longest path until\n// the furthest edge is reached. The number of segments in this path will be seg.forwardPressure\nfunction computeSlotSegPressures(seg) {\n    var forwardSegs = seg.forwardSegs;\n    var forwardPressure = 0;\n    var i;\n    var forwardSeg;\n    if (seg.forwardPressure == null) { // not already computed\n        for (i = 0; i < forwardSegs.length; i += 1) {\n            forwardSeg = forwardSegs[i];\n            // figure out the child's maximum forward path\n            computeSlotSegPressures(forwardSeg);\n            // either use the existing maximum, or use the child's forward pressure\n            // plus one (for the forwardSeg itself)\n            forwardPressure = Math.max(forwardPressure, 1 + forwardSeg.forwardPressure);\n        }\n        seg.forwardPressure = forwardPressure;\n    }\n}\n// Calculate seg.forwardCoord and seg.backwardCoord for the segment, where both values range\n// from 0 to 1. If the calendar is left-to-right, the seg.backwardCoord maps to \"left\" and\n// seg.forwardCoord maps to \"right\" (via percentage). Vice-versa if the calendar is right-to-left.\n//\n// The segment might be part of a \"series\", which means consecutive segments with the same pressure\n// who's width is unknown until an edge has been hit. `seriesBackwardPressure` is the number of\n// segments behind this one in the current series, and `seriesBackwardCoord` is the starting\n// coordinate of the first segment in the series.\nfunction computeSegForwardBack(seg, seriesBackwardPressure, seriesBackwardCoord, eventOrderSpecs) {\n    var forwardSegs = seg.forwardSegs;\n    var i;\n    if (seg.forwardCoord == null) { // not already computed\n        if (!forwardSegs.length) {\n            // if there are no forward segments, this segment should butt up against the edge\n            seg.forwardCoord = 1;\n        }\n        else {\n            // sort highest pressure first\n            sortForwardSegs(forwardSegs, eventOrderSpecs);\n            // this segment's forwardCoord will be calculated from the backwardCoord of the\n            // highest-pressure forward segment.\n            computeSegForwardBack(forwardSegs[0], seriesBackwardPressure + 1, seriesBackwardCoord, eventOrderSpecs);\n            seg.forwardCoord = forwardSegs[0].backwardCoord;\n        }\n        // calculate the backwardCoord from the forwardCoord. consider the series\n        seg.backwardCoord = seg.forwardCoord -\n            (seg.forwardCoord - seriesBackwardCoord) / // available width for series\n                (seriesBackwardPressure + 1); // # of segments in the series\n        // use this segment's coordinates to computed the coordinates of the less-pressurized\n        // forward segments\n        for (i = 0; i < forwardSegs.length; i += 1) {\n            computeSegForwardBack(forwardSegs[i], 0, seg.forwardCoord, eventOrderSpecs);\n        }\n    }\n}\nfunction sortForwardSegs(forwardSegs, eventOrderSpecs) {\n    var objs = forwardSegs.map(buildTimeGridSegCompareObj);\n    var specs = [\n        // put higher-pressure first\n        { field: 'forwardPressure', order: -1 },\n        // put segments that are closer to initial edge first (and favor ones with no coords yet)\n        { field: 'backwardCoord', order: 1 },\n    ].concat(eventOrderSpecs);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, specs); });\n    return objs.map(function (c) { return c._seg; });\n}\nfunction buildTimeGridSegCompareObj(seg) {\n    var obj = buildSegCompareObj(seg);\n    obj.forwardPressure = seg.forwardPressure;\n    obj.backwardCoord = seg.backwardCoord;\n    return obj;\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isCondensed) {\n            classNames.push('fc-timegrid-event-condensed');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nconfig.timeGridEventCondensedHeight = 30;\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(props.fgEventSegs, interactionAffectedInstances)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (segs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return this.renderPrintFgSegs(segs);\n        }\n        if (props.slatCoords) {\n            return this.renderPositionedFgSegs(segs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        }\n        return null;\n    };\n    TimeCol.prototype.renderPrintFgSegs = function (segs) {\n        var _a = this, props = _a.props, context = _a.context;\n        // not DRY\n        segs = sortEventSegs(segs, context.options.eventOrder);\n        return segs.map(function (seg) { return (createElement(\"div\", { className: \"fc-timegrid-event-harness\", key: seg.eventRange.instance.instanceId },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isCondensed: false }, getSegMeta(seg, props.todayRange, props.nowDate))))); });\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this, context = _a.context, props = _a.props;\n        // assigns TO THE SEGS THEMSELVES\n        // also, receives resorted array\n        segs = computeSegCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight, context.options.eventOrder);\n        return segs.map(function (seg) {\n            var instanceId = seg.eventRange.instance.instanceId;\n            var isMirror = isDragging || isResizing || isDateSelecting;\n            var positionCss = isMirror\n                // will span entire column width\n                // also, won't assign z-index, which is good, fc-event-mirror will overpower other harnesses\n                ? __assign({ left: 0, right: 0 }, _this.computeSegTopBottomCss(seg)) : _this.computeFgSegPositionCss(seg);\n            return (createElement(\"div\", { className: 'fc-timegrid-event-harness' + (seg.level > 0 ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign({ visibility: segIsInvisible[instanceId] ? 'hidden' : '' }, positionCss) },\n                createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === props.eventSelection, isCondensed: (seg.bottom - seg.top) < config.timeGridEventCondensedHeight }, getSegMeta(seg, props.todayRange, props.nowDate)))));\n        });\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _this = this;\n        var _a = this, context = _a.context, props = _a.props;\n        if (!props.slatCoords) {\n            return null;\n        }\n        // BAD: assigns TO THE SEGS THEMSELVES\n        computeSegVerticals(segs, props.date, props.slatCoords, context.options.eventMinHeight);\n        var children = segs.map(function (seg) { return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: _this.computeSegTopBottomCss(seg) }, fillType === 'bg-event' ?\n            createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n            renderFill(fillType))); });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeFgSegPositionCss = function (seg) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var backwardCoord = seg.backwardCoord; // the left side if LTR. the right side if RTL. floating-point\n        var forwardCoord = seg.forwardCoord; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            forwardCoord = Math.min(1, backwardCoord + (forwardCoord - backwardCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - forwardCoord;\n            right = backwardCoord;\n        }\n        else {\n            left = backwardCoord;\n            right = 1 - forwardCoord;\n        }\n        var props = {\n            zIndex: seg.level + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && seg.forwardPressure) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return __assign(__assign({}, props), this.computeSegTopBottomCss(seg));\n    };\n    TimeCol.prototype.computeSegTopBottomCss = function (seg) {\n        return {\n            top: seg.top,\n            bottom: -seg.bottom,\n        };\n    };\n    return TimeCol;\n}(BaseComponent));\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: props.rootElRef, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.positionToHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                col: colIndex,\n                dateSpan: {\n                    range: { start: start, end: end },\n                    allDay: false,\n                },\n                dayEl: colCoords.els[colIndex],\n                relativeRect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(BaseComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        _this.handleRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, { el: rootEl });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef, rootElRef: _this.handleRootEl }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    DayTimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var rawHit = this.timeColsRef.current.positionToHit(positionLeft, positionTop);\n        if (rawHit) {\n            return {\n                component: this,\n                dateSpan: rawHit.dateSpan,\n                dayEl: rawHit.dayEl,\n                rect: {\n                    left: rawHit.relativeRect.left,\n                    right: rawHit.relativeRect.right,\n                    top: rawHit.relativeRect.top,\n                    bottom: rawHit.relativeRect.bottom,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true,\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","export default \"<ps-container-complex [id]=\\\"'container_complex_' + id\\\">\\r\\n\\r\\n    <ps-lov-periodicity [id]=\\\"id\\\" [options]=\\\"priodicityOptions\\\" (onPsChange)=\\\"onChangePriodicityLov($event)\\\">\\r\\n    </ps-lov-periodicity>\\r\\n\\r\\n\\r\\n    <ps-input-count [hidden]=\\\"singleDate\\\" [options]=\\\"endCountOptions\\\" (onPsChange)=\\\"onChangePriodicityEnd($event)\\\">\\r\\n    </ps-input-count>\\r\\n\\r\\n    <full-calendar deepChangeDetection=\\\"true\\\" class='fc-scheduler' #calendar [options]=\\\"calendarOptions\\\">\\r\\n    </full-calendar>\\r\\n\\r\\n    <div>\\r\\n        <ps-date-day-month-year [options]=\\\"startDateOptions\\\"></ps-date-day-month-year>\\r\\n        <ps-date-day-month-year [options]=\\\"endDateOptions\\\"></ps-date-day-month-year>\\r\\n    </div>\\r\\n</ps-container-complex>\\r\\n\\r\\n<div class=\\\"ps-custom-component-preview\\\" psPreviewEngine *ngFor=\\\"let date of dateList\\\">\\r\\n    <ps-label-input *ngIf=\\\"date.previewLblOptions.labelKey\\\" [id]=\\\"'lbl_'+ id\\\" [options]=\\\"date.previewLblOptions\\\"\\r\\n        class=\\\"ps-lbl-preview\\\">\\r\\n    </ps-label-input>\\r\\n    <span [innerHTML]=\\\"delimiter\\\"></span>\\r\\n    <ps-label-input [id]=\\\"'value_preview_'+ id \\\" [options]=\\\"date.previewValOptions\\\" class=\\\"ps-value-preview\\\">\\r\\n    </ps-label-input>\\r\\n</div>\";","import { __extends } from 'tslib';\nimport { Component, createElement, render, createRef, Fragment, options, createContext as createContext$1 } from 'preact';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: Component,\n        createElement: createElement,\n        render: render,\n        createRef: createRef,\n        Fragment: Fragment,\n        createContext: createContext,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    options.debounceRendering = execCallbackSync;\n    render(createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(Component));\nfunction createContext(defaultValue) {\n    var ContextType = createContext$1(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    render(null, node);\n}\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsDateDayMonthYearComponent } from './ps-date-day-month-year.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PsDateDayMonthYearComponent\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule\r\n    ],\r\n    exports: [\r\n        PsDateDayMonthYearComponent\r\n    ],\r\n    entryComponents: [\r\n        PsDateDayMonthYearComponent\r\n    ],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsDateDayMonthYearComponentModule { }\r\n","/*!\nFullCalendar v5.5.0\nDocs & License: https://fullcalendar.io/\n(c) 2020 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, isInteractionValid, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    var dateProfile = component.context.getCurrentData().dateProfile;\n                    if (hit &&\n                        (\n                        // make sure the hit is within activeRange, meaning it's not a deal cell\n                        rangeContainsRange(dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                dragSelection = joinHitsIntoSelection(_this.hitDragging.initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                if (!dragSelection || !_this.component.isDateSelectionValid(dragSelection)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay$1(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var receivingComponent = hit.component;\n                receivingContext = receivingComponent.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!receivingComponent.isInteractionValid(interaction)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.component.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.component.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.component.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.component.context.dateEnv, hit0.component === hit1.component ?\n        hit0.component.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range, context.pluginHooks.eventResizeJoinTransforms);\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!_this.component.isInteractionValid(interaction)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange, transforms) {\n    var dateEnv = hit0.component.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.component.largeUnit);\n    var props = {};\n    for (var _i = 0, transforms_1 = transforms; _i < transforms_1.length; _i++) {\n        var transform = transforms_1[_i];\n        var res = transform(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            props.startDelta = delta;\n            return props;\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        props.endDelta = delta;\n        return props;\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.component.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.component.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","export default \"<ps-container-item class=\\\"ps-field-item-wrapper main-container col-12\\\" *ngIf=\\\"(filedCust.IS_VISIBLE != 0 || custMode)\\\"\\r\\n    [options]=\\\"containerItemOptions\\\">\\r\\n\\r\\n    <div class=\\\"inputDefaultOptions\\\" (click)=\\\"unSetDefaultValues()\\\"\\r\\n        [ngClass]=\\\"{'showDefaultValue':!hideDefaultOptions, 'showCountInput': hideDefaultOptions}\\\">\\r\\n        <ps-keyin-input [id]=\\\"id\\\" [options]=\\\"defaultOptions\\\" (onPsChange)=\\\"onDefaultValueChange($event)\\\"\\r\\n            (onPsEmpty)=\\\"onEmptyCounter($event)\\\" onwheel=\\\"return false;\\\">\\r\\n        </ps-keyin-input>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"count-span\\\">\\r\\n        <ps-action-icon id=\\\"countMinus\\\" name=\\\"arrow-dropdown-circle\\\" [options]=\\\"decrementIconOptions\\\"\\r\\n            class=\\\"count-minus\\\" (click)=\\\"doCrements('decrement')\\\"></ps-action-icon>\\r\\n        <ps-action-icon id=\\\"countAdd\\\" name=\\\"arrow-dropup-circle\\\" [options]=\\\"incrementIconOptions\\\" class=\\\"count-add\\\"\\r\\n            (click)=\\\"doCrements('increment')\\\"></ps-action-icon>\\r\\n    </div>\\r\\n\\r\\n</ps-container-item>\";","export default \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n.fc .fc-popover {\\n    position: fixed;\\n    top: 0; /* for when not positioned yet */\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    margin: 2px 3px 0;\\n  }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover {\\n    z-index: 8;\\n  }\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\\n/*# sourceMappingURL=data:application/json;base64,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QUFnQixFQUFFLHNEQUFzRDtFQUMxRTtBQUNGLG9CQUFvQixxRkFBcUY7RUFDdkcsa0JBQWtCLEVBQUUsaUNBQWlDO0VBQ3JELG1CQUFtQjtFQUNuQixrQkFBa0IsRUFBRSwwQ0FBMEM7RUFDOUQsZ0JBQWdCO0VBQ2hCLDJDQUEyQztBQUM3QztBQUNBLG1EQUFtRDtBQUNuRDtJQUNJLGlCQUFpQjtFQUNuQjtBQUNGOztJQUVJLFlBQVk7RUFDZDtBQUNGLG1DQUFtQztBQUNuQztFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkI7O0FBRUY7QUFDQTtJQUNJLFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWSxFQUFFLGlEQUFpRDtJQUMvRCxnQkFBZ0I7SUFDaEIsaUJBQWlCO0VBQ25CO0FBQ0Y7O0lBRUksOEJBQThCO0VBQ2hDO0FBQ0Y7SUFDSSxvQkFBb0I7SUFDcEIsVUFBVTtJQUNWLGFBQWE7RUFDZjtBQUNGLHdCQUF3QixtQkFBbUI7RUFDekMsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixRQUFRO0VBQ1IsU0FBUztFQUNULHlCQUF5QjtFQUN6QixvR0FBb0c7RUFDcEcsa0JBQWtCO0VBQ2xCLCtEQUErRDtBQUNqRTtBQUNBLDJDQUEyQztBQUMzQztJQUNJLGlCQUFpQjtFQUNuQjtBQUNGO0lBQ0ksZ0JBQWdCO0VBQ2xCIiwiZmlsZSI6Im1haW4uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG46cm9vdCB7XG4gIC0tZmMtZGF5Z3JpZC1ldmVudC1kb3Qtd2lkdGg6IDhweDtcbn1cbi5mYyAuZmMtcG9wb3ZlciB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDsgLyogZm9yIHdoZW4gbm90IHBvc2l0aW9uZWQgeWV0ICovXG4gICAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwwLDAsLjE1KTtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLWhlYWRlciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHBhZGRpbmc6IDNweCA0cHg7XG4gIH1cbi5mYyAuZmMtcG9wb3Zlci10aXRsZSB7XG4gICAgbWFyZ2luOiAwIDJweDtcbiAgfVxuLmZjIC5mYy1wb3BvdmVyLWNsb3NlIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgb3BhY2l0eTogMC42NTtcbiAgICBmb250LXNpemU6IDEuMWVtO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXBvcG92ZXIge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmMtYm9yZGVyLWNvbG9yLCAjZGRkKTtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWZjLXBhZ2UtYmctY29sb3IsICNmZmYpO1xuICB9XG4uZmMtdGhlbWUtc3RhbmRhcmQgLmZjLXBvcG92ZXItaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMyk7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tZmMtbmV1dHJhbC1iZy1jb2xvciwgcmdiYSgyMDgsIDIwOCwgMjA4LCAwLjMpKTtcbiAgfVxuLyogaGVscCB0aGluZ3MgY2xlYXIgbWFyZ2lucyBvZiBpbm5lciBjb250ZW50ICovXG4uZmMtZGF5Z3JpZC1kYXktZnJhbWUsXG4uZmMtZGF5Z3JpZC1kYXktZXZlbnRzLFxuLmZjLWRheWdyaWQtZXZlbnQtaGFybmVzcyB7IC8qIGZvciBldmVudCB0b3AvYm90dG9tIG1hcmdpbnMgKi9cbn1cbi5mYy1kYXlncmlkLWRheS1mcmFtZTpiZWZvcmUsIC5mYy1kYXlncmlkLWRheS1ldmVudHM6YmVmb3JlLCAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGNsZWFyOiBib3RoO1xuICBkaXNwbGF5OiB0YWJsZTsgfVxuLmZjLWRheWdyaWQtZGF5LWZyYW1lOmFmdGVyLCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzOmFmdGVyLCAuZmMtZGF5Z3JpZC1ldmVudC1oYXJuZXNzOmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgY2xlYXI6IGJvdGg7XG4gIGRpc3BsYXk6IHRhYmxlOyB9XG4uZmMgLmZjLWRheWdyaWQtYm9keSB7IC8qIGEgPGRpdj4gdGhhdCB3cmFwcyB0aGUgdGFibGUgKi9cbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTsgLyogY29udGFpbmVyIGlubmVyIHotaW5kZXgncyBiZWNhdXNlIDx0cj5zIGNhbid0IGRvIGl0ICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXkuZmMtZGF5LXRvZGF5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyMjAsIDQwLCAwLjE1KTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWZjLXRvZGF5LWJnLWNvbG9yLCByZ2JhKDI1NSwgMjIwLCA0MCwgMC4xNSkpO1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktZnJhbWUge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtaW4taGVpZ2h0OiAxMDAlOyAvKiBzZWVtcyB0byB3b3JrIGJldHRlciB0aGFuIGBoZWlnaHRgIGJlY2F1c2Ugc2V0cyBoZWlnaHQgYWZ0ZXIgcm93cy9jZWxscyBuYXR1cmFsbHkgZG8gaXQgKi9cbiAgfVxuLmZjIHtcblxuICAvKiBjZWxsIHRvcCAqL1xuXG59XG4uZmMgLmZjLWRheWdyaWQtZGF5LXRvcCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG4gIH1cbi5mYyAuZmMtZGF5LW90aGVyIC5mYy1kYXlncmlkLWRheS10b3Age1xuICAgIG9wYWNpdHk6IDAuMztcbiAgfVxuLmZjIHtcblxuICAvKiBkYXkgbnVtYmVyICh3aXRoaW4gY2VsbCB0b3ApICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktbnVtYmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogNDtcbiAgICBwYWRkaW5nOiA0cHg7XG4gIH1cbi5mYyB7XG5cbiAgLyogZXZlbnQgY29udGFpbmVyICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICBtYXJnaW4tdG9wOiAxcHg7IC8qIG5lZWRzIHRvIGJlIG1hcmdpbiwgbm90IHBhZGRpbmcsIHNvIHRoYXQgYXZhaWxhYmxlIGNlbGwgaGVpZ2h0IGNhbiBiZSBjb21wdXRlZCAqL1xuICB9XG4uZmMge1xuXG4gIC8qIHBvc2l0aW9uaW5nIGZvciBiYWxhbmNlZCB2cyBuYXR1cmFsICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LWJhbGFuY2VkIC5mYy1kYXlncmlkLWRheS1ldmVudHMge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cbi5mYyAuZmMtZGF5Z3JpZC1ib2R5LXVuYmFsYW5jZWQgLmZjLWRheWdyaWQtZGF5LWV2ZW50cyB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8qIGZvciBjb250YWluaW5nIGFicyBwb3NpdGlvbmVkIGV2ZW50IGhhcm5lc3NlcyAqL1xuICAgICAgbWluLWhlaWdodDogMmVtOyAvKiBpbiBhZGRpdGlvbiB0byBiZWluZyBhIG1pbi1oZWlnaHQgZHVyaW5nIG5hdHVyYWwgaGVpZ2h0LCBlcXVhbGl6ZXMgdGhlIGhlaWdodHMgYSBsaXR0bGUgYml0ICovXG4gICAgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHktbmF0dXJhbCB7IC8qIGNhbiBjb2V4aXN0IHdpdGggLXVuYmFsYW5jZWQgKi9cbiAgfVxuLmZjIC5mYy1kYXlncmlkLWJvZHktbmF0dXJhbCAuZmMtZGF5Z3JpZC1kYXktZXZlbnRzIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICB9XG4uZmMge1xuXG4gIC8qIGV2ZW50IGhhcm5lc3MgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3Mge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LWhhcm5lc3MtYWJzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwOyAvKiBmYWxsYmFjayBjb29yZHMgZm9yIHdoZW4gY2Fubm90IHlldCBiZSBjb21wdXRlZCAqL1xuICAgIGxlZnQ6IDA7IC8qICovXG4gICAgcmlnaHQ6IDA7IC8qICovXG4gIH1cbi5mYyAuZmMtZGF5Z3JpZC1iZy1oYXJuZXNzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgfVxuLmZjIHtcblxuICAvKiBiZyBjb250ZW50ICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLW5vbi1idXNpbmVzcyB7IHotaW5kZXg6IDEgfVxuLmZjIC5mYy1kYXlncmlkLWRheS1iZyAuZmMtYmctZXZlbnQgeyB6LWluZGV4OiAyIH1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYmcgLmZjLWhpZ2hsaWdodCB7IHotaW5kZXg6IDMgfVxuLmZjIHtcblxuICAvKiBldmVudHMgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50IHtcbiAgICB6LWluZGV4OiA2O1xuICAgIG1hcmdpbi10b3A6IDFweDtcbiAgfVxuLmZjIC5mYy1kYXlncmlkLWV2ZW50LmZjLWV2ZW50LW1pcnJvciB7XG4gICAgei1pbmRleDogNztcbiAgfVxuLmZjIHtcblxuICAvKiBjZWxsIGJvdHRvbSAod2l0aGluIGRheS1ldmVudHMpICovXG5cbn1cbi5mYyAuZmMtZGF5Z3JpZC1kYXktYm90dG9tIHtcbiAgICBmb250LXNpemU6IC44NWVtO1xuICAgIG1hcmdpbjogMnB4IDNweCAwO1xuICB9XG4uZmMgLmZjLWRheWdyaWQtbW9yZS1saW5rIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogNDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbi5mYyB7XG5cbiAgLyogd2VlayBudW1iZXIgKHdpdGhpbiBmcmFtZSkgKi9cblxufVxuLmZjIC5mYy1kYXlncmlkLXdlZWstbnVtYmVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgei1pbmRleDogNTtcbiAgICB0b3A6IDA7XG4gICAgcGFkZGluZzogMnB4O1xuICAgIG1pbi13aWR0aDogMS41ZW07XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjA4LCAyMDgsIDIwOCwgMC4zKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mYy1uZXV0cmFsLWJnLWNvbG9yLCByZ2JhKDIwOCwgMjA4LCAyMDgsIDAuMykpO1xuICAgIGNvbG9yOiAjODA4MDgwO1xuICAgIGNvbG9yOiB2YXIoLS1mYy1uZXV0cmFsLXRleHQtY29sb3IsICM4MDgwODApO1xuICB9XG4uZmMge1xuXG4gIC8qIHBvcG92ZXIgKi9cblxufVxuLmZjIC5mYy1tb3JlLXBvcG92ZXIge1xuICAgIHotaW5kZXg6IDg7XG4gIH1cbi5mYyAuZmMtbW9yZS1wb3BvdmVyIC5mYy1wb3BvdmVyLWJvZHkge1xuICAgIG1pbi13aWR0aDogMjIwcHg7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtc3RhcnQsXG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ldmVudC5mYy1ldmVudC1lbmQge1xuICBtYXJnaW4tbGVmdDogMnB4O1xufVxuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtZW5kLFxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtZXZlbnQuZmMtZXZlbnQtc3RhcnQge1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbn1cbi5mYy1kaXJlY3Rpb24tbHRyIC5mYy1kYXlncmlkLXdlZWstbnVtYmVyIHtcbiAgICBsZWZ0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAgMCAzcHggMDtcbiAgfVxuLmZjLWRpcmVjdGlvbi1ydGwgLmZjLWRheWdyaWQtd2Vlay1udW1iZXIge1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAgMCAwIDNweDtcbiAgfVxuLmZjLWxpcXVpZC1oYWNrIC5mYy1kYXlncmlkLWRheS1mcmFtZSB7XG4gICAgcG9zaXRpb246IHN0YXRpYzsgLyogd2lsbCBjYXVzZSBpbm5lciBhYnNvbHV0ZSBzdHVmZiB0byBleHBhbmQgdG8gPHRkPiAqL1xuICB9XG4uZmMtZGF5Z3JpZC1ldmVudCB7IC8qIG1ha2Ugcm9vdC1sZXZlbCwgYmVjYXVzZSB3aWxsIGJlIGRyYWdnZWQtYW5kLWRyb3BwZWQgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCByb290ICovXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTsgLyogZm9yIHotaW5kZXhlcyBhc3NpZ25lZCBsYXRlciAqL1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBib3JkZXItcmFkaXVzOiAzcHg7IC8qIGRvdCBldmVudCBuZWVkcyB0aGlzIHRvIHdoZW4gc2VsZWN0ZWQgKi9cbiAgZm9udC1zaXplOiAuODVlbTtcbiAgZm9udC1zaXplOiB2YXIoLS1mYy1zbWFsbC1mb250LXNpemUsIC44NWVtKTtcbn1cbi8qIC0tLSB0aGUgcmVjdGFuZ2xlIChcImJsb2NrXCIpIHN0eWxlIG9mIGV2ZW50IC0tLSAqL1xuLmZjLWRheWdyaWQtYmxvY2stZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4uZmMtZGF5Z3JpZC1ibG9jay1ldmVudCAuZmMtZXZlbnQtdGltZSxcbiAgLmZjLWRheWdyaWQtYmxvY2stZXZlbnQgLmZjLWV2ZW50LXRpdGxlIHtcbiAgICBwYWRkaW5nOiAxcHg7XG4gIH1cbi8qIC0tLSB0aGUgZG90IHN0eWxlIG9mIGV2ZW50IC0tLSAqL1xuLmZjLWRheWdyaWQtZG90LWV2ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMnB4IDBcblxufVxuLmZjLWRheWdyaWQtZG90LWV2ZW50IC5mYy1ldmVudC10aXRsZSB7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGZsZXgtc2hyaW5rOiAxO1xuICAgIG1pbi13aWR0aDogMDsgLyogaW1wb3J0YW50IGZvciBhbGxvd2luZyB0byBzaHJpbmsgYWxsIHRoZSB3YXkgKi9cbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4uZmMtZGF5Z3JpZC1kb3QtZXZlbnQ6aG92ZXIsXG4gIC5mYy1kYXlncmlkLWRvdC1ldmVudC5mYy1ldmVudC1taXJyb3Ige1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuLmZjLWRheWdyaWQtZG90LWV2ZW50LmZjLWV2ZW50LXNlbGVjdGVkOmJlZm9yZSB7XG4gICAgLyogZXhwYW5kIGhpdCBhcmVhICovXG4gICAgdG9wOiAtMTBweDtcbiAgICBib3R0b206IC0xMHB4O1xuICB9XG4uZmMtZGF5Z3JpZC1ldmVudC1kb3QgeyAvKiB0aGUgYWN0dWFsIGRvdCAqL1xuICBtYXJnaW46IDAgNHB4O1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgYm9yZGVyOiA0cHggc29saWQgIzM3ODhkODtcbiAgYm9yZGVyOiBjYWxjKHZhcigtLWZjLWRheWdyaWQtZXZlbnQtZG90LXdpZHRoLCA4cHgpIC8gMikgc29saWQgdmFyKC0tZmMtZXZlbnQtYm9yZGVyLWNvbG9yLCAjMzc4OGQ4KTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLWZjLWRheWdyaWQtZXZlbnQtZG90LXdpZHRoLCA4cHgpIC8gMik7XG59XG4vKiAtLS0gc3BhY2luZyBiZXR3ZWVuIHRpbWUgYW5kIHRpdGxlIC0tLSAqL1xuLmZjLWRpcmVjdGlvbi1sdHIgLmZjLWRheWdyaWQtZXZlbnQgLmZjLWV2ZW50LXRpbWUge1xuICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICB9XG4uZmMtZGlyZWN0aW9uLXJ0bCAuZmMtZGF5Z3JpZC1ldmVudCAuZmMtZXZlbnQtdGltZSB7XG4gICAgbWFyZ2luLWxlZnQ6IDNweDtcbiAgfVxuIl19 */\";","export default \"<ps-dropdown-lov [id]=\\\"id\\\" [options]=\\\"defaultOptions\\\" (onPsChange)=\\\"onChangePriodicityLov($event)\\\" ></ps-dropdown-lov>\";","import { Component, Input, OnInit } from '@angular/core';\nimport { LoggerService } from '../../../../../commonSRC/psServices/logger/logger.service';\nimport { IchangeValues } from '../../../../../commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonService } from '../../../../../commonSRC/psServices/ps-common/ps-common.service';\nimport { CommonBussinessConstant } from '../../../../psServices/models/ps-common-bussiness-constant';\nimport { PsDropdownLovComponent } from '../ps-dropdown-lov.component';\nimport { IOptionsPsDropdownLov } from '../ps-dropdown-lov.component.interfaces';\nimport { IOptionsPsLovPeriodicityOptionsExposed } from './ps-lov-periodicity.component.interfaces';\n\n\n\n/**\n * @author Zunair.Zakir\n * @since 19/12/2019\n *\n * <p> PsLovPeriodicityOptionsComponent is responsile for fetching Delivery Options based on lovTypeId(ID for DeliveryOptions).</p>\n */\n@Component({\n  selector: 'ps-lov-periodicity',\n  templateUrl: './ps-lov-periodicity.component.html',\n  styleUrls: ['./ps-lov-periodicity.component.scss'],\n})\nexport class PsLovPeriodicityOptionsComponent extends PsDropdownLovComponent implements OnInit {\n\n  @Input() options: IOptionsPsLovPeriodicityOptionsExposed;\n\n  public defaultOptions: IOptionsPsDropdownLov = {\n    lovTypeId: CommonBussinessConstant.LOV_TYPE_ID_PRIODICITY\n  };\n\n  constructor(\n    commonProv: PsCommonService,\n    logger: LoggerService\n  ) {\n    super(commonProv, logger);\n  }\n  ngOnInit() {\n    this.commonProv.copyObject(this.defaultOptions, this.options, false);\n    this.defaultOptions.labelKey = this.commonProv.translate('periodicity_key');\n    this.defaultOptions.placeHolder = this.commonProv.translate('select_periodicity_key');\n  }\n\n  onChangePriodicityLov(values: IchangeValues) {\n    this.onPsChange.emit(values);\n  }\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport timeGrigPlugin from '@fullcalendar/timegrid';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsDateDayMonthYearComponentModule } from '../../ps-keyin-input/ps-day-month-year/ps-date-day-month-year.component.module';\r\nimport { PsInputCountComponentModule } from '../../ps-keyin-input/ps-input-count/ps-input-count.component.module';\r\nimport { PsLovPeriodicityOptionsComponentModule } from '../../ps-select-dropdown/ps-dropdown-lov/ps-lov-periodicity/ps-lov-periodicity.component.module';\r\nimport { PsComplexRecurringSchedulerComponent } from './ps-complex-recurring-scheduler.component';\r\n\r\nFullCalendarModule.registerPlugins([\r\n  dayGridPlugin,\r\n  interactionPlugin,\r\n  timeGrigPlugin\r\n]);\r\n\r\n@NgModule({\r\n  declarations: [PsComplexRecurringSchedulerComponent],\r\n  imports: [\r\n    SharedModule,\r\n    PsComponentsModule,\r\n    PsLovPeriodicityOptionsComponentModule,\r\n    FullCalendarModule,\r\n    PsInputCountComponentModule,\r\n    PsDateDayMonthYearComponentModule,\r\n  ],\r\n  exports: [PsComplexRecurringSchedulerComponent],\r\n  entryComponents: [PsComplexRecurringSchedulerComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsComplexRecurringSchedulerComponentModule { }\r\n"]}