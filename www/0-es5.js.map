{"version":3,"sources":["webpack:///src/app/commonSRC/psTemplates/ps-template-stepper/ps-template-stepper.template.scss","webpack:///src/app/commonSRC/psTemplates/ps-template-stepper/ps-template-stepper.template.ts","webpack:///src/app/commonSRC/psTemplates/ps-template-stepper/ps-template-stepper.template.html"],"names":["PsTemplateStepper","ref","events","onNextPreviousStepper","draftLoaded","onTemplateStepWidgetOpen","onTemplateStepWidgetInit","isCheckerAndReportSelected","isMakerAndReportSelected","isDraft","stepperOptions","psContainerFlip","hideVisibleArea","isFlipped","previousIconOptions","iconName","nextIconOptions","previousOptions","labelKey","group","options","hintOptions","nextOptions","submitOptions","emitClickOnFailure","saveAsDraftOptions","saveAsDraftWidgetOptions","approveOptions","rejectOptions","sendBackOptions","termsAndConditionsOptions","checkBoxOptions","fcName","allowDefaultValue","htmlViewerOptions","draftLoaderOptions","readOnlyMode","showReport","showReportFlag","headerIconOptions","previewLblOptions","translate","psClass","previewMode","previewValueOptions","draftsOptions","isCorporate","showSendBackReason","hideStepper","eventSub","subscribe","requestObject","commonProv","copyObject","dataSaveId","updateReferecnce","checkMakerChecker","status","stepperInit","stepper","stepperInstance","LAST_ACTIVE_STEP","ngOnInit","quickMenu","CLIENT_ASSETS_CONFIG","UI_CONFIGURATION","BOTTOM_QUICK_MENU","screenOptions","quickMenuCollapsed","navParam","navService","getAllParams","readOnly","getParamKey","showTcAndPreviewSteps","undefined","type","screenVO","sendBackReason","isMaker","readonlyMode","showTcAndPreviewInReadonly","widgetStepper","saveProcedureFlow","fileName","oper_ID","defaultFileName","parseHtmlFromFile","applyDynScreenDisplay","ACTION_TYPE_MANDATORY","setFormData","JBPM","initJBPMFlow","isCorporateMakerChecker","isChecker","isAgent","onFooterClick","document","getElementsByTagName","dismiss","onNextAndPrevious","emit","triggerNext","event","next","onNextClicked","triggerPrevious","previous","onBackClicked","loadDrafts","report","preventDefault","stopPropagation","checkDraftPage","forceClose","reportStatus","animationDuration","parseFloat","getElementStyle","hostElement","nativeElement","setTimeout","actionType","ngOnDestroy","unsubscribe","completeBpmTask","taskInfo","newParams","createBPMParams","screenMarkup","queryParams","session","isNotNull","readOnlypage","afterSubmitAction","response","postCallFunction","func","bpmParametersMap","amount_out","transactionAmount","currentPageProfile","getPageByOperId","operId","dontShowReport","PROG_REF","outputType","FAILURE_PROG_REF","page","icon","title","component","operID","param","commonResponseList","nextPage","nextPageOptions","openPage","containerStepper","updateAllWidgetsStatus","returnSubmitOptions","numberOfValid","isNull","indexOf","replace","enableNavigateBack","onStepWidgetOpenEvent","onStepWidgetInitEvent","selector","template"],"mappings":"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","file":"0-es5.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy10ZW1wbGF0ZS1zdGVwcGVyLnRlbXBsYXRlLnNjc3MifQ== */\";","import { ChangeDetectorRef, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { IOptionsPsComplexDraftsReportsLoader } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-drafts-reports-loader/ps-complex-drafts-reports-loader.component.interfaces';\nimport { IOptionsPsComplexTermsAndConditionsExposed } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-terms-and-conditions/ps-complex-terms-and-conditions.component.interfaces';\nimport { PsDraftsReportComponent } from 'src/app/commonBussinessSRC/psComponents/ps-drafts-report/ps-drafts-report.component';\nimport { IOptionsPsDraftsReportComponent } from 'src/app/commonBussinessSRC/psComponents/ps-drafts-report/ps-drafts-report.component.interfaces';\nimport { IOptionsPsLabelExposed } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { PsButtonNextComponent } from '../../psComponents/ps-base/ps-base-action/ps-action-button/ps-button-next/ps-button-next.component';\nimport { PsButtonPreviousComponent } from '../../psComponents/ps-base/ps-base-action/ps-action-button/ps-button-previous/ps-button-previous.component';\nimport { PsButtonSubmitComponent } from '../../psComponents/ps-base/ps-base-action/ps-action-button/ps-button-submit/ps-button-submit.component';\nimport { PsContainerStepperComponent } from '../../psComponents/ps-base/ps-base-container/ps-container-stepper/ps-container-stepper.component';\nimport { Events } from '../../psServices/Event/event.service';\nimport { ConstantCommon } from '../../psServices/models/common-constant';\nimport { CommonUtils } from '../../psServices/models/common-utils';\nimport { PsApplicationSettings } from '../../psServices/models/ps-app-settings';\nimport { IOptionsPsButtonApprove, IOptionsPsButtonNext, IOptionsPsButtonPrevious, IOptionsPsButtonReject, IOptionsPsButtonSave, IOptionsPsButtonSendBack, IOptionsPsButtonSubmit, IOptionsPsContainerFlip, IOptionsPsContainerStepperComponent, IOptionsTemplateScreen, IOptionsTemplateStepper, IPageCommon, PsCustomStepper } from '../../psServices/models/ps-common-interface';\nimport { PsCommonSettings } from '../../psServices/models/ps-common.settings';\nimport { PsTemplateBasePage } from '../ps-template-base/ps-template-base.page';\nimport { IOptionsPsActionIcon } from './../../psServices/models/ps-common-interface';\n\n\n\n@Component({\n  selector: 'ps-template-stepper',\n  templateUrl: './ps-template-stepper.template.html',\n  styleUrls: ['./ps-template-stepper.template.scss'],\n})\nexport class PsTemplateStepper extends PsTemplateBasePage implements OnInit, OnDestroy {\n\n\n  @Input() options: IOptionsTemplateStepper;\n  // eslint-disable-next-line @angular-eslint/no-output-on-prefix\n  @Output() onNextPreviousStepper: EventEmitter<any> = new EventEmitter<any>();\n  @Output() draftLoaded: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onTemplateStepWidgetOpen: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onTemplateStepWidgetInit: EventEmitter<any> = new EventEmitter<any>();\n\n  @ViewChild('next', { static: false }) next: PsButtonNextComponent;\n  @ViewChild('previous', { static: false }) previous: PsButtonPreviousComponent;\n  @ViewChild('submit', { static: false }) submit: PsButtonSubmitComponent;\n  @ViewChild('report', { static: false }) report: PsDraftsReportComponent;\n  @ViewChild('containerStepper', { static: false }) containerStepper: PsContainerStepperComponent;\n\n  public stepper: PsCustomStepper;\n  public isCheckerAndReportSelected = false;\n  screenOptions: IOptionsTemplateScreen;\n  public isMakerAndReportSelected = false;\n  public isDraft = false;\n  stepperOptions: IOptionsPsContainerStepperComponent = {};\n  isCorporateMakerChecker: boolean\n\n  psContainerFlip: IOptionsPsContainerFlip = {\n    hideVisibleArea: false,\n    isFlipped: false\n  };\n\n  previousIconOptions: IOptionsPsActionIcon = {\n    iconName: 'arrow-round-back'\n  };\n  nextIconOptions: IOptionsPsActionIcon = {\n    iconName: 'arrow-round-forward',\n\n  };\n  previousOptions: IOptionsPsButtonPrevious = {\n    labelKey: 'previous_key',\n    group: this.options.group\n  };\n\n  hintOptions: IOptionsPsLabelExposed = {\n    labelKey: 'complete_all_fields_key'\n  }\n\n  nextOptions: IOptionsPsButtonNext = {\n    labelKey: 'next_key',\n    // stepper: this.stepper, // Commented by Richie for TP# 1105083: stepper declared before initialized\n    group: this.options.group\n  };\n\n\n  submitOptions: IOptionsPsButtonSubmit = {\n    labelKey: 'submit_key',\n    group: this.options.group,\n    emitClickOnFailure: true\n  };\n\n  saveAsDraftOptions: IOptionsPsButtonSave = {\n    labelKey: 'save_key',\n    group: this.options.group\n  };\n  saveAsDraftWidgetOptions: IOptionsPsButtonSave = {\n    labelKey: 'save_and_quit_key',\n    group: this.options.group\n  };\n  approveOptions: IOptionsPsButtonApprove = {\n    labelKey: 'approve_key',\n    group: this.options.group\n  };\n  rejectOptions: IOptionsPsButtonReject = {\n    labelKey: 'reject_key',\n    group: this.options.group\n  };\n  sendBackOptions: IOptionsPsButtonSendBack = {\n    labelKey: 'send_back_key',\n    group: this.options.group\n  };\n  termsAndConditionsOptions: IOptionsPsComplexTermsAndConditionsExposed = {\n    checkBoxOptions: {\n      group: this.options.group,\n      fcName: 'checkboxConfirm',\n      labelKey: 'agree_terms_and_conditions_key',\n      //applyValueValidation: true // Added by ghada, tp#1383050  a custom validator will be applied to validate if component's value if true to mark it as valid\n      allowDefaultValue: false //Added by Marina jira-AZDB-1294; terms and conditions shouldn't have a false value it is either empty or true \n    },\n    htmlViewerOptions: {\n    }\n  };\n\n\n  draftLoaderOptions: IOptionsPsComplexDraftsReportsLoader = {\n\n  };\n  readOnlyMode = false;\n\n\n  public showReport = false;\n  public showReportFlag = false;\n  headerIconOptions: IOptionsPsActionIcon = {\n    iconName: 'bookmark'\n  };\n  previewLblOptions = {\n    labelKey: CommonUtils.translate('send_back_reason_key'),\n    psClass: 'ps-lbl-preview',\n    previewMode: true,\n  };\n  previewValueOptions = {\n    labelKey: 'test',\n    psClass: 'ps-value-preview',\n    previewMode: true\n  };\n  draftsOptions: IOptionsPsDraftsReportComponent = {\n\n  };\n  eventSub: Subscription; // Added by Richie #TP 1105083 due to migration to ionic 5 since Event service was removed and replaced with observable\n  navParam;\n  isCorporate = false;\n  showSendBackReason = false;\n  hideStepper = false;\n  quickMenu;\n  constructor(private ref: ChangeDetectorRef, public events: Events) {\n    super();\n    this.eventSub = events.subscribe('draft:navigation', (requestObject) => {\n      // user and time are the same arguments passed in `events.publish(user, time)`\n      this.commonProv.copyObject(this.options.requestObject, requestObject, true, false);\n      if (this.options.requestObject) {\n        this.saveAsDraftOptions.dataSaveId = requestObject.dataSaveId;\n        this.updateReferecnce();\n      }\n      this.checkMakerChecker();\n      this.isDraft = false;\n      if (this.options.requestObject) {\n        if (this.options.requestObject.status === 'DR') {\n          this.isDraft = true;\n        }\n      }\n    });\n  }\n  stepperInit(stepper) {\n    this.options.stepperInstance = this;\n    this.stepper = stepper;\n    this.nextOptions.stepper = this.stepper;\n    this.submitOptions.stepper = this.stepper;\n    this.saveAsDraftOptions.stepper = this.stepper;\n    this.previousOptions.stepper = this.stepper;\n    this.rejectOptions.stepper = this.stepper;\n    this.sendBackOptions.stepper = this.stepper;\n    this.approveOptions.stepper = this.stepper;\n    this.draftsOptions.stepper = this.stepper;\n    if (this.options.requestObject && this.options.requestObject[ConstantCommon.LAST_ACTIVE_STEP]) {\n      this.stepper[ConstantCommon.LAST_ACTIVE_STEP] = this.options.requestObject[ConstantCommon.LAST_ACTIVE_STEP];\n    }\n  }\n\n  ngOnInit() {\n    this.quickMenu = PsApplicationSettings.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.BOTTOM_QUICK_MENU;\n    this.screenOptions = {\n      quickMenuCollapsed: true\n    }\n    if (PsCommonBusinessSettings.isCorporate) {\n      this.isCorporate = true;\n    }\n    this.navParam = this.navService.getAllParams();\n    const readOnly = this.navService.getParamKey('readOnlypage');\n    const showTcAndPreviewSteps = this.navService.getParamKey('showTcAndPreviewInReadonly');\n    if (readOnly != undefined) {\n      this.readOnlyMode = readOnly;\n    }\n    this.options.showReport = this.options.showReport != undefined ? this.options.showReport : true;\n    this.hideStepper = this.options.hideStepper ? this.options.hideStepper : false; // required to hide the stepper on payment page when the multi transfers loads it dynamically.\n    this.options.type = this.options.type != undefined ? this.options.type : ''; // used for the preview template\n    const screenVO = this.navService.getParamKey('ScreenVO');\n    if (screenVO != undefined) {\n      this.commonProv.copyObject(this.options.requestObject, screenVO, true, false);\n      if (screenVO.sendBackReason != null && screenVO.status == 'PE' && PsCommonBusinessSettings.isMaker) {\n        this.previewValueOptions.labelKey = screenVO.sendBackReason;\n        this.showSendBackReason = true;\n      }\n      this.checkMakerChecker();\n    }\n    this.stepperOptions = this.options ? this.options : this.stepperOptions;\n    this.stepperOptions.readonlyMode = readOnly;\n    this.stepperOptions.showTcAndPreviewInReadonly = showTcAndPreviewSteps;\n    this.commonProv.copyObject(this.submitOptions, this.options.submitOptions, false, true);\n    this.commonProv.copyObject(this.saveAsDraftOptions, this.options.submitOptions, false, true);\n    this.commonProv.copyObject(this.saveAsDraftWidgetOptions, this.options.submitOptions, false, true);\n    this.commonProv.copyObject(this.sendBackOptions, this.options.submitOptions, false, true);\n    this.commonProv.copyObject(this.approveOptions, this.options.submitOptions, false, true);\n    this.commonProv.copyObject(this.rejectOptions, this.options.submitOptions, false, true);\n    this.commonProv.copyObject(this.nextOptions, this.options, false, true);\n    this.commonProv.copyObject(this.draftsOptions, this.options, false, true);\n    this.draftsOptions.requestObject = this.options.requestObject; //added by Marina TP:#1583639 to have the same reference of requestObject in both components; ps-template-stepper and ps-drafts-report\n    if (this.options.widgetStepper) {\n      this.saveAsDraftOptions.saveProcedureFlow = true; // GA: Added this flag for the widget based form\n      this.saveAsDraftWidgetOptions.saveProcedureFlow = true; // GA: Added this flag for the widget based form\n    }\n\n    this.termsAndConditionsOptions.checkBoxOptions.group = this.options.group;\n    this.termsAndConditionsOptions.htmlViewerOptions.fileName = PsCommonSettings.oper_ID + \"-TermsAndConditions.html\";\n    this.termsAndConditionsOptions.htmlViewerOptions.defaultFileName = \"TermsAndConditions.html\";\n    this.termsAndConditionsOptions.htmlViewerOptions.parseHtmlFromFile = true;\n\n    if (this.hideStepper) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.termsAndConditionsOptions.checkBoxOptions.fcName], 0);\n    } else {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.termsAndConditionsOptions.checkBoxOptions.fcName], 1);\n    }\n    if (!this.options.requestObject) {\n      this.options.requestObject = {};\n    }\n    if (this.options.requestObject) {\n      if (this.options.requestObject.status === 'DR') {\n        this.isDraft = true;\n      }\n    }\n    this.saveAsDraftOptions.dataSaveId = this.options.requestObject.dataSaveId;\n    this.commonProv.setFormData(this.options.group, this.options.requestObject);\n    if (this.navParam.JBPM) {\n      this.initJBPMFlow();\n    }\n    // AZDB-7617 - AMANAOI250044 - 201435 - The system is displaying Reject, Send back, and Approve buttons under EditPay favorite screens - Dev => Muzammil Arif\n    this.isCorporateMakerChecker = this.isCorporate && PsCommonBusinessSettings.isMaker && PsCommonBusinessSettings.isChecker;\n\n  }\n\n  checkMakerChecker() {\n    if (PsCommonBusinessSettings.isAgent || PsCommonBusinessSettings.isCorporate) {\n      if (PsCommonBusinessSettings.isChecker) {\n        this.isCheckerAndReportSelected = true;\n      }\n      if (PsCommonBusinessSettings.isMaker) {\n        this.isMakerAndReportSelected = true;\n      }\n    }\n  }\n\n  onFooterClick() {\n    if (document.getElementsByTagName('ion-modal')[0] !== undefined) {\n      document.getElementsByTagName('ion-modal')[0].dismiss();\n    }\n  }\n\n  onNextAndPrevious(stepper) {\n    this.onNextPreviousStepper.emit(stepper);\n  }\n\n  triggerNext(event) {\n    if (this.next) {\n      this.next.onNextClicked(event);\n    }\n  }\n\n  triggerPrevious(event) {\n    if (this.previous) {\n      this.previous.onBackClicked(event);\n    }\n  }\n\n  loadDrafts(report, event?: Event) {\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    this.checkDraftPage();\n\n    if (report) { // report was chosen\n      this.saveAsDraftOptions.dataSaveId = this.options.requestObject.dataSaveId;\n      this.saveAsDraftOptions.labelKey = 'update_draft_key';\n      if (PsCommonBusinessSettings.isAgent || PsCommonBusinessSettings.isCorporate) {\n        if (PsCommonBusinessSettings.isChecker) {\n          this.isCheckerAndReportSelected = true;\n        }\n        if (PsCommonBusinessSettings.isMaker) {\n          this.isMakerAndReportSelected = true;\n        }\n      }\n      this.draftLoaded.emit(report);\n    }\n    // this.ref.detectChanges();\n  }\n\n  checkDraftPage(forceClose?: boolean) {\n    let reportStatus = !this.showReport;\n    if (forceClose) {\n      reportStatus = false;\n    }\n    this.showReportFlag = reportStatus;\n    let animationDuration;\n    if (!reportStatus) {\n      if (this.report) {\n        animationDuration = parseFloat(CommonUtils.getElementStyle(this.report.hostElement.nativeElement, 'animationDuration')) * 1000;\n        setTimeout(() => {\n          this.showReport = reportStatus;\n        }, animationDuration);\n        this.saveAsDraftOptions.dataSaveId = null;\n        this.saveAsDraftOptions.labelKey = 'save_key';\n      }\n    } else {\n      this.showReport = reportStatus;\n    }\n    if (this.options.requestObject) {\n      if (this.options.requestObject.actionType === 'save') {\n        this.isDraft = true;\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    // Commented/Added by Richie #TP 1105083\n    // this.events.unsubscribe('draft:navigation');\n    if (this.eventSub) {\n      this.eventSub.unsubscribe();\n    }\n    this.onTemplateStepWidgetOpen.unsubscribe();\n    this.onTemplateStepWidgetInit.unsubscribe();\n    // End Richie\n  }\n\n  initJBPMFlow() {\n    this.options.requestObject.completeBpmTask = true;\n    this.options.requestObject.JBPM = this.navParam.JBPM;\n    this.commonProv.copyObject(this.options.requestObject, this.options.requestObject.JBPM.taskInfo, false, false);\n\n    const newParams = CommonUtils.createBPMParams(this.navParam.JBPM.screenMarkup.queryParams, null, this.commonProv.session, 'in');\n    this.commonProv.copyObject(this.options.requestObject, newParams, false, false);\n    if (CommonUtils.isNotNull(newParams.readOnlypage)) {\n      this.readOnlyMode = newParams.readOnlyMode;\n    }\n\n  }\n  // edited by Marina TP:#1586190; pass nextPageOtions to the report page or open it directly in case no report to be opened\n  afterSubmitAction(response) {\n    if (this.navParam.JBPM) {\n      // revertBack partial revert\n      this.navParam.postCallFunction.func({ ...this.navParam.JBPM, bpmParametersMap: { amount_out: this.options.requestObject.transactionAmount } });\n    } else {\n      const currentPageProfile = this.commonProv.getPageByOperId(response.operId);\n      if (response.dontShowReport !== 'true' && response.dontShowReport !== true) {\n        if ((currentPageProfile?.PROG_REF !== undefined && (response.outputType === 'S' || response.outputType === 'I')) || (currentPageProfile?.FAILURE_PROG_REF !== undefined && response.outputType === 'F')) {\n          let page: IPageCommon = {\n            icon: 'document',\n            title: 'submission_report_key',\n            component: 'report-page',\n            operID: response.operId,\n            param: { ...this.options.requestObject, ...response.commonResponseList, outputType: response.outputType, nextPage: this.options.nextPageOptions }\n          };\n          this.navService.openPage(page);\n        }\n        else if (this.options.nextPageOptions) {\n          this.navService.openPage(this.options.nextPageOptions);\n        }\n      }\n      else if (this.options.nextPageOptions) {\n        this.navService.openPage(this.options.nextPageOptions);\n      }\n    }\n  }\n\n  updateReferecnce() {\n    if (this.saveAsDraftWidgetOptions.dataSaveId) {\n      this.saveAsDraftOptions.dataSaveId = this.saveAsDraftWidgetOptions.dataSaveId;\n    }\n\n    if (this.saveAsDraftOptions.dataSaveId) {\n      this.saveAsDraftWidgetOptions.dataSaveId = this.saveAsDraftOptions.dataSaveId;\n    }\n    if (this.options.widgetStepper) {\n      setTimeout(() => {\n        this.containerStepper.updateAllWidgetsStatus();\n      }, 1000);\n    }\n  }\n\n  returnSubmitOptions(numberOfValid) {\n    if (this.options.widgetStepper) {\n      if (CommonUtils.isNull(this.submitOptions.psClass)) {\n        this.submitOptions.psClass = '';\n      }\n      if (numberOfValid < 1) {\n        if (this.submitOptions.psClass.indexOf('disableContent') < 0) {\n          this.submitOptions.psClass = 'disableContent ' + this.submitOptions.psClass\n        }\n      } else {\n        this.submitOptions.psClass = this.submitOptions.psClass.replace('disableContent', '');\n      }\n    }\n    // added by Marina jira-AZDB-2518; to update navigateBack property\n    this.submitOptions.enableNavigateBack = this.options.submitOptions.enableNavigateBack ? this.options.submitOptions.enableNavigateBack : true;\n    return this.submitOptions;\n  }\n\n  onStepWidgetOpenEvent(event) {\n    this.onTemplateStepWidgetOpen.emit(event)\n  }\n\n  onStepWidgetInitEvent(event){\n    this.onTemplateStepWidgetInit.emit(event)\n  }\n\n}\n","export default \"<ps-template-screen (click)='checkDraftPage(true)' [ngClass]=\\\"{'widget-stepper':!stepperOptions.widgetStepper}\\\"\\n  [screenOptions]=\\\"screenOptions\\\">\\n  <!-- <ps-complex-drafts-reports-loader [options]=\\\"draftLoaderOptions\\\">\\n\\n  </ps-complex-drafts-reports-loader> -->\\n  <ng-container saveAsDraftButton *ngIf=\\\"navService.isUserLoggedIn && options.showReport\\\">\\n    <div class=\\\"widget-menu-icon border-start widget-menu-icon-draft\\\" (click)='loadDrafts(null, $event)'>\\n      <ps-action-icon class=\\\"menu-icon save-as-draft\\\" [options]='headerIconOptions'>\\n      </ps-action-icon>\\n    </div>\\n  </ng-container>\\n  <ng-container extraHeader *ngIf=\\\"showReport\\\">\\n    <!-- <div class=\\\"row draftReportModal\\\"> -->\\n    <ps-drafts-report class=\\\"inline-draft-report\\\" (onPsChange)=\\\"loadDrafts($event)\\\" [options]=\\\"draftsOptions\\\"\\n      [ngClass]=\\\"(showReportFlag)?'isOpened':'isClosed'\\\" #report>\\n    </ps-drafts-report>\\n    <!-- </div> -->\\n  </ng-container>\\n  <!--   <ps-container-flip [options]=\\\"psContainerFlip\\\">\\n    <ps-complex-menu visibleSection> -->\\n  <ng-container>\\n\\n    <div class=\\\"parent-div\\\" (swiperight)=\\\"triggerNext($event)\\\" (swipeleft)=\\\"triggerPrevious($event)\\\"\\n      [ngClass]=\\\"{'trigger-disable-field':showReportFlag}\\\">\\n      <div class=\\\"main-form\\\"\\n        [ngClass]=\\\"stepper?._steps?.length==(stepper?.selectedIndex+1)? 'hide-stepper': 'show-stepper'\\\">\\n        <ng-container *ngIf=\\\"stepperOptions.widgetStepper\\\">\\n          <div class=\\\"widget-stepper-header-wrapper\\\">\\n            <div class=\\\"round-progress-wrapper orderless-widget-global\\\">\\n              <round-progress [current]=\\\"containerStepper.totalNumberOfValidControlsRatio\\\" max=\\\"1\\\" responsive=\\\"true\\\"\\n                stroke=\\\"15\\\" color=\\\"null\\\" class=\\\"important-stroke-color\\\" [ngClass]=\\\"{\\n                  'positive' : containerStepper.totalNumberOfValidControlsRatio*100 >= 50,\\n                  'negative':  containerStepper.totalNumberOfValidControlsRatio*100< 30,\\n                  'neutral': containerStepper.totalNumberOfValidControlsRatio*100 < 50 && containerStepper.totalNumberOfValidControlsRatio*100> 30,\\n                  'shade-0-20':containerStepper.totalNumberOfValidControlsRatio*100<= 20,\\n                  'shade-20-40':containerStepper.totalNumberOfValidControlsRatio*100<= 40 && containerStepper.totalNumberOfValidControlsRatio*100> 20,\\n                  'shade-40-60':containerStepper.totalNumberOfValidControlsRatio*100<= 60 && containerStepper.totalNumberOfValidControlsRatio*100> 40,\\n                  'shade-60-80':containerStepper.totalNumberOfValidControlsRatio*100<= 80 && containerStepper.totalNumberOfValidControlsRatio*100> 60,\\n                  'shade-80-100':containerStepper.totalNumberOfValidControlsRatio*100<= 100 && containerStepper.totalNumberOfValidControlsRatio*100> 80\\n                    }\\\">\\n              </round-progress>\\n              <span class=\\\"percentage-completion\\\">{{containerStepper.totalNumberOfValidControlsRatio*100 | number:\\n                '1.0-0'}}\\n                %</span>\\n            </div>\\n            <ng-container *ngTemplateOutlet=\\\"submitButton\\\"></ng-container>\\n            <div class=\\\"hint-wrapper\\\">\\n              <div class=\\\"separator\\\"></div>\\n              <ps-label [options]=\\\"hintOptions\\\" class=\\\"hint\\\"></ps-label>\\n              <div class=\\\"separator\\\"></div>\\n            </div>\\n          </div>\\n        </ng-container>\\n\\n        <ps-container-stepper #containerStepper [options]=\\\"stepperOptions\\\" (onPsInit)=\\\"stepperInit($event)\\\" [id]=\\\"id\\\"\\n          [ngClass]=\\\"hideStepper ? 'stepperHidden' : ''\\\"\\n          (onWidgetUpdate)=\\\"stepperOptions.widgetStepper?updateReferecnce():null\\\"\\n          (onContainerStepWidgetOpen)=\\\"onStepWidgetOpenEvent($event)\\\"\\n          (onContainerStepWidgetInit)=\\\"onStepWidgetInitEvent($event)\\\"\\n          >\\n          <ng-content select=\\\"[step1]\\\" mat-step-1></ng-content>\\n          <ng-content select=\\\"[step2]\\\" mat-step-2></ng-content>\\n          <ng-content select=\\\"[step3]\\\" mat-step-3></ng-content>\\n          <ng-content select=\\\"[step4]\\\" mat-step-4></ng-content>\\n          <ng-content select=\\\"[step5]\\\" mat-step-5></ng-content>\\n          <ng-content select=\\\"[step6]\\\" mat-step-6></ng-content>\\n          <ng-content select=\\\"[step7]\\\" mat-step-7></ng-content>\\n          <ng-content select=\\\"[step8]\\\" mat-step-8></ng-content>\\n          <ng-content select=\\\"[step9]\\\" mat-step-9></ng-content>\\n          <ng-content select=\\\"[step10]\\\" mat-step-10></ng-content>\\n          <!-- <ng-content select=\\\"[step10]\\\" step10></ng-content> -->\\n          <ng-content select=\\\"[step11]\\\" mat-step-11></ng-content>\\n          <ng-content select=\\\"[step12]\\\" mat-step-12></ng-content>\\n          <ng-content select=\\\"[step13]\\\" mat-step-13></ng-content>\\n          <ng-content select=\\\"[step14]\\\" mat-step-14></ng-content>\\n          <ng-content select=\\\"[step15]\\\" mat-step-15></ng-content>\\n          <ng-content select=\\\"[step16]\\\" mat-step-16></ng-content>\\n          <ng-content select=\\\"[step17]\\\" mat-step-17></ng-content>\\n          <ng-content select=\\\"[step18]\\\" mat-step-18></ng-content>\\n          <ng-content select=\\\"[step19]\\\" mat-step-19></ng-content>\\n          <ng-content select=\\\"[step20]\\\" mat-step-20></ng-content>\\n          <ng-content select=\\\"[step21]\\\" mat-step-21></ng-content>\\n\\t\\t  <ng-content select=\\\"[step22]\\\" mat-step-22></ng-content>\\n\\n          <ps-form-step *psStep=\\\"'step23'\\\" mat-step-23 [id]=\\\"id + '_terms'\\\">\\n\\n            <ps-complex-terms-and-conditions [options]=\\\"termsAndConditionsOptions\\\" [id]=\\\"id + '_terms_and_conditions'\\\">\\n            </ps-complex-terms-and-conditions>\\n          </ps-form-step>\\n          <ps-form-step *psStep=\\\"'step24'\\\" mat-step-24 [id]=\\\"id + '_preview'\\\">\\n\\n            <ps-complex-preview *ngIf=\\\"stepper?._steps?.length==(stepper?.selectedIndex+1)\\\" [options]=\\\"options\\\">\\n            </ps-complex-preview>\\n            <div *ngIf=\\\"showSendBackReason\\\" id=\\\"send_back_preview_reason\\\">\\n              <ps-label-input [id]=\\\"'lbl_'+ id\\\" [options]=\\\"previewLblOptions\\\" class=\\\"ps-lbl-preview\\\">\\n              </ps-label-input>\\n              <ps-label-input [id]=\\\"'value_preview_'+ id \\\" [options]=\\\"previewValueOptions\\\" class=\\\"ps-value-preview\\\">\\n              </ps-label-input>\\n            </div>\\n          </ps-form-step>\\n        </ps-container-stepper>\\n      </div>\\n    </div>\\n  </ng-container>\\n  <!--   </ps-complex-menu> -->\\n  <!-- <ng-container hiddenSection>\\n      <ps-drafts-report></ps-drafts-report>\\n    </ng-container> -->\\n  <!--   </ps-container-flip> -->\\n  <ng-container psFooter>\\n    <ng-container *ngIf=\\\"!hideStepper\\\">\\n      <ng-container *ngIf=\\\"!stepperOptions.widgetStepper\\\">\\n        <ps-button-cancel class=\\\"footer-buttons\\\" [id]=\\\"id + '_cancel_btn'\\\"></ps-button-cancel>\\n\\n        <ps-button-previous class=\\\"footer-buttons\\\" #previous [options]=\\\"previousOptions\\\"\\n          (onClick)=\\\"onNextAndPrevious(stepper)\\\" [id]=\\\"id + '_previous_btn'\\\" *ngIf=\\\"stepper?.selectedIndex!=0\\\">\\n        </ps-button-previous>\\n\\n        <ps-button-next class=\\\"footer-buttons\\\" *ngIf=\\\"stepper?._steps?.length!=(stepper?.selectedIndex+1)\\\"\\n          [id]=\\\"id + '_next_btn'\\\" [options]=\\\"nextOptions\\\" (onClick)=\\\"onNextAndPrevious(stepper)\\\" #next>\\n        </ps-button-next>\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"(!stepperOptions.widgetStepper && !(navParam.JBPM && navParam.isAllowApproval) \\n        && (!readOnlyMode && navService.isUserLoggedIn && (isMakerAndReportSelected || !isCheckerAndReportSelected))) \\n        || (stepperOptions.widgetStepper && containerStepper.showWidgetPopup)\\\">\\n        <ng-container *ngTemplateOutlet=\\\"saveButton\\\"></ng-container>\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"stepperOptions.widgetStepper && containerStepper.showWidgetPopup\\\">\\n        <ps-button-save class=\\\"footer-buttons\\\" [options]=\\\"saveAsDraftWidgetOptions\\\" [id]=\\\"id + '_widget_save_quit_btn'\\\"\\n          (onClick)=\\\"containerStepper.dismissPopover(true)\\\">\\n        </ps-button-save>\\n      </ng-container>\\n\\n\\n      <ng-container *ngIf=\\\"!stepperOptions.widgetStepper\\\">\\n        <ps-button-approve class=\\\"footer-buttons\\\"\\n          *ngIf=\\\"((isCheckerAndReportSelected && !isDraft && this.readOnlyMode) || (navParam.JBPM && navParam.isAllowApproval))\\\"\\n          [options]=\\\"approveOptions\\\" id=\\\"step_approve\\\" (onClick)=\\\"afterSubmitAction($event)\\\">\\n        </ps-button-approve>\\n\\n        <ps-button-reject class=\\\"footer-buttons\\\"\\n          *ngIf=\\\"((isCheckerAndReportSelected && !isDraft && this.readOnlyMode) || (navParam.JBPM && navParam.isAllowApproval))\\\"\\n          [options]=\\\"rejectOptions\\\" id=\\\"stepper_reject\\\">\\n        </ps-button-reject>\\n\\n        <ps-button-send-back class=\\\"footer-buttons\\\"\\n          *ngIf=\\\"isCorporate && ((isCheckerAndReportSelected && !isDraft && this.readOnlyMode) || (navParam.JBPM && navParam.isAllowApproval))\\\"\\n          [options]=\\\"sendBackOptions\\\" id=\\\"stepper_sendt_back\\\">\\n        </ps-button-send-back>\\n\\n        <ng-container\\n          *ngIf=\\\"!(navParam.JBPM && navParam.isAllowApproval) && (!readOnlyMode && (stepper?._steps?.length==(stepper?.selectedIndex+1)) && (isMakerAndReportSelected || !isCheckerAndReportSelected))\\\">\\n          <ng-container *ngTemplateOutlet=\\\"submitButton\\\"></ng-container>\\n        </ng-container>\\n      </ng-container>\\n    </ng-container>\\n  </ng-container>\\n  <ps-button-fab-list *ngIf=\\\"navParam?.JBPM && navParam?.JBPM?.fabMarkUp\\\" [options]=\\\"navParam.JBPM.fabMarkUp\\\"\\n    id=\\\"fab-jbpm-screen\\\">\\n  </ps-button-fab-list>\\n</ps-template-screen>\\n\\n\\n\\n<ng-template #saveButton>\\n  <ps-button-save class=\\\"footer-buttons\\\" [options]=\\\"saveAsDraftOptions\\\"\\n    [id]=\\\"!stepperOptions.widgetStepper?id + '_save_btn':id + '_widget_save_btn'\\\"\\n    (onClick)=\\\"containerStepper.updateAllWidgetsStatus();containerStepper.onWidgetValueChange()\\\">\\n  </ps-button-save>\\n</ng-template>\\n\\n<ng-template #submitButton>\\n  <ps-button-submit class=\\\"footer-buttons stepper-widget-buttons\\\" #submit\\n    [options]=\\\"returnSubmitOptions(containerStepper.totalNumberOfValidControlsRatio)\\\"\\n    [id]=\\\"!stepperOptions.widgetStepper?id + '_submit_btn':id + '_widget_save_btn'\\\"\\n    (onClick)=\\\"afterSubmitAction($event)\\\">\\n  </ps-button-submit>\\n</ng-template>\";"]}