{"version":3,"sources":["webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-tooltip/ps-complex-tooltip.component.html","webpack:///src/app/commonSRC/psTemplates/ps-template-login/ps-template-login.page.ts","webpack:///src/app/pages/omni-login/omni-login.module.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-tooltip/ps-complex-tooltip.component.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-tooltip/ps-complex-tooltip.component.scss","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-tooltip/ps-complex-tooltip.component.module.ts","webpack:///src/app/commonSRC/psTemplates/ps-template-login/ps-template-login.page.html","webpack:///src/app/commonSRC/psTemplates/ps-template-login/ps-template-login.page.scss","webpack:///src/app/commonSRC/psTemplates/ps-template-login/ps-template-login.module.ts"],"names":["PsTemplateLoginPage","faio","alertCtrl","commonServices","route","logger","omniPull","mainOptions","longUserName","rememberMeFromStorage","showBannerOnLogin","showBiometricButton","passwordChanged","onlineRegistrationOptions","pageOptions","operId","ONLINE_REGISTRATION_OPER","title","iconName","iconOptions","labelOptions","labelKey","reactivateMyAccountOptions","REACTIVATE_ACCOUNT_OPER","helpCredentialsOptions","FORGOT_CREDENTIALS_OPER","captchaOptions","fcName","onUserNameChange","logInClicked","defaultConfiguration","password","userName","rememberMe","biometricLoginOptions","submitOptions","group","submitServiceUrl","serviceUrl","authenticate","enableNavigateBack","preCallFunction","func","Promise","resolve","executionClass","setOperId","postCallFunction","response","reject","logIn","params","userWelcomeOptions","longUserNameOptions","rememberMeCase","userNameValue","oper_ID","val","ngOnInit","MAIN_CONFIG","TIME_LOG_ENABLED","timeLogs","push","Date","toISOString","commonProv","applyDynScreenDisplay","ACTION_TYPE_VISIBLE","init","getParamValOf","APPLY_LOGIN_VALIDATIONS","then","result","applyLoginValidations","APP_ID","CORPORATE_APP_ID","showHideReactivateLink","CLIENT_ASSETS_CONFIG","UI_CONFIGURATION","DISPLAY_SLIDER_ON_LOGIN","copyObject","defaultValidations","Map","set","required","setDefaultValidators","ACTION_TYPE_MANDATORY","session","append","AUTO_LOGIN","resultusername","getStoredValueOf","USER_NAME","REMEMBER_ME","setValInsideNestedObj","controls","formData","value","preLoginParams","getValueOf","PRE_LOGIN_PARAMS","USER_LONG_NAME_KEY","resultUserLongName","ENABLE_BIOMETRICS_PARAM","parameterVal","isNativeMobile","biometricSubmitOptions","psClass","biometricOptions","username","BIOMETRIC_LOGIN","isSplashScreenVisibleObs","isSplashScreenVisible","pipe","subscribe","undefined","bn6Vh8DfrTErfPp4","doBiometricLogin","cancelClicked","onSubmitListener","events","formGroup","recheckCredentialsValue","ACTION_TYPE_READONLY","logForTesting","replace","console","log","ionViewDidEnter","SESSION_LOGGED_IN","checkBiometricAuthentication","bioResult","biometricAuthResult","bioResultObs","BIOMETRIC_AUTH_SUCCESS","logInByBiometric","submitButtonRef","callServer","loginResponse","remove","AUTH_USER_NAME","emit","JSON","parse","stringify","onChangeUserName","event","newValue","onChangePassword","onToggle","oldValue","isMobile","isBioAvailable","alertController","cssClass","header","inputs","options","placeHolder","disablePreview","buttons","role","handler","presentPsAlert","reset","onUserNameChangeFn","LOGIN_OPER_ID","http","commonRequestAjax","success","error","onEmptyUsername","ngOnDestroy","unsubscribe","isEmptyOrNull","populateValueUsingVanillaJs","usernameRef","inputRef","getDomRef","passwordRef","domRef","vanillaValue","patchedObject","patchValue","onUsernameKeyUp","_manageLoginButtonKey","currentTarget","onPasswordKeyUp","userNameIsValidFlag","passwordIsValidFlag","ALLOW_ONLINE_SELF_REACTIVATION","overrideAlerts","code","DEACTIVATED_USER_ERROR_CODE","optionsAlert","message","translate","buttonsArray","dismissAllModals","page","icon","operID","component","navService","openPage","selector","template","OmniLoginPageModule","imports","forChild","path","declarations","schemas","PsComplexTooltipComponent","loggerP","tooltipOptions","showArrow","ifResult","fileName","htmlViewerOptions","PsComplexTooltipComponentModule","exports","entryComponents","PsTemplateLoginPageModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC+BFA,mBAAmB;AAwI9B,qCAAmBC,IAAnB,EAAiDC,SAAjD,EAAqFC,cAArF,EACUC,KADV,EAEUC,MAFV,EAGUC,QAHV,EAGmC;AAAA;;AAAA;;AACjC;AAJiB,gBAAAL,IAAA,GAAAA,IAAA;AAA8B,gBAAAC,SAAA,GAAAA,SAAA;AAAoC,gBAAAC,cAAA,GAAAA,cAAA;AAC3E,gBAAAC,KAAA,GAAAA,KAAA;AACA,gBAAAC,MAAA,GAAAA,MAAA;AACA,gBAAAC,QAAA,GAAAA,QAAA;AAxIH,gBAAAC,WAAA,GAAqC,EAArC;AACP,gBAAAC,YAAA,GAAe,EAAf;AACA,gBAAAC,qBAAA,GAAwB,KAAxB;AACA,gBAAAC,iBAAA,GAAoB,KAApB;AACA,gBAAAC,mBAAA,GAAsB,KAAtB;AACA,gBAAAC,eAAA,GAAkB,KAAlB;AACA,gBAAAC,yBAAA,GAAuD;AACrDT,iBAAK,EAAE,qBAD8C;AAErDU,uBAAW,EAAE;AACXC,oBAAM,EAAE,2HAAwBC,wBADrB;AAEXC,mBAAK,EAAE,yBAFI;AAGXC,sBAAQ,EAAE;AAHC,aAFwC;AAOrDC,uBAAW,EAAE;AACXD,sBAAQ,EAAE,MADC;AAEXE,0BAAY,EAAE;AACZC,wBAAQ,EAAE,yBADE,CACuB;;AADvB;AAFH;AAPwC,WAAvD;AAcA,gBAAAC,0BAAA,GAAwD;AACtDlB,iBAAK,EAAE,uBAD+C;AAEtDU,uBAAW,EAAE;AACXC,oBAAM,EAAE,2HAAwBQ,uBADrB;AAEXN,mBAAK,EAAE,0BAFI;AAGXC,sBAAQ,EAAE;AAHC,aAFyC;AAOtDC,uBAAW,EAAE;AACXD,sBAAQ,EAAE,uBADC;AAEXE,0BAAY,EAAE;AACZC,wBAAQ,EAAE;AADE;AAFH;AAPyC,WAAxD;AAcA,gBAAAG,sBAAA,GAAoD;AAClDpB,iBAAK,EAAE,oBAD2C;AAElDU,uBAAW,EAAE;AACXC,oBAAM,EAAE,2HAAwBU,uBADrB;AAEXP,sBAAQ,EAAE,aAFC;AAGXD,mBAAK,EAAE;AAHI,aAFqC;AAOlDE,uBAAW,EAAE;AACXD,sBAAQ,EAAE,aADC;AAEXE,0BAAY,EAAE;AACZC,wBAAQ,EAAE;AADE;AAFH;AAPqC,WAApD;AAcA,gBAAAK,cAAA,GAAoC;AAClCC,kBAAM,EAAE;AAD0B,WAApC;AAiBiB,gBAAAC,gBAAA,GAAsC,IAAI,0DAAJ,EAAtC;AACA,gBAAAC,YAAA,GAAkC,IAAI,0DAAJ,EAAlC;AAMjB,gBAAAC,oBAAA,GAA8C;AAC5CC,oBAAQ,EAAE;AACRJ,oBAAM,EAAE;AADA,aADkC;AAI5CK,oBAAQ,EAAE;AACRL,oBAAM,EAAE;AADA,aAJkC;AAO5CM,sBAAU,EAAE;AACVZ,sBAAQ,EAAE,iBADA;AAEVM,oBAAM,EAAE;AAFE;AAPgC,WAA9C;AAYA,gBAAAO,qBAAA,GAAmD;AACjDf,uBAAW,EAAE;AACXD,sBAAQ,EAAE,cADC;AAEXE,0BAAY,EAAE;AACZC,wBAAQ,EAAE;AADE;AAFH;AADoC,WAAnD;AAQA,gBAAAc,aAAA,GAAwC;AACtCC,iBAAK,EAAE,MAAK7B,WAAL,CAAiB6B,KADc;AAEtCf,oBAAQ,EAAE,WAF4B;AAGtCgB,4BAAgB,EAAE,wFAAiBC,UAAjB,CAA4BC,YAHR;AAItCC,8BAAkB,EAAE,KAJkB;AAKtCC,2BAAe,EAAE;AACfC,kBADe,WACfA,IADe,GACR;AAAA;;AACL,uBAAO,IAAIC,OAAJ,CAAiB,UAACC,OAAD,EAAa;AACnCA,yBAAO,CAAC,MAAI,CAACC,cAAL,CAAoBC,SAApB,EAAD,CAAP;AACD,iBAFM,CAAP;AAGD,eALc;AAMfD,4BAAc;AANC,aALqB;AAatCE,4BAAgB,EAAE;AAChBL,kBADgB,WAChBA,IADgB,CACXM,QADW,EACD;AAAA;;AACb,uBAAO,IAAIL,OAAJ,CAAiB,UAACC,OAAD,EAAUK,MAAV,EAAqB;AAC3CL,yBAAO,CAAC,MAAI,CAACC,cAAL,CAAoBK,KAApB,CAA0BF,QAA1B,CAAD,CAAP;AACD,iBAFM,CAAP;AAGD,eALe;AAMhBG,oBAAM,EAAE,OANQ;AAOhBN,4BAAc;AAPE;AAboB,WAAxC;AAuBA,gBAAAO,kBAAA,GAAsC;AACpC/B,oBAAQ,EAAE;AAD0B,WAAtC;AAGA,gBAAAgC,mBAAA,GAAuC,EAAvC;AAMA,gBAAAC,cAAA,GAAiB,KAAjB;AAEA,gBAAAC,aAAA,GAAwB,IAAxB;AAKsB,gBAAAxC,MAAA,GAAS,YAAY,wFAAiByC,OAAtC;AAKa;AAElC;;AA7I6B;;AAAA;AAAA;AAAA,eAyD9B,aAA6BC,GAA7B,EAAyD;AACvD,gBAAIA,GAAJ,EAAS;AACP,mBAAKlD,WAAL,GAAmBkD,GAAnB;AACA;;;;;;AAMD;AACF;AAnE6B;AAAA;AAAA,iBA+I9B,SAAAC,QAAQ,GAAG;AAAA;;AACT;AACA,gBAAI,0FAAsBC,WAAtB,CAAkCC,gBAAtC,EAAwD;AACtD,sGAAiBC,QAAjB,CAA0BC,IAA1B,CAA+B,kDAAmD,IAAIC,IAAJ,EAAD,CAAaC,WAAb,EAAjF;AACD,aAJQ,CAKT;;;AACA,iBAAKC,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeC,mBAArD,EAA0E,CAAC,4BAAD,CAA1E,EAA0G,CAA1G;AACA,iBAAKC,IAAL;AACA,iBAAK9D,QAAL,CAAc+D,aAAd,CAA4B,2HAAwBC,uBAApD,EAA6EC,IAA7E,CAAkF,UAACC,MAAD,EAAY;AAC5F,kBAAIA,MAAM,CAAC,2HAAwBF,uBAAzB,CAAV,EAA6D;AAC3D,sBAAI,CAACG,qBAAL,GAA6B,IAA7B;AACD;AACF,aAJD,EARS,CAaT;;AACA,gBAAI,wFAAiBC,MAAjB,IAA2B,2HAAwBC,gBAAvD,EAAyE;AACvE,mBAAKC,sBAAL;AACD;;AACD,iBAAKlE,iBAAL,GAAyB,0FAAsBmE,oBAAtB,CAA2CC,gBAA3C,CAA4DC,uBAArF;AACA,iBAAKd,UAAL,CAAgBe,UAAhB,CAA2B,KAAKzE,WAAhC,EAA6C,KAAKuB,oBAAlD,EAAwE,KAAxE,EAA+E,IAA/E;AAEA,iBAAKK,aAAL,CAAmBC,KAAnB,GAA2B,KAAK7B,WAAL,CAAiB6B,KAA5C;AACA,iBAAKV,cAAL,CAAoBU,KAApB,GAA4B,KAAK7B,WAAL,CAAiB6B,KAA7C;AAEA,gBAAM6C,kBAAkB,GAAoC,IAAIC,GAAJ,EAA5D;AACAD,8BAAkB,CAACE,GAAnB,CAAuB,KAAK5E,WAAL,CAAiByB,QAAjB,CAA0BL,MAAjD,EAAyD;AACvDyD,sBAAQ,EAAE;AAD6C,aAAzD;AAGAH,8BAAkB,CAACE,GAAnB,CAAuB,KAAK5E,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAAjD,EAAyD;AACvDyD,sBAAQ,EAAE;AAD6C,aAAzD;AAGA,iBAAKnB,UAAL,CAAgBoB,oBAAhB,CAAqCJ,kBAArC,EAAyD,KAAK1E,WAAL,CAAiB6B,KAA1E;AACA,iBAAK6B,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeoB,qBAArD,EAA4E,CAAC,KAAK/E,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAA3B,CAA5E,EAAgH,CAAhH;AACA,iBAAKsC,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeoB,qBAArD,EAA4E,CAAC,KAAK/E,WAAL,CAAiB0B,UAAjB,CAA4BN,MAA7B,CAA5E,EAAkH,CAAlH;AAEA,iBAAKsC,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,mFAAeC,UAA9C,EAA0D,CAA1D;AACA,iBAAKC,cAAL,GAAsB,EAAtB;AACA,iBAAKzB,UAAL,CAAgBsB,OAAhB,CAAwBI,gBAAxB,CAAyC,2HAAwBC,SAAjE,EAA4ErB,IAA5E,CAAiF,UAAAC,MAAM,EAAI;AACzF,oBAAI,CAACkB,cAAL,GAAsBlB,MAAtB;AACD,aAFD;AAGA,iBAAKP,UAAL,CAAgBsB,OAAhB,CAAwBI,gBAAxB,CAAyC,2HAAwBE,WAAxB,GAAsC,wFAAiBnB,MAAhG,EAAwGH,IAAxG,CAA6G,UAAAC,MAAM,EAAI;;;AACrH,oBAAI,CAACP,UAAL,CAAgB6B,qBAAhB,CAAsC,MAAI,CAACvF,WAAL,CAAiB0B,UAAjB,CAA4BN,MAAlE,EAA0E6C,MAA1E,EAAkF,CAAF,KAAE,MAAI,CAACjE,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,MAAwC,IAAxC,IAAwC,aAAxC,GAAwC,MAAxC,GAAwC,GAAEC,KAA5H;;AACA,kBAAIzB,MAAJ,EAAY;AACV,sBAAI,CAAC/D,qBAAL,GAA6B,IAA7B;;AACA,oBAAI,MAAI,CAACiF,cAAT,EAAyB;AACvB,wBAAI,CAACpC,cAAL,GAAsB,IAAtB;;AACA,wBAAI,CAACW,UAAL,CAAgB6B,qBAAhB,CAAsC,MAAI,CAACvF,WAAL,CAAiByB,QAAjB,CAA0BL,MAAhE,EAAwE,MAAI,CAAC+D,cAA7E,EAA6F,CAAF,KAAE,MAAI,CAACnF,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,MAAwC,IAAxC,IAAwC,aAAxC,GAAwC,MAAxC,GAAwC,GAAEC,KAAvI;;AACA,sBAAMC,cAAc,GAAG,MAAI,CAACjC,UAAL,CAAgBsB,OAAhB,CAAwBY,UAAxB,CAAmC,mFAAeC,gBAAlD,CAAvB;;AACA,sBAAIF,cAAJ,EAAoB;AAClB;AACA;AACA,0BAAI,CAACjC,UAAL,CAAgBsB,OAAhB,CAAwBI,gBAAxB,CAAyC,2HAAwBU,kBAAxB,GAA6C,wFAAiB3B,MAAvG,EAA+GH,IAA/G,CAAoH,UAAA+B,kBAAkB,EAAI;AACxI,0BAAIA,kBAAJ,EAAwB;AACtB,8BAAI,CAAC9F,YAAL,GAAoB8F,kBAApB;AACA,8BAAI,CAACjD,mBAAL,CAAyBhC,QAAzB,GAAoCiF,kBAApC;AACD;AACF,qBALD;;AAMA,wBAAIJ,cAAc,CAAC,mFAAeK,uBAAhB,CAAd,IAA0DL,cAAc,CAAC,mFAAeK,uBAAhB,CAAd,CAAuDC,YAAvD,KAAwE,MAAlI,IACC,6EAAYC,cAAZ,EADL,EACmC;AACjC,4BAAI,CAACC,sBAAL,GAA8B;AAC5BrF,gCAAQ,EAAE,qBADkB;AAE5BH,gCAAQ,EAAE,WAFkB;AAG5ByF,+BAAO,EAAE,kBAHmB;AAI5BvE,6BAAK,EAAE,MAAI,CAAC7B,WAAL,CAAiB6B,KAJI;AAK5BwE,wCAAgB,EAAE;AAChBC,kCAAQ,EAAE,MAAI,CAACnB;AADC;AALU,uBAA9B;;AASA,4BAAI,CAACzB,UAAL,CAAgBsB,OAAhB,CAAwBI,gBAAxB,CAAyC,2HAAwBmB,eAAjE,EAAkFvC,IAAlF,CAAuF,UAAAC,MAAM,EAAI;AAC/F,4BAAIA,MAAJ,EAAY;AACV,gCAAI,CAAC7D,mBAAL,GAA2B,IAA3B;AACA;;;AAEA,gCAAI,CAACoG,wBAAL,GAAgC,MAAI,CAAC5G,cAAL,CAAoB6G,qBAApB,CAA0CC,IAA1C,CAA+C,6EAA/C,EAAuEC,SAAvE,CAAiF,UAAA1C,MAAM,EAAI;AACzH,gCAAIA,MAAM,IAAI2C,SAAV,IAAuB3C,MAAM,KAAK,KAAlC,IAA2C,CAAC,wFAAiB4C,gBAAjE,EAAmF;AACjF,oCAAI,CAACC,gBAAL;AACD;AACF,2BAJ+B,CAAhC;AAKD;AACF,uBAXD;AAaD;AACF;AACF;AACF;AACF,aA7CD;AA8CA,iBAAKlH,cAAL,CAAoBmH,aAApB,CAAkCJ,SAAlC,CAA4C,UAAAI,aAAa,EAAI;AAC3D;AACA,kBAAI,MAAI,CAACnF,aAAL,CAAmBC,KAAnB,IAA4B,MAAI,CAACD,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzD,EAAmE;AACjE,oBAAI,MAAI,CAAC5D,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzB,CAAkC,MAAI,CAACxF,WAAL,CAAiByB,QAAjB,CAA0BL,MAA5D,CAAJ,EAAyE;AACvE,wBAAI,CAACsC,UAAL,CAAgBsB,OAAhB,CAAwBI,gBAAxB,CAAyC,2HAAwBE,WAAxB,GAAsC,wFAAiBnB,MAAhG,EAAwGH,IAAxG,CAA6G,UAAAC,MAAM,EAAI;AACrH,wBAAI,CAACA,MAAL,EAAa,CACX;AACD;AACF,mBAJD;AAKD;;AACD,oBAAI,MAAI,CAACrC,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzB,CAAkC,MAAI,CAACxF,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAA5D,CAAJ,EAAyE,CACvE;AACD;AACF;AACF,aAdD,EArFS,CAqGT;;AACA,iBAAK4F,gBAAL,GAAwB,KAAKtD,UAAL,CAAgBuD,MAAhB,CAAuBN,SAAvB,CAAiC,UAAjC,EAA6C,UAACO,SAAD,EAAe;AAClF,oBAAI,CAACC,uBAAL,CAA6BD,SAA7B;AAED,aAHuB,CAAxB,CAtGS,CA2GT;;AACA,iBAAKxD,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeyD,oBAArD,EAA2E,CAAC,cAAD,CAA3E,EAA6F,CAA7F,EA5GS,CA6GT;AAEA;;AACA,gBAAI,0FAAsBhE,WAAtB,CAAkCC,gBAAtC,EAAwD;AACtD,sGAAiBC,QAAjB,CAA0BC,IAA1B,CAA+B,gDAAiD,IAAIC,IAAJ,EAAD,CAAaC,WAAb,EAA/E;AACD,aAlHQ,CAmHT;;;AAEA,iBAAK3D,MAAL,CAAYuH,aAAZ,CAA0B,mDAAoD,IAAI7D,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAA7E;AACAC,mBAAO,CAACC,GAAR,CAAY,4CAA6C,IAAIhE,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAxD;AACD,WAtQ6B,CAwQ9B;;AAxQ8B;AAAA;AAAA,iBAyQ9B,SAAAG,eAAe,GAAG;AAChB,gBAAI,0FAAsBrE,WAAtB,CAAkCC,gBAAtC,EAAwD;AACtD,sGAAiBC,QAAjB,CAA0BC,IAA1B,CAA+B,yDAA0D,IAAIC,IAAJ,EAAD,CAAaC,WAAb,EAAxF;AACD;AACF,WA7Q6B,CA8Q9B;;AA9Q8B;AAAA;AAAA,iBAgR9B,SAAAqD,gBAAgB,GAAG;AAAA;;AACjB,gBAAI,KAAK1G,mBAAT,EAA8B;AAC5B;AACA,kBAAI,CAAC,KAAKsD,UAAL,CAAgBsB,OAAhB,CAAwBY,UAAxB,CAAmC,2HAAwB8B,iBAA3D,CAAL,EAAoF;AAClF,qBAAKhE,UAAL,CAAgBiE,4BAAhB,CAA6C,KAAKxB,sBAAL,CAA4BE,gBAAzE,EAA2FrC,IAA3F,CAAgG,UAAA4D,SAAS,EAAI;AAC3G;;AAEA,wBAAI,CAAClE,UAAL,CAAgBmE,mBAAhB,CAAoCnB,IAApC,CAAyC,6EAAzC,EAAiEC,SAAjE,CAA2E,UAAAmB,YAAY,EAAI;AACzF,wBAAIF,SAAS,KAAK,mFAAeG,sBAA7B,IAAuDD,YAAY,KAAK,mFAAeC,sBAA3F,EAAmH;AACjH,4BAAI,CAACC,gBAAL;AACD;AACF,mBAJD;AAKD,iBARD;AASD;AACF;AACF;AA/R6B;AAAA;AAAA,iBAiS9B,SAAAA,gBAAgB,GAAG;AACjB,iBAAKtE,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeoB,qBAArD,EAA4E,CAAC,KAAK/E,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAA3B,CAA5E,EAAgH,CAAhH;AACA,iBAAKsC,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,mFAAeC,UAA9C,EAA0D,CAA1D;AACA,iBAAK+C,eAAL,CAAqBC,UAArB;AAED;AAtS6B;AAAA;AAAA,iBAyS9B,SAAAvF,KAAK,CAACwF,aAAD,EAAgB;;;AACnB,iBAAKrI,MAAL,CAAYuH,aAAZ,CAA0B,uCAAwC,IAAI7D,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAjE;AACAC,mBAAO,CAACC,GAAR,CAAY,gCAAiC,IAAIhE,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAA5C;;AACA,gBAAI,CAAJ,KAAI,KAAK1F,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzB,CAAkC,KAAKxF,WAAL,CAAiB0B,UAAjB,CAA4BN,MAA9D,OAAqE,IAArE,IAAqE,aAArE,GAAqE,MAArE,GAAqE,GAAEsE,KAA3E,EAAkF;AAChF,mBAAKhC,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBK,WAAxB,GAAsC,wFAAiBnB,MAAtF,EAA8F,CAAF,KAAE,KAAKvC,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzB,CAAkC,KAAKxF,WAAL,CAAiB0B,UAAjB,CAA4BN,MAA9D,OAAqE,IAArE,IAAqE,aAArE,GAAqE,MAArE,GAAqE,GAAEsE,KAArK,EAA4K,IAA5K;AACA,mBAAKhC,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBI,SAAvD,EAAkE8C,aAAa,CAAC1G,QAAhF,EAA0F,IAA1F;AACD,aAHD,MAIK;AACH,mBAAKiC,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBK,WAAxB,GAAsC,wFAAiBnB,MAAtF,EAA8F,KAA9F,EAAqG,IAArG;AACA,mBAAKT,UAAL,CAAgBsB,OAAhB,CAAwBoD,MAAxB,CAA+B,2HAAwB/C,SAAvD;AACD;;AACD,iBAAK3B,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,mFAAeoD,cAA9C,EAA8DF,aAAa,CAAC1G,QAA5E,EAAsF,IAAtF;AACA,iBAAKiC,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwByC,iBAAvD,EAA0E,IAA1E,EAAgF,KAAhF;AACA,iBAAKpG,YAAL,CAAkBgH,IAAlB,CAAuB,MAAD,OAAC,CAAD,kBAAMC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKzI,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAAxD,CAAX,CAAN,CAAC,EAAoFyC,aAApF,CAAvB;AACD;AAvT6B;AAAA;AAAA,iBA0T9B,SAAAO,gBAAgB,CAACC,KAAD,EAAQ;AACtB,gBAAIA,KAAK,IAAIA,KAAK,CAACC,QAAf,IAA2B,KAAK5I,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAAzC,CAA+C,KAAK1F,WAAL,CAAiByB,QAAjB,CAA0BL,MAAzE,CAA/B,EAAiH;AAC/G,mBAAKtB,MAAL,CAAYuH,aAAZ,CAA0B,8CAA+C,IAAI7D,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAxE;AACAC,qBAAO,CAACC,GAAR,CAAY,uCAAwC,IAAIhE,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAnD;AACD;;AACD,gBAAIqB,KAAK,IAAIA,KAAK,CAACC,QAAf,IAA2B,KAAKxI,mBAApC,EAAyD;AACvD,mBAAKA,mBAAL,GAA2B,KAA3B;AACD;AACF;AAlU6B;AAAA;AAAA,iBAoU9B,SAAAyI,gBAAgB,CAACF,KAAD,EAAQ;AACtB,gBAAIA,KAAK,IAAIA,KAAK,CAACC,QAAf,IAA2B,KAAK5I,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAAzC,CAA+C,KAAK1F,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAAzE,CAA/B,EAAiH;AAC/G,mBAAKtB,MAAL,CAAYuH,aAAZ,CAA0B,8CAA+C,IAAI7D,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAxE;AACAC,qBAAO,CAACC,GAAR,CAAY,uCAAwC,IAAIhE,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAnD;AACD;;AACD,gBAAIqB,KAAK,IAAIA,KAAK,CAACC,QAAnB,EAA6B;AAC3B,mBAAKxI,mBAAL,GAA2B,KAA3B;AACA,mBAAKC,eAAL,GAAuB,IAAvB;AACA,mBAAKqD,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,mFAAeC,UAA9C,EAA0D,CAA1D,EAH2B,CAGmC;AAC/D;AACF;AA9U6B;AAAA;AAAA,iBAiVxB,SAAA4D,QAAQ,CAACH,KAAD,EAAuB;;;;;;;;AACnC,wBAAI,CAACA,KAAK,CAACC,QAAP,IAAmBD,KAAK,CAACI,QAA7B,EAAuC;AAAC;AACtC,0BAAI,KAAK7I,qBAAL,IAA8B,KAAKiF,cAAvC,EAAuD;AACrD,6BAAKpC,cAAL,GAAsB,KAAtB;AACD;;AACD,2BAAKW,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBI,SAAvD,EAAkE,EAAlE,EAAsE,IAAtE;AACA,2BAAK3B,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBK,WAAxB,GAAsC,wFAAiBnB,MAAtF,EAA8F,KAA9F,EAAqG,IAArG;AACD;;AACD,wBAAI,KAAKT,UAAL,CAAgBsF,QAAhB,EAAJ,EAAgC;AAC9B,2BAAKtF,UAAL,CAAgBsB,OAAhB,CAAwBI,gBAAxB,CAAyC,2HAAwBmB,eAAjE,EAAkFvC,IAAlF,CAAuF,UAAAC,MAAM,EAAI;AAC/F,8BAAI,CAACgF,cAAL,GAAsBhF,MAAtB;AACD,uBAFD;AAGD;;AAED,wBAAI,KAAKP,UAAL,CAAgBsF,QAAhB,MAA8BL,KAAK,CAACC,QAAN,KAAmB,KAAjD,IAA0DD,KAAK,CAACI,QAAhE,IAA4E,KAAKE,cAArF,EAAqG;AAC7FC,qCAD6F,GACzC;AACxDC,gCAAQ,EAAE,gBAD8C;AAExDC,8BAAM,EAAE,sCAFgD;AAGxDC,8BAAM,EAAE,CACN;AAEEC,iCAAO,EAAE;AACPC,uCAAW,EAAE,uCADN;AAEPnI,kCAAM,EAAE,mBAFD;AAGPS,iCAAK,EAAE,KAAKyH,OAAL,CAAazH,KAHb;AAIP2H,0CAAc,EAAE;AAJT;AAFX,yBADM,CAHgD;AAcxDC,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,QADR;AAEEJ,iCAAO,EAAE;AACPxI,oCAAQ,EAAE,YADH;AAEPsF,mCAAO,EAAE,gCAFF;AAGPvE,iCAAK,EAAE;AAHA,2BAFX;AAOE8H,iCAAO,EAAE,SAATA,OAAS,GAAM;AACb,kCAAI,CAACjG,UAAL,CAAgB6B,qBAAhB,CAAsC,MAAI,CAACvF,WAAL,CAAiB0B,UAAjB,CAA4BN,MAAlE,EAA0E,IAA1E,EAAgF,MAAI,CAACpB,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAAzH;AACD;AATH,yBADO,EAWJ;AACDgE,8BAAI,EAAE,QADL;AAEDJ,iCAAO,EAAE;AACPxI,oCAAQ,EAAE,aADH;AAEPH,oCAAQ,EAAE,aAFH;AAGPyF,mCAAO,EAAE,gCAHF;AAIPvE,iCAAK,EAAE,KAAKyH,OAAL,CAAazH;AAJb,2BAFR;AAQD8H,iCAAO,EAAE,SAATA,OAAS,GAAM;AACb,kCAAI,CAACjG,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBsB,eAAvD,EAAwE,KAAxE,EAA+E,IAA/E;AAED;AAXA,yBAXI;AAd+C,uBADyC;AAyCnG,2BAAK7C,UAAL,CAAgBkG,cAAhB,CAA+BV,eAA/B,EAAgD,yBAAhD;AAED,qB,CACD;;;AACA,wBAAIP,KAAK,CAACC,QAAN,IAAkB,KAAlB,IAA2B,KAAK3I,YAAL,IAAqB,EAApD,EAAwD;AACtD,2BAAKA,YAAL,GAAoB,EAApB;AACA,2BAAK2B,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzB,CAAkC,KAAKxF,WAAL,CAAiByB,QAAjB,CAA0BL,MAA5D,EAAoEyI,KAApE;AACA,2BAAKnG,UAAL,CAAgBsB,OAAhB,CAAwBC,MAAxB,CAA+B,2HAAwBa,kBAAxB,GAA6C,wFAAiB3B,MAA7F,EAAqG,EAArG,EAAyG,IAAzG,EAHsD,CAG4D;AAClH;AACD,qB,CACD;;;AAGA,wBAAIwE,KAAK,CAACC,QAAN,IAAkB,KAAlB,IAA2B,KAAKxI,mBAAL,IAA4B,IAA3D,EAAiE;AAC/D,2BAAKA,mBAAL,GAA2B,KAA3B;AACD,qBAFD,MAEO,IAAIuI,KAAK,CAACC,QAAN,IAAkB,IAAlB,IAA0B,KAAKxI,mBAAL,IAA4B,KAAtD,IAA+D,CAAC,KAAKC,eAArE,IAAwF,KAAK4I,cAAjG,EAAiH;AACtH,2BAAK7I,mBAAL,GAA2B,IAA3B;AACD;;;;;;;AACF;AA1Z6B;AAAA;AAAA,iBA4Z9B,SAAA0J,kBAAkB,CAACnB,KAAD,EAAQ;AACxB,iBAAKtH,gBAAL,CAAsBiH,IAAtB,CAA2BK,KAA3B;AACD,WA9Z6B,CAga9B;;AAha8B;AAAA;AAAA,iBAia9B,SAAApG,SAAS;AAAA;;AACP,mBAAO,IAAIH,OAAJ,CAAiB,UAACC,OAAD,EAAUK,MAAV,EAAqB;AAC3C,sGAAiBO,OAAjB,GAA2B,mFAAe8G,aAA1C;;AACD,kBAAI,MAAI,CAAC7F,qBAAT,EAAgC;AAC7B,sBAAI,CAACtE,cAAL,CAAoBoK,IAApB,CAAyBC,iBAAzB,CAA2C,wFAAiBlI,UAAjB,CAA4BC,YAAvE,EAAqF,MAAF,OAAE,CAAF,EAAE,EAChF,MAAI,CAACJ,aAAL,CAAmBC,KAAnB,CAAyB2D,QAAzB,CAAkCC,QAAlC,CAA2CC,KADqC,CAArF,EAEG1B,IAFH,CAEQ,UAAAC,MAAM,EAAI;AAChB,sBAAIA,MAAM,CAACiG,OAAX,EACE7H,OAAO,CAAC,IAAD,CAAP;AACH,iBALD,WAKS,UAAA8H,KAAK,EAAI;AAChBzH,wBAAM;AACP,iBAPD;AAQD,eATF,MAUML,OAAO,CAAC,IAAD,CAAP;AACN,aAbM,CAAP;AAcD;AAhb6B;AAAA;AAAA,iBAkb9B,SAAA+H,eAAe,GAAG;AAChB,iBAAKtK,MAAL,CAAYuH,aAAZ,CAA0B,8CAA+C,IAAI7D,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAAxE;AACAC,mBAAO,CAACC,GAAR,CAAY,wCAAyC,IAAIhE,IAAJ,EAAD,CAAaC,WAAb,GAA2B6D,OAA3B,CAAmC,GAAnC,EAAwC,GAAxC,EAA6CA,OAA7C,CAAqD,GAArD,EAA0D,EAA1D,CAApD,EAFgB,CAGhB;AACD;AAtb6B;AAAA;AAAA,iBAwb9B,SAAA+C,WAAW,GAAG;AACZ,gBAAI,KAAK7D,wBAAT,EAAmC;AACjC,mBAAKA,wBAAL,CAA8B8D,WAA9B;AACD;;AACD,iBAAKtD,gBAAL,CAAsBsD,WAAtB;AACD,WA7b6B,CA+b9B;;AA/b8B;AAAA;AAAA,iBAgc9B,SAAAnD,uBAAuB,CAACD,SAAD,EAAY;AACjC;AACA,gBAAI,CAAC,KAAKhH,qBAAN,IAA+B,6EAAYqK,aAAZ,CAA0B,KAAKvK,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAAzC,CAA+C,KAAK1F,WAAL,CAAiByB,QAAjB,CAA0BL,MAAzE,CAA1B,CAAnC,EAAgJ;AAC9I,mBAAKoJ,2BAAL,CAAiC,KAAKxK,WAAL,CAAiByB,QAAjB,CAA0BL,MAA3D,EAAmE,KAAKqJ,WAAL,CAAiBC,QAAjB,CAA0BC,SAA1B,EAAnE;AACD;;AACD,gBAAI,6EAAYJ,aAAZ,CAA0B,KAAKvK,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAAzC,CAA+C,KAAK1F,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAAzE,CAA1B,CAAJ,EAAiH;AAC/G,mBAAKoJ,2BAAL,CAAiC,KAAKxK,WAAL,CAAiBwB,QAAjB,CAA0BJ,MAA3D,EAAmE,KAAKwJ,WAAL,CAAiBF,QAAjB,CAA0BC,SAA1B,EAAnE;AACD;AACF,WAxc6B,CA0c9B;;AA1c8B;AAAA;AAAA,iBA2c9B,SAAAH,2BAA2B,CAACpJ,MAAD,EAASyJ,MAAT,EAAiB;AAC1C,gBAAI,6EAAYN,aAAZ,CAA0BM,MAAM,CAACnF,KAAjC,CAAJ,EAA6C;AAC3C;AACD;;AACD,gBAAIoF,YAAY,GAAGD,MAAM,CAACnF,KAA1B;AACA,gBAAIqF,aAAa,GAAG,EAApB;AACAA,yBAAa,CAAC3J,MAAD,CAAb,GAAwB0J,YAAxB;AACA,iBAAKlJ,aAAL,CAAmBC,KAAnB,CAAyBmJ,UAAzB,CAAoCD,aAApC;AACA,iBAAKrH,UAAL,CAAgB6B,qBAAhB,CAAsCnE,MAAtC,EAA8C0J,YAA9C,EAA4D,KAAK9K,WAAL,CAAiB6B,KAAjB,CAAuB2D,QAAvB,CAAgCC,QAAhC,CAAyCC,KAArG;AACD;AApd6B;AAAA;AAAA,iBAsd9B,SAAAuF,eAAe,CAACtC,KAAD,EAAQ;;;AACrB,iBAAKuC,qBAAL,CAA2B,CAAD,KAACvC,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAK,MAAL,GAAAA,KAAK,CAAEwC,aAAP,MAAoB,IAApB,IAAoB,aAApB,GAAoB,MAApB,GAAoB,GAAEzF,KAAjD,EAAwD,CAAF,KAAE,KAAKkF,WAAL,CAAiBF,QAAjB,CAA0BC,SAA1B,QAAqC,IAArC,IAAqC,aAArC,GAAqC,MAArC,GAAqC,GAAEjF,KAA/F;AACD;AAxd6B;AAAA;AAAA,iBA0d9B,SAAA0F,eAAe,CAACzC,KAAD,EAAQ;;;AACrB,gBAAI,KAAKzI,qBAAL,IAA8B,KAAKiF,cAAnC,IAAqD,KAAKpC,cAA9D,EAA8E;AAC5E,mBAAKmI,qBAAL,CAA2B,KAAK/F,cAAhC,EAAgD,CAAF,KAAEwD,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAK,MAAL,GAAAA,KAAK,CAAEwC,aAAP,MAAoB,IAApB,IAAoB,aAApB,GAAoB,MAApB,GAAoB,GAAEzF,KAAtE;AACD,aAFD,MAEO;AACL,mBAAKwF,qBAAL,CAA2B,CAAD,KAAC,KAAKT,WAAL,CAAiBC,QAAjB,CAA0BC,SAA1B,QAAqC,IAArC,IAAqC,aAArC,GAAqC,MAArC,GAAqC,GAAEjF,KAAlE,EAAyE,CAAF,KAAEiD,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAK,MAAL,GAAAA,KAAK,CAAEwC,aAAP,MAAoB,IAApB,IAAoB,aAApB,GAAoB,MAApB,GAAoB,GAAEzF,KAA/F;AACD;AACF,WAhe6B,CAke9B;;AAle8B;AAAA;AAAA,iBAme9B,SAAAwF,qBAAqB,CAACzJ,QAAD,EAAWD,QAAX,EAAqB;AACxC,gBAAI6J,mBAAmB,GAAY,KAAnC;AACA,gBAAIC,mBAAmB,GAAY,KAAnC;;AACA,gBAAI,CAAC,6EAAYf,aAAZ,CAA0B9I,QAA1B,CAAL,EAA0C;AACxC4J,iCAAmB,GAAG,IAAtB;AACD;;AACD,gBAAI,CAAC,6EAAYd,aAAZ,CAA0B/I,QAA1B,CAAL,EAA0C;AACxC8J,iCAAmB,GAAG,IAAtB;AACD;;AAED,gBAAID,mBAAmB,IAAIC,mBAA3B,EAAgD;AAC9C,mBAAK5H,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeyD,oBAArD,EAA2E,CAAC,cAAD,CAA3E,EAA6F,CAA7F;AACD,aAFD,MAEO;AACL,mBAAK1D,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeyD,oBAArD,EAA2E,CAAC,cAAD,CAA3E,EAA6F,CAA7F;AACD;AACF,WAlf6B,CAof9B;;AApf8B;AAAA;AAAA,iBAqfxB,SAAA/C,sBAAsB,GAAG;;;;;;;;;AACd,2BAAM,KAAKtE,QAAL,CAAc+D,aAAd,CAA4B,2HAAwByH,8BAApD,CAAN;;;AAATtH,0B;;AACN,wBAAIA,MAAM,CAAC,2HAAwBsH,8BAAzB,CAAV,EAAoE;AAClE,2BAAK7H,UAAL,CAAgBC,qBAAhB,CAAsC,mFAAeC,mBAArD,EAA0E,CAAC,4BAAD,CAA1E,EAA0G,CAA1G;AAEA,2BAAKhC,aAAL,CAAmB4J,cAAnB,GAAoC,CAAC;AACnCC,4BAAI,EAAE,2HAAwBC,2BADK;AAEnCC,oCAAY,EAAE;AACZC,iCAAO,EAAE,KAAKhM,cAAL,CAAoBiM,SAApB,CAA8B,yBAA9B,IAA2D,IAA3D,GAAkE,KAAKjM,cAAL,CAAoBiM,SAApB,CAA8B,6BAA9B,CAD/D;AAGZC,sCAAY,EAAE,CACZ;AACEjK,iCAAK,EAAE,IAAI,yDAAJ,CAAc,EAAd,CADT;AAEEf,oCAAQ,EAAE,SAFZ;AAGE6I,mCAAO,EAAE,SAATA,OAAS,GAAM;AACb,2GAAYoC,gBAAZ;;AACA,kCAAIC,IAAI,GAAgB;AACtBtL,qCAAK,EAAE,2BADe;AAEtBuL,oCAAI,EAAE,uBAFgB;AAGtBC,sCAAM,EAAE,2HAAwBlL,uBAHV;AAItBmL,yCAAS,EAAE;AAJW,+BAAxB;;AAMA,oCAAI,CAACC,UAAL,CAAgBC,QAAhB,CAAyBL,IAAzB;;AACA;AACD;AAbH,2BADY,EAgBZ;AACEnK,iCAAK,EAAE,IAAI,yDAAJ,CAAc,EAAd,CADT;AAEEf,oCAAQ,EAAE,QAFZ;AAGE6I,mCAAO,EAAE,SAATA,OAAS,GAAM;AACb,2GAAYoC,gBAAZ;;AACA;AACD;AANH,2BAhBY;AAHF;AAFqB,uBAAD,CAApC;AAgCD;;;;;;;AACF;AA3hB6B;AAAA,QAAS,2FAAT,C;;;;gBA7BvB;;gBACA;;gBAeA;;gBAjBA;;gBAoBA;;gBAEA;;;;;;gBAgEN;;;gBACA,mD;AAAK,iBAAC,SAAD;;;gBAWL;;;gBACA;;;gBA6DA,uD;AAAS,iBAAC,cAAD,EAAiB;AAAE,sBAAQ;AAAV,WAAjB;;;gBACT,uD;AAAS,iBAAC,aAAD,EAAgB;AAAE,sBAAQ;AAAV,WAAhB;;;gBACT,uD;AAAS,iBAAC,aAAD,EAAgB;AAAE,sBAAQ;AAAV,WAAhB;;;gBAET,yD;AAAW,iBAAC,OAAD;;;AAtIDtM,yBAAmB,6DAL/B,gEAAU;AACT6M,gBAAQ,EAAE,mBADD;AAETC,gBAAQ,EAAR,+EAFS;;AAAA,OAAV,CAK+B,E,+EAwIL,2F,EAAmC,8D,EAAyC,wF,EACpF,8D,EACC,gF,EACE,oH,EA3IU,GAAnB9M,mBAAmB,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCHA+M,mBAAmB;AAAA;AAAA,Q;;AAAnBA,yBAAmB,6DAjB/B,+DAAS;AACRC,eAAO,EAAE,CACP,6DAAaC,QAAb,CAAsB,CACpB;AACEC,cAAI,EAAE,EADR;AAEER,mBAAS,EAAE;AAFb,SADoB,CAAtB,CADO,EAOP,qEAPO,EAQP,2HARO,EASP,+FATO,EAUP,oLAVO,EAWP,iNAXO,CADD;AAcRS,oBAAY,EAAE,CAAC,8DAAD,CAdN;AAeRC,eAAO,EAAE,CAAC,oEAAD;AAfD,OAAT,CAiB+B,GAAnBL,mBAAmB,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCfAM,yBAAyB;AASpC,2CAAmBpJ,UAAnB,EAAuDqJ,OAAvD,EAA+E;AAAA;;AAAA;;AAC7E,gEAAMrJ,UAAN,EAAkBqJ,OAAlB;AADiB,iBAAArJ,UAAA,GAAAA,UAAA;AAAoC,iBAAAqJ,OAAA,GAAAA,OAAA;AAPvC,iBAAAzD,OAAA,GAAmC,EAAnC;AAChB,iBAAA0D,cAAA,GAAuC;AACrCrM,oBAAQ,EAAE;AAD2B,WAAvC;AAGA,iBAAAsM,SAAA,GAAqB,IAArB;AAEA,iBAAAC,QAAA,GAAW,KAAX;AAC+E;AAE9E;;AAXmC;;AAAA;AAAA;AAAA,iBAapC,SAAA/J,QAAQ,GAAG;AACT,iBAAK6J,cAAL,CAAoBrM,QAApB,GAA+B,KAAK2I,OAAL,CAAa3I,QAAb,GAAwB,KAAK2I,OAAL,CAAa3I,QAArC,GAAgD,MAA/E;AACA,gBAAMsD,MAAM,GAAG,KAAKqF,OAAL,CAAa6D,QAA5B;;AACA,gBAAIlJ,MAAJ,EAAY;AACV,mBAAKmJ,iBAAL,GAAyB;AACvBD,wBAAQ,EAAElJ;AADa,eAAzB;AAGA,mBAAKiJ,QAAL,GAAgB,IAAhB;AACD;AAEF;AAvBmC;AAAA,QAAS,iIAAT,C;;;;gBAR7B;;gBAFA;;;;;;gBAYN;;;AAFUJ,+BAAyB,6DALrC,gEAAU;AACTR,gBAAQ,EAAE,oBADD;AAETC,gBAAQ,EAAR,qFAFS;;AAAA,OAAV,CAKqC,E,+EASL,wG,EAAiC,gG,EAT5B,GAAzBO,yBAAyB,CAAzB;;;;;;;;;;;;;;;;ACbb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCgBFO,+BAA+B;AAAA;AAAA,Q;;AAA/BA,qCAA+B,6DAV3C,+DAAS;AACNT,oBAAY,EAAE,CAAC,uFAAD,CADR;AAENH,eAAO,EAAE,CACL,4EADK,EAEL,+FAFK,CAFH;AAMNa,eAAO,EAAE,CAAC,uFAAD,CANH;AAONC,uBAAe,EAAE,CAAC,uFAAD;AAPX,OAAT,CAU2C,GAA/BF,+BAA+B,CAA/B;;;;;;;;;;;;;;;;AChBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCyBFG,yBAAyB;AAAA;AAAA,Q;;AAAzBA,+BAAyB,6DAfrC,+DAAS;AACRf,eAAO,EAAE,CACP,2DADO,EAEP,qFAFO,EAGP,4DAHO,EAIP,kGAJO,EAKP,yMALO,EAMP,uIANO,CADD;AAURG,oBAAY,EAAE,CAAC,2EAAD,CAVN;AAWRU,eAAO,EAAE,CAAC,2EAAD,CAXD;AAYRC,uBAAe,EAAE,CAAC,2EAAD,CAZT;AAaRV,eAAO,EAAE,CAAC,oEAAD;AAbD,OAAT,CAeqC,GAAzBW,yBAAyB,CAAzB","file":"pages-omni-login-omni-login-module-es5.js","sourcesContent":["export default \"<div class=\\\"tooltip-container\\\">\\r\\n    <ps-container-html-viewer class=\\\"tooltiptext\\\" *ngIf=\\\"ifResult && htmlViewerOptions.fileName\\\"\\r\\n        [options]=\\\"htmlViewerOptions\\\">\\r\\n    </ps-container-html-viewer>\\r\\n    <ps-action-icon [options]=\\\"tooltipOptions\\\">\\r\\n    </ps-action-icon>\\r\\n</div>\";","import { Component, EventEmitter, HostBinding, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FingerprintAIO } from '@awesome-cordova-plugins/fingerprint-aio/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { Subscription } from 'rxjs/internal/Subscription';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { IPsCaptchaOptions } from 'src/app/commonBussinessSRC/psComponents/ps-captcha/ps-captcha.component.interface';\nimport { IOptionsTemplateLogin } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { IOptionsPsLabel, IPageCommon } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { CommonBussinessConstant } from '../../../commonBussinessSRC/psServices/models/ps-common-bussiness-constant';\nimport { PsButtonSubmitComponent } from '../../psComponents/ps-base/ps-base-action/ps-action-button/ps-button-submit/ps-button-submit.component';\nimport { PsInputUsernameComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-field-keyin/ps-keyin-input/ps-input-username/ps-input-username.component';\nimport { PsInputPasswordComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-field-keyin/ps-keyin-input/ps-input-password/ps-input-password.component';\nimport { ConstantCommon } from '../../psServices/models/common-constant';\nimport { CommonUtils } from '../../psServices/models/common-utils';\nimport { PsApplicationSettings } from '../../psServices/models/ps-app-settings';\nimport { IOptionsPsActionHyperlink, IOptionsPsBiometricButton, IOptionsPsButtonSubmit, IOptionsPsHyperlinkAnchor, IchangeValues, IdefaultValidators } from '../../psServices/models/ps-common-interface';\nimport { PsCommonSettings } from '../../psServices/models/ps-common.settings';\nimport { PsCommonService } from '../../psServices/ps-common/ps-common.service';\nimport { IOptionsPsComplexAlertController } from '../ps-template-alert-controller/ps-template-alert-controller.template.interfaces';\nimport { PsTemplateBasePage } from '../ps-template-base/ps-template-base.page';\nimport { LoggerService } from '../../psServices/logger/logger.service';\nimport { PsCommonBusinessSettings } from 'src/app/commonBussinessSRC/psServices/models/ps-commonBusiness.settings';\nimport { OmniPullService } from 'src/app/commonBussinessSRC/psServices/omni-common/omni-pull.service';\nimport { FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'ps-template-login',\n  templateUrl: './ps-template-login.page.html',\n  styleUrls: ['./ps-template-login.page.scss'],\n})\nexport class PsTemplateLoginPage extends PsTemplateBasePage implements OnInit {\n\n\n  public mainOptions: IOptionsTemplateLogin = {};\n  longUserName = '';\n  rememberMeFromStorage = false;\n  showBannerOnLogin = false;\n  showBiometricButton = false;\n  passwordChanged = false;\n  onlineRegistrationOptions: IOptionsPsActionHyperlink = {\n    route: 'online-registration',\n    pageOptions: {\n      operId: CommonBussinessConstant.ONLINE_REGISTRATION_OPER,\n      title: 'online_registration_key',\n      iconName: 'user'\n    },\n    iconOptions: {\n      iconName: 'user',\n      labelOptions: {\n        labelKey: 'online_registration_key'// used for the anchor label description\n      }\n    }\n  };\n  reactivateMyAccountOptions: IOptionsPsActionHyperlink = {\n    route: 'reactivate-my-account',\n    pageOptions: {\n      operId: CommonBussinessConstant.REACTIVATE_ACCOUNT_OPER,\n      title: 'ractivate_my_account_key',\n      iconName: 'reactivate-my-account'\n    },\n    iconOptions: {\n      iconName: 'reactivate-my-account',\n      labelOptions: {\n        labelKey: 'reactivate_my_account_key'\n      }\n    }\n  };\n  helpCredentialsOptions: IOptionsPsActionHyperlink = {\n    route: 'forgot-credentials',\n    pageOptions: {\n      operId: CommonBussinessConstant.FORGOT_CREDENTIALS_OPER,\n      iconName: 'help-circle',\n      title: 'help_with_credentials_key'\n    },\n    iconOptions: {\n      iconName: 'help-circle',\n      labelOptions: {\n        labelKey: 'help_with_credentials_key'\n      }\n    }\n  };\n  captchaOptions: IPsCaptchaOptions = {\n    fcName: 'recaptchaReactive',\n  };\n\n\n  @Input() public showForgotPwd: string;\n  @Input('options') set option(val: IOptionsTemplateLogin) {\n    if (val) {\n      this.mainOptions = val;\n      /* if (val.navigationHandler && this.submitOptions) {\n        this.submitOptions = {\n          ...this.submitOptions,\n          navigationHandler: val.navigationHandler\n        };\n      } */\n    }\n  }\n  @Output() public onUserNameChange: EventEmitter<any> = new EventEmitter<any>();\n  @Output() public logInClicked: EventEmitter<any> = new EventEmitter<any>();\n  toggle: boolean;\n  isBioAvailable: boolean;\n  applyLoginValidations: boolean;\n  isSplashScreenVisibleObs: Subscription;\n  onSubmitListener: Subscription;\n  defaultConfiguration: IOptionsTemplateLogin = {\n    password: {\n      fcName: 'userPassword',\n    },\n    userName: {\n      fcName: 'userName',\n    },\n    rememberMe: {\n      labelKey: 'remember_me_key',\n      fcName: 'rememberMe',\n    }\n  };\n  biometricLoginOptions: IOptionsPsHyperlinkAnchor = {\n    iconOptions: {\n      iconName: 'finger-print',\n      labelOptions: {\n        labelKey: 'biometric_login_key',\n      }\n    }\n  };\n  submitOptions: IOptionsPsButtonSubmit = {\n    group: this.mainOptions.group,\n    labelKey: 'login_key',\n    submitServiceUrl: PsCommonSettings.serviceUrl.authenticate,\n    enableNavigateBack: false,\n    preCallFunction: {\n      func() {\n        return new Promise<any>((resolve) => {\n          resolve(this.executionClass.setOperId());\n        });\n      },\n      executionClass: this\n    },\n    postCallFunction: {\n      func(response) {\n        return new Promise<any>((resolve, reject) => {\n          resolve(this.executionClass.logIn(response));\n        });\n      },\n      params: [this],\n      executionClass: this\n    },\n  };\n  userWelcomeOptions: IOptionsPsLabel = {\n    labelKey: 'welcome_key',\n  };\n  longUserNameOptions: IOptionsPsLabel = {}\n\n\n  biometricSubmitOptions: IOptionsPsBiometricButton;\n\n  resultusername;\n  rememberMeCase = false;\n\n  userNameValue: string = null;\n  @ViewChild('submitButton', { static: false }) submitButtonRef: PsButtonSubmitComponent;\n  @ViewChild('usernameRef', { static: false }) usernameRef: PsInputUsernameComponent;\n  @ViewChild('passwordRef', { static: false }) passwordRef: PsInputPasswordComponent;\n\n  @HostBinding('class') operId = 'operId_' + PsCommonSettings.oper_ID;\n\n  constructor(public faio: FingerprintAIO, private alertCtrl: AlertController, private commonServices: PsCommonService,\n    private route: ActivatedRoute,\n    private logger: LoggerService,\n    private omniPull: OmniPullService,) {\n    super();\n  }\n\n  ngOnInit() {\n    // Added by Richie to log the time of of the specific action\n    if (PsApplicationSettings.MAIN_CONFIG.TIME_LOG_ENABLED) {\n      PsCommonSettings.timeLogs.push('in template-login, ngOnInit with start time: ' + (new Date()).toISOString());\n    }\n    // end \n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, ['reactivate-my_account_link'], 0);\n    this.init();\n    this.omniPull.getParamValOf(CommonBussinessConstant.APPLY_LOGIN_VALIDATIONS).then((result) => {\n      if (result[CommonBussinessConstant.APPLY_LOGIN_VALIDATIONS]) {\n        this.applyLoginValidations = true;\n      }\n    })\n    //AZDB-9537 AIBIRQI240102 - clone from IDB230105 , AZDB-4929 as per PM the re activate link shouldn't be available in corporate\n    if (PsCommonSettings.APP_ID != CommonBussinessConstant.CORPORATE_APP_ID) {\n      this.showHideReactivateLink();\n    }\n    this.showBannerOnLogin = PsApplicationSettings.CLIENT_ASSETS_CONFIG.UI_CONFIGURATION.DISPLAY_SLIDER_ON_LOGIN;\n    this.commonProv.copyObject(this.mainOptions, this.defaultConfiguration, false, true);\n\n    this.submitOptions.group = this.mainOptions.group;\n    this.captchaOptions.group = this.mainOptions.group;\n\n    const defaultValidations: Map<string, IdefaultValidators> = new Map<string, IdefaultValidators>();\n    defaultValidations.set(this.mainOptions.userName.fcName, {\n      required: true\n    });\n    defaultValidations.set(this.mainOptions.password.fcName, {\n      required: true\n    });\n    this.commonProv.setDefaultValidators(defaultValidations, this.mainOptions.group);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.mainOptions.password.fcName], 1);\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.mainOptions.rememberMe.fcName], 0);\n\n    this.commonProv.session.append(ConstantCommon.AUTO_LOGIN, 0);\n    this.resultusername = '';\n    this.commonProv.session.getStoredValueOf(CommonBussinessConstant.USER_NAME).then(result => {\n      this.resultusername = result;\n    });\n    this.commonProv.session.getStoredValueOf(CommonBussinessConstant.REMEMBER_ME + PsCommonSettings.APP_ID).then(result => {\n      this.commonProv.setValInsideNestedObj(this.mainOptions.rememberMe.fcName, result, this.mainOptions.group.controls.formData?.value);\n      if (result) {\n        this.rememberMeFromStorage = true;\n        if (this.resultusername) {\n          this.rememberMeCase = true;\n          this.commonProv.setValInsideNestedObj(this.mainOptions.userName.fcName, this.resultusername, this.mainOptions.group.controls.formData?.value);\n          const preLoginParams = this.commonProv.session.getValueOf(ConstantCommon.PRE_LOGIN_PARAMS);\n          if (preLoginParams) {\n            //Edited by ghada, tp#1304017 for considering appId when saving remember me flag and user long / name in the session \n            //to fix the issue of having saved changes of one app not to reflect on the other app like remeber me flag and username appear on login when opening both retail and corporate apps in the same browser\n            this.commonProv.session.getStoredValueOf(CommonBussinessConstant.USER_LONG_NAME_KEY + PsCommonSettings.APP_ID).then(resultUserLongName => {\n              if (resultUserLongName) {\n                this.longUserName = resultUserLongName;\n                this.longUserNameOptions.labelKey = resultUserLongName;\n              }\n            })\n            if (preLoginParams[ConstantCommon.ENABLE_BIOMETRICS_PARAM] && preLoginParams[ConstantCommon.ENABLE_BIOMETRICS_PARAM].parameterVal === 'true'\n              && CommonUtils.isNativeMobile()) {\n              this.biometricSubmitOptions = {\n                labelKey: 'biometric_login_key',\n                iconName: 'biometric',\n                psClass: 'ps-button-submit',\n                group: this.mainOptions.group,\n                biometricOptions: {\n                  username: this.resultusername\n                }\n              };\n              this.commonProv.session.getStoredValueOf(CommonBussinessConstant.BIOMETRIC_LOGIN).then(result => {\n                if (result) {\n                  this.showBiometricButton = true;\n                  /*Mofified by ghada, tp1578210 using pipe(distinctUntilChanged()) in order to subscribe to observable only for distinct change \n                    and merging the two checks for splash screen (app loading) to eliminate unnecessary services calls resulted in security error */\n                  this.isSplashScreenVisibleObs = this.commonServices.isSplashScreenVisible.pipe(distinctUntilChanged()).subscribe(result => {\n                    if (result != undefined && result === false && !PsCommonSettings.bn6Vh8DfrTErfPp4) {\n                      this.doBiometricLogin();\n                    }\n                  })\n                }\n              })\n\n            }\n          }\n        }\n      }\n    });\n    this.commonServices.cancelClicked.subscribe(cancelClicked => {\n      // Adding if conditions by Richie for #TP 1105083 since they were generating an error due to call reset of undifiend in case of closing the page with force logout\n      if (this.submitOptions.group && this.submitOptions.group.controls) {\n        if (this.submitOptions.group.controls[this.mainOptions.userName.fcName]) {\n          this.commonProv.session.getStoredValueOf(CommonBussinessConstant.REMEMBER_ME + PsCommonSettings.APP_ID).then(result => {\n            if (!result) {\n              // this.submitOptions.group.controls[this.mainOptions.userName.fcName].reset();\n            }\n          });\n        }\n        if (this.submitOptions.group.controls[this.mainOptions.password.fcName]) {\n          // this.submitOptions.group.controls[this.mainOptions.password.fcName].reset();\n        }\n      }\n    });\n\n    //Makki, Jira #6380 Subscribe to onSubmit event to do some precheckings before calling\n    this.onSubmitListener = this.commonProv.events.subscribe(\"onSubmit\", (formGroup) => {\n      this.recheckCredentialsValue(formGroup);\n\n    });\n\n    //Temp Code: Makki jira #6380 Disable login button till both username & password are filled\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, ['login_submit'], 1);\n    //End of Temp Code\n\n    // Added by Richie to log the time of of the specific action\n    if (PsApplicationSettings.MAIN_CONFIG.TIME_LOG_ENABLED) {\n      PsCommonSettings.timeLogs.push('in template-login, ngOnInit with end time: ' + (new Date()).toISOString());\n    }\n    // end Richie\n\n    this.logger.logForTesting('*****************Login screen display:******* ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    console.log('*****************Login screen display: ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n  }\n\n  // Added by Richie to log the time of of the specific action\n  ionViewDidEnter() {\n    if (PsApplicationSettings.MAIN_CONFIG.TIME_LOG_ENABLED) {\n      PsCommonSettings.timeLogs.push('in template-login, ionViewDidEnter with start time: ' + (new Date()).toISOString());\n    }\n  }\n  // end Richie\n\n  doBiometricLogin() {\n    if (this.showBiometricButton) {\n      //modified by ahmed regarding TP#1312400 to check if the user logged in through this session or not\n      if (!this.commonProv.session.getValueOf(CommonBussinessConstant.SESSION_LOGGED_IN)) {\n        this.commonProv.checkBiometricAuthentication(this.biometricSubmitOptions.biometricOptions).then(bioResult => {\n          /*Mofified by ghada, tp1578210 using pipe(distinctUntilChanged()) in order to subscribe to observable only for distinct change \n            to eliminate unnecessary  services calls resulted in security error */\n          this.commonProv.biometricAuthResult.pipe(distinctUntilChanged()).subscribe(bioResultObs => {\n            if (bioResult === ConstantCommon.BIOMETRIC_AUTH_SUCCESS || bioResultObs === ConstantCommon.BIOMETRIC_AUTH_SUCCESS) {\n              this.logInByBiometric();\n            }\n          });\n        });\n      }\n    }\n  }\n\n  logInByBiometric() {\n    this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_MANDATORY, [this.mainOptions.password.fcName], 0);\n    this.commonProv.session.append(ConstantCommon.AUTO_LOGIN, 1);\n    this.submitButtonRef.callServer();\n\n  }\n\n\n  logIn(loginResponse) {\n    this.logger.logForTesting('*****************loggedIn:******* ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    console.log('*****************loggedIn: ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    if (this.submitOptions.group.controls[this.mainOptions.rememberMe.fcName]?.value) {\n      this.commonProv.session.append(CommonBussinessConstant.REMEMBER_ME + PsCommonSettings.APP_ID, this.submitOptions.group.controls[this.mainOptions.rememberMe.fcName]?.value, true);\n      this.commonProv.session.append(CommonBussinessConstant.USER_NAME, loginResponse.userName, true);\n    }\n    else {\n      this.commonProv.session.append(CommonBussinessConstant.REMEMBER_ME + PsCommonSettings.APP_ID, false, true);\n      this.commonProv.session.remove(CommonBussinessConstant.USER_NAME);\n    }\n    this.commonProv.session.append(ConstantCommon.AUTH_USER_NAME, loginResponse.userName, true);\n    this.commonProv.session.append(CommonBussinessConstant.SESSION_LOGGED_IN, true, false);\n    this.logInClicked.emit({ ...JSON.parse(JSON.stringify(this.mainOptions.group.controls.formData.value)), ...loginResponse });\n  }\n\n\n  onChangeUserName(event) {\n    if (event && event.newValue && this.mainOptions.group.controls.formData.value[this.mainOptions.userName.fcName]) {\n      this.logger.logForTesting('*****************userName filled:******* ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n      console.log('*****************userName filled: ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    }\n    if (event && event.newValue && this.showBiometricButton) {\n      this.showBiometricButton = false;\n    }\n  }\n\n  onChangePassword(event) {\n    if (event && event.newValue && this.mainOptions.group.controls.formData.value[this.mainOptions.password.fcName]) {\n      this.logger.logForTesting('*****************password filled:******* ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n      console.log('*****************password filled: ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    }\n    if (event && event.newValue) {\n      this.showBiometricButton = false;\n      this.passwordChanged = true;\n      this.commonProv.session.append(ConstantCommon.AUTO_LOGIN, 0); //Added by ghada, tp1578210 for handling the login case where biometric login is enabled but user chooses to enter his password to login\n    }\n  }\n\n\n  async onToggle(event: IchangeValues) {\n    if (!event.newValue && event.oldValue) {//Modified by ghada, tp1562091 for excluding the default value case on page initilization, and to clear the session only in scnerios: - user change (from screen) - programmatically change on login with toggle button being unchecked \n      if (this.rememberMeFromStorage && this.resultusername) {\n        this.rememberMeCase = false;\n      }\n      this.commonProv.session.append(CommonBussinessConstant.USER_NAME, \"\", true);\n      this.commonProv.session.append(CommonBussinessConstant.REMEMBER_ME + PsCommonSettings.APP_ID, false, true);\n    }\n    if (this.commonProv.isMobile()) {\n      this.commonProv.session.getStoredValueOf(CommonBussinessConstant.BIOMETRIC_LOGIN).then(result => {\n        this.isBioAvailable = result;\n      })\n    }\n\n    if (this.commonProv.isMobile() && event.newValue === false && event.oldValue && this.isBioAvailable) {\n      const alertController: IOptionsPsComplexAlertController = {\n        cssClass: 'ps-button-save',\n        header: 'biometric_login_will_be_disabled_key',\n        inputs: [\n          {\n\n            options: {\n              placeHolder: 'are_you_sure_you_want_to_continue_key',\n              fcName: 'menuPageSelection',\n              group: this.options.group,\n              disablePreview: true\n            }\n          }\n        ],\n        buttons: [\n          {\n            role: 'cancel',\n            options: {\n              labelKey: 'cancel_key',\n              psClass: 'ps-drafts-report-cancel-button',\n              group: null\n            },\n            handler: () => {\n              this.commonProv.setValInsideNestedObj(this.mainOptions.rememberMe.fcName, true, this.mainOptions.group.controls.formData.value);\n            }\n          }, {\n            role: 'cancel',\n            options: {\n              labelKey: 'confirm_key',\n              iconName: 'paper-plane',\n              psClass: 'ps-drafts-report-submit-button',\n              group: this.options.group\n            },\n            handler: () => {\n              this.commonProv.session.append(CommonBussinessConstant.BIOMETRIC_LOGIN, false, true)\n\n            }\n          }\n        ]\n      };\n      this.commonProv.presentPsAlert(alertController, 'off-toggle-confirmation');\n\n    }\n    // MFawzy,14122021,TP#1303741,Reset longUsername, userName, and password fields and remove userLongName from session in case the toggler is off\n    if (event.newValue == false && this.longUserName != '') {\n      this.longUserName = '';\n      this.submitOptions.group.controls[this.mainOptions.userName.fcName].reset();\n      this.commonProv.session.append(CommonBussinessConstant.USER_LONG_NAME_KEY + PsCommonSettings.APP_ID, '', true);   //Edited by ghada, tp#1304017 for considering appId when saving remember me flag and user long / name in the session \n      //to fix the issue of having saved changes of one app not to reflect on the other app like remeber me flag and username appear on login when opening both retail and corporate apps in the same browser\n    }\n    // End MFawzy\n\n\n    if (event.newValue == false && this.showBiometricButton == true) {\n      this.showBiometricButton = false;\n    } else if (event.newValue == true && this.showBiometricButton == false && !this.passwordChanged && this.isBioAvailable) {\n      this.showBiometricButton = true;\n    }\n  }\n\n  onUserNameChangeFn(event) {\n    this.onUserNameChange.emit(event);\n  }\n\n  // Added by: MFawzy for tp#1415074 - Comminting checkUsername method for disabling the checking of the maskedUsername as its not being used in the login process anymore\n  setOperId(): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      PsCommonSettings.oper_ID = ConstantCommon.LOGIN_OPER_ID;\n     if (this.applyLoginValidations) {\n        this.commonServices.http.commonRequestAjax(PsCommonSettings.serviceUrl.authenticate, {\n          ...this.submitOptions.group.controls.formData.value\n        }).then(result => {\n          if (result.success)\n            resolve(true);\n        }).catch(error => {\n          reject();\n        })\n      }\n      else resolve(true);\n    });\n  }\n\n  onEmptyUsername() {\n    this.logger.logForTesting('*****************userName deleted:*******' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    console.log('*****************userName deleted: ' + (new Date()).toISOString().replace('T', ' ').replace('Z', ''));\n    // this.submitOptions.group.controls[this.mainOptions.password.fcName].reset();\n  }\n\n  ngOnDestroy() {\n    if (this.isSplashScreenVisibleObs) {\n      this.isSplashScreenVisibleObs.unsubscribe();\n    }\n    this.onSubmitListener.unsubscribe();\n  }\n\n  //Makki, Jira #6380 Check if Username/password was showing values in fields but not registered in group value\n  recheckCredentialsValue(formGroup) {\n    //Makki, Jira #6380 Ignore userName checking in case remember Me is active to avoid overriding the value from session.\n    if (!this.rememberMeFromStorage && CommonUtils.isEmptyOrNull(this.mainOptions.group.controls.formData.value[this.mainOptions.userName.fcName])) {\n      this.populateValueUsingVanillaJs(this.mainOptions.userName.fcName, this.usernameRef.inputRef.getDomRef());\n    }\n    if (CommonUtils.isEmptyOrNull(this.mainOptions.group.controls.formData.value[this.mainOptions.password.fcName])) {\n      this.populateValueUsingVanillaJs(this.mainOptions.password.fcName, this.passwordRef.inputRef.getDomRef());\n    }\n  }\n\n  //Makki, Jira #6380 Populate missing values to form group using Vanilla JS and dom Reference\n  populateValueUsingVanillaJs(fcName, domRef) {\n    if (CommonUtils.isEmptyOrNull(domRef.value)) {\n      return;\n    }\n    let vanillaValue = domRef.value;\n    let patchedObject = {};\n    patchedObject[fcName] = vanillaValue;\n    this.submitOptions.group.patchValue(patchedObject);\n    this.commonProv.setValInsideNestedObj(fcName, vanillaValue, this.mainOptions.group.controls.formData.value);\n  }\n\n  onUsernameKeyUp(event) {\n    this._manageLoginButtonKey(event?.currentTarget?.value, this.passwordRef.inputRef.getDomRef()?.value);\n  }\n\n  onPasswordKeyUp(event) {\n    if (this.rememberMeFromStorage && this.resultusername && this.rememberMeCase) {\n      this._manageLoginButtonKey(this.resultusername, event?.currentTarget?.value);\n    } else {\n      this._manageLoginButtonKey(this.usernameRef.inputRef.getDomRef()?.value, event?.currentTarget?.value);\n    }\n  }\n\n  //Temp Code: Makki jira #6380 Disable login button till both username & password are filled\n  _manageLoginButtonKey(userName, password) {\n    let userNameIsValidFlag: boolean = false;\n    let passwordIsValidFlag: boolean = false;\n    if (!CommonUtils.isEmptyOrNull(userName)) {\n      userNameIsValidFlag = true;\n    }\n    if (!CommonUtils.isEmptyOrNull(password)) {\n      passwordIsValidFlag = true;\n    }\n\n    if (userNameIsValidFlag && passwordIsValidFlag) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, ['login_submit'], 0);\n    } else {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, ['login_submit'], 1);\n    }\n  } \n\n  //AZDB-9537 AIBIRQI240102 - clone from IDB230105\n  async showHideReactivateLink() {\n    const result = await this.omniPull.getParamValOf(CommonBussinessConstant.ALLOW_ONLINE_SELF_REACTIVATION)\n    if (result[CommonBussinessConstant.ALLOW_ONLINE_SELF_REACTIVATION]) {\n      this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_VISIBLE, ['reactivate-my_account_link'], 1);\n    \n      this.submitOptions.overrideAlerts = [{\n        code: CommonBussinessConstant.DEACTIVATED_USER_ERROR_CODE,\n        optionsAlert: {\n          message: this.commonServices.translate('user_is_deactivated_key') + '\\n' + this.commonServices.translate('reactivate_your_account_key'),\n\n          buttonsArray: [\n            {\n              group: new FormGroup({}),\n              labelKey: 'yes_key',\n              handler: () => {\n                CommonUtils.dismissAllModals();\n                let page: IPageCommon = {\n                  title: 'reactivate_my_account_key',\n                  icon: 'reactivate-my-account',\n                  operID: CommonBussinessConstant.REACTIVATE_ACCOUNT_OPER,\n                  component: 'reactivate-my-account',\n                }\n                this.navService.openPage(page);\n                return;\n              }\n            },\n            {\n              group: new FormGroup({}),\n              labelKey: 'no_key',\n              handler: () => {\n                CommonUtils.dismissAllModals();\n                return;\n              }\n            }\n          ]\n        }\n      }]\n    }\n  }\n\n  //End of Temp Code\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { PsComplexTooltipComponentModule } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-tooltip/ps-complex-tooltip.component.module';\nimport { PsDropdownAllowedLanguagesComponentModule } from 'src/app/commonBussinessSRC/psComponents/ps-select-dropdown/ps-dropdown-allowed-languages/ps-dropdown-allowed-languages.component.module';\nimport { PsTemplateLoginPageModule } from '../../commonSRC/psTemplates/ps-template-login/ps-template-login.module';\nimport { SharedModule } from '../../commonSRC/shared.module';\nimport { PsComponentsModule } from './../../commonSRC/psComponents/ps-components.module';\nimport { OmniLoginPage } from './omni-login.page';\n\n\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: '',\n        component: OmniLoginPage\n      }\n    ]),\n    SharedModule,\n    PsTemplateLoginPageModule,\n    PsComponentsModule,\n    PsComplexTooltipComponentModule,\n    PsDropdownAllowedLanguagesComponentModule,\n  ],\n  declarations: [OmniLoginPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class OmniLoginPageModule { }\n","import { Component, Input, OnInit } from '@angular/core';\nimport { IOptionsPsContainerHtmlViewerExposed } from 'src/app/commonBussinessSRC/psServices/models/ps-common-bussiness-interfaces';\nimport { PsBaseFieldComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { IOptionsPsActionIcon } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\nimport { PsComplexTooltipExposed } from './ps-complex-tooltip.component.interface';\n\n@Component({\n  selector: 'ps-complex-tooltip',\n  templateUrl: './ps-complex-tooltip.component.html',\n  styleUrls: ['./ps-complex-tooltip.component.scss'],\n})\nexport class PsComplexTooltipComponent extends PsBaseFieldComponent implements OnInit {\n\n  @Input() public options: PsComplexTooltipExposed = {};\n  tooltipOptions: IOptionsPsActionIcon = {\n    iconName: 'info'\n  };\n  showArrow: boolean = true;\n  htmlViewerOptions: IOptionsPsContainerHtmlViewerExposed;\n  ifResult = false;\n  constructor(public commonProv: PsCommonService, public loggerP: LoggerService) {\n    super(commonProv, loggerP);\n  }\n\n  ngOnInit() {\n    this.tooltipOptions.iconName = this.options.iconName ? this.options.iconName : \"info\";\n    const result = this.options.fileName;\n    if (result) {\n      this.htmlViewerOptions = {\n        fileName: result\n      };\n      this.ifResult = true;\n    }\n\n  }\n\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1jb21wbGV4LXRvb2x0aXAuY29tcG9uZW50LnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsComplexTooltipComponent } from './ps-complex-tooltip.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [PsComplexTooltipComponent],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n    ],\r\n    exports: [PsComplexTooltipComponent],\r\n    entryComponents: [PsComplexTooltipComponent]\r\n\r\n})\r\nexport class PsComplexTooltipComponentModule { }\r\n","export default \"<ps-template-base>\\n    <div class=\\\"ps-template-login-banners widget-banner\\\" *ngIf=\\\"showBannerOnLogin\\\" psHeader>\\n        <div class=\\\"login-banners\\\" banner>\\n            <ps-gallery-banners id=\\\"login_banner\\\" class=\\\"profile-animate-left\\\" [options]='bannersOptions'>\\n            </ps-gallery-banners>\\n        </div>\\n    </div>\\n    <ion-card class=\\\"ps-template-login-card\\\">\\n        <div class=\\\"ps-template-login-card-flex\\\">\\n            <div class=\\\"ps-template-login-logo\\\">\\n                <ng-content select=\\\"[header]\\\"></ng-content>\\n            </div>\\n            <div id=\\\"ps-container-login-form\\\">\\n                <div *ngIf=\\\"this.rememberMeFromStorage && this.longUserName != '' \\\" class=\\\"ps-template-login-longName\\\">\\n                    <ps-label [options]=\\\"userWelcomeOptions\\\"></ps-label>\\n                    <ps-label [options]=\\\"longUserNameOptions\\\"></ps-label>\\n                </div>\\n                <div class=\\\"ps-template-login-username\\\"\\n                    *ngIf=\\\"!(this.rememberMeFromStorage && this.longUserName != '')\\\">\\n                    <ps-input-username #usernameRef [id]=\\\"'username_' + id\\\" [options]=\\\"mainOptions.userName\\\"\\n                        (onPsEmpty)=\\\"onEmptyUsername()\\\" (onPsKeyUp)=\\\"onUsernameKeyUp($event)\\\"\\n                        (onPsChange)=\\\"onChangeUserName($event)\\\"></ps-input-username>\\n                </div>\\n                <div class=\\\"ps-template-login-password\\\">\\n                    <ps-input-password #passwordRef [id]=\\\"'password_' + id\\\" [options]=\\\"mainOptions.password\\\"\\n                        (onPsKeyUp)=\\\"onPasswordKeyUp($event)\\\"\\n                        (onPsChange)=\\\"onChangePassword($event)\\\"></ps-input-password>\\n                </div>\\n                <div class=\\\"ps-template-login-rememberMe\\\">\\n                    <ps-select-toggle [id]=\\\"'rememberMe_' + id\\\" [options]=\\\"mainOptions.rememberMe\\\"\\n                        class=\\\"ps-template-login-rememberMe-toggle\\\" (onPsChange)=\\\"onToggle($event)\\\">\\n                    </ps-select-toggle>\\n                </div>\\n                <div class=\\\"ps-template-login-captcha\\\">\\n                    <ps-captcha [id]=\\\"'captcha_' + id\\\" [options]=\\\"captchaOptions\\\">\\n                    </ps-captcha>\\n                </div>\\n                <div class=\\\"ps-template-login-help\\\">\\n                    <ps-action-hyperlink id=\\\"help_with_cred_link\\\" [options]=\\\"helpCredentialsOptions\\\">\\n                    </ps-action-hyperlink>\\n                    <ps-action-hyperlink class=\\\"reactivate-my-account-link\\\" id=\\\"reactivate_my_account_link\\\"\\n                        [options]=\\\"reactivateMyAccountOptions\\\">\\n                    </ps-action-hyperlink>\\n                </div>\\n\\n                <!-- \\n                    <div class=\\\"ps-template-login-biometric\\\">\\n                        <ps-action-anchor id=\\\"'biometric_login_' + id\\\" [options]=\\\"biometricLoginOptions\\\" (onClick)=\\\"logInByBiometric(true)\\\">\\n                        </ps-action-anchor>\\n                    </div> \\n                -->\\n                <div class=\\\"ps-template-login-submit\\\">\\n                    <ps-button-submit #submitButton id=\\\"login_submit\\\" [options]=\\\"submitOptions\\\" class=\\\"ps-login-submit\\\">\\n                    </ps-button-submit>\\n                    <ps-button-biometric *ngIf=\\\"showBiometricButton\\\" class=\\\"ps-biometric-submit\\\"\\n                        [options]=\\\"biometricSubmitOptions\\\" id=\\\"biommmmetric_submit\\\"\\n                        (authenticateBiometric)=\\\"logInByBiometric()\\\">\\n                    </ps-button-biometric>\\n                </div>\\n                <div class=\\\"additional-links\\\">\\n                    <ps-action-hyperlink class=\\\"online-registration-link\\\" id=\\\"online_registration_link\\\"\\n                        [options]=\\\"onlineRegistrationOptions\\\">\\n                    </ps-action-hyperlink>\\n                </div>\\n\\n                <div class=\\\"ps-template-login-links\\\">\\n                    <ng-content select=\\\"[footer]\\\"></ng-content>\\n                </div>\\n                <div class=\\\"bank-name\\\">\\n                    <ng-content select=\\\"[bankName]\\\"></ng-content>\\n                </div>\\n            </div>\\n            <ng-content select=\\\"[login-fab-list]\\\"></ng-content>\\n            <!-- <div>\\n                <ng-content select=\\\"[serverUrl]\\\"></ng-content>\\n            </div> -->\\n        </div>\\n    </ion-card>\\n</ps-template-base>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy10ZW1wbGF0ZS1sb2dpbi5wYWdlLnNjc3MifQ== */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { PsCaptchaComponentModule } from 'src/app/commonBussinessSRC/psComponents/ps-captcha/ps-captcha.component.module';\nimport { PsComplexMenuHeaderContainerModule } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-menu-header-container/ps-complex-menu-header-container.module';\n\nimport { PsComponentsModule } from '../../psComponents/ps-components.module';\nimport { SharedModule } from '../../shared.module';\nimport { PsTemplateBasePageModule } from '../ps-template-base/ps-template-base.module';\nimport { PsTemplateLoginPage } from './ps-template-login.page';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    PsComponentsModule,\n    RouterModule,\n    PsTemplateBasePageModule,\n    PsComplexMenuHeaderContainerModule,\n    PsCaptchaComponentModule,\n\n  ],\n  declarations: [PsTemplateLoginPage],\n  exports: [PsTemplateLoginPage],\n  entryComponents: [PsTemplateLoginPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class PsTemplateLoginPageModule { }\n"]}