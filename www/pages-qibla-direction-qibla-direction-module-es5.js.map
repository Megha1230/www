{"version":3,"sources":["webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.html","webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.scss","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-landmark-compass/ps-complex-landmark-compass.component.module.ts","webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.module.ts","webpack:///src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.ts","webpack:///src/app/pages/qibla-direction/qibla-direction.module.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-landmark-compass/ps-complex-landmark-compass.component.scss","webpack:///src/app/commonSRC/psServices/landmark-compass/landmark-compass.ts","webpack:///src/app/pages/omni-base/omni-base.page.ts","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-landmark-compass/ps-complex-landmark-compass.component.html","webpack:///src/app/pages/omni-base/omni-base.page.html","webpack:///src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-landmark-compass/ps-complex-landmark-compass.component.ts","webpack:///src/app/pages/omni-base/omni-base.page.scss"],"names":["PsComplexLandmarkCompassComponentModule","declarations","imports","exports","entryComponents","schemas","PsTemplateViewModule","PsTemplateView","events","cancelOptions","labelKey","group","options","spinner","actionImageOptions","imageName","getCssVariableValue","reqStartEvent","subscribe","time","reqCompletEvent","ngOnInit","requestObject","commonProv","setFormData","onFooterClick","document","getElementsByTagName","undefined","dismiss","ngOnDestroy","unsubscribe","selector","template","routes","path","component","QiblaDirectionPageModule","forChild","LandmarkCompassService","deviceOrientation","geolocationService","logger","deviceAngle","deviceLocation","longitude","latitude","_subscriptions","radToDeg","angleInRad","Math","PI","degToRad","angleInDeg","getDistance","coordinates","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","d","watchHeading","orientation","magneticHeading","error","log","getCachedCoordinates","then","watchPosition","watchUserPosition","location","coords","window","removeEventListener","processEvent","getLandmarkAngle","Xq","Yq","Xm","Ym","a2","atan","abs","b","b1","b2","result","trueAngle","landmarkAngle","event","elem","getElementsByClassName","addEventListener","e","transform","alpha","beta","gamma","providedIn","OmniBasePage","isPageDisabled","injectionHandler","navigationServices","init","currentOperID","oper_ID","customizationMap","returnOperCustomization","navParams","getAllParams","formDisObj","readOnlypage","IS_READONLY","set","FORM_READONLY","screenTranslationOperIds","MAIN_CONFIG","SCREEN_TRANSLATION_OPER","length","includes","getScreenTranslations","ionViewDidEnter","viewDidEnter","ionViewWillLeave","viewWillLeave","ionViewWillEnter","viewWillEnter","disableForm","formGroup","get","status","disable","Object","keys","controls","forEach","key","applyDynScreenDisplay","ACTION_TYPE_READONLY","checkViewBS","next","value","page","didEnter","setCheckViewByOper","emitCheckViewByOper","dismissLoading","baseFormGroup","getAllSessionFcVars","setFormGroupByOper","willLeave","ngAfterViewChecked","setTimeout","screenOperId","operationId","activeLanguage","activeLanguge","language","getOperTranslation","PsComplexLandmarkCompassComponent","landmarkCompassService","landmarkLoc","iconOptions","iconName","landmarkArrowOptions","landmarkOptions","landmarkFormGroup","isMobile","northOptions","fcName","psClass","northEastOptions","eastOptions","southEastOptions","southOptions","southWestOptions","westOptions","northWestOptions","isNativeMobile","landmarkLocation"],"mappings":"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","file":"pages-qibla-direction-qibla-direction-module-es5.js","sourcesContent":["export default \"<ps-template-screen>\\n    <ps-action-image class=\\\"inline-loading-image\\\" *ngIf=\\\"!options.disableLoading && spinner\\\"\\n        [options]=\\\"actionImageOptions\\\">\\n    </ps-action-image>\\n    <ng-content>\\n    </ng-content>\\n    <ng-container psFooter>\\n        <ng-content select=[footer]></ng-content>\\n        <ps-button-cancel (click)=\\\"onFooterClick()\\\" [id]=\\\"id + 'temp_btn_cancel'\\\" [options]=\\\"cancelOptions\\\">\\n        </ps-button-cancel>\\n\\n    </ng-container>\\n</ps-template-screen>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy10ZW1wbGF0ZS12aWV3LnRlbXBsYXRlLnNjc3MifQ== */\";","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\r\n\r\nimport { PsComponentsModule } from '../../../../commonSRC/psComponents/ps-components.module';\r\nimport { PsSelectLookupOptionListComponentModule } from '../../ps-select-dropdown/ps-select-lookup-option-list/ps-select-lookup-option-list.component.module';\r\nimport { PsComplexLandmarkCompassComponent } from './ps-complex-landmark-compass.component';\r\n\r\n@NgModule({\r\n    declarations: [PsComplexLandmarkCompassComponent],\r\n    imports: [\r\n        SharedModule,\r\n        PsComponentsModule,\r\n        PsSelectLookupOptionListComponentModule\r\n    ],\r\n    exports: [PsComplexLandmarkCompassComponent],\r\n    entryComponents: [PsComplexLandmarkCompassComponent],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class PsComplexLandmarkCompassComponentModule { }\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\n\nimport { PsComponentsModule } from '../../psComponents/ps-components.module';\nimport { SharedModule } from '../../shared.module';\nimport { PsTemplateScreenPageModule } from '../ps-template-screen/ps-template-screen.template.module';\nimport { PsTemplateView } from './ps-template-view.template';\n\n\n@NgModule({\n  imports: [\n    SharedModule,\n    PsComponentsModule,\n    PsTemplateScreenPageModule\n  ],\n  declarations: [PsTemplateView],\n  exports: [PsTemplateView],\n  entryComponents: [PsTemplateView],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class PsTemplateViewModule { }\n","import { Component, Input, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Events } from '../../psServices/Event/event.service';\nimport { CommonUtils } from '../../psServices/models/common-utils';\nimport { IOptionsPsActionImage, IOptionsPsButtonCancel, IOptionsPsTemplateView } from '../../psServices/models/ps-common-interface';\nimport { PsTemplateBasePage } from '../ps-template-base/ps-template-base.page';\n\n\n@Component({\n  selector: 'ps-template-view',\n  templateUrl: './ps-template-view.template.html',\n  styleUrls: ['./ps-template-view.template.scss'],\n})\nexport class PsTemplateView extends PsTemplateBasePage implements OnDestroy {\n\n  @Input() options: IOptionsPsTemplateView;\n  cancelOptions: IOptionsPsButtonCancel = {\n    labelKey: 'cancel_key',\n    group: this.options.group\n  };\n  spinner = false;\n\n  actionImageOptions: IOptionsPsActionImage = {\n    imageName: CommonUtils.getCssVariableValue('--ps-loader-image-name')\n  };\n  // Added by Richie #TP 1105083 due to migration to ionic 5 since Event service was removed and replaced with observable\n  private reqStartEvent: Subscription;\n  private reqCompletEvent: Subscription;\n  // End Richie\n  constructor(public events: Events) {\n    super();\n    // modified by Richie #TP 1105083 due to migration to ionic 5 since Event service was removed and replaced with observable with one argument\n    this.reqStartEvent = events.subscribe('network:request:started', (time) => {\n      this.spinner = true;\n    });\n    this.reqCompletEvent = events.subscribe('network:request:completed', (time) => {\n      this.spinner = false;\n    });\n  }\n\n  ngOnInit() {\n    this.options.requestObject = this.options.requestObject ? this.options.requestObject : {};\n    if(this.options.group){\n      this.commonProv.setFormData(this.options.group, this.options.requestObject);\n    }\n  }\n\n  onFooterClick() {\n    if (document.getElementsByTagName('ion-modal')[0] !== undefined) {\n      document.getElementsByTagName('ion-modal')[0].dismiss();\n    }\n  }\n\n  ngOnDestroy() {\n    // modified by Richie #TP 1105083\n    super.ngOnDestroy();\n    if (this.reqStartEvent) {\n      this.reqStartEvent.unsubscribe();\n    }\n    if (this.reqCompletEvent) {\n      this.reqCompletEvent.unsubscribe();\n    }\n  }\n\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PsComplexLandmarkCompassComponentModule } from 'src/app/commonBussinessSRC/psComponents/ps-complex-components/ps-complex-landmark-compass/ps-complex-landmark-compass.component.module';\nimport { PsComponentsModule } from 'src/app/commonSRC/psComponents/ps-components.module';\nimport { PsTemplateViewModule } from 'src/app/commonSRC/psTemplates/ps-template-view/ps-template-view.template.module';\nimport { SharedModule } from 'src/app/commonSRC/shared.module';\n\nimport { QiblaDirectionPage } from './qibla-direction.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: QiblaDirectionPage\n  }\n];\n\n@NgModule({\n  imports: [\n    SharedModule,\n    RouterModule.forChild(routes),\n    PsComponentsModule,\n    PsTemplateViewModule,\n    PsComplexLandmarkCompassComponentModule\n  ],\n  declarations: [QiblaDirectionPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class QiblaDirectionPageModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcy1jb21wbGV4LWxhbmRtYXJrLWNvbXBhc3MuY29tcG9uZW50LnNjc3MifQ== */\";","import { Injectable } from '@angular/core';\r\nimport { DeviceOrientation } from '@ionic-native/device-orientation/ngx';\r\nimport { Geoposition } from '@ionic-native/geolocation/ngx';\r\nimport { GeolocationService } from '../geolocation/geolocation.service';\r\nimport { LoggerService } from '../logger/logger.service';\r\n\r\n\r\nexport interface Coordinates {\r\n  latitude: number;\r\n  longitude: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LandmarkCompassService {\r\n\r\n  public deviceAngle = 0;\r\n  deviceLocation: Coordinates = {\r\n    longitude: 35,\r\n    latitude: 33,\r\n  };\r\n\r\n  private _subscriptions: any = {};\r\n\r\n\r\n  constructor(private deviceOrientation: DeviceOrientation,\r\n    private geolocationService: GeolocationService,\r\n    private logger: LoggerService\r\n  ) {\r\n\r\n\r\n  }\r\n\r\n  protected radToDeg(angleInRad: number): number {\r\n    return angleInRad * 180 / Math.PI;\r\n  }\r\n\r\n  protected degToRad(angleInDeg: number): number {\r\n    return angleInDeg * Math.PI / 180;\r\n  }\r\n\r\n  public getDistance(coordinates: Coordinates) {\r\n    // alert(this.deviceLocation.latitude+\",\"+this.deviceLocation.longitude);\r\n    let R = 6371; // Radius of the earth in km\r\n    let dLat = this.degToRad(coordinates.latitude - this.deviceLocation.latitude);\r\n    let dLon = this.degToRad(coordinates.longitude - this.deviceLocation.longitude);\r\n    let a =\r\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n      Math.cos(this.degToRad(this.deviceLocation.latitude)) * Math.cos(this.degToRad(coordinates.latitude)) *\r\n      Math.sin(dLon / 2) * Math.sin(dLon / 2)\r\n      ;\r\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    let d = R * c; // Distance in km\r\n    return d;\r\n  }\r\n\r\n  public subscribe() {\r\n    this._subscriptions.watchHeading = this.deviceOrientation.watchHeading().subscribe(orientation => {\r\n      this.deviceAngle = orientation.magneticHeading;\r\n    }, error => { this.logger.log(error); });\r\n    this.geolocationService.getCachedCoordinates().then(() => {\r\n      this._subscriptions.watchPosition = this.geolocationService.watchUserPosition().subscribe((location: Geoposition) => {\r\n        if (location.coords) {\r\n          this.deviceLocation.latitude = location.coords.latitude;\r\n          this.deviceLocation.longitude = location.coords.longitude;\r\n        }\r\n      }, error => { this.logger.log(error); });\r\n    });\r\n    // window.addEventListener('deviceorientation', this.processEvent, true);\r\n  }\r\n\r\n  public unsubscribe() {\r\n    if (this._subscriptions.watchHeading !== undefined) {\r\n      this._subscriptions.watchHeading.unsubscribe();\r\n    }\r\n    window.removeEventListener('deviceorientation', this.processEvent);\r\n  }\r\n\r\n  public getLandmarkAngle(coords: Coordinates) {\r\n\r\n    if (!coords) { return; }\r\n\r\n    const Xq = coords.longitude;\r\n    const Yq = coords.latitude;\r\n\r\n    const Xm = this.deviceLocation.longitude;\r\n    const Ym = this.deviceLocation.latitude;\r\n\r\n    const a2 = Math.atan(Math.abs(Xm - Xq) / Math.abs(90 - Yq))\r\n\r\n    const b = Math.atan(Math.abs(Yq - 90) / Math.abs(Xq - Xm))\r\n    const b1 = Math.atan(Math.abs(Yq - Ym) / Math.abs(Xq - Xm));\r\n    const b2 = Math.abs(b1 - b);\r\n\r\n    const c = 180 - this.radToDeg(a2 + b2);\r\n\r\n    let result = c;\r\n    if (Xq < Xm) { result = -result; }\r\n    if (Yq > Ym) { result = 180 - result; }\r\n    return result;\r\n  }\r\n\r\n  public trueAngle(coords: Coordinates): number {\r\n    const landmarkAngle = this.getLandmarkAngle(coords);\r\n    let result = (landmarkAngle - this.deviceAngle);\r\n    if (result <= -180) { result = result + 360; }\r\n    return result;\r\n  }\r\n\r\n  processEvent(event) {\r\n    var elem = document.getElementsByClassName('direction-n');\r\n\r\n    window.addEventListener('deviceorientation', (e) => {\r\n      // remember to use vendor-prefixed transform property\r\n      elem['style'].transform =\r\n        'rotateZ(' + (e.alpha - 180) + 'deg) ' +\r\n        'rotateX(' + e.beta + 'deg) ' +\r\n        'rotateY(' + (-e.gamma) + 'deg)';\r\n    });\r\n  }\r\n}\r\n","import { AfterViewChecked, Component, HostBinding, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { CommonCustUtils } from 'src/app/commonSRC/customization/psServices/util/common-cust-utils';\nimport { ConstantCommon } from 'src/app/commonSRC/psServices/models/common-constant';\nimport { IsysParamObj } from 'src/app/commonSRC/psServices/models/ps-common-interface';\nimport { PsCommonSettings } from 'src/app/commonSRC/psServices/models/ps-common.settings';\nimport { PsNavigatorService } from 'src/app/commonSRC/psServices/navigator/ps-navigator.service';\nimport { CommonUtils } from './../../commonSRC/psServices/models/common-utils';\nimport { PsCommonService } from './../../commonSRC/psServices/ps-common/ps-common.service';\nimport { PsApplicationSettings } from 'src/app/commonSRC/psServices/models/ps-app-settings';\n\n\n@Component({\n  selector: 'app-omni-base',\n  templateUrl: './omni-base.page.html',\n  styleUrls: ['./omni-base.page.scss'],\n})\nexport class OmniBasePage implements OnInit, AfterViewChecked {\n  commonProv: PsCommonService;\n  isPageDisabled = false;\n  baseFormGroup: FormGroup;\n  private customizationMap: Map<string, any>; // Modified by Richie for #BUG 1259353\n  navigationServices?: PsNavigatorService;\n  pagesNavigationInfoSubscription?: Subscription;\n  currentOperID;\n  screenTranslationOperIds: any;\n  @HostBinding('class') psClass;\n  constructor() {\n    this.commonProv = CommonUtils.injectionHandler(PsCommonService);\n    this.navigationServices = CommonUtils.injectionHandler(PsNavigatorService);\n    // this.getScreenTranslations();\n  }\n\n  init() {\n    this.currentOperID = PsCommonSettings.oper_ID;\n    this.customizationMap = this.commonProv.returnOperCustomization();\n    const navParams: any = this.navigationServices.getAllParams();\n    const formDisObj: IsysParamObj = {};\n    // let oper = PsCommonSettings.oper_ID;\n    // PsCommonSettings.currentListOfSteps = {};\n    if (navParams && navParams.readOnlypage === true) {\n      formDisObj.IS_READONLY = 1;\n      // Modified by Richie for #BUG 1259353\n      if (this.customizationMap) {\n        this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n      }\n    } else if (this.customizationMap) {\n      formDisObj.IS_READONLY = 0;\n      this.customizationMap.set(ConstantCommon.FORM_READONLY, formDisObj);\n    }\n    // End Richie\n    \n    // AZDB-7529 - Start - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n    this.screenTranslationOperIds = PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER ? PsApplicationSettings.MAIN_CONFIG.SCREEN_TRANSLATION_OPER : [];\n    if (this.screenTranslationOperIds.length > 0 && this.screenTranslationOperIds.includes(this.currentOperID)) {\n      this.getScreenTranslations(this.currentOperID);\n    }\n    // AZDB-7529 - End - AMANAOI250035 - 201195 - The system is not displaying the correct report name - Dev => Muzammil Arif\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ionViewDidEnter() {\n    this.viewDidEnter();\n  }\n\n  ionViewWillLeave() {\n    this.viewWillLeave();\n  }\n\n  ionViewWillEnter() {\n    this.viewWillEnter();\n  }\n\n  viewWillEnter() {\n\n  }\n\n  private disableForm(formGroup: FormGroup) {\n    // Modified by Richie for #BUG 1259353\n    if (formGroup !== undefined && this.customizationMap) {\n      const formDisObj: IsysParamObj = this.customizationMap.get(ConstantCommon.FORM_READONLY);\n      // End Richie\n      if (formDisObj && formDisObj.IS_READONLY === 1 && formGroup.status != 'DISABLED') {\n        formGroup.disable();\n        Object.keys(formGroup.controls).forEach((key) => {\n          this.commonProv.applyDynScreenDisplay(ConstantCommon.ACTION_TYPE_READONLY, [key], 1);\n        });\n      }\n    }\n  }\n\n  viewDidEnter() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, didEnter: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, didEnter: true });\n\n    this.commonProv.dismissLoading();\n    this.disableForm(this.baseFormGroup);\n    CommonCustUtils.getAllSessionFcVars(this.baseFormGroup);\n    this.commonProv.setFormGroupByOper(this.baseFormGroup); // Added by Zunair For #BUG 1257538\n  }\n\n  viewWillLeave() {\n    this.commonProv.checkViewBS.next({ value: true, page: this, willLeave: true });\n    this.commonProv.setCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID);\n    this.commonProv.emitCheckViewByOper(this.currentOperID ? this.currentOperID : PsCommonSettings.oper_ID, { value: true, page: this, willLeave: true });\n  }\n  // Edited by Salah #1556226 in some cases the fields were being editable in checker so the setTimeout was \n  // added after all the changeEvents are finished to disable the form \n  ngAfterViewChecked() {\n    if (!this.isPageDisabled) {\n      setTimeout(() => {\n        this.disableForm(this.baseFormGroup);\n        this.isPageDisabled = true\n      }, 300);\n    }\n  }\n\n  // AZDB-7529 - Start - AMANAOI250035\n  getScreenTranslations(screenOperId: number) {\n    const operationId: number = screenOperId ? screenOperId : 2222;\n    const activeLanguage: string = PsCommonSettings.activeLanguge ? PsCommonSettings.activeLanguge : 'EN';\n    if (operationId && activeLanguage) {\n      this.commonProv.language.getOperTranslation(activeLanguage, operationId);\n    }\n  }\n  // AZDB-7529 - End - AMANAOI250035\n}\n","export default \"<div class=\\\"landmark-icon-main\\\">\\n</div>\\n<ps-label class=\\\"landmark-compass-title\\\" [options]=\\\"options.lblOptions\\\"></ps-label>\\n<div class=\\\"landmark-icon-arrow\\\">\\n\\t<ps-action-icon [options]=\\\"landmarkOptions\\\" class=\\\"important-text-color\\\"></ps-action-icon>\\n</div>\\n<div class=\\\"landmark-compass-wrapper\\\">\\n\\t<div class=\\\"compass-background\\\" [style.transform]=\\\"'rotate(' + deviceAngle + 'deg)'\\\">\\n\\t\\t<!-- Compass Directions -->\\n\\t\\t<div class=\\\"primary-text-color direction direction-n\\\">\\n\\t\\t\\t<ps-label [options]=\\\"northOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"light direction direction-ne\\\">\\n\\t\\t\\t<ps-label [options]=\\\"northEastOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"primary-text-color direction direction-e\\\">\\n\\t\\t\\t<ps-label [options]=\\\"eastOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"light direction direction-se\\\">\\n\\t\\t\\t<ps-label [options]=\\\"southEastOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"primary-text-color direction direction-s\\\">\\n\\t\\t\\t<ps-label [options]=\\\"southOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"light direction direction-sw\\\">\\n\\t\\t\\t<ps-label [options]=\\\"southWestOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"primary-text-color direction direction-w\\\">\\n\\t\\t\\t<ps-label [options]=\\\"westOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"light direction direction-nw\\\">\\n\\t\\t\\t<ps-label [options]=\\\"northWestOptions\\\"></ps-label>\\n\\t\\t</div>\\n\\t\\t<!-- Landmark Icon -->\\n\\t\\t<div class=\\\"landmark-icon-wrapper\\\">\\n\\t\\t\\t<div class=\\\"primary-text-color direction landmark-compass-icon-arrow\\\">\\n\\t\\t\\t\\t<ps-action-icon [options]=\\\"landmarkArrowOptions\\\"></ps-action-icon>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<!-- <div class=\\\"landmark-icon-wrapper\\\" [ngStyle]=\\\"{'transform': 'rotateZ('+ landmarkAngle + 'deg)'}\\\">\\n\\t\\t\\t\\t<div class=\\\"landmark-icon\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"main-pointing-arrow\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div> -->\\n\\t\\t<!-- Landmark Icon -->\\n\\t\\t<!-- <div class=\\\"landmark-icon-wrapper\\\" [ngStyle]=\\\"{'transform': 'rotateZ('+ landmarkAngle + 'deg)'}\\\">\\n\\t\\t\\t\\t<div class=\\\"landmark-icon\\\" [ngStyle]=\\\"{'transform': 'translateX(-50%) rotate('+ (-deviceAngle) + 'deg)'}\\\">\\n\\t\\t\\t\\t</div>\\t\\n\\t\\t\\t\\t<div class=\\\"landmark-icon-arrow\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div> -->\\n\\t<div class=\\\"main-pointing-arrow direction \\\">\\n\\t</div>\\n\\t</div>\\n\\t<div class=\\\"compass-inner-circle\\\">\\n\\t\\t<!-- <ps-action-icon [options]=\\\"iconOptions\\\" class=\\\"device-pointer\\\" psIcon *ngIf=\\\"iconOptions?.iconName\\\">\\n\\t\\t\\t</ps-action-icon> -->\\n\\t\\t<!-- <ion-icon name=\\\"logo-twitter\\\" class=\\\" compass-arrow\\\" ></ion-icon> -->\\n\\t</div>\\n</div>\";","export default \"\\n\";","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { PsBaseFieldComponent } from 'src/app/commonSRC/psComponents/ps-base/ps-base-field/ps-base-field.component';\nimport { LoggerService } from 'src/app/commonSRC/psServices/logger/logger.service';\nimport { PsCommonService } from 'src/app/commonSRC/psServices/ps-common/ps-common.service';\n\nimport { Coordinates, LandmarkCompassService } from '../../../../commonSRC/psServices/landmark-compass/landmark-compass';\nimport { IOptionsPsActionIcon, IOptionsPsLabel, IOptionsQiblaDirection } from '../../../../commonSRC/psServices/models/ps-common-interface';\n\n@Component({\n  selector: 'ps-complex-landmark-compass',\n  templateUrl: './ps-complex-landmark-compass.component.html',\n  styleUrls: ['./ps-complex-landmark-compass.component.scss'],\n})\nexport class PsComplexLandmarkCompassComponent extends PsBaseFieldComponent implements OnInit, OnDestroy {\n  @Input('landmark-location') set landmarkLocation(value: Coordinates) {\n    this.landmarkLoc = value;\n  }\n  get landmarkLocation(): Coordinates {\n    return this.landmarkLoc;\n  }\n  @Input() options: IOptionsQiblaDirection;\n  northOptions: IOptionsPsLabel;\n  northEastOptions: IOptionsPsLabel;\n  eastOptions: IOptionsPsLabel;\n  southEastOptions: IOptionsPsLabel;\n  southOptions: IOptionsPsLabel;\n  southWestOptions: IOptionsPsLabel;\n  westOptions: IOptionsPsLabel;\n  northWestOptions: IOptionsPsLabel;\n  landmarkLoc: Coordinates = {\n    latitude: 0,\n    longitude: 0\n  };\n\n  iconOptions: IOptionsPsActionIcon = {\n    iconName: 'arrow-round-up'\n  };\n\n  landmarkArrowOptions: IOptionsPsActionIcon = {\n    iconName: 'compass-arrow',\n  };\n  landmarkOptions: IOptionsPsActionIcon = {\n    iconName: 'remove',\n  };\n  landmarkFormGroup: FormGroup = new FormGroup({});\n\n  constructor(public commonProv: PsCommonService, public logger: LoggerService, private landmarkCompassService: LandmarkCompassService) {\n    super(commonProv, logger);\n  }\n\n  ngOnInit() {\n    if (this.commonProv.isMobile()) {\n      this.landmarkCompassService.subscribe();\n    }\n\n    this.northOptions = {\n      labelKey: 'north_key',\n      fcName: 'north',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate'\n    };\n    this.northEastOptions = {\n      labelKey: 'ne_key',\n      fcName: 'northEast',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate coordinates-upcase'\n    };\n    this.eastOptions = {\n      labelKey: 'east_key',\n      fcName: 'east',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate'\n    };\n    this.southEastOptions = {\n      labelKey: 'se_key',\n      fcName: 'southEast',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate coordinates-upcase'\n    };\n    this.southOptions = {\n      labelKey: 'south_key',\n      fcName: 'south',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate'\n    };\n    this.southWestOptions = {\n      labelKey: 'sw_key',\n      fcName: 'southWest',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate coordinates-upcase'\n    };\n    this.westOptions = {\n      labelKey: 'west_key',\n      fcName: 'west',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate'\n    };\n    this.northWestOptions = {\n      labelKey: 'nw_key',\n      fcName: 'northWest',\n      group: this.landmarkFormGroup,\n      psClass: 'transformRotate coordinates-upcase'\n    };\n  }\n\n  ngOnDestroy() {\n    if (this.commonProv.isNativeMobile()) {\n      this.landmarkCompassService.unsubscribe();\n    }\n  }\n\n  public get deviceAngle(): number {\n    if (document.getElementsByClassName('transformRotate')[0] !== undefined) {\n      document.getElementsByClassName('transformRotate')[0]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[1]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[2]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[3]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[4]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[5]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[6]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('transformRotate')[7]['style'].transform = 'rotate(' + (this.landmarkCompassService.deviceAngle) + 'deg)';\n      document.getElementsByClassName('landmark-compass-icon-arrow')[0]['style'].transform = 'translateX(-50%) rotate(' + ((this.landmarkCompassService.deviceAngle - this.landmarkAngle) + 90) + 'deg)';\n      document.getElementsByClassName('landmark-icon-wrapper')[0]['style'].transform = document.getElementsByClassName('transformRotate')[0]['style'].transform;\n      document.getElementsByClassName('main-pointing-arrow')[0]['style']['transform-origin'] = 'top bottom';\n    }\n    return - this.landmarkCompassService.deviceAngle;\n  }\n\n  public get landmarkAngle(): number {\n    return this.landmarkCompassService.getLandmarkAngle(this.landmarkLocation);\n  }\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvbW5pLWJhc2UucGFnZS5zY3NzIn0= */\";"]}